import {
  require_debounce,
  require_toNumber
} from "./chunk-V2H776KK.js";
import {
  Amplify,
  Auth,
  ConsoleLogger,
  Credentials,
  Geo,
  Hub,
  I18n,
  InAppMessageInteractionEvent,
  Notifications_default,
  Signer,
  __assign,
  __rest,
  __spreadArray,
  getAmplifyUserAgent,
  init_tslib_es6,
  jitteredExponentialRetry,
  require_Stack,
  require_Uint8Array,
  require_arrayLikeKeys,
  require_arrayMap,
  require_arrayPush,
  require_baseGet,
  require_baseGetAllKeys,
  require_baseIsEqual,
  require_baseUnary,
  require_castPath,
  require_eq,
  require_events,
  require_get,
  require_getAllKeys,
  require_getNative,
  require_getSymbols,
  require_getTag,
  require_isArguments,
  require_isArray,
  require_isArrayLike,
  require_isBuffer,
  require_isEmpty,
  require_isFunction,
  require_isIndex,
  require_isKey,
  require_isLength,
  require_isPrototype,
  require_isTypedArray,
  require_keys,
  require_nodeUtil,
  require_overArg,
  require_stubArray,
  require_toKey,
  require_toString
} from "./chunk-5L53EDKE.js";
import "./chunk-YHO3YAI5.js";
import {
  require_Symbol,
  require_baseGetTag,
  require_isObject,
  require_isObjectLike,
  require_root
} from "./chunk-WKB6DYJP.js";
import {
  require_react_dom
} from "./chunk-ZRYTYW4C.js";
import {
  _extends,
  init_extends
} from "./chunk-WH2AMN5A.js";
import {
  require_jsx_runtime
} from "./chunk-U62YBD46.js";
import {
  require_react
} from "./chunk-YP55OVAM.js";
import {
  __commonJS,
  __esm,
  __export,
  __toCommonJS,
  __toESM
} from "./chunk-S5KM4IGW.js";

// node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js
var require_use_sync_external_store_shim_development = __commonJS({
  "node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js"(exports) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart === "function") {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());
        }
        var React24 = require_react();
        var ReactSharedInternals = React24.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
        function error3(format) {
          {
            {
              for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                args[_key2 - 1] = arguments[_key2];
              }
              printWarning("error", format, args);
            }
          }
        }
        function printWarning(level, format, args) {
          {
            var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;
            var stack = ReactDebugCurrentFrame.getStackAddendum();
            if (stack !== "") {
              format += "%s";
              args = args.concat([stack]);
            }
            var argsWithFormat = args.map(function(item) {
              return String(item);
            });
            argsWithFormat.unshift("Warning: " + format);
            Function.prototype.apply.call(console[level], console, argsWithFormat);
          }
        }
        function is(x5, y9) {
          return x5 === y9 && (x5 !== 0 || 1 / x5 === 1 / y9) || x5 !== x5 && y9 !== y9;
        }
        var objectIs = typeof Object.is === "function" ? Object.is : is;
        var useState26 = React24.useState, useEffect30 = React24.useEffect, useLayoutEffect7 = React24.useLayoutEffect, useDebugValue2 = React24.useDebugValue;
        var didWarnOld18Alpha = false;
        var didWarnUncachedGetSnapshot = false;
        function useSyncExternalStore2(subscribe, getSnapshot, getServerSnapshot) {
          {
            if (!didWarnOld18Alpha) {
              if (React24.startTransition !== void 0) {
                didWarnOld18Alpha = true;
                error3("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release.");
              }
            }
          }
          var value = getSnapshot();
          {
            if (!didWarnUncachedGetSnapshot) {
              var cachedValue = getSnapshot();
              if (!objectIs(value, cachedValue)) {
                error3("The result of getSnapshot should be cached to avoid an infinite loop");
                didWarnUncachedGetSnapshot = true;
              }
            }
          }
          var _useState = useState26({
            inst: {
              value,
              getSnapshot
            }
          }), inst = _useState[0].inst, forceUpdate = _useState[1];
          useLayoutEffect7(function() {
            inst.value = value;
            inst.getSnapshot = getSnapshot;
            if (checkIfSnapshotChanged(inst)) {
              forceUpdate({
                inst
              });
            }
          }, [subscribe, value, getSnapshot]);
          useEffect30(function() {
            if (checkIfSnapshotChanged(inst)) {
              forceUpdate({
                inst
              });
            }
            var handleStoreChange = function() {
              if (checkIfSnapshotChanged(inst)) {
                forceUpdate({
                  inst
                });
              }
            };
            return subscribe(handleStoreChange);
          }, [subscribe]);
          useDebugValue2(value);
          return value;
        }
        function checkIfSnapshotChanged(inst) {
          var latestGetSnapshot = inst.getSnapshot;
          var prevValue = inst.value;
          try {
            var nextValue = latestGetSnapshot();
            return !objectIs(prevValue, nextValue);
          } catch (error4) {
            return true;
          }
        }
        function useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {
          return getSnapshot();
        }
        var canUseDOM = !!(typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined");
        var isServerEnvironment = !canUseDOM;
        var shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore2;
        var useSyncExternalStore$2 = React24.useSyncExternalStore !== void 0 ? React24.useSyncExternalStore : shim;
        exports.useSyncExternalStore = useSyncExternalStore$2;
        if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop === "function") {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());
        }
      })();
    }
  }
});

// node_modules/use-sync-external-store/shim/index.js
var require_shim = __commonJS({
  "node_modules/use-sync-external-store/shim/index.js"(exports, module) {
    "use strict";
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_use_sync_external_store_shim_development();
    }
  }
});

// node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js
var require_with_selector_development = __commonJS({
  "node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js"(exports) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart === "function") {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());
        }
        var React24 = require_react();
        var shim = require_shim();
        function is(x5, y9) {
          return x5 === y9 && (x5 !== 0 || 1 / x5 === 1 / y9) || x5 !== x5 && y9 !== y9;
        }
        var objectIs = typeof Object.is === "function" ? Object.is : is;
        var useSyncExternalStore2 = shim.useSyncExternalStore;
        var useRef17 = React24.useRef, useEffect30 = React24.useEffect, useMemo27 = React24.useMemo, useDebugValue2 = React24.useDebugValue;
        function useSyncExternalStoreWithSelector3(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {
          var instRef = useRef17(null);
          var inst;
          if (instRef.current === null) {
            inst = {
              hasValue: false,
              value: null
            };
            instRef.current = inst;
          } else {
            inst = instRef.current;
          }
          var _useMemo = useMemo27(function() {
            var hasMemo = false;
            var memoizedSnapshot;
            var memoizedSelection;
            var memoizedSelector = function(nextSnapshot) {
              if (!hasMemo) {
                hasMemo = true;
                memoizedSnapshot = nextSnapshot;
                var _nextSelection = selector(nextSnapshot);
                if (isEqual !== void 0) {
                  if (inst.hasValue) {
                    var currentSelection = inst.value;
                    if (isEqual(currentSelection, _nextSelection)) {
                      memoizedSelection = currentSelection;
                      return currentSelection;
                    }
                  }
                }
                memoizedSelection = _nextSelection;
                return _nextSelection;
              }
              var prevSnapshot = memoizedSnapshot;
              var prevSelection = memoizedSelection;
              if (objectIs(prevSnapshot, nextSnapshot)) {
                return prevSelection;
              }
              var nextSelection = selector(nextSnapshot);
              if (isEqual !== void 0 && isEqual(prevSelection, nextSelection)) {
                return prevSelection;
              }
              memoizedSnapshot = nextSnapshot;
              memoizedSelection = nextSelection;
              return nextSelection;
            };
            var maybeGetServerSnapshot = getServerSnapshot === void 0 ? null : getServerSnapshot;
            var getSnapshotWithSelector = function() {
              return memoizedSelector(getSnapshot());
            };
            var getServerSnapshotWithSelector = maybeGetServerSnapshot === null ? void 0 : function() {
              return memoizedSelector(maybeGetServerSnapshot());
            };
            return [getSnapshotWithSelector, getServerSnapshotWithSelector];
          }, [getSnapshot, getServerSnapshot, selector, isEqual]), getSelection = _useMemo[0], getServerSelection = _useMemo[1];
          var value = useSyncExternalStore2(subscribe, getSelection, getServerSelection);
          useEffect30(function() {
            inst.hasValue = true;
            inst.value = value;
          }, [value]);
          useDebugValue2(value);
          return value;
        }
        exports.useSyncExternalStoreWithSelector = useSyncExternalStoreWithSelector3;
        if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop === "function") {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());
        }
      })();
    }
  }
});

// node_modules/use-sync-external-store/shim/with-selector.js
var require_with_selector = __commonJS({
  "node_modules/use-sync-external-store/shim/with-selector.js"(exports, module) {
    "use strict";
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_with_selector_development();
    }
  }
});

// node_modules/lodash/_baseFindIndex.js
var require_baseFindIndex = __commonJS({
  "node_modules/lodash/_baseFindIndex.js"(exports, module) {
    function baseFindIndex(array, predicate, fromIndex, fromRight) {
      var length2 = array.length, index3 = fromIndex + (fromRight ? 1 : -1);
      while (fromRight ? index3-- : ++index3 < length2) {
        if (predicate(array[index3], index3, array)) {
          return index3;
        }
      }
      return -1;
    }
    module.exports = baseFindIndex;
  }
});

// node_modules/lodash/_baseIsNaN.js
var require_baseIsNaN = __commonJS({
  "node_modules/lodash/_baseIsNaN.js"(exports, module) {
    function baseIsNaN(value) {
      return value !== value;
    }
    module.exports = baseIsNaN;
  }
});

// node_modules/lodash/_strictIndexOf.js
var require_strictIndexOf = __commonJS({
  "node_modules/lodash/_strictIndexOf.js"(exports, module) {
    function strictIndexOf(array, value, fromIndex) {
      var index3 = fromIndex - 1, length2 = array.length;
      while (++index3 < length2) {
        if (array[index3] === value) {
          return index3;
        }
      }
      return -1;
    }
    module.exports = strictIndexOf;
  }
});

// node_modules/lodash/_baseIndexOf.js
var require_baseIndexOf = __commonJS({
  "node_modules/lodash/_baseIndexOf.js"(exports, module) {
    var baseFindIndex = require_baseFindIndex();
    var baseIsNaN = require_baseIsNaN();
    var strictIndexOf = require_strictIndexOf();
    function baseIndexOf(array, value, fromIndex) {
      return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);
    }
    module.exports = baseIndexOf;
  }
});

// node_modules/lodash/isString.js
var require_isString = __commonJS({
  "node_modules/lodash/isString.js"(exports, module) {
    var baseGetTag = require_baseGetTag();
    var isArray2 = require_isArray();
    var isObjectLike = require_isObjectLike();
    var stringTag = "[object String]";
    function isString4(value) {
      return typeof value == "string" || !isArray2(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
    }
    module.exports = isString4;
  }
});

// node_modules/lodash/toFinite.js
var require_toFinite = __commonJS({
  "node_modules/lodash/toFinite.js"(exports, module) {
    var toNumber = require_toNumber();
    var INFINITY = 1 / 0;
    var MAX_INTEGER = 17976931348623157e292;
    function toFinite(value) {
      if (!value) {
        return value === 0 ? value : 0;
      }
      value = toNumber(value);
      if (value === INFINITY || value === -INFINITY) {
        var sign = value < 0 ? -1 : 1;
        return sign * MAX_INTEGER;
      }
      return value === value ? value : 0;
    }
    module.exports = toFinite;
  }
});

// node_modules/lodash/toInteger.js
var require_toInteger = __commonJS({
  "node_modules/lodash/toInteger.js"(exports, module) {
    var toFinite = require_toFinite();
    function toInteger(value) {
      var result = toFinite(value), remainder = result % 1;
      return result === result ? remainder ? result - remainder : result : 0;
    }
    module.exports = toInteger;
  }
});

// node_modules/lodash/_baseValues.js
var require_baseValues = __commonJS({
  "node_modules/lodash/_baseValues.js"(exports, module) {
    var arrayMap = require_arrayMap();
    function baseValues(object, props) {
      return arrayMap(props, function(key) {
        return object[key];
      });
    }
    module.exports = baseValues;
  }
});

// node_modules/lodash/values.js
var require_values = __commonJS({
  "node_modules/lodash/values.js"(exports, module) {
    var baseValues = require_baseValues();
    var keys = require_keys();
    function values(object) {
      return object == null ? [] : baseValues(object, keys(object));
    }
    module.exports = values;
  }
});

// node_modules/lodash/includes.js
var require_includes = __commonJS({
  "node_modules/lodash/includes.js"(exports, module) {
    var baseIndexOf = require_baseIndexOf();
    var isArrayLike = require_isArrayLike();
    var isString4 = require_isString();
    var toInteger = require_toInteger();
    var values = require_values();
    var nativeMax = Math.max;
    function includes(collection, value, fromIndex, guard) {
      collection = isArrayLike(collection) ? collection : values(collection);
      fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;
      var length2 = collection.length;
      if (fromIndex < 0) {
        fromIndex = nativeMax(length2 + fromIndex, 0);
      }
      return isString4(collection) ? fromIndex <= length2 && collection.indexOf(value, fromIndex) > -1 : !!length2 && baseIndexOf(collection, value, fromIndex) > -1;
    }
    module.exports = includes;
  }
});

// node_modules/xstate/lib/_virtual/_tslib.js
var require_tslib = __commonJS({
  "node_modules/xstate/lib/_virtual/_tslib.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.__assign = function() {
      exports.__assign = Object.assign || function __assign5(t87) {
        for (var s62, i67 = 1, n45 = arguments.length; i67 < n45; i67++) {
          s62 = arguments[i67];
          for (var p17 in s62)
            if (Object.prototype.hasOwnProperty.call(s62, p17))
              t87[p17] = s62[p17];
        }
        return t87;
      };
      return exports.__assign.apply(this, arguments);
    };
    function __rest9(s62, e142) {
      var t87 = {};
      for (var p17 in s62)
        if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
          t87[p17] = s62[p17];
      if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
          if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
            t87[p17[i67]] = s62[p17[i67]];
        }
      return t87;
    }
    function __values2(o101) {
      var s62 = typeof Symbol === "function" && Symbol.iterator, m29 = s62 && o101[s62], i67 = 0;
      if (m29)
        return m29.call(o101);
      if (o101 && typeof o101.length === "number")
        return {
          next: function() {
            if (o101 && i67 >= o101.length)
              o101 = void 0;
            return { value: o101 && o101[i67++], done: !o101 };
          }
        };
      throw new TypeError(s62 ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function __read3(o101, n45) {
      var m29 = typeof Symbol === "function" && o101[Symbol.iterator];
      if (!m29)
        return o101;
      var i67 = m29.call(o101), r61, ar = [], e142;
      try {
        while ((n45 === void 0 || n45-- > 0) && !(r61 = i67.next()).done)
          ar.push(r61.value);
      } catch (error3) {
        e142 = { error: error3 };
      } finally {
        try {
          if (r61 && !r61.done && (m29 = i67["return"]))
            m29.call(i67);
        } finally {
          if (e142)
            throw e142.error;
        }
      }
      return ar;
    }
    function __spreadArray4(to, from, pack) {
      if (pack || arguments.length === 2)
        for (var i67 = 0, l29 = from.length, ar; i67 < l29; i67++) {
          if (ar || !(i67 in from)) {
            if (!ar)
              ar = Array.prototype.slice.call(from, 0, i67);
            ar[i67] = from[i67];
          }
        }
      return to.concat(ar || Array.prototype.slice.call(from));
    }
    exports.__read = __read3;
    exports.__rest = __rest9;
    exports.__spreadArray = __spreadArray4;
    exports.__values = __values2;
  }
});

// node_modules/xstate/lib/waitFor.js
var require_waitFor = __commonJS({
  "node_modules/xstate/lib/waitFor.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var _tslib = require_tslib();
    var defaultWaitForOptions = {
      timeout: 1e4
    };
    function waitFor(actorRef, predicate, options) {
      var resolvedOptions = _tslib.__assign(_tslib.__assign({}, defaultWaitForOptions), options);
      return new Promise(function(res, rej) {
        var done2 = false;
        if (resolvedOptions.timeout < 0) {
          console.error("`timeout` passed to `waitFor` is negative and it will reject its internal promise immediately.");
        }
        var handle = resolvedOptions.timeout === Infinity ? void 0 : setTimeout(function() {
          sub.unsubscribe();
          rej(new Error("Timeout of ".concat(resolvedOptions.timeout, " ms exceeded")));
        }, resolvedOptions.timeout);
        var dispose = function() {
          clearTimeout(handle);
          done2 = true;
          sub === null || sub === void 0 ? void 0 : sub.unsubscribe();
        };
        var sub = actorRef.subscribe({
          next: function(emitted) {
            if (predicate(emitted)) {
              dispose();
              res(emitted);
            }
          },
          error: function(err) {
            dispose();
            rej(err);
          },
          complete: function() {
            dispose();
            rej(new Error("Actor terminated without satisfying predicate"));
          }
        });
        if (done2) {
          sub.unsubscribe();
        }
      });
    }
    exports.waitFor = waitFor;
  }
});

// node_modules/lodash/_arrayEach.js
var require_arrayEach = __commonJS({
  "node_modules/lodash/_arrayEach.js"(exports, module) {
    function arrayEach(array, iteratee) {
      var index3 = -1, length2 = array == null ? 0 : array.length;
      while (++index3 < length2) {
        if (iteratee(array[index3], index3, array) === false) {
          break;
        }
      }
      return array;
    }
    module.exports = arrayEach;
  }
});

// node_modules/lodash/_defineProperty.js
var require_defineProperty = __commonJS({
  "node_modules/lodash/_defineProperty.js"(exports, module) {
    var getNative = require_getNative();
    var defineProperty = function() {
      try {
        var func = getNative(Object, "defineProperty");
        func({}, "", {});
        return func;
      } catch (e142) {
      }
    }();
    module.exports = defineProperty;
  }
});

// node_modules/lodash/_baseAssignValue.js
var require_baseAssignValue = __commonJS({
  "node_modules/lodash/_baseAssignValue.js"(exports, module) {
    var defineProperty = require_defineProperty();
    function baseAssignValue(object, key, value) {
      if (key == "__proto__" && defineProperty) {
        defineProperty(object, key, {
          "configurable": true,
          "enumerable": true,
          "value": value,
          "writable": true
        });
      } else {
        object[key] = value;
      }
    }
    module.exports = baseAssignValue;
  }
});

// node_modules/lodash/_assignValue.js
var require_assignValue = __commonJS({
  "node_modules/lodash/_assignValue.js"(exports, module) {
    var baseAssignValue = require_baseAssignValue();
    var eq = require_eq();
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    function assignValue(object, key, value) {
      var objValue = object[key];
      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {
        baseAssignValue(object, key, value);
      }
    }
    module.exports = assignValue;
  }
});

// node_modules/lodash/_copyObject.js
var require_copyObject = __commonJS({
  "node_modules/lodash/_copyObject.js"(exports, module) {
    var assignValue = require_assignValue();
    var baseAssignValue = require_baseAssignValue();
    function copyObject(source, props, object, customizer) {
      var isNew = !object;
      object || (object = {});
      var index3 = -1, length2 = props.length;
      while (++index3 < length2) {
        var key = props[index3];
        var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;
        if (newValue === void 0) {
          newValue = source[key];
        }
        if (isNew) {
          baseAssignValue(object, key, newValue);
        } else {
          assignValue(object, key, newValue);
        }
      }
      return object;
    }
    module.exports = copyObject;
  }
});

// node_modules/lodash/_baseAssign.js
var require_baseAssign = __commonJS({
  "node_modules/lodash/_baseAssign.js"(exports, module) {
    var copyObject = require_copyObject();
    var keys = require_keys();
    function baseAssign(object, source) {
      return object && copyObject(source, keys(source), object);
    }
    module.exports = baseAssign;
  }
});

// node_modules/lodash/_nativeKeysIn.js
var require_nativeKeysIn = __commonJS({
  "node_modules/lodash/_nativeKeysIn.js"(exports, module) {
    function nativeKeysIn(object) {
      var result = [];
      if (object != null) {
        for (var key in Object(object)) {
          result.push(key);
        }
      }
      return result;
    }
    module.exports = nativeKeysIn;
  }
});

// node_modules/lodash/_baseKeysIn.js
var require_baseKeysIn = __commonJS({
  "node_modules/lodash/_baseKeysIn.js"(exports, module) {
    var isObject3 = require_isObject();
    var isPrototype = require_isPrototype();
    var nativeKeysIn = require_nativeKeysIn();
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    function baseKeysIn(object) {
      if (!isObject3(object)) {
        return nativeKeysIn(object);
      }
      var isProto = isPrototype(object), result = [];
      for (var key in object) {
        if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object, key)))) {
          result.push(key);
        }
      }
      return result;
    }
    module.exports = baseKeysIn;
  }
});

// node_modules/lodash/keysIn.js
var require_keysIn = __commonJS({
  "node_modules/lodash/keysIn.js"(exports, module) {
    var arrayLikeKeys = require_arrayLikeKeys();
    var baseKeysIn = require_baseKeysIn();
    var isArrayLike = require_isArrayLike();
    function keysIn(object) {
      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
    }
    module.exports = keysIn;
  }
});

// node_modules/lodash/_baseAssignIn.js
var require_baseAssignIn = __commonJS({
  "node_modules/lodash/_baseAssignIn.js"(exports, module) {
    var copyObject = require_copyObject();
    var keysIn = require_keysIn();
    function baseAssignIn(object, source) {
      return object && copyObject(source, keysIn(source), object);
    }
    module.exports = baseAssignIn;
  }
});

// node_modules/lodash/_cloneBuffer.js
var require_cloneBuffer = __commonJS({
  "node_modules/lodash/_cloneBuffer.js"(exports, module) {
    var root = require_root();
    var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
    var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer = moduleExports ? root.Buffer : void 0;
    var allocUnsafe = Buffer ? Buffer.allocUnsafe : void 0;
    function cloneBuffer(buffer, isDeep) {
      if (isDeep) {
        return buffer.slice();
      }
      var length2 = buffer.length, result = allocUnsafe ? allocUnsafe(length2) : new buffer.constructor(length2);
      buffer.copy(result);
      return result;
    }
    module.exports = cloneBuffer;
  }
});

// node_modules/lodash/_copyArray.js
var require_copyArray = __commonJS({
  "node_modules/lodash/_copyArray.js"(exports, module) {
    function copyArray(source, array) {
      var index3 = -1, length2 = source.length;
      array || (array = Array(length2));
      while (++index3 < length2) {
        array[index3] = source[index3];
      }
      return array;
    }
    module.exports = copyArray;
  }
});

// node_modules/lodash/_copySymbols.js
var require_copySymbols = __commonJS({
  "node_modules/lodash/_copySymbols.js"(exports, module) {
    var copyObject = require_copyObject();
    var getSymbols = require_getSymbols();
    function copySymbols(source, object) {
      return copyObject(source, getSymbols(source), object);
    }
    module.exports = copySymbols;
  }
});

// node_modules/lodash/_getPrototype.js
var require_getPrototype = __commonJS({
  "node_modules/lodash/_getPrototype.js"(exports, module) {
    var overArg = require_overArg();
    var getPrototype = overArg(Object.getPrototypeOf, Object);
    module.exports = getPrototype;
  }
});

// node_modules/lodash/_getSymbolsIn.js
var require_getSymbolsIn = __commonJS({
  "node_modules/lodash/_getSymbolsIn.js"(exports, module) {
    var arrayPush = require_arrayPush();
    var getPrototype = require_getPrototype();
    var getSymbols = require_getSymbols();
    var stubArray = require_stubArray();
    var nativeGetSymbols = Object.getOwnPropertySymbols;
    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
      var result = [];
      while (object) {
        arrayPush(result, getSymbols(object));
        object = getPrototype(object);
      }
      return result;
    };
    module.exports = getSymbolsIn;
  }
});

// node_modules/lodash/_copySymbolsIn.js
var require_copySymbolsIn = __commonJS({
  "node_modules/lodash/_copySymbolsIn.js"(exports, module) {
    var copyObject = require_copyObject();
    var getSymbolsIn = require_getSymbolsIn();
    function copySymbolsIn(source, object) {
      return copyObject(source, getSymbolsIn(source), object);
    }
    module.exports = copySymbolsIn;
  }
});

// node_modules/lodash/_getAllKeysIn.js
var require_getAllKeysIn = __commonJS({
  "node_modules/lodash/_getAllKeysIn.js"(exports, module) {
    var baseGetAllKeys = require_baseGetAllKeys();
    var getSymbolsIn = require_getSymbolsIn();
    var keysIn = require_keysIn();
    function getAllKeysIn(object) {
      return baseGetAllKeys(object, keysIn, getSymbolsIn);
    }
    module.exports = getAllKeysIn;
  }
});

// node_modules/lodash/_initCloneArray.js
var require_initCloneArray = __commonJS({
  "node_modules/lodash/_initCloneArray.js"(exports, module) {
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    function initCloneArray(array) {
      var length2 = array.length, result = new array.constructor(length2);
      if (length2 && typeof array[0] == "string" && hasOwnProperty.call(array, "index")) {
        result.index = array.index;
        result.input = array.input;
      }
      return result;
    }
    module.exports = initCloneArray;
  }
});

// node_modules/lodash/_cloneArrayBuffer.js
var require_cloneArrayBuffer = __commonJS({
  "node_modules/lodash/_cloneArrayBuffer.js"(exports, module) {
    var Uint8Array2 = require_Uint8Array();
    function cloneArrayBuffer(arrayBuffer) {
      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
      new Uint8Array2(result).set(new Uint8Array2(arrayBuffer));
      return result;
    }
    module.exports = cloneArrayBuffer;
  }
});

// node_modules/lodash/_cloneDataView.js
var require_cloneDataView = __commonJS({
  "node_modules/lodash/_cloneDataView.js"(exports, module) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    function cloneDataView(dataView, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
    }
    module.exports = cloneDataView;
  }
});

// node_modules/lodash/_cloneRegExp.js
var require_cloneRegExp = __commonJS({
  "node_modules/lodash/_cloneRegExp.js"(exports, module) {
    var reFlags = /\w*$/;
    function cloneRegExp(regexp) {
      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
      result.lastIndex = regexp.lastIndex;
      return result;
    }
    module.exports = cloneRegExp;
  }
});

// node_modules/lodash/_cloneSymbol.js
var require_cloneSymbol = __commonJS({
  "node_modules/lodash/_cloneSymbol.js"(exports, module) {
    var Symbol2 = require_Symbol();
    var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    function cloneSymbol(symbol) {
      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
    }
    module.exports = cloneSymbol;
  }
});

// node_modules/lodash/_cloneTypedArray.js
var require_cloneTypedArray = __commonJS({
  "node_modules/lodash/_cloneTypedArray.js"(exports, module) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    function cloneTypedArray(typedArray, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
    }
    module.exports = cloneTypedArray;
  }
});

// node_modules/lodash/_initCloneByTag.js
var require_initCloneByTag = __commonJS({
  "node_modules/lodash/_initCloneByTag.js"(exports, module) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    var cloneDataView = require_cloneDataView();
    var cloneRegExp = require_cloneRegExp();
    var cloneSymbol = require_cloneSymbol();
    var cloneTypedArray = require_cloneTypedArray();
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    function initCloneByTag(object, tag, isDeep) {
      var Ctor = object.constructor;
      switch (tag) {
        case arrayBufferTag:
          return cloneArrayBuffer(object);
        case boolTag:
        case dateTag:
          return new Ctor(+object);
        case dataViewTag:
          return cloneDataView(object, isDeep);
        case float32Tag:
        case float64Tag:
        case int8Tag:
        case int16Tag:
        case int32Tag:
        case uint8Tag:
        case uint8ClampedTag:
        case uint16Tag:
        case uint32Tag:
          return cloneTypedArray(object, isDeep);
        case mapTag:
          return new Ctor();
        case numberTag:
        case stringTag:
          return new Ctor(object);
        case regexpTag:
          return cloneRegExp(object);
        case setTag:
          return new Ctor();
        case symbolTag:
          return cloneSymbol(object);
      }
    }
    module.exports = initCloneByTag;
  }
});

// node_modules/lodash/_baseCreate.js
var require_baseCreate = __commonJS({
  "node_modules/lodash/_baseCreate.js"(exports, module) {
    var isObject3 = require_isObject();
    var objectCreate = Object.create;
    var baseCreate = function() {
      function object() {
      }
      return function(proto) {
        if (!isObject3(proto)) {
          return {};
        }
        if (objectCreate) {
          return objectCreate(proto);
        }
        object.prototype = proto;
        var result = new object();
        object.prototype = void 0;
        return result;
      };
    }();
    module.exports = baseCreate;
  }
});

// node_modules/lodash/_initCloneObject.js
var require_initCloneObject = __commonJS({
  "node_modules/lodash/_initCloneObject.js"(exports, module) {
    var baseCreate = require_baseCreate();
    var getPrototype = require_getPrototype();
    var isPrototype = require_isPrototype();
    function initCloneObject(object) {
      return typeof object.constructor == "function" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};
    }
    module.exports = initCloneObject;
  }
});

// node_modules/lodash/_baseIsMap.js
var require_baseIsMap = __commonJS({
  "node_modules/lodash/_baseIsMap.js"(exports, module) {
    var getTag = require_getTag();
    var isObjectLike = require_isObjectLike();
    var mapTag = "[object Map]";
    function baseIsMap(value) {
      return isObjectLike(value) && getTag(value) == mapTag;
    }
    module.exports = baseIsMap;
  }
});

// node_modules/lodash/isMap.js
var require_isMap = __commonJS({
  "node_modules/lodash/isMap.js"(exports, module) {
    var baseIsMap = require_baseIsMap();
    var baseUnary = require_baseUnary();
    var nodeUtil = require_nodeUtil();
    var nodeIsMap = nodeUtil && nodeUtil.isMap;
    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
    module.exports = isMap;
  }
});

// node_modules/lodash/_baseIsSet.js
var require_baseIsSet = __commonJS({
  "node_modules/lodash/_baseIsSet.js"(exports, module) {
    var getTag = require_getTag();
    var isObjectLike = require_isObjectLike();
    var setTag = "[object Set]";
    function baseIsSet(value) {
      return isObjectLike(value) && getTag(value) == setTag;
    }
    module.exports = baseIsSet;
  }
});

// node_modules/lodash/isSet.js
var require_isSet = __commonJS({
  "node_modules/lodash/isSet.js"(exports, module) {
    var baseIsSet = require_baseIsSet();
    var baseUnary = require_baseUnary();
    var nodeUtil = require_nodeUtil();
    var nodeIsSet = nodeUtil && nodeUtil.isSet;
    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
    module.exports = isSet;
  }
});

// node_modules/lodash/_baseClone.js
var require_baseClone = __commonJS({
  "node_modules/lodash/_baseClone.js"(exports, module) {
    var Stack = require_Stack();
    var arrayEach = require_arrayEach();
    var assignValue = require_assignValue();
    var baseAssign = require_baseAssign();
    var baseAssignIn = require_baseAssignIn();
    var cloneBuffer = require_cloneBuffer();
    var copyArray = require_copyArray();
    var copySymbols = require_copySymbols();
    var copySymbolsIn = require_copySymbolsIn();
    var getAllKeys = require_getAllKeys();
    var getAllKeysIn = require_getAllKeysIn();
    var getTag = require_getTag();
    var initCloneArray = require_initCloneArray();
    var initCloneByTag = require_initCloneByTag();
    var initCloneObject = require_initCloneObject();
    var isArray2 = require_isArray();
    var isBuffer = require_isBuffer();
    var isMap = require_isMap();
    var isObject3 = require_isObject();
    var isSet = require_isSet();
    var keys = require_keys();
    var keysIn = require_keysIn();
    var CLONE_DEEP_FLAG = 1;
    var CLONE_FLAT_FLAG = 2;
    var CLONE_SYMBOLS_FLAG = 4;
    var argsTag = "[object Arguments]";
    var arrayTag = "[object Array]";
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var errorTag = "[object Error]";
    var funcTag = "[object Function]";
    var genTag = "[object GeneratorFunction]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var objectTag = "[object Object]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var weakMapTag = "[object WeakMap]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    var cloneableTags = {};
    cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
    cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
    function baseClone(value, bitmask, customizer, key, object, stack) {
      var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
      if (customizer) {
        result = object ? customizer(value, key, object, stack) : customizer(value);
      }
      if (result !== void 0) {
        return result;
      }
      if (!isObject3(value)) {
        return value;
      }
      var isArr = isArray2(value);
      if (isArr) {
        result = initCloneArray(value);
        if (!isDeep) {
          return copyArray(value, result);
        }
      } else {
        var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;
        if (isBuffer(value)) {
          return cloneBuffer(value, isDeep);
        }
        if (tag == objectTag || tag == argsTag || isFunc && !object) {
          result = isFlat || isFunc ? {} : initCloneObject(value);
          if (!isDeep) {
            return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));
          }
        } else {
          if (!cloneableTags[tag]) {
            return object ? value : {};
          }
          result = initCloneByTag(value, tag, isDeep);
        }
      }
      stack || (stack = new Stack());
      var stacked = stack.get(value);
      if (stacked) {
        return stacked;
      }
      stack.set(value, result);
      if (isSet(value)) {
        value.forEach(function(subValue) {
          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
        });
      } else if (isMap(value)) {
        value.forEach(function(subValue, key2) {
          result.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
        });
      }
      var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;
      var props = isArr ? void 0 : keysFunc(value);
      arrayEach(props || value, function(subValue, key2) {
        if (props) {
          key2 = subValue;
          subValue = value[key2];
        }
        assignValue(result, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
      });
      return result;
    }
    module.exports = baseClone;
  }
});

// node_modules/lodash/cloneDeep.js
var require_cloneDeep = __commonJS({
  "node_modules/lodash/cloneDeep.js"(exports, module) {
    var baseClone = require_baseClone();
    var CLONE_DEEP_FLAG = 1;
    var CLONE_SYMBOLS_FLAG = 4;
    function cloneDeep(value) {
      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
    }
    module.exports = cloneDeep;
  }
});

// node_modules/xstate/lib/types.js
var require_types = __commonJS({
  "node_modules/xstate/lib/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ActionTypes = void 0;
    (function(ActionTypes2) {
      ActionTypes2["Start"] = "xstate.start";
      ActionTypes2["Stop"] = "xstate.stop";
      ActionTypes2["Raise"] = "xstate.raise";
      ActionTypes2["Send"] = "xstate.send";
      ActionTypes2["Cancel"] = "xstate.cancel";
      ActionTypes2["NullEvent"] = "";
      ActionTypes2["Assign"] = "xstate.assign";
      ActionTypes2["After"] = "xstate.after";
      ActionTypes2["DoneState"] = "done.state";
      ActionTypes2["DoneInvoke"] = "done.invoke";
      ActionTypes2["Log"] = "xstate.log";
      ActionTypes2["Init"] = "xstate.init";
      ActionTypes2["Invoke"] = "xstate.invoke";
      ActionTypes2["ErrorExecution"] = "error.execution";
      ActionTypes2["ErrorCommunication"] = "error.communication";
      ActionTypes2["ErrorPlatform"] = "error.platform";
      ActionTypes2["ErrorCustom"] = "xstate.error";
      ActionTypes2["Update"] = "xstate.update";
      ActionTypes2["Pure"] = "xstate.pure";
      ActionTypes2["Choose"] = "xstate.choose";
    })(exports.ActionTypes || (exports.ActionTypes = {}));
    exports.SpecialTargets = void 0;
    (function(SpecialTargets2) {
      SpecialTargets2["Parent"] = "#_parent";
      SpecialTargets2["Internal"] = "#_internal";
    })(exports.SpecialTargets || (exports.SpecialTargets = {}));
  }
});

// node_modules/xstate/lib/actionTypes.js
var require_actionTypes = __commonJS({
  "node_modules/xstate/lib/actionTypes.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var types = require_types();
    var start3 = types.ActionTypes.Start;
    var stop3 = types.ActionTypes.Stop;
    var raise3 = types.ActionTypes.Raise;
    var send3 = types.ActionTypes.Send;
    var cancel3 = types.ActionTypes.Cancel;
    var nullEvent2 = types.ActionTypes.NullEvent;
    var assign4 = types.ActionTypes.Assign;
    var after3 = types.ActionTypes.After;
    var doneState2 = types.ActionTypes.DoneState;
    var log2 = types.ActionTypes.Log;
    var init2 = types.ActionTypes.Init;
    var invoke2 = types.ActionTypes.Invoke;
    var errorExecution2 = types.ActionTypes.ErrorExecution;
    var errorPlatform2 = types.ActionTypes.ErrorPlatform;
    var error3 = types.ActionTypes.ErrorCustom;
    var update2 = types.ActionTypes.Update;
    var choose2 = types.ActionTypes.Choose;
    var pure2 = types.ActionTypes.Pure;
    exports.after = after3;
    exports.assign = assign4;
    exports.cancel = cancel3;
    exports.choose = choose2;
    exports.doneState = doneState2;
    exports.error = error3;
    exports.errorExecution = errorExecution2;
    exports.errorPlatform = errorPlatform2;
    exports.init = init2;
    exports.invoke = invoke2;
    exports.log = log2;
    exports.nullEvent = nullEvent2;
    exports.pure = pure2;
    exports.raise = raise3;
    exports.send = send3;
    exports.start = start3;
    exports.stop = stop3;
    exports.update = update2;
  }
});

// node_modules/xstate/lib/constants.js
var require_constants = __commonJS({
  "node_modules/xstate/lib/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var STATE_DELIMITER2 = ".";
    var EMPTY_ACTIVITY_MAP2 = {};
    var DEFAULT_GUARD_TYPE2 = "xstate.guard";
    var TARGETLESS_KEY2 = "";
    exports.DEFAULT_GUARD_TYPE = DEFAULT_GUARD_TYPE2;
    exports.EMPTY_ACTIVITY_MAP = EMPTY_ACTIVITY_MAP2;
    exports.STATE_DELIMITER = STATE_DELIMITER2;
    exports.TARGETLESS_KEY = TARGETLESS_KEY2;
  }
});

// node_modules/xstate/lib/environment.js
var require_environment = __commonJS({
  "node_modules/xstate/lib/environment.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IS_PRODUCTION2 = false;
    exports.IS_PRODUCTION = IS_PRODUCTION2;
  }
});

// node_modules/xstate/lib/utils.js
var require_utils = __commonJS({
  "node_modules/xstate/lib/utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var _tslib = require_tslib();
    var constants = require_constants();
    var environment = require_environment();
    var _a3;
    function keys(value) {
      return Object.keys(value);
    }
    function matchesState2(parentStateId, childStateId, delimiter) {
      if (delimiter === void 0) {
        delimiter = constants.STATE_DELIMITER;
      }
      var parentStateValue = toStateValue2(parentStateId, delimiter);
      var childStateValue = toStateValue2(childStateId, delimiter);
      if (isString4(childStateValue)) {
        if (isString4(parentStateValue)) {
          return childStateValue === parentStateValue;
        }
        return false;
      }
      if (isString4(parentStateValue)) {
        return parentStateValue in childStateValue;
      }
      return Object.keys(parentStateValue).every(function(key) {
        if (!(key in childStateValue)) {
          return false;
        }
        return matchesState2(parentStateValue[key], childStateValue[key]);
      });
    }
    function getEventType2(event2) {
      try {
        return isString4(event2) || typeof event2 === "number" ? "".concat(event2) : event2.type;
      } catch (e142) {
        throw new Error("Events must be strings or objects with a string event.type property.");
      }
    }
    function getActionType(action) {
      try {
        return isString4(action) || typeof action === "number" ? "".concat(action) : isFunction2(action) ? action.name : action.type;
      } catch (e142) {
        throw new Error("Actions must be strings or objects with a string action.type property.");
      }
    }
    function toStatePath2(stateId, delimiter) {
      try {
        if (isArray2(stateId)) {
          return stateId;
        }
        return stateId.toString().split(delimiter);
      } catch (e142) {
        throw new Error("'".concat(stateId, "' is not a valid state path."));
      }
    }
    function isStateLike2(state) {
      return typeof state === "object" && "value" in state && "context" in state && "event" in state && "_event" in state;
    }
    function toStateValue2(stateValue, delimiter) {
      if (isStateLike2(stateValue)) {
        return stateValue.value;
      }
      if (isArray2(stateValue)) {
        return pathToStateValue2(stateValue);
      }
      if (typeof stateValue !== "string") {
        return stateValue;
      }
      var statePath = toStatePath2(stateValue, delimiter);
      return pathToStateValue2(statePath);
    }
    function pathToStateValue2(statePath) {
      if (statePath.length === 1) {
        return statePath[0];
      }
      var value = {};
      var marker = value;
      for (var i67 = 0; i67 < statePath.length - 1; i67++) {
        if (i67 === statePath.length - 2) {
          marker[statePath[i67]] = statePath[i67 + 1];
        } else {
          marker[statePath[i67]] = {};
          marker = marker[statePath[i67]];
        }
      }
      return value;
    }
    function mapValues2(collection, iteratee) {
      var result = {};
      var collectionKeys = Object.keys(collection);
      for (var i67 = 0; i67 < collectionKeys.length; i67++) {
        var key = collectionKeys[i67];
        result[key] = iteratee(collection[key], key, collection, i67);
      }
      return result;
    }
    function mapFilterValues2(collection, iteratee, predicate) {
      var e_1, _a4;
      var result = {};
      try {
        for (var _b = _tslib.__values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {
          var key = _c.value;
          var item = collection[key];
          if (!predicate(item)) {
            continue;
          }
          result[key] = iteratee(item, key, collection);
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a4 = _b.return))
            _a4.call(_b);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      return result;
    }
    var path2 = function(props) {
      return function(object) {
        var e_2, _a4;
        var result = object;
        try {
          for (var props_1 = _tslib.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {
            var prop = props_1_1.value;
            result = result[prop];
          }
        } catch (e_2_1) {
          e_2 = {
            error: e_2_1
          };
        } finally {
          try {
            if (props_1_1 && !props_1_1.done && (_a4 = props_1.return))
              _a4.call(props_1);
          } finally {
            if (e_2)
              throw e_2.error;
          }
        }
        return result;
      };
    };
    function nestedPath2(props, accessorProp) {
      return function(object) {
        var e_3, _a4;
        var result = object;
        try {
          for (var props_2 = _tslib.__values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {
            var prop = props_2_1.value;
            result = result[accessorProp][prop];
          }
        } catch (e_3_1) {
          e_3 = {
            error: e_3_1
          };
        } finally {
          try {
            if (props_2_1 && !props_2_1.done && (_a4 = props_2.return))
              _a4.call(props_2);
          } finally {
            if (e_3)
              throw e_3.error;
          }
        }
        return result;
      };
    }
    function toStatePaths2(stateValue) {
      if (!stateValue) {
        return [[]];
      }
      if (isString4(stateValue)) {
        return [[stateValue]];
      }
      var result = flatten2(Object.keys(stateValue).map(function(key) {
        var subStateValue = stateValue[key];
        if (typeof subStateValue !== "string" && (!subStateValue || !Object.keys(subStateValue).length)) {
          return [[key]];
        }
        return toStatePaths2(stateValue[key]).map(function(subPath) {
          return [key].concat(subPath);
        });
      }));
      return result;
    }
    function pathsToStateValue(paths) {
      var e_4, _a4;
      var result = {};
      if (paths && paths.length === 1 && paths[0].length === 1) {
        return paths[0][0];
      }
      try {
        for (var paths_1 = _tslib.__values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {
          var currentPath = paths_1_1.value;
          var marker = result;
          for (var i67 = 0; i67 < currentPath.length; i67++) {
            var subPath = currentPath[i67];
            if (i67 === currentPath.length - 2) {
              marker[subPath] = currentPath[i67 + 1];
              break;
            }
            marker[subPath] = marker[subPath] || {};
            marker = marker[subPath];
          }
        }
      } catch (e_4_1) {
        e_4 = {
          error: e_4_1
        };
      } finally {
        try {
          if (paths_1_1 && !paths_1_1.done && (_a4 = paths_1.return))
            _a4.call(paths_1);
        } finally {
          if (e_4)
            throw e_4.error;
        }
      }
      return result;
    }
    function flatten2(array) {
      var _a4;
      return (_a4 = []).concat.apply(_a4, _tslib.__spreadArray([], _tslib.__read(array), false));
    }
    function toArrayStrict2(value) {
      if (isArray2(value)) {
        return value;
      }
      return [value];
    }
    function toArray2(value) {
      if (value === void 0) {
        return [];
      }
      return toArrayStrict2(value);
    }
    function mapContext2(mapper, context, _event) {
      var e_5, _a4;
      if (isFunction2(mapper)) {
        return mapper(context, _event.data);
      }
      var result = {};
      try {
        for (var _b = _tslib.__values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {
          var key = _c.value;
          var subMapper = mapper[key];
          if (isFunction2(subMapper)) {
            result[key] = subMapper(context, _event.data);
          } else {
            result[key] = subMapper;
          }
        }
      } catch (e_5_1) {
        e_5 = {
          error: e_5_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a4 = _b.return))
            _a4.call(_b);
        } finally {
          if (e_5)
            throw e_5.error;
        }
      }
      return result;
    }
    function isBuiltInEvent2(eventType) {
      return /^(done|error)\./.test(eventType);
    }
    function isPromiseLike2(value) {
      if (value instanceof Promise) {
        return true;
      }
      if (value !== null && (isFunction2(value) || typeof value === "object") && isFunction2(value.then)) {
        return true;
      }
      return false;
    }
    function isBehavior2(value) {
      return value !== null && typeof value === "object" && "transition" in value && typeof value.transition === "function";
    }
    function partition2(items, predicate) {
      var e_6, _a4;
      var _b = _tslib.__read([[], []], 2), truthy = _b[0], falsy = _b[1];
      try {
        for (var items_1 = _tslib.__values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {
          var item = items_1_1.value;
          if (predicate(item)) {
            truthy.push(item);
          } else {
            falsy.push(item);
          }
        }
      } catch (e_6_1) {
        e_6 = {
          error: e_6_1
        };
      } finally {
        try {
          if (items_1_1 && !items_1_1.done && (_a4 = items_1.return))
            _a4.call(items_1);
        } finally {
          if (e_6)
            throw e_6.error;
        }
      }
      return [truthy, falsy];
    }
    function updateHistoryStates2(hist, stateValue) {
      return mapValues2(hist.states, function(subHist, key) {
        if (!subHist) {
          return void 0;
        }
        var subStateValue = (isString4(stateValue) ? void 0 : stateValue[key]) || (subHist ? subHist.current : void 0);
        if (!subStateValue) {
          return void 0;
        }
        return {
          current: subStateValue,
          states: updateHistoryStates2(subHist, subStateValue)
        };
      });
    }
    function updateHistoryValue2(hist, stateValue) {
      return {
        current: stateValue,
        states: updateHistoryStates2(hist, stateValue)
      };
    }
    function updateContext2(context, _event, assignActions, state) {
      if (!environment.IS_PRODUCTION) {
        exports.warn(!!context, "Attempting to update undefined context");
      }
      var updatedContext = context ? assignActions.reduce(function(acc, assignAction) {
        var e_7, _a4;
        var assignment = assignAction.assignment;
        var meta = {
          state,
          action: assignAction,
          _event
        };
        var partialUpdate = {};
        if (isFunction2(assignment)) {
          partialUpdate = assignment(acc, _event.data, meta);
        } else {
          try {
            for (var _b = _tslib.__values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {
              var key = _c.value;
              var propAssignment = assignment[key];
              partialUpdate[key] = isFunction2(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;
            }
          } catch (e_7_1) {
            e_7 = {
              error: e_7_1
            };
          } finally {
            try {
              if (_c && !_c.done && (_a4 = _b.return))
                _a4.call(_b);
            } finally {
              if (e_7)
                throw e_7.error;
            }
          }
        }
        return Object.assign({}, acc, partialUpdate);
      }, context) : context;
      return updatedContext;
    }
    exports.warn = function() {
    };
    if (!environment.IS_PRODUCTION) {
      exports.warn = function(condition, message) {
        var error3 = condition instanceof Error ? condition : void 0;
        if (!error3 && condition) {
          return;
        }
        if (console !== void 0) {
          var args = ["Warning: ".concat(message)];
          if (error3) {
            args.push(error3);
          }
          console.warn.apply(console, args);
        }
      };
    }
    function isArray2(value) {
      return Array.isArray(value);
    }
    function isFunction2(value) {
      return typeof value === "function";
    }
    function isString4(value) {
      return typeof value === "string";
    }
    function toGuard2(condition, guardMap) {
      if (!condition) {
        return void 0;
      }
      if (isString4(condition)) {
        return {
          type: constants.DEFAULT_GUARD_TYPE,
          name: condition,
          predicate: guardMap ? guardMap[condition] : void 0
        };
      }
      if (isFunction2(condition)) {
        return {
          type: constants.DEFAULT_GUARD_TYPE,
          name: condition.name,
          predicate: condition
        };
      }
      return condition;
    }
    function isObservable2(value) {
      try {
        return "subscribe" in value && isFunction2(value.subscribe);
      } catch (e142) {
        return false;
      }
    }
    var symbolObservable2 = function() {
      return typeof Symbol === "function" && Symbol.observable || "@@observable";
    }();
    var interopSymbols2 = (_a3 = {}, _a3[symbolObservable2] = function() {
      return this;
    }, _a3[Symbol.observable] = function() {
      return this;
    }, _a3);
    function isMachine2(value) {
      return !!value && "__xstatenode" in value;
    }
    function isActor3(value) {
      return !!value && typeof value.send === "function";
    }
    var uniqueId2 = function() {
      var currentId = 0;
      return function() {
        currentId++;
        return currentId.toString(16);
      };
    }();
    function toEventObject2(event2, payload) {
      if (isString4(event2) || typeof event2 === "number") {
        return _tslib.__assign({
          type: event2
        }, payload);
      }
      return event2;
    }
    function toSCXMLEvent2(event2, scxmlEvent) {
      if (!isString4(event2) && "$$type" in event2 && event2.$$type === "scxml") {
        return event2;
      }
      var eventObject = toEventObject2(event2);
      return _tslib.__assign({
        name: eventObject.type,
        data: eventObject,
        $$type: "scxml",
        type: "external"
      }, scxmlEvent);
    }
    function toTransitionConfigArray2(event2, configLike) {
      var transitions = toArrayStrict2(configLike).map(function(transitionLike) {
        if (typeof transitionLike === "undefined" || typeof transitionLike === "string" || isMachine2(transitionLike)) {
          return {
            target: transitionLike,
            event: event2
          };
        }
        return _tslib.__assign(_tslib.__assign({}, transitionLike), {
          event: event2
        });
      });
      return transitions;
    }
    function normalizeTarget2(target) {
      if (target === void 0 || target === constants.TARGETLESS_KEY) {
        return void 0;
      }
      return toArray2(target);
    }
    function reportUnhandledExceptionOnInvocation2(originalError, currentError, id) {
      if (!environment.IS_PRODUCTION) {
        var originalStackTrace = originalError.stack ? " Stacktrace was '".concat(originalError.stack, "'") : "";
        if (originalError === currentError) {
          console.error("Missing onError handler for invocation '".concat(id, "', error was '").concat(originalError, "'.").concat(originalStackTrace));
        } else {
          var stackTrace = currentError.stack ? " Stacktrace was '".concat(currentError.stack, "'") : "";
          console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(id, "'. ") + "Original error: '".concat(originalError, "'. ").concat(originalStackTrace, " Current error is '").concat(currentError, "'.").concat(stackTrace));
        }
      }
    }
    function evaluateGuard2(machine, guard, context, _event, state) {
      var guards = machine.options.guards;
      var guardMeta = {
        state,
        cond: guard,
        _event
      };
      if (guard.type === constants.DEFAULT_GUARD_TYPE) {
        return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);
      }
      var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];
      if (!condFn) {
        throw new Error("Guard '".concat(guard.type, "' is not implemented on machine '").concat(machine.id, "'."));
      }
      return condFn(context, _event.data, guardMeta);
    }
    function toInvokeSource3(src) {
      if (typeof src === "string") {
        return {
          type: src
        };
      }
      return src;
    }
    function toObserver2(nextHandler, errorHandler, completionHandler) {
      var noop = function() {
      };
      var isObserver = typeof nextHandler === "object";
      var self2 = isObserver ? nextHandler : null;
      return {
        next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self2),
        error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self2),
        complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self2)
      };
    }
    function createInvokeId2(stateNodeId, index3) {
      return "".concat(stateNodeId, ":invocation[").concat(index3, "]");
    }
    exports.createInvokeId = createInvokeId2;
    exports.evaluateGuard = evaluateGuard2;
    exports.flatten = flatten2;
    exports.getActionType = getActionType;
    exports.getEventType = getEventType2;
    exports.interopSymbols = interopSymbols2;
    exports.isActor = isActor3;
    exports.isArray = isArray2;
    exports.isBehavior = isBehavior2;
    exports.isBuiltInEvent = isBuiltInEvent2;
    exports.isFunction = isFunction2;
    exports.isMachine = isMachine2;
    exports.isObservable = isObservable2;
    exports.isPromiseLike = isPromiseLike2;
    exports.isStateLike = isStateLike2;
    exports.isString = isString4;
    exports.keys = keys;
    exports.mapContext = mapContext2;
    exports.mapFilterValues = mapFilterValues2;
    exports.mapValues = mapValues2;
    exports.matchesState = matchesState2;
    exports.nestedPath = nestedPath2;
    exports.normalizeTarget = normalizeTarget2;
    exports.partition = partition2;
    exports.path = path2;
    exports.pathToStateValue = pathToStateValue2;
    exports.pathsToStateValue = pathsToStateValue;
    exports.reportUnhandledExceptionOnInvocation = reportUnhandledExceptionOnInvocation2;
    exports.symbolObservable = symbolObservable2;
    exports.toArray = toArray2;
    exports.toArrayStrict = toArrayStrict2;
    exports.toEventObject = toEventObject2;
    exports.toGuard = toGuard2;
    exports.toInvokeSource = toInvokeSource3;
    exports.toObserver = toObserver2;
    exports.toSCXMLEvent = toSCXMLEvent2;
    exports.toStatePath = toStatePath2;
    exports.toStatePaths = toStatePaths2;
    exports.toStateValue = toStateValue2;
    exports.toTransitionConfigArray = toTransitionConfigArray2;
    exports.uniqueId = uniqueId2;
    exports.updateContext = updateContext2;
    exports.updateHistoryStates = updateHistoryStates2;
    exports.updateHistoryValue = updateHistoryValue2;
  }
});

// node_modules/xstate/lib/actions.js
var require_actions = __commonJS({
  "node_modules/xstate/lib/actions.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var _tslib = require_tslib();
    var types = require_types();
    var actionTypes = require_actionTypes();
    var utils = require_utils();
    var environment = require_environment();
    var initEvent2 = utils.toSCXMLEvent({
      type: actionTypes.init
    });
    function getActionFunction2(actionType, actionFunctionMap) {
      return actionFunctionMap ? actionFunctionMap[actionType] || void 0 : void 0;
    }
    function toActionObject2(action, actionFunctionMap) {
      var actionObject;
      if (utils.isString(action) || typeof action === "number") {
        var exec = getActionFunction2(action, actionFunctionMap);
        if (utils.isFunction(exec)) {
          actionObject = {
            type: action,
            exec
          };
        } else if (exec) {
          actionObject = exec;
        } else {
          actionObject = {
            type: action,
            exec: void 0
          };
        }
      } else if (utils.isFunction(action)) {
        actionObject = {
          type: action.name || action.toString(),
          exec: action
        };
      } else {
        var exec = getActionFunction2(action.type, actionFunctionMap);
        if (utils.isFunction(exec)) {
          actionObject = _tslib.__assign(_tslib.__assign({}, action), {
            exec
          });
        } else if (exec) {
          var actionType = exec.type || action.type;
          actionObject = _tslib.__assign(_tslib.__assign(_tslib.__assign({}, exec), action), {
            type: actionType
          });
        } else {
          actionObject = action;
        }
      }
      return actionObject;
    }
    var toActionObjects2 = function(action, actionFunctionMap) {
      if (!action) {
        return [];
      }
      var actions = utils.isArray(action) ? action : [action];
      return actions.map(function(subAction) {
        return toActionObject2(subAction, actionFunctionMap);
      });
    };
    function toActivityDefinition2(action) {
      var actionObject = toActionObject2(action);
      return _tslib.__assign(_tslib.__assign({
        id: utils.isString(action) ? action : actionObject.id
      }, actionObject), {
        type: actionObject.type
      });
    }
    function raise3(event2) {
      if (!utils.isString(event2)) {
        return send3(event2, {
          to: types.SpecialTargets.Internal
        });
      }
      return {
        type: actionTypes.raise,
        event: event2
      };
    }
    function resolveRaise2(action) {
      return {
        type: actionTypes.raise,
        _event: utils.toSCXMLEvent(action.event)
      };
    }
    function send3(event2, options) {
      return {
        to: options ? options.to : void 0,
        type: actionTypes.send,
        event: utils.isFunction(event2) ? event2 : utils.toEventObject(event2),
        delay: options ? options.delay : void 0,
        id: options && options.id !== void 0 ? options.id : utils.isFunction(event2) ? event2.name : utils.getEventType(event2)
      };
    }
    function resolveSend2(action, ctx, _event, delaysMap) {
      var meta = {
        _event
      };
      var resolvedEvent = utils.toSCXMLEvent(utils.isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);
      var resolvedDelay;
      if (utils.isString(action.delay)) {
        var configDelay = delaysMap && delaysMap[action.delay];
        resolvedDelay = utils.isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;
      } else {
        resolvedDelay = utils.isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;
      }
      var resolvedTarget = utils.isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;
      return _tslib.__assign(_tslib.__assign({}, action), {
        to: resolvedTarget,
        _event: resolvedEvent,
        event: resolvedEvent.data,
        delay: resolvedDelay
      });
    }
    function sendParent2(event2, options) {
      return send3(event2, _tslib.__assign(_tslib.__assign({}, options), {
        to: types.SpecialTargets.Parent
      }));
    }
    function sendTo2(actor, event2, options) {
      return send3(event2, _tslib.__assign(_tslib.__assign({}, options), {
        to: actor
      }));
    }
    function sendUpdate3() {
      return sendParent2(actionTypes.update);
    }
    function respond(event2, options) {
      return send3(event2, _tslib.__assign(_tslib.__assign({}, options), {
        to: function(_3, __, _a3) {
          var _event = _a3._event;
          return _event.origin;
        }
      }));
    }
    var defaultLogExpr = function(context, event2) {
      return {
        context,
        event: event2
      };
    };
    function log2(expr, label) {
      if (expr === void 0) {
        expr = defaultLogExpr;
      }
      return {
        type: actionTypes.log,
        label,
        expr
      };
    }
    var resolveLog2 = function(action, ctx, _event) {
      return _tslib.__assign(_tslib.__assign({}, action), {
        value: utils.isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {
          _event
        })
      });
    };
    var cancel3 = function(sendId) {
      return {
        type: actionTypes.cancel,
        sendId
      };
    };
    function start3(activity) {
      var activityDef = toActivityDefinition2(activity);
      return {
        type: types.ActionTypes.Start,
        activity: activityDef,
        exec: void 0
      };
    }
    function stop3(actorRef) {
      var activity = utils.isFunction(actorRef) ? actorRef : toActivityDefinition2(actorRef);
      return {
        type: types.ActionTypes.Stop,
        activity,
        exec: void 0
      };
    }
    function resolveStop2(action, context, _event) {
      var actorRefOrString = utils.isFunction(action.activity) ? action.activity(context, _event.data) : action.activity;
      var resolvedActorRef = typeof actorRefOrString === "string" ? {
        id: actorRefOrString
      } : actorRefOrString;
      var actionObject = {
        type: types.ActionTypes.Stop,
        activity: resolvedActorRef
      };
      return actionObject;
    }
    var assign4 = function(assignment) {
      return {
        type: actionTypes.assign,
        assignment
      };
    };
    function isActionObject(action) {
      return typeof action === "object" && "type" in action;
    }
    function after3(delayRef, id) {
      var idSuffix = id ? "#".concat(id) : "";
      return "".concat(types.ActionTypes.After, "(").concat(delayRef, ")").concat(idSuffix);
    }
    function done2(id, data) {
      var type = "".concat(types.ActionTypes.DoneState, ".").concat(id);
      var eventObject = {
        type,
        data
      };
      eventObject.toString = function() {
        return type;
      };
      return eventObject;
    }
    function doneInvoke2(id, data) {
      var type = "".concat(types.ActionTypes.DoneInvoke, ".").concat(id);
      var eventObject = {
        type,
        data
      };
      eventObject.toString = function() {
        return type;
      };
      return eventObject;
    }
    function error3(id, data) {
      var type = "".concat(types.ActionTypes.ErrorPlatform, ".").concat(id);
      var eventObject = {
        type,
        data
      };
      eventObject.toString = function() {
        return type;
      };
      return eventObject;
    }
    function pure2(getActions) {
      return {
        type: types.ActionTypes.Pure,
        get: getActions
      };
    }
    function forwardTo3(target, options) {
      if (!environment.IS_PRODUCTION && (!target || typeof target === "function")) {
        var originalTarget_1 = target;
        target = function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var resolvedTarget = typeof originalTarget_1 === "function" ? originalTarget_1.apply(void 0, _tslib.__spreadArray([], _tslib.__read(args), false)) : originalTarget_1;
          if (!resolvedTarget) {
            throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");
          }
          return resolvedTarget;
        };
      }
      return send3(function(_3, event2) {
        return event2;
      }, _tslib.__assign(_tslib.__assign({}, options), {
        to: target
      }));
    }
    function escalate(errorData, options) {
      return sendParent2(function(context, event2, meta) {
        return {
          type: actionTypes.error,
          data: utils.isFunction(errorData) ? errorData(context, event2, meta) : errorData
        };
      }, _tslib.__assign(_tslib.__assign({}, options), {
        to: types.SpecialTargets.Parent
      }));
    }
    function choose2(conds) {
      return {
        type: types.ActionTypes.Choose,
        conds
      };
    }
    var pluckAssigns2 = function(actionBlocks) {
      var e_1, _a3;
      var assignActions = [];
      try {
        for (var actionBlocks_1 = _tslib.__values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {
          var block = actionBlocks_1_1.value;
          var i67 = 0;
          while (i67 < block.length) {
            if (block[i67].type === actionTypes.assign) {
              assignActions.push(block[i67]);
              block.splice(i67, 1);
              continue;
            }
            i67++;
          }
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a3 = actionBlocks_1.return))
            _a3.call(actionBlocks_1);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      return assignActions;
    };
    function resolveActions2(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {
      if (preserveActionOrder === void 0) {
        preserveActionOrder = false;
      }
      var assignActions = preserveActionOrder ? [] : pluckAssigns2(actionBlocks);
      var updatedContext = assignActions.length ? utils.updateContext(currentContext, _event, assignActions, currentState) : currentContext;
      var preservedContexts = preserveActionOrder ? [currentContext] : void 0;
      var deferredToBlockEnd = [];
      function handleAction(actionObject) {
        var _a3;
        switch (actionObject.type) {
          case actionTypes.raise: {
            return resolveRaise2(actionObject);
          }
          case actionTypes.send:
            var sendAction = resolveSend2(actionObject, updatedContext, _event, machine.options.delays);
            if (!environment.IS_PRODUCTION) {
              utils.warn(
                !utils.isString(actionObject.delay) || typeof sendAction.delay === "number",
                "No delay reference for delay expression '".concat(actionObject.delay, "' was found on machine '").concat(machine.id, "'")
              );
            }
            if (predictableExec && sendAction.to !== types.SpecialTargets.Internal) {
              deferredToBlockEnd.push(sendAction);
            }
            return sendAction;
          case actionTypes.log: {
            var resolved = resolveLog2(actionObject, updatedContext, _event);
            predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);
            return resolved;
          }
          case actionTypes.choose: {
            var chooseAction = actionObject;
            var matchedActions = (_a3 = chooseAction.conds.find(function(condition) {
              var guard = utils.toGuard(condition.cond, machine.options.guards);
              return !guard || utils.evaluateGuard(machine, guard, updatedContext, _event, !predictableExec ? currentState : void 0);
            })) === null || _a3 === void 0 ? void 0 : _a3.actions;
            if (!matchedActions) {
              return [];
            }
            var _b = _tslib.__read(resolveActions2(machine, currentState, updatedContext, _event, [toActionObjects2(utils.toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2), resolvedActionsFromChoose = _b[0], resolvedContextFromChoose = _b[1];
            updatedContext = resolvedContextFromChoose;
            preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
            return resolvedActionsFromChoose;
          }
          case actionTypes.pure: {
            var matchedActions = actionObject.get(updatedContext, _event.data);
            if (!matchedActions) {
              return [];
            }
            var _c = _tslib.__read(resolveActions2(machine, currentState, updatedContext, _event, [toActionObjects2(utils.toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2), resolvedActionsFromPure = _c[0], resolvedContext = _c[1];
            updatedContext = resolvedContext;
            preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
            return resolvedActionsFromPure;
          }
          case actionTypes.stop: {
            var resolved = resolveStop2(actionObject, updatedContext, _event);
            predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);
            return resolved;
          }
          case actionTypes.assign: {
            updatedContext = utils.updateContext(updatedContext, _event, [actionObject], !predictableExec ? currentState : void 0);
            preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
            break;
          }
          default:
            var resolvedActionObject = toActionObject2(actionObject, machine.options.actions);
            var exec_1 = resolvedActionObject.exec;
            if (predictableExec) {
              predictableExec(resolvedActionObject, updatedContext, _event);
            } else if (exec_1 && preservedContexts) {
              var contextIndex_1 = preservedContexts.length - 1;
              resolvedActionObject = _tslib.__assign(_tslib.__assign({}, resolvedActionObject), {
                exec: function(_ctx) {
                  var args = [];
                  for (var _i = 1; _i < arguments.length; _i++) {
                    args[_i - 1] = arguments[_i];
                  }
                  exec_1.apply(void 0, _tslib.__spreadArray([preservedContexts[contextIndex_1]], _tslib.__read(args), false));
                }
              });
            }
            return resolvedActionObject;
        }
      }
      function processBlock(block) {
        var e_2, _a3;
        var resolvedActions2 = [];
        try {
          for (var block_1 = _tslib.__values(block), block_1_1 = block_1.next(); !block_1_1.done; block_1_1 = block_1.next()) {
            var action = block_1_1.value;
            var resolved = handleAction(action);
            if (resolved) {
              resolvedActions2 = resolvedActions2.concat(resolved);
            }
          }
        } catch (e_2_1) {
          e_2 = {
            error: e_2_1
          };
        } finally {
          try {
            if (block_1_1 && !block_1_1.done && (_a3 = block_1.return))
              _a3.call(block_1);
          } finally {
            if (e_2)
              throw e_2.error;
          }
        }
        deferredToBlockEnd.forEach(function(action2) {
          predictableExec(action2, updatedContext, _event);
        });
        deferredToBlockEnd.length = 0;
        return resolvedActions2;
      }
      var resolvedActions = utils.flatten(actionBlocks.map(processBlock));
      return [resolvedActions, updatedContext];
    }
    exports.actionTypes = actionTypes;
    exports.after = after3;
    exports.assign = assign4;
    exports.cancel = cancel3;
    exports.choose = choose2;
    exports.done = done2;
    exports.doneInvoke = doneInvoke2;
    exports.error = error3;
    exports.escalate = escalate;
    exports.forwardTo = forwardTo3;
    exports.getActionFunction = getActionFunction2;
    exports.initEvent = initEvent2;
    exports.isActionObject = isActionObject;
    exports.log = log2;
    exports.pure = pure2;
    exports.raise = raise3;
    exports.resolveActions = resolveActions2;
    exports.resolveLog = resolveLog2;
    exports.resolveRaise = resolveRaise2;
    exports.resolveSend = resolveSend2;
    exports.resolveStop = resolveStop2;
    exports.respond = respond;
    exports.send = send3;
    exports.sendParent = sendParent2;
    exports.sendTo = sendTo2;
    exports.sendUpdate = sendUpdate3;
    exports.start = start3;
    exports.stop = stop3;
    exports.toActionObject = toActionObject2;
    exports.toActionObjects = toActionObjects2;
    exports.toActivityDefinition = toActivityDefinition2;
  }
});

// node_modules/lodash/_assignMergeValue.js
var require_assignMergeValue = __commonJS({
  "node_modules/lodash/_assignMergeValue.js"(exports, module) {
    var baseAssignValue = require_baseAssignValue();
    var eq = require_eq();
    function assignMergeValue(object, key, value) {
      if (value !== void 0 && !eq(object[key], value) || value === void 0 && !(key in object)) {
        baseAssignValue(object, key, value);
      }
    }
    module.exports = assignMergeValue;
  }
});

// node_modules/lodash/_createBaseFor.js
var require_createBaseFor = __commonJS({
  "node_modules/lodash/_createBaseFor.js"(exports, module) {
    function createBaseFor(fromRight) {
      return function(object, iteratee, keysFunc) {
        var index3 = -1, iterable = Object(object), props = keysFunc(object), length2 = props.length;
        while (length2--) {
          var key = props[fromRight ? length2 : ++index3];
          if (iteratee(iterable[key], key, iterable) === false) {
            break;
          }
        }
        return object;
      };
    }
    module.exports = createBaseFor;
  }
});

// node_modules/lodash/_baseFor.js
var require_baseFor = __commonJS({
  "node_modules/lodash/_baseFor.js"(exports, module) {
    var createBaseFor = require_createBaseFor();
    var baseFor = createBaseFor();
    module.exports = baseFor;
  }
});

// node_modules/lodash/isArrayLikeObject.js
var require_isArrayLikeObject = __commonJS({
  "node_modules/lodash/isArrayLikeObject.js"(exports, module) {
    var isArrayLike = require_isArrayLike();
    var isObjectLike = require_isObjectLike();
    function isArrayLikeObject(value) {
      return isObjectLike(value) && isArrayLike(value);
    }
    module.exports = isArrayLikeObject;
  }
});

// node_modules/lodash/isPlainObject.js
var require_isPlainObject = __commonJS({
  "node_modules/lodash/isPlainObject.js"(exports, module) {
    var baseGetTag = require_baseGetTag();
    var getPrototype = require_getPrototype();
    var isObjectLike = require_isObjectLike();
    var objectTag = "[object Object]";
    var funcProto = Function.prototype;
    var objectProto = Object.prototype;
    var funcToString = funcProto.toString;
    var hasOwnProperty = objectProto.hasOwnProperty;
    var objectCtorString = funcToString.call(Object);
    function isPlainObject(value) {
      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
        return false;
      }
      var proto = getPrototype(value);
      if (proto === null) {
        return true;
      }
      var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
      return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
    }
    module.exports = isPlainObject;
  }
});

// node_modules/lodash/_safeGet.js
var require_safeGet = __commonJS({
  "node_modules/lodash/_safeGet.js"(exports, module) {
    function safeGet(object, key) {
      if (key === "constructor" && typeof object[key] === "function") {
        return;
      }
      if (key == "__proto__") {
        return;
      }
      return object[key];
    }
    module.exports = safeGet;
  }
});

// node_modules/lodash/toPlainObject.js
var require_toPlainObject = __commonJS({
  "node_modules/lodash/toPlainObject.js"(exports, module) {
    var copyObject = require_copyObject();
    var keysIn = require_keysIn();
    function toPlainObject(value) {
      return copyObject(value, keysIn(value));
    }
    module.exports = toPlainObject;
  }
});

// node_modules/lodash/_baseMergeDeep.js
var require_baseMergeDeep = __commonJS({
  "node_modules/lodash/_baseMergeDeep.js"(exports, module) {
    var assignMergeValue = require_assignMergeValue();
    var cloneBuffer = require_cloneBuffer();
    var cloneTypedArray = require_cloneTypedArray();
    var copyArray = require_copyArray();
    var initCloneObject = require_initCloneObject();
    var isArguments = require_isArguments();
    var isArray2 = require_isArray();
    var isArrayLikeObject = require_isArrayLikeObject();
    var isBuffer = require_isBuffer();
    var isFunction2 = require_isFunction();
    var isObject3 = require_isObject();
    var isPlainObject = require_isPlainObject();
    var isTypedArray = require_isTypedArray();
    var safeGet = require_safeGet();
    var toPlainObject = require_toPlainObject();
    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
      var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);
      if (stacked) {
        assignMergeValue(object, key, stacked);
        return;
      }
      var newValue = customizer ? customizer(objValue, srcValue, key + "", object, source, stack) : void 0;
      var isCommon = newValue === void 0;
      if (isCommon) {
        var isArr = isArray2(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
        newValue = srcValue;
        if (isArr || isBuff || isTyped) {
          if (isArray2(objValue)) {
            newValue = objValue;
          } else if (isArrayLikeObject(objValue)) {
            newValue = copyArray(objValue);
          } else if (isBuff) {
            isCommon = false;
            newValue = cloneBuffer(srcValue, true);
          } else if (isTyped) {
            isCommon = false;
            newValue = cloneTypedArray(srcValue, true);
          } else {
            newValue = [];
          }
        } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
          newValue = objValue;
          if (isArguments(objValue)) {
            newValue = toPlainObject(objValue);
          } else if (!isObject3(objValue) || isFunction2(objValue)) {
            newValue = initCloneObject(srcValue);
          }
        } else {
          isCommon = false;
        }
      }
      if (isCommon) {
        stack.set(srcValue, newValue);
        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
        stack["delete"](srcValue);
      }
      assignMergeValue(object, key, newValue);
    }
    module.exports = baseMergeDeep;
  }
});

// node_modules/lodash/_baseMerge.js
var require_baseMerge = __commonJS({
  "node_modules/lodash/_baseMerge.js"(exports, module) {
    var Stack = require_Stack();
    var assignMergeValue = require_assignMergeValue();
    var baseFor = require_baseFor();
    var baseMergeDeep = require_baseMergeDeep();
    var isObject3 = require_isObject();
    var keysIn = require_keysIn();
    var safeGet = require_safeGet();
    function baseMerge(object, source, srcIndex, customizer, stack) {
      if (object === source) {
        return;
      }
      baseFor(source, function(srcValue, key) {
        stack || (stack = new Stack());
        if (isObject3(srcValue)) {
          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
        } else {
          var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + "", object, source, stack) : void 0;
          if (newValue === void 0) {
            newValue = srcValue;
          }
          assignMergeValue(object, key, newValue);
        }
      }, keysIn);
    }
    module.exports = baseMerge;
  }
});

// node_modules/lodash/identity.js
var require_identity = __commonJS({
  "node_modules/lodash/identity.js"(exports, module) {
    function identity(value) {
      return value;
    }
    module.exports = identity;
  }
});

// node_modules/lodash/_apply.js
var require_apply = __commonJS({
  "node_modules/lodash/_apply.js"(exports, module) {
    function apply(func, thisArg, args) {
      switch (args.length) {
        case 0:
          return func.call(thisArg);
        case 1:
          return func.call(thisArg, args[0]);
        case 2:
          return func.call(thisArg, args[0], args[1]);
        case 3:
          return func.call(thisArg, args[0], args[1], args[2]);
      }
      return func.apply(thisArg, args);
    }
    module.exports = apply;
  }
});

// node_modules/lodash/_overRest.js
var require_overRest = __commonJS({
  "node_modules/lodash/_overRest.js"(exports, module) {
    var apply = require_apply();
    var nativeMax = Math.max;
    function overRest(func, start3, transform) {
      start3 = nativeMax(start3 === void 0 ? func.length - 1 : start3, 0);
      return function() {
        var args = arguments, index3 = -1, length2 = nativeMax(args.length - start3, 0), array = Array(length2);
        while (++index3 < length2) {
          array[index3] = args[start3 + index3];
        }
        index3 = -1;
        var otherArgs = Array(start3 + 1);
        while (++index3 < start3) {
          otherArgs[index3] = args[index3];
        }
        otherArgs[start3] = transform(array);
        return apply(func, this, otherArgs);
      };
    }
    module.exports = overRest;
  }
});

// node_modules/lodash/constant.js
var require_constant = __commonJS({
  "node_modules/lodash/constant.js"(exports, module) {
    function constant(value) {
      return function() {
        return value;
      };
    }
    module.exports = constant;
  }
});

// node_modules/lodash/_baseSetToString.js
var require_baseSetToString = __commonJS({
  "node_modules/lodash/_baseSetToString.js"(exports, module) {
    var constant = require_constant();
    var defineProperty = require_defineProperty();
    var identity = require_identity();
    var baseSetToString = !defineProperty ? identity : function(func, string) {
      return defineProperty(func, "toString", {
        "configurable": true,
        "enumerable": false,
        "value": constant(string),
        "writable": true
      });
    };
    module.exports = baseSetToString;
  }
});

// node_modules/lodash/_shortOut.js
var require_shortOut = __commonJS({
  "node_modules/lodash/_shortOut.js"(exports, module) {
    var HOT_COUNT = 800;
    var HOT_SPAN = 16;
    var nativeNow = Date.now;
    function shortOut(func) {
      var count = 0, lastCalled = 0;
      return function() {
        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
        lastCalled = stamp;
        if (remaining > 0) {
          if (++count >= HOT_COUNT) {
            return arguments[0];
          }
        } else {
          count = 0;
        }
        return func.apply(void 0, arguments);
      };
    }
    module.exports = shortOut;
  }
});

// node_modules/lodash/_setToString.js
var require_setToString = __commonJS({
  "node_modules/lodash/_setToString.js"(exports, module) {
    var baseSetToString = require_baseSetToString();
    var shortOut = require_shortOut();
    var setToString = shortOut(baseSetToString);
    module.exports = setToString;
  }
});

// node_modules/lodash/_baseRest.js
var require_baseRest = __commonJS({
  "node_modules/lodash/_baseRest.js"(exports, module) {
    var identity = require_identity();
    var overRest = require_overRest();
    var setToString = require_setToString();
    function baseRest(func, start3) {
      return setToString(overRest(func, start3, identity), func + "");
    }
    module.exports = baseRest;
  }
});

// node_modules/lodash/_isIterateeCall.js
var require_isIterateeCall = __commonJS({
  "node_modules/lodash/_isIterateeCall.js"(exports, module) {
    var eq = require_eq();
    var isArrayLike = require_isArrayLike();
    var isIndex = require_isIndex();
    var isObject3 = require_isObject();
    function isIterateeCall(value, index3, object) {
      if (!isObject3(object)) {
        return false;
      }
      var type = typeof index3;
      if (type == "number" ? isArrayLike(object) && isIndex(index3, object.length) : type == "string" && index3 in object) {
        return eq(object[index3], value);
      }
      return false;
    }
    module.exports = isIterateeCall;
  }
});

// node_modules/lodash/_createAssigner.js
var require_createAssigner = __commonJS({
  "node_modules/lodash/_createAssigner.js"(exports, module) {
    var baseRest = require_baseRest();
    var isIterateeCall = require_isIterateeCall();
    function createAssigner(assigner) {
      return baseRest(function(object, sources) {
        var index3 = -1, length2 = sources.length, customizer = length2 > 1 ? sources[length2 - 1] : void 0, guard = length2 > 2 ? sources[2] : void 0;
        customizer = assigner.length > 3 && typeof customizer == "function" ? (length2--, customizer) : void 0;
        if (guard && isIterateeCall(sources[0], sources[1], guard)) {
          customizer = length2 < 3 ? void 0 : customizer;
          length2 = 1;
        }
        object = Object(object);
        while (++index3 < length2) {
          var source = sources[index3];
          if (source) {
            assigner(object, source, index3, customizer);
          }
        }
        return object;
      });
    }
    module.exports = createAssigner;
  }
});

// node_modules/lodash/merge.js
var require_merge = __commonJS({
  "node_modules/lodash/merge.js"(exports, module) {
    var baseMerge = require_baseMerge();
    var createAssigner = require_createAssigner();
    var merge = createAssigner(function(object, source, srcIndex) {
      baseMerge(object, source, srcIndex);
    });
    module.exports = merge;
  }
});

// node_modules/lodash/_baseIsMatch.js
var require_baseIsMatch = __commonJS({
  "node_modules/lodash/_baseIsMatch.js"(exports, module) {
    var Stack = require_Stack();
    var baseIsEqual = require_baseIsEqual();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    function baseIsMatch(object, source, matchData, customizer) {
      var index3 = matchData.length, length2 = index3, noCustomizer = !customizer;
      if (object == null) {
        return !length2;
      }
      object = Object(object);
      while (index3--) {
        var data = matchData[index3];
        if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
          return false;
        }
      }
      while (++index3 < length2) {
        data = matchData[index3];
        var key = data[0], objValue = object[key], srcValue = data[1];
        if (noCustomizer && data[2]) {
          if (objValue === void 0 && !(key in object)) {
            return false;
          }
        } else {
          var stack = new Stack();
          if (customizer) {
            var result = customizer(objValue, srcValue, key, object, source, stack);
          }
          if (!(result === void 0 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {
            return false;
          }
        }
      }
      return true;
    }
    module.exports = baseIsMatch;
  }
});

// node_modules/lodash/_isStrictComparable.js
var require_isStrictComparable = __commonJS({
  "node_modules/lodash/_isStrictComparable.js"(exports, module) {
    var isObject3 = require_isObject();
    function isStrictComparable(value) {
      return value === value && !isObject3(value);
    }
    module.exports = isStrictComparable;
  }
});

// node_modules/lodash/_getMatchData.js
var require_getMatchData = __commonJS({
  "node_modules/lodash/_getMatchData.js"(exports, module) {
    var isStrictComparable = require_isStrictComparable();
    var keys = require_keys();
    function getMatchData(object) {
      var result = keys(object), length2 = result.length;
      while (length2--) {
        var key = result[length2], value = object[key];
        result[length2] = [key, value, isStrictComparable(value)];
      }
      return result;
    }
    module.exports = getMatchData;
  }
});

// node_modules/lodash/_matchesStrictComparable.js
var require_matchesStrictComparable = __commonJS({
  "node_modules/lodash/_matchesStrictComparable.js"(exports, module) {
    function matchesStrictComparable(key, srcValue) {
      return function(object) {
        if (object == null) {
          return false;
        }
        return object[key] === srcValue && (srcValue !== void 0 || key in Object(object));
      };
    }
    module.exports = matchesStrictComparable;
  }
});

// node_modules/lodash/_baseMatches.js
var require_baseMatches = __commonJS({
  "node_modules/lodash/_baseMatches.js"(exports, module) {
    var baseIsMatch = require_baseIsMatch();
    var getMatchData = require_getMatchData();
    var matchesStrictComparable = require_matchesStrictComparable();
    function baseMatches(source) {
      var matchData = getMatchData(source);
      if (matchData.length == 1 && matchData[0][2]) {
        return matchesStrictComparable(matchData[0][0], matchData[0][1]);
      }
      return function(object) {
        return object === source || baseIsMatch(object, source, matchData);
      };
    }
    module.exports = baseMatches;
  }
});

// node_modules/lodash/_baseHasIn.js
var require_baseHasIn = __commonJS({
  "node_modules/lodash/_baseHasIn.js"(exports, module) {
    function baseHasIn(object, key) {
      return object != null && key in Object(object);
    }
    module.exports = baseHasIn;
  }
});

// node_modules/lodash/_hasPath.js
var require_hasPath = __commonJS({
  "node_modules/lodash/_hasPath.js"(exports, module) {
    var castPath = require_castPath();
    var isArguments = require_isArguments();
    var isArray2 = require_isArray();
    var isIndex = require_isIndex();
    var isLength = require_isLength();
    var toKey = require_toKey();
    function hasPath(object, path2, hasFunc) {
      path2 = castPath(path2, object);
      var index3 = -1, length2 = path2.length, result = false;
      while (++index3 < length2) {
        var key = toKey(path2[index3]);
        if (!(result = object != null && hasFunc(object, key))) {
          break;
        }
        object = object[key];
      }
      if (result || ++index3 != length2) {
        return result;
      }
      length2 = object == null ? 0 : object.length;
      return !!length2 && isLength(length2) && isIndex(key, length2) && (isArray2(object) || isArguments(object));
    }
    module.exports = hasPath;
  }
});

// node_modules/lodash/hasIn.js
var require_hasIn = __commonJS({
  "node_modules/lodash/hasIn.js"(exports, module) {
    var baseHasIn = require_baseHasIn();
    var hasPath = require_hasPath();
    function hasIn(object, path2) {
      return object != null && hasPath(object, path2, baseHasIn);
    }
    module.exports = hasIn;
  }
});

// node_modules/lodash/_baseMatchesProperty.js
var require_baseMatchesProperty = __commonJS({
  "node_modules/lodash/_baseMatchesProperty.js"(exports, module) {
    var baseIsEqual = require_baseIsEqual();
    var get = require_get();
    var hasIn = require_hasIn();
    var isKey = require_isKey();
    var isStrictComparable = require_isStrictComparable();
    var matchesStrictComparable = require_matchesStrictComparable();
    var toKey = require_toKey();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    function baseMatchesProperty(path2, srcValue) {
      if (isKey(path2) && isStrictComparable(srcValue)) {
        return matchesStrictComparable(toKey(path2), srcValue);
      }
      return function(object) {
        var objValue = get(object, path2);
        return objValue === void 0 && objValue === srcValue ? hasIn(object, path2) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
      };
    }
    module.exports = baseMatchesProperty;
  }
});

// node_modules/lodash/_baseProperty.js
var require_baseProperty = __commonJS({
  "node_modules/lodash/_baseProperty.js"(exports, module) {
    function baseProperty(key) {
      return function(object) {
        return object == null ? void 0 : object[key];
      };
    }
    module.exports = baseProperty;
  }
});

// node_modules/lodash/_basePropertyDeep.js
var require_basePropertyDeep = __commonJS({
  "node_modules/lodash/_basePropertyDeep.js"(exports, module) {
    var baseGet = require_baseGet();
    function basePropertyDeep(path2) {
      return function(object) {
        return baseGet(object, path2);
      };
    }
    module.exports = basePropertyDeep;
  }
});

// node_modules/lodash/property.js
var require_property = __commonJS({
  "node_modules/lodash/property.js"(exports, module) {
    var baseProperty = require_baseProperty();
    var basePropertyDeep = require_basePropertyDeep();
    var isKey = require_isKey();
    var toKey = require_toKey();
    function property(path2) {
      return isKey(path2) ? baseProperty(toKey(path2)) : basePropertyDeep(path2);
    }
    module.exports = property;
  }
});

// node_modules/lodash/_baseIteratee.js
var require_baseIteratee = __commonJS({
  "node_modules/lodash/_baseIteratee.js"(exports, module) {
    var baseMatches = require_baseMatches();
    var baseMatchesProperty = require_baseMatchesProperty();
    var identity = require_identity();
    var isArray2 = require_isArray();
    var property = require_property();
    function baseIteratee(value) {
      if (typeof value == "function") {
        return value;
      }
      if (value == null) {
        return identity;
      }
      if (typeof value == "object") {
        return isArray2(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
      }
      return property(value);
    }
    module.exports = baseIteratee;
  }
});

// node_modules/lodash/_baseSet.js
var require_baseSet = __commonJS({
  "node_modules/lodash/_baseSet.js"(exports, module) {
    var assignValue = require_assignValue();
    var castPath = require_castPath();
    var isIndex = require_isIndex();
    var isObject3 = require_isObject();
    var toKey = require_toKey();
    function baseSet(object, path2, value, customizer) {
      if (!isObject3(object)) {
        return object;
      }
      path2 = castPath(path2, object);
      var index3 = -1, length2 = path2.length, lastIndex = length2 - 1, nested = object;
      while (nested != null && ++index3 < length2) {
        var key = toKey(path2[index3]), newValue = value;
        if (key === "__proto__" || key === "constructor" || key === "prototype") {
          return object;
        }
        if (index3 != lastIndex) {
          var objValue = nested[key];
          newValue = customizer ? customizer(objValue, key, nested) : void 0;
          if (newValue === void 0) {
            newValue = isObject3(objValue) ? objValue : isIndex(path2[index3 + 1]) ? [] : {};
          }
        }
        assignValue(nested, key, newValue);
        nested = nested[key];
      }
      return object;
    }
    module.exports = baseSet;
  }
});

// node_modules/lodash/_basePickBy.js
var require_basePickBy = __commonJS({
  "node_modules/lodash/_basePickBy.js"(exports, module) {
    var baseGet = require_baseGet();
    var baseSet = require_baseSet();
    var castPath = require_castPath();
    function basePickBy(object, paths, predicate) {
      var index3 = -1, length2 = paths.length, result = {};
      while (++index3 < length2) {
        var path2 = paths[index3], value = baseGet(object, path2);
        if (predicate(value, path2)) {
          baseSet(result, castPath(path2, object), value);
        }
      }
      return result;
    }
    module.exports = basePickBy;
  }
});

// node_modules/lodash/pickBy.js
var require_pickBy = __commonJS({
  "node_modules/lodash/pickBy.js"(exports, module) {
    var arrayMap = require_arrayMap();
    var baseIteratee = require_baseIteratee();
    var basePickBy = require_basePickBy();
    var getAllKeysIn = require_getAllKeysIn();
    function pickBy(object, predicate) {
      if (object == null) {
        return {};
      }
      var props = arrayMap(getAllKeysIn(object), function(prop) {
        return [prop];
      });
      predicate = baseIteratee(predicate);
      return basePickBy(object, props, function(value, path2) {
        return predicate(value, path2[0]);
      });
    }
    module.exports = pickBy;
  }
});

// node_modules/lower-case/dist.es2015/index.js
function lowerCase(str) {
  return str.toLowerCase();
}
var init_dist = __esm({
  "node_modules/lower-case/dist.es2015/index.js"() {
  }
});

// node_modules/no-case/dist.es2015/index.js
function noCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  var _a3 = options.splitRegexp, splitRegexp = _a3 === void 0 ? DEFAULT_SPLIT_REGEXP : _a3, _b = options.stripRegexp, stripRegexp = _b === void 0 ? DEFAULT_STRIP_REGEXP : _b, _c = options.transform, transform = _c === void 0 ? lowerCase : _c, _d = options.delimiter, delimiter = _d === void 0 ? " " : _d;
  var result = replace(replace(input, splitRegexp, "$1\0$2"), stripRegexp, "\0");
  var start3 = 0;
  var end = result.length;
  while (result.charAt(start3) === "\0")
    start3++;
  while (result.charAt(end - 1) === "\0")
    end--;
  return result.slice(start3, end).split("\0").map(transform).join(delimiter);
}
function replace(input, re, value) {
  if (re instanceof RegExp)
    return input.replace(re, value);
  return re.reduce(function(input2, re2) {
    return input2.replace(re2, value);
  }, input);
}
var DEFAULT_SPLIT_REGEXP, DEFAULT_STRIP_REGEXP;
var init_dist2 = __esm({
  "node_modules/no-case/dist.es2015/index.js"() {
    init_dist();
    DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];
    DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;
  }
});

// node_modules/pascal-case/dist.es2015/index.js
function pascalCaseTransform(input, index3) {
  var firstChar = input.charAt(0);
  var lowerChars = input.substr(1).toLowerCase();
  if (index3 > 0 && firstChar >= "0" && firstChar <= "9") {
    return "_" + firstChar + lowerChars;
  }
  return "" + firstChar.toUpperCase() + lowerChars;
}
function pascalCaseTransformMerge(input) {
  return input.charAt(0).toUpperCase() + input.slice(1).toLowerCase();
}
function pascalCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return noCase(input, __assign({ delimiter: "", transform: pascalCaseTransform }, options));
}
var init_dist3 = __esm({
  "node_modules/pascal-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist2();
  }
});

// node_modules/camel-case/dist.es2015/index.js
function camelCaseTransform(input, index3) {
  if (index3 === 0)
    return input.toLowerCase();
  return pascalCaseTransform(input, index3);
}
function camelCaseTransformMerge(input, index3) {
  if (index3 === 0)
    return input.toLowerCase();
  return pascalCaseTransformMerge(input);
}
function camelCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return pascalCase(input, __assign({ transform: camelCaseTransform }, options));
}
var init_dist4 = __esm({
  "node_modules/camel-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist3();
  }
});

// node_modules/upper-case-first/dist.es2015/index.js
function upperCaseFirst(input) {
  return input.charAt(0).toUpperCase() + input.substr(1);
}
var init_dist5 = __esm({
  "node_modules/upper-case-first/dist.es2015/index.js"() {
  }
});

// node_modules/capital-case/dist.es2015/index.js
function capitalCaseTransform(input) {
  return upperCaseFirst(input.toLowerCase());
}
function capitalCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return noCase(input, __assign({ delimiter: " ", transform: capitalCaseTransform }, options));
}
var init_dist6 = __esm({
  "node_modules/capital-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist2();
    init_dist5();
  }
});

// node_modules/upper-case/dist.es2015/index.js
function upperCase(str) {
  return str.toUpperCase();
}
var init_dist7 = __esm({
  "node_modules/upper-case/dist.es2015/index.js"() {
  }
});

// node_modules/constant-case/dist.es2015/index.js
function constantCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return noCase(input, __assign({ delimiter: "_", transform: upperCase }, options));
}
var init_dist8 = __esm({
  "node_modules/constant-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist2();
    init_dist7();
  }
});

// node_modules/dot-case/dist.es2015/index.js
function dotCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return noCase(input, __assign({ delimiter: "." }, options));
}
var init_dist9 = __esm({
  "node_modules/dot-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist2();
  }
});

// node_modules/header-case/dist.es2015/index.js
function headerCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return capitalCase(input, __assign({ delimiter: "-" }, options));
}
var init_dist10 = __esm({
  "node_modules/header-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist6();
  }
});

// node_modules/param-case/dist.es2015/index.js
function paramCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return dotCase(input, __assign({ delimiter: "-" }, options));
}
var init_dist11 = __esm({
  "node_modules/param-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist9();
  }
});

// node_modules/path-case/dist.es2015/index.js
function pathCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return dotCase(input, __assign({ delimiter: "/" }, options));
}
var init_dist12 = __esm({
  "node_modules/path-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist9();
  }
});

// node_modules/sentence-case/dist.es2015/index.js
function sentenceCaseTransform(input, index3) {
  var result = input.toLowerCase();
  if (index3 === 0)
    return upperCaseFirst(result);
  return result;
}
function sentenceCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return noCase(input, __assign({ delimiter: " ", transform: sentenceCaseTransform }, options));
}
var init_dist13 = __esm({
  "node_modules/sentence-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist2();
    init_dist5();
  }
});

// node_modules/snake-case/dist.es2015/index.js
function snakeCase(input, options) {
  if (options === void 0) {
    options = {};
  }
  return dotCase(input, __assign({ delimiter: "_" }, options));
}
var init_dist14 = __esm({
  "node_modules/snake-case/dist.es2015/index.js"() {
    init_tslib_es6();
    init_dist9();
  }
});

// node_modules/change-case/dist.es2015/index.js
var dist_exports = {};
__export(dist_exports, {
  camelCase: () => camelCase,
  camelCaseTransform: () => camelCaseTransform,
  camelCaseTransformMerge: () => camelCaseTransformMerge,
  capitalCase: () => capitalCase,
  capitalCaseTransform: () => capitalCaseTransform,
  constantCase: () => constantCase,
  dotCase: () => dotCase,
  headerCase: () => headerCase,
  noCase: () => noCase,
  paramCase: () => paramCase,
  pascalCase: () => pascalCase,
  pascalCaseTransform: () => pascalCaseTransform,
  pascalCaseTransformMerge: () => pascalCaseTransformMerge,
  pathCase: () => pathCase,
  sentenceCase: () => sentenceCase,
  sentenceCaseTransform: () => sentenceCaseTransform,
  snakeCase: () => snakeCase
});
var init_dist15 = __esm({
  "node_modules/change-case/dist.es2015/index.js"() {
    init_dist4();
    init_dist6();
    init_dist8();
    init_dist9();
    init_dist10();
    init_dist2();
    init_dist11();
    init_dist3();
    init_dist12();
    init_dist13();
    init_dist14();
  }
});

// node_modules/style-dictionary/lib/utils/es6_.js
var require_es6 = __commonJS({
  "node_modules/style-dictionary/lib/utils/es6_.js"(exports, module) {
    var ChangeCase = (init_dist15(), __toCommonJS(dist_exports));
    var reduce = function(obj, f21, accumulator_init) {
      return Object.keys(obj || {}).reduce((accumulator, key) => {
        let value = obj[key];
        return f21(accumulator, value, key, obj);
      }, accumulator_init);
    };
    var forEach = function(obj, f21) {
      Object.keys(obj || {}).forEach((key) => {
        let value = obj[key];
        f21(value, key);
      });
    };
    var clone = function(object) {
      return Object.assign(new object.constructor(), object);
    };
    var cloneDeep = function(obj) {
      if (obj === null || obj === void 0 || typeof obj !== "object") {
        return obj;
      }
      if (obj instanceof Array) {
        return obj.reduce((arr, item, i67) => {
          arr[i67] = cloneDeep(item);
          return arr;
        }, []);
      }
      if (obj instanceof Object) {
        return Object.keys(obj || {}).reduce((cpObj, key) => {
          cpObj[key] = cloneDeep(obj[key]);
          return cpObj;
        }, {});
      }
    };
    var isObject3 = function(value) {
      const type = typeof value;
      return value != null && (type === "object" || type === "function");
    };
    var isString4 = function(obj) {
      return typeof obj === "string" || obj instanceof String;
    };
    var isArray2 = function(obj) {
      return Array.isArray(obj);
    };
    var isEmpty2 = function(obj) {
      return [Object, Array].includes((obj || {}).constructor) && !Object.entries(obj || {}).length;
    };
    function isPlainObject(value) {
      if (typeof value !== "object" || value === null || Object.prototype.toString.call(value) !== "[object Object]") {
        return false;
      }
      if (Object.getPrototypeOf(value) === null) {
        return true;
      }
      let proto = value;
      while (Object.getPrototypeOf(proto) !== null) {
        proto = Object.getPrototypeOf(proto);
      }
      return Object.getPrototypeOf(value) === proto;
    }
    var filter = function(arr, filter2) {
      if (typeof filter2 !== "function") {
        throw "filter is not a function";
      }
      if (typeof arr === "undefined") {
        return [];
      }
      return arr.filter(filter2);
    };
    var assign4 = function() {
      let args = Array.prototype.slice.call(arguments);
      args.unshift({});
      return Object.assign(...args);
    };
    var pull = function(arr, ...removeList) {
      var removeSet = new Set(removeList);
      for (let i67 = arr.length - 1; i67 >= 0; i67--) {
        if (removeSet.has(arr[i67])) {
          arr.splice(i67, 1);
        }
      }
    };
    var unique = function(arr) {
      return [...new Set(arr)];
    };
    var upperFirst = function(str) {
      return str ? str[0].toUpperCase() + str.substr(1) : "";
    };
    var matchFn = function(inputObj, testObj) {
      if (isObject3(testObj)) {
        return Object.keys(testObj).every((key) => matchFn(inputObj[key], testObj[key]));
      } else {
        return inputObj == testObj;
      }
    };
    var matches = function(matchObj) {
      let cloneObj = cloneDeep(matchObj);
      let matchesFn = (inputObj) => matchFn(inputObj, cloneObj);
      return matchesFn;
    };
    var DEFAULT_OPTIONS = {
      transform: ChangeCase.camelCaseTransformMerge
    };
    var changeDefaultCaseTransform = function(caseFunction, default_options) {
      return (caseToChange, options) => caseFunction(caseToChange, Object.assign({}, DEFAULT_OPTIONS, default_options, options));
    };
    module.exports = {
      each: forEach,
      forEach,
      forIn: forEach,
      keys: Object.keys,
      clone,
      cloneDeep,
      extend: Object.assign,
      isString: isString4,
      isArray: isArray2,
      isObject: isObject3,
      isPlainObject,
      isEmpty: isEmpty2,
      filter,
      reduce,
      assign: assign4,
      upperFirst,
      camelCase: changeDefaultCaseTransform(ChangeCase.camelCase),
      snakeCase: ChangeCase.snakeCase,
      kebabCase: ChangeCase.paramCase,
      pull,
      matches,
      unique
    };
  }
});

// node_modules/style-dictionary/lib/utils/deepExtend.js
var require_deepExtend = __commonJS({
  "node_modules/style-dictionary/lib/utils/deepExtend.js"(exports, module) {
    var _3 = require_es6();
    function deepExtend(objects, collision, path2) {
      if (objects == null)
        return {};
      var src, copyIsArray, copy, name, options, clone, target = objects[0] || {}, i67 = 1, length2 = objects.length;
      path2 = path2 || [];
      if (typeof target !== "object") {
        target = {};
      }
      for (; i67 < length2; i67++) {
        if ((options = objects[i67]) != null) {
          for (name in options) {
            if (!options.hasOwnProperty(name))
              continue;
            if (name === "__proto__")
              continue;
            src = target[name];
            copy = options[name];
            if (target === copy) {
              continue;
            }
            if (copy && (_3.isPlainObject(copy) || (copyIsArray = _3.isArray(copy)))) {
              if (copyIsArray) {
                copyIsArray = false;
                clone = src && _3.isArray(src) ? src : [];
              } else {
                clone = src && _3.isPlainObject(src) ? src : {};
              }
              var nextPath = path2.slice(0);
              nextPath.push(name);
              target[name] = deepExtend([clone, copy], collision, nextPath);
            } else if (copy !== void 0) {
              if (src != null && typeof collision == "function") {
                collision({ target, copy: options, path: path2, key: name });
              }
              target[name] = copy;
            }
          }
        }
      }
      return target;
    }
    module.exports = deepExtend;
  }
});

// node_modules/style-dictionary/lib/utils/flattenProperties.js
var require_flattenProperties = __commonJS({
  "node_modules/style-dictionary/lib/utils/flattenProperties.js"(exports, module) {
    var _3 = require_es6();
    function flattenProperties(properties, to_ret) {
      to_ret = to_ret || [];
      for (var name in properties) {
        if (properties.hasOwnProperty(name)) {
          if (_3.isPlainObject(properties[name]) && "value" in properties[name]) {
            to_ret.push(properties[name]);
          } else if (_3.isPlainObject(properties[name])) {
            flattenProperties(properties[name], to_ret);
          }
        }
      }
      return to_ret;
    }
    module.exports = flattenProperties;
  }
});

// node_modules/lodash/_baseHas.js
var require_baseHas = __commonJS({
  "node_modules/lodash/_baseHas.js"(exports, module) {
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    function baseHas(object, key) {
      return object != null && hasOwnProperty.call(object, key);
    }
    module.exports = baseHas;
  }
});

// node_modules/lodash/has.js
var require_has = __commonJS({
  "node_modules/lodash/has.js"(exports, module) {
    var baseHas = require_baseHas();
    var hasPath = require_hasPath();
    function has2(object, path2) {
      return object != null && hasPath(object, path2, baseHas);
    }
    module.exports = has2;
  }
});

// node_modules/lodash/_arrayReduce.js
var require_arrayReduce = __commonJS({
  "node_modules/lodash/_arrayReduce.js"(exports, module) {
    function arrayReduce(array, iteratee, accumulator, initAccum) {
      var index3 = -1, length2 = array == null ? 0 : array.length;
      if (initAccum && length2) {
        accumulator = array[++index3];
      }
      while (++index3 < length2) {
        accumulator = iteratee(accumulator, array[index3], index3, array);
      }
      return accumulator;
    }
    module.exports = arrayReduce;
  }
});

// node_modules/lodash/_basePropertyOf.js
var require_basePropertyOf = __commonJS({
  "node_modules/lodash/_basePropertyOf.js"(exports, module) {
    function basePropertyOf(object) {
      return function(key) {
        return object == null ? void 0 : object[key];
      };
    }
    module.exports = basePropertyOf;
  }
});

// node_modules/lodash/_deburrLetter.js
var require_deburrLetter = __commonJS({
  "node_modules/lodash/_deburrLetter.js"(exports, module) {
    var basePropertyOf = require_basePropertyOf();
    var deburredLetters = {
      "\xC0": "A",
      "\xC1": "A",
      "\xC2": "A",
      "\xC3": "A",
      "\xC4": "A",
      "\xC5": "A",
      "\xE0": "a",
      "\xE1": "a",
      "\xE2": "a",
      "\xE3": "a",
      "\xE4": "a",
      "\xE5": "a",
      "\xC7": "C",
      "\xE7": "c",
      "\xD0": "D",
      "\xF0": "d",
      "\xC8": "E",
      "\xC9": "E",
      "\xCA": "E",
      "\xCB": "E",
      "\xE8": "e",
      "\xE9": "e",
      "\xEA": "e",
      "\xEB": "e",
      "\xCC": "I",
      "\xCD": "I",
      "\xCE": "I",
      "\xCF": "I",
      "\xEC": "i",
      "\xED": "i",
      "\xEE": "i",
      "\xEF": "i",
      "\xD1": "N",
      "\xF1": "n",
      "\xD2": "O",
      "\xD3": "O",
      "\xD4": "O",
      "\xD5": "O",
      "\xD6": "O",
      "\xD8": "O",
      "\xF2": "o",
      "\xF3": "o",
      "\xF4": "o",
      "\xF5": "o",
      "\xF6": "o",
      "\xF8": "o",
      "\xD9": "U",
      "\xDA": "U",
      "\xDB": "U",
      "\xDC": "U",
      "\xF9": "u",
      "\xFA": "u",
      "\xFB": "u",
      "\xFC": "u",
      "\xDD": "Y",
      "\xFD": "y",
      "\xFF": "y",
      "\xC6": "Ae",
      "\xE6": "ae",
      "\xDE": "Th",
      "\xFE": "th",
      "\xDF": "ss",
      "\u0100": "A",
      "\u0102": "A",
      "\u0104": "A",
      "\u0101": "a",
      "\u0103": "a",
      "\u0105": "a",
      "\u0106": "C",
      "\u0108": "C",
      "\u010A": "C",
      "\u010C": "C",
      "\u0107": "c",
      "\u0109": "c",
      "\u010B": "c",
      "\u010D": "c",
      "\u010E": "D",
      "\u0110": "D",
      "\u010F": "d",
      "\u0111": "d",
      "\u0112": "E",
      "\u0114": "E",
      "\u0116": "E",
      "\u0118": "E",
      "\u011A": "E",
      "\u0113": "e",
      "\u0115": "e",
      "\u0117": "e",
      "\u0119": "e",
      "\u011B": "e",
      "\u011C": "G",
      "\u011E": "G",
      "\u0120": "G",
      "\u0122": "G",
      "\u011D": "g",
      "\u011F": "g",
      "\u0121": "g",
      "\u0123": "g",
      "\u0124": "H",
      "\u0126": "H",
      "\u0125": "h",
      "\u0127": "h",
      "\u0128": "I",
      "\u012A": "I",
      "\u012C": "I",
      "\u012E": "I",
      "\u0130": "I",
      "\u0129": "i",
      "\u012B": "i",
      "\u012D": "i",
      "\u012F": "i",
      "\u0131": "i",
      "\u0134": "J",
      "\u0135": "j",
      "\u0136": "K",
      "\u0137": "k",
      "\u0138": "k",
      "\u0139": "L",
      "\u013B": "L",
      "\u013D": "L",
      "\u013F": "L",
      "\u0141": "L",
      "\u013A": "l",
      "\u013C": "l",
      "\u013E": "l",
      "\u0140": "l",
      "\u0142": "l",
      "\u0143": "N",
      "\u0145": "N",
      "\u0147": "N",
      "\u014A": "N",
      "\u0144": "n",
      "\u0146": "n",
      "\u0148": "n",
      "\u014B": "n",
      "\u014C": "O",
      "\u014E": "O",
      "\u0150": "O",
      "\u014D": "o",
      "\u014F": "o",
      "\u0151": "o",
      "\u0154": "R",
      "\u0156": "R",
      "\u0158": "R",
      "\u0155": "r",
      "\u0157": "r",
      "\u0159": "r",
      "\u015A": "S",
      "\u015C": "S",
      "\u015E": "S",
      "\u0160": "S",
      "\u015B": "s",
      "\u015D": "s",
      "\u015F": "s",
      "\u0161": "s",
      "\u0162": "T",
      "\u0164": "T",
      "\u0166": "T",
      "\u0163": "t",
      "\u0165": "t",
      "\u0167": "t",
      "\u0168": "U",
      "\u016A": "U",
      "\u016C": "U",
      "\u016E": "U",
      "\u0170": "U",
      "\u0172": "U",
      "\u0169": "u",
      "\u016B": "u",
      "\u016D": "u",
      "\u016F": "u",
      "\u0171": "u",
      "\u0173": "u",
      "\u0174": "W",
      "\u0175": "w",
      "\u0176": "Y",
      "\u0177": "y",
      "\u0178": "Y",
      "\u0179": "Z",
      "\u017B": "Z",
      "\u017D": "Z",
      "\u017A": "z",
      "\u017C": "z",
      "\u017E": "z",
      "\u0132": "IJ",
      "\u0133": "ij",
      "\u0152": "Oe",
      "\u0153": "oe",
      "\u0149": "'n",
      "\u017F": "s"
    };
    var deburrLetter = basePropertyOf(deburredLetters);
    module.exports = deburrLetter;
  }
});

// node_modules/lodash/deburr.js
var require_deburr = __commonJS({
  "node_modules/lodash/deburr.js"(exports, module) {
    var deburrLetter = require_deburrLetter();
    var toString = require_toString();
    var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
    var rsComboMarksRange = "\\u0300-\\u036f";
    var reComboHalfMarksRange = "\\ufe20-\\ufe2f";
    var rsComboSymbolsRange = "\\u20d0-\\u20ff";
    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;
    var rsCombo = "[" + rsComboRange + "]";
    var reComboMark = RegExp(rsCombo, "g");
    function deburr(string) {
      string = toString(string);
      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, "");
    }
    module.exports = deburr;
  }
});

// node_modules/lodash/_asciiWords.js
var require_asciiWords = __commonJS({
  "node_modules/lodash/_asciiWords.js"(exports, module) {
    var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
    function asciiWords(string) {
      return string.match(reAsciiWord) || [];
    }
    module.exports = asciiWords;
  }
});

// node_modules/lodash/_hasUnicodeWord.js
var require_hasUnicodeWord = __commonJS({
  "node_modules/lodash/_hasUnicodeWord.js"(exports, module) {
    var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
    function hasUnicodeWord(string) {
      return reHasUnicodeWord.test(string);
    }
    module.exports = hasUnicodeWord;
  }
});

// node_modules/lodash/_unicodeWords.js
var require_unicodeWords = __commonJS({
  "node_modules/lodash/_unicodeWords.js"(exports, module) {
    var rsAstralRange = "\\ud800-\\udfff";
    var rsComboMarksRange = "\\u0300-\\u036f";
    var reComboHalfMarksRange = "\\ufe20-\\ufe2f";
    var rsComboSymbolsRange = "\\u20d0-\\u20ff";
    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;
    var rsDingbatRange = "\\u2700-\\u27bf";
    var rsLowerRange = "a-z\\xdf-\\xf6\\xf8-\\xff";
    var rsMathOpRange = "\\xac\\xb1\\xd7\\xf7";
    var rsNonCharRange = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf";
    var rsPunctuationRange = "\\u2000-\\u206f";
    var rsSpaceRange = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000";
    var rsUpperRange = "A-Z\\xc0-\\xd6\\xd8-\\xde";
    var rsVarRange = "\\ufe0e\\ufe0f";
    var rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;
    var rsApos = "['\u2019]";
    var rsBreak = "[" + rsBreakRange + "]";
    var rsCombo = "[" + rsComboRange + "]";
    var rsDigits = "\\d+";
    var rsDingbat = "[" + rsDingbatRange + "]";
    var rsLower = "[" + rsLowerRange + "]";
    var rsMisc = "[^" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + "]";
    var rsFitz = "\\ud83c[\\udffb-\\udfff]";
    var rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")";
    var rsNonAstral = "[^" + rsAstralRange + "]";
    var rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}";
    var rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]";
    var rsUpper = "[" + rsUpperRange + "]";
    var rsZWJ = "\\u200d";
    var rsMiscLower = "(?:" + rsLower + "|" + rsMisc + ")";
    var rsMiscUpper = "(?:" + rsUpper + "|" + rsMisc + ")";
    var rsOptContrLower = "(?:" + rsApos + "(?:d|ll|m|re|s|t|ve))?";
    var rsOptContrUpper = "(?:" + rsApos + "(?:D|LL|M|RE|S|T|VE))?";
    var reOptMod = rsModifier + "?";
    var rsOptVar = "[" + rsVarRange + "]?";
    var rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*";
    var rsOrdLower = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])";
    var rsOrdUpper = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";
    var rsSeq = rsOptVar + reOptMod + rsOptJoin;
    var rsEmoji = "(?:" + [rsDingbat, rsRegional, rsSurrPair].join("|") + ")" + rsSeq;
    var reUnicodeWord = RegExp([
      rsUpper + "?" + rsLower + "+" + rsOptContrLower + "(?=" + [rsBreak, rsUpper, "$"].join("|") + ")",
      rsMiscUpper + "+" + rsOptContrUpper + "(?=" + [rsBreak, rsUpper + rsMiscLower, "$"].join("|") + ")",
      rsUpper + "?" + rsMiscLower + "+" + rsOptContrLower,
      rsUpper + "+" + rsOptContrUpper,
      rsOrdUpper,
      rsOrdLower,
      rsDigits,
      rsEmoji
    ].join("|"), "g");
    function unicodeWords(string) {
      return string.match(reUnicodeWord) || [];
    }
    module.exports = unicodeWords;
  }
});

// node_modules/lodash/words.js
var require_words = __commonJS({
  "node_modules/lodash/words.js"(exports, module) {
    var asciiWords = require_asciiWords();
    var hasUnicodeWord = require_hasUnicodeWord();
    var toString = require_toString();
    var unicodeWords = require_unicodeWords();
    function words(string, pattern, guard) {
      string = toString(string);
      pattern = guard ? void 0 : pattern;
      if (pattern === void 0) {
        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
      }
      return string.match(pattern) || [];
    }
    module.exports = words;
  }
});

// node_modules/lodash/_createCompounder.js
var require_createCompounder = __commonJS({
  "node_modules/lodash/_createCompounder.js"(exports, module) {
    var arrayReduce = require_arrayReduce();
    var deburr = require_deburr();
    var words = require_words();
    var rsApos = "['\u2019]";
    var reApos = RegExp(rsApos, "g");
    function createCompounder(callback) {
      return function(string) {
        return arrayReduce(words(deburr(string).replace(reApos, "")), callback, "");
      };
    }
    module.exports = createCompounder;
  }
});

// node_modules/lodash/kebabCase.js
var require_kebabCase = __commonJS({
  "node_modules/lodash/kebabCase.js"(exports, module) {
    var createCompounder = require_createCompounder();
    var kebabCase = createCompounder(function(result, word, index3) {
      return result + (index3 ? "-" : "") + word.toLowerCase();
    });
    module.exports = kebabCase;
  }
});

// node_modules/style-dictionary/lib/utils/references/defaults.js
var require_defaults = __commonJS({
  "node_modules/style-dictionary/lib/utils/references/defaults.js"(exports, module) {
    var defaults = {
      opening_character: "{",
      closing_character: "}",
      separator: "."
    };
    module.exports = defaults;
  }
});

// node_modules/style-dictionary/lib/utils/references/createReferenceRegex.js
var require_createReferenceRegex = __commonJS({
  "node_modules/style-dictionary/lib/utils/references/createReferenceRegex.js"(exports, module) {
    var defaults = require_defaults();
    function createReferenceRegex(opts = {}) {
      const options = Object.assign({}, defaults, opts);
      return new RegExp(
        "\\" + options.opening_character + "([^" + options.closing_character + "]+)\\" + options.closing_character,
        "g"
      );
    }
    module.exports = createReferenceRegex;
  }
});

// node_modules/style-dictionary/lib/utils/references/usesReference.js
var require_usesReference = __commonJS({
  "node_modules/style-dictionary/lib/utils/references/usesReference.js"(exports, module) {
    var createRegex = require_createReferenceRegex();
    function usesReference(value, regexOrOptions = {}) {
      const regex = regexOrOptions instanceof RegExp ? regexOrOptions : createRegex(regexOrOptions);
      if (typeof value === "string") {
        return regex.test(value);
      }
      if (typeof value === "object") {
        let hasReference = false;
        for (const key in value) {
          if (value.hasOwnProperty(key)) {
            const element = value[key];
            let reference = usesReference(element, regexOrOptions);
            if (reference) {
              hasReference = true;
              break;
            }
          }
        }
        return hasReference;
      }
      return false;
    }
    module.exports = usesReference;
  }
});

// node_modules/lodash/isNil.js
var require_isNil = __commonJS({
  "node_modules/lodash/isNil.js"(exports, module) {
    function isNil2(value) {
      return value == null;
    }
    module.exports = isNil2;
  }
});

// node_modules/lodash/isUndefined.js
var require_isUndefined = __commonJS({
  "node_modules/lodash/isUndefined.js"(exports, module) {
    function isUndefined2(value) {
      return value === void 0;
    }
    module.exports = isUndefined2;
  }
});

// node_modules/classnames/index.js
var require_classnames = __commonJS({
  "node_modules/classnames/index.js"(exports, module) {
    (function() {
      "use strict";
      var hasOwn = {}.hasOwnProperty;
      function classNames() {
        var classes = [];
        for (var i67 = 0; i67 < arguments.length; i67++) {
          var arg = arguments[i67];
          if (!arg)
            continue;
          var argType = typeof arg;
          if (argType === "string" || argType === "number") {
            classes.push(arg);
          } else if (Array.isArray(arg)) {
            if (arg.length) {
              var inner = classNames.apply(null, arg);
              if (inner) {
                classes.push(inner);
              }
            }
          } else if (argType === "object") {
            if (arg.toString === Object.prototype.toString) {
              for (var key in arg) {
                if (hasOwn.call(arg, key) && arg[key]) {
                  classes.push(key);
                }
              }
            } else {
              classes.push(arg.toString());
            }
          }
        }
        return classes.join(" ");
      }
      if (typeof module !== "undefined" && module.exports) {
        classNames.default = classNames;
        module.exports = classNames;
      } else if (typeof define === "function" && typeof define.amd === "object" && define.amd) {
        define("classnames", [], function() {
          return classNames;
        });
      } else {
        window.classNames = classNames;
      }
    })();
  }
});

// node_modules/qrcode/lib/can-promise.js
var require_can_promise = __commonJS({
  "node_modules/qrcode/lib/can-promise.js"(exports, module) {
    module.exports = function() {
      return typeof Promise === "function" && Promise.prototype && Promise.prototype.then;
    };
  }
});

// node_modules/qrcode/lib/core/utils.js
var require_utils2 = __commonJS({
  "node_modules/qrcode/lib/core/utils.js"(exports) {
    var toSJISFunction;
    var CODEWORDS_COUNT = [
      0,
      26,
      44,
      70,
      100,
      134,
      172,
      196,
      242,
      292,
      346,
      404,
      466,
      532,
      581,
      655,
      733,
      815,
      901,
      991,
      1085,
      1156,
      1258,
      1364,
      1474,
      1588,
      1706,
      1828,
      1921,
      2051,
      2185,
      2323,
      2465,
      2611,
      2761,
      2876,
      3034,
      3196,
      3362,
      3532,
      3706
    ];
    exports.getSymbolSize = function getSymbolSize(version) {
      if (!version)
        throw new Error('"version" cannot be null or undefined');
      if (version < 1 || version > 40)
        throw new Error('"version" should be in range from 1 to 40');
      return version * 4 + 17;
    };
    exports.getSymbolTotalCodewords = function getSymbolTotalCodewords(version) {
      return CODEWORDS_COUNT[version];
    };
    exports.getBCHDigit = function(data) {
      let digit = 0;
      while (data !== 0) {
        digit++;
        data >>>= 1;
      }
      return digit;
    };
    exports.setToSJISFunction = function setToSJISFunction(f21) {
      if (typeof f21 !== "function") {
        throw new Error('"toSJISFunc" is not a valid function.');
      }
      toSJISFunction = f21;
    };
    exports.isKanjiModeEnabled = function() {
      return typeof toSJISFunction !== "undefined";
    };
    exports.toSJIS = function toSJIS(kanji) {
      return toSJISFunction(kanji);
    };
  }
});

// node_modules/qrcode/lib/core/error-correction-level.js
var require_error_correction_level = __commonJS({
  "node_modules/qrcode/lib/core/error-correction-level.js"(exports) {
    exports.L = { bit: 1 };
    exports.M = { bit: 0 };
    exports.Q = { bit: 3 };
    exports.H = { bit: 2 };
    function fromString(string) {
      if (typeof string !== "string") {
        throw new Error("Param is not a string");
      }
      const lcStr = string.toLowerCase();
      switch (lcStr) {
        case "l":
        case "low":
          return exports.L;
        case "m":
        case "medium":
          return exports.M;
        case "q":
        case "quartile":
          return exports.Q;
        case "h":
        case "high":
          return exports.H;
        default:
          throw new Error("Unknown EC Level: " + string);
      }
    }
    exports.isValid = function isValid(level) {
      return level && typeof level.bit !== "undefined" && level.bit >= 0 && level.bit < 4;
    };
    exports.from = function from(value, defaultValue) {
      if (exports.isValid(value)) {
        return value;
      }
      try {
        return fromString(value);
      } catch (e142) {
        return defaultValue;
      }
    };
  }
});

// node_modules/qrcode/lib/core/bit-buffer.js
var require_bit_buffer = __commonJS({
  "node_modules/qrcode/lib/core/bit-buffer.js"(exports, module) {
    function BitBuffer() {
      this.buffer = [];
      this.length = 0;
    }
    BitBuffer.prototype = {
      get: function(index3) {
        const bufIndex = Math.floor(index3 / 8);
        return (this.buffer[bufIndex] >>> 7 - index3 % 8 & 1) === 1;
      },
      put: function(num, length2) {
        for (let i67 = 0; i67 < length2; i67++) {
          this.putBit((num >>> length2 - i67 - 1 & 1) === 1);
        }
      },
      getLengthInBits: function() {
        return this.length;
      },
      putBit: function(bit) {
        const bufIndex = Math.floor(this.length / 8);
        if (this.buffer.length <= bufIndex) {
          this.buffer.push(0);
        }
        if (bit) {
          this.buffer[bufIndex] |= 128 >>> this.length % 8;
        }
        this.length++;
      }
    };
    module.exports = BitBuffer;
  }
});

// node_modules/qrcode/lib/core/bit-matrix.js
var require_bit_matrix = __commonJS({
  "node_modules/qrcode/lib/core/bit-matrix.js"(exports, module) {
    function BitMatrix(size2) {
      if (!size2 || size2 < 1) {
        throw new Error("BitMatrix size must be defined and greater than 0");
      }
      this.size = size2;
      this.data = new Uint8Array(size2 * size2);
      this.reservedBit = new Uint8Array(size2 * size2);
    }
    BitMatrix.prototype.set = function(row, col, value, reserved) {
      const index3 = row * this.size + col;
      this.data[index3] = value;
      if (reserved)
        this.reservedBit[index3] = true;
    };
    BitMatrix.prototype.get = function(row, col) {
      return this.data[row * this.size + col];
    };
    BitMatrix.prototype.xor = function(row, col, value) {
      this.data[row * this.size + col] ^= value;
    };
    BitMatrix.prototype.isReserved = function(row, col) {
      return this.reservedBit[row * this.size + col];
    };
    module.exports = BitMatrix;
  }
});

// node_modules/qrcode/lib/core/alignment-pattern.js
var require_alignment_pattern = __commonJS({
  "node_modules/qrcode/lib/core/alignment-pattern.js"(exports) {
    var getSymbolSize = require_utils2().getSymbolSize;
    exports.getRowColCoords = function getRowColCoords(version) {
      if (version === 1)
        return [];
      const posCount = Math.floor(version / 7) + 2;
      const size2 = getSymbolSize(version);
      const intervals = size2 === 145 ? 26 : Math.ceil((size2 - 13) / (2 * posCount - 2)) * 2;
      const positions2 = [size2 - 7];
      for (let i67 = 1; i67 < posCount - 1; i67++) {
        positions2[i67] = positions2[i67 - 1] - intervals;
      }
      positions2.push(6);
      return positions2.reverse();
    };
    exports.getPositions = function getPositions(version) {
      const coords = [];
      const pos = exports.getRowColCoords(version);
      const posLength = pos.length;
      for (let i67 = 0; i67 < posLength; i67++) {
        for (let j7 = 0; j7 < posLength; j7++) {
          if (i67 === 0 && j7 === 0 || i67 === 0 && j7 === posLength - 1 || i67 === posLength - 1 && j7 === 0) {
            continue;
          }
          coords.push([pos[i67], pos[j7]]);
        }
      }
      return coords;
    };
  }
});

// node_modules/qrcode/lib/core/finder-pattern.js
var require_finder_pattern = __commonJS({
  "node_modules/qrcode/lib/core/finder-pattern.js"(exports) {
    var getSymbolSize = require_utils2().getSymbolSize;
    var FINDER_PATTERN_SIZE = 7;
    exports.getPositions = function getPositions(version) {
      const size2 = getSymbolSize(version);
      return [
        [0, 0],
        [size2 - FINDER_PATTERN_SIZE, 0],
        [0, size2 - FINDER_PATTERN_SIZE]
      ];
    };
  }
});

// node_modules/qrcode/lib/core/mask-pattern.js
var require_mask_pattern = __commonJS({
  "node_modules/qrcode/lib/core/mask-pattern.js"(exports) {
    exports.Patterns = {
      PATTERN000: 0,
      PATTERN001: 1,
      PATTERN010: 2,
      PATTERN011: 3,
      PATTERN100: 4,
      PATTERN101: 5,
      PATTERN110: 6,
      PATTERN111: 7
    };
    var PenaltyScores = {
      N1: 3,
      N2: 3,
      N3: 40,
      N4: 10
    };
    exports.isValid = function isValid(mask) {
      return mask != null && mask !== "" && !isNaN(mask) && mask >= 0 && mask <= 7;
    };
    exports.from = function from(value) {
      return exports.isValid(value) ? parseInt(value, 10) : void 0;
    };
    exports.getPenaltyN1 = function getPenaltyN1(data) {
      const size2 = data.size;
      let points = 0;
      let sameCountCol = 0;
      let sameCountRow = 0;
      let lastCol = null;
      let lastRow = null;
      for (let row = 0; row < size2; row++) {
        sameCountCol = sameCountRow = 0;
        lastCol = lastRow = null;
        for (let col = 0; col < size2; col++) {
          let module2 = data.get(row, col);
          if (module2 === lastCol) {
            sameCountCol++;
          } else {
            if (sameCountCol >= 5)
              points += PenaltyScores.N1 + (sameCountCol - 5);
            lastCol = module2;
            sameCountCol = 1;
          }
          module2 = data.get(col, row);
          if (module2 === lastRow) {
            sameCountRow++;
          } else {
            if (sameCountRow >= 5)
              points += PenaltyScores.N1 + (sameCountRow - 5);
            lastRow = module2;
            sameCountRow = 1;
          }
        }
        if (sameCountCol >= 5)
          points += PenaltyScores.N1 + (sameCountCol - 5);
        if (sameCountRow >= 5)
          points += PenaltyScores.N1 + (sameCountRow - 5);
      }
      return points;
    };
    exports.getPenaltyN2 = function getPenaltyN2(data) {
      const size2 = data.size;
      let points = 0;
      for (let row = 0; row < size2 - 1; row++) {
        for (let col = 0; col < size2 - 1; col++) {
          const last = data.get(row, col) + data.get(row, col + 1) + data.get(row + 1, col) + data.get(row + 1, col + 1);
          if (last === 4 || last === 0)
            points++;
        }
      }
      return points * PenaltyScores.N2;
    };
    exports.getPenaltyN3 = function getPenaltyN3(data) {
      const size2 = data.size;
      let points = 0;
      let bitsCol = 0;
      let bitsRow = 0;
      for (let row = 0; row < size2; row++) {
        bitsCol = bitsRow = 0;
        for (let col = 0; col < size2; col++) {
          bitsCol = bitsCol << 1 & 2047 | data.get(row, col);
          if (col >= 10 && (bitsCol === 1488 || bitsCol === 93))
            points++;
          bitsRow = bitsRow << 1 & 2047 | data.get(col, row);
          if (col >= 10 && (bitsRow === 1488 || bitsRow === 93))
            points++;
        }
      }
      return points * PenaltyScores.N3;
    };
    exports.getPenaltyN4 = function getPenaltyN4(data) {
      let darkCount = 0;
      const modulesCount = data.data.length;
      for (let i67 = 0; i67 < modulesCount; i67++)
        darkCount += data.data[i67];
      const k6 = Math.abs(Math.ceil(darkCount * 100 / modulesCount / 5) - 10);
      return k6 * PenaltyScores.N4;
    };
    function getMaskAt(maskPattern, i67, j7) {
      switch (maskPattern) {
        case exports.Patterns.PATTERN000:
          return (i67 + j7) % 2 === 0;
        case exports.Patterns.PATTERN001:
          return i67 % 2 === 0;
        case exports.Patterns.PATTERN010:
          return j7 % 3 === 0;
        case exports.Patterns.PATTERN011:
          return (i67 + j7) % 3 === 0;
        case exports.Patterns.PATTERN100:
          return (Math.floor(i67 / 2) + Math.floor(j7 / 3)) % 2 === 0;
        case exports.Patterns.PATTERN101:
          return i67 * j7 % 2 + i67 * j7 % 3 === 0;
        case exports.Patterns.PATTERN110:
          return (i67 * j7 % 2 + i67 * j7 % 3) % 2 === 0;
        case exports.Patterns.PATTERN111:
          return (i67 * j7 % 3 + (i67 + j7) % 2) % 2 === 0;
        default:
          throw new Error("bad maskPattern:" + maskPattern);
      }
    }
    exports.applyMask = function applyMask(pattern, data) {
      const size2 = data.size;
      for (let col = 0; col < size2; col++) {
        for (let row = 0; row < size2; row++) {
          if (data.isReserved(row, col))
            continue;
          data.xor(row, col, getMaskAt(pattern, row, col));
        }
      }
    };
    exports.getBestMask = function getBestMask(data, setupFormatFunc) {
      const numPatterns = Object.keys(exports.Patterns).length;
      let bestPattern = 0;
      let lowerPenalty = Infinity;
      for (let p17 = 0; p17 < numPatterns; p17++) {
        setupFormatFunc(p17);
        exports.applyMask(p17, data);
        const penalty = exports.getPenaltyN1(data) + exports.getPenaltyN2(data) + exports.getPenaltyN3(data) + exports.getPenaltyN4(data);
        exports.applyMask(p17, data);
        if (penalty < lowerPenalty) {
          lowerPenalty = penalty;
          bestPattern = p17;
        }
      }
      return bestPattern;
    };
  }
});

// node_modules/qrcode/lib/core/error-correction-code.js
var require_error_correction_code = __commonJS({
  "node_modules/qrcode/lib/core/error-correction-code.js"(exports) {
    var ECLevel = require_error_correction_level();
    var EC_BLOCKS_TABLE = [
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      2,
      2,
      1,
      2,
      2,
      4,
      1,
      2,
      4,
      4,
      2,
      4,
      4,
      4,
      2,
      4,
      6,
      5,
      2,
      4,
      6,
      6,
      2,
      5,
      8,
      8,
      4,
      5,
      8,
      8,
      4,
      5,
      8,
      11,
      4,
      8,
      10,
      11,
      4,
      9,
      12,
      16,
      4,
      9,
      16,
      16,
      6,
      10,
      12,
      18,
      6,
      10,
      17,
      16,
      6,
      11,
      16,
      19,
      6,
      13,
      18,
      21,
      7,
      14,
      21,
      25,
      8,
      16,
      20,
      25,
      8,
      17,
      23,
      25,
      9,
      17,
      23,
      34,
      9,
      18,
      25,
      30,
      10,
      20,
      27,
      32,
      12,
      21,
      29,
      35,
      12,
      23,
      34,
      37,
      12,
      25,
      34,
      40,
      13,
      26,
      35,
      42,
      14,
      28,
      38,
      45,
      15,
      29,
      40,
      48,
      16,
      31,
      43,
      51,
      17,
      33,
      45,
      54,
      18,
      35,
      48,
      57,
      19,
      37,
      51,
      60,
      19,
      38,
      53,
      63,
      20,
      40,
      56,
      66,
      21,
      43,
      59,
      70,
      22,
      45,
      62,
      74,
      24,
      47,
      65,
      77,
      25,
      49,
      68,
      81
    ];
    var EC_CODEWORDS_TABLE = [
      7,
      10,
      13,
      17,
      10,
      16,
      22,
      28,
      15,
      26,
      36,
      44,
      20,
      36,
      52,
      64,
      26,
      48,
      72,
      88,
      36,
      64,
      96,
      112,
      40,
      72,
      108,
      130,
      48,
      88,
      132,
      156,
      60,
      110,
      160,
      192,
      72,
      130,
      192,
      224,
      80,
      150,
      224,
      264,
      96,
      176,
      260,
      308,
      104,
      198,
      288,
      352,
      120,
      216,
      320,
      384,
      132,
      240,
      360,
      432,
      144,
      280,
      408,
      480,
      168,
      308,
      448,
      532,
      180,
      338,
      504,
      588,
      196,
      364,
      546,
      650,
      224,
      416,
      600,
      700,
      224,
      442,
      644,
      750,
      252,
      476,
      690,
      816,
      270,
      504,
      750,
      900,
      300,
      560,
      810,
      960,
      312,
      588,
      870,
      1050,
      336,
      644,
      952,
      1110,
      360,
      700,
      1020,
      1200,
      390,
      728,
      1050,
      1260,
      420,
      784,
      1140,
      1350,
      450,
      812,
      1200,
      1440,
      480,
      868,
      1290,
      1530,
      510,
      924,
      1350,
      1620,
      540,
      980,
      1440,
      1710,
      570,
      1036,
      1530,
      1800,
      570,
      1064,
      1590,
      1890,
      600,
      1120,
      1680,
      1980,
      630,
      1204,
      1770,
      2100,
      660,
      1260,
      1860,
      2220,
      720,
      1316,
      1950,
      2310,
      750,
      1372,
      2040,
      2430
    ];
    exports.getBlocksCount = function getBlocksCount(version, errorCorrectionLevel) {
      switch (errorCorrectionLevel) {
        case ECLevel.L:
          return EC_BLOCKS_TABLE[(version - 1) * 4 + 0];
        case ECLevel.M:
          return EC_BLOCKS_TABLE[(version - 1) * 4 + 1];
        case ECLevel.Q:
          return EC_BLOCKS_TABLE[(version - 1) * 4 + 2];
        case ECLevel.H:
          return EC_BLOCKS_TABLE[(version - 1) * 4 + 3];
        default:
          return void 0;
      }
    };
    exports.getTotalCodewordsCount = function getTotalCodewordsCount(version, errorCorrectionLevel) {
      switch (errorCorrectionLevel) {
        case ECLevel.L:
          return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0];
        case ECLevel.M:
          return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1];
        case ECLevel.Q:
          return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2];
        case ECLevel.H:
          return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3];
        default:
          return void 0;
      }
    };
  }
});

// node_modules/qrcode/lib/core/galois-field.js
var require_galois_field = __commonJS({
  "node_modules/qrcode/lib/core/galois-field.js"(exports) {
    var EXP_TABLE = new Uint8Array(512);
    var LOG_TABLE = new Uint8Array(256);
    (function initTables() {
      let x5 = 1;
      for (let i67 = 0; i67 < 255; i67++) {
        EXP_TABLE[i67] = x5;
        LOG_TABLE[x5] = i67;
        x5 <<= 1;
        if (x5 & 256) {
          x5 ^= 285;
        }
      }
      for (let i67 = 255; i67 < 512; i67++) {
        EXP_TABLE[i67] = EXP_TABLE[i67 - 255];
      }
    })();
    exports.log = function log2(n45) {
      if (n45 < 1)
        throw new Error("log(" + n45 + ")");
      return LOG_TABLE[n45];
    };
    exports.exp = function exp(n45) {
      return EXP_TABLE[n45];
    };
    exports.mul = function mul(x5, y9) {
      if (x5 === 0 || y9 === 0)
        return 0;
      return EXP_TABLE[LOG_TABLE[x5] + LOG_TABLE[y9]];
    };
  }
});

// node_modules/qrcode/lib/core/polynomial.js
var require_polynomial = __commonJS({
  "node_modules/qrcode/lib/core/polynomial.js"(exports) {
    var GF = require_galois_field();
    exports.mul = function mul(p1, p22) {
      const coeff = new Uint8Array(p1.length + p22.length - 1);
      for (let i67 = 0; i67 < p1.length; i67++) {
        for (let j7 = 0; j7 < p22.length; j7++) {
          coeff[i67 + j7] ^= GF.mul(p1[i67], p22[j7]);
        }
      }
      return coeff;
    };
    exports.mod = function mod(divident, divisor) {
      let result = new Uint8Array(divident);
      while (result.length - divisor.length >= 0) {
        const coeff = result[0];
        for (let i67 = 0; i67 < divisor.length; i67++) {
          result[i67] ^= GF.mul(divisor[i67], coeff);
        }
        let offset2 = 0;
        while (offset2 < result.length && result[offset2] === 0)
          offset2++;
        result = result.slice(offset2);
      }
      return result;
    };
    exports.generateECPolynomial = function generateECPolynomial(degree) {
      let poly = new Uint8Array([1]);
      for (let i67 = 0; i67 < degree; i67++) {
        poly = exports.mul(poly, new Uint8Array([1, GF.exp(i67)]));
      }
      return poly;
    };
  }
});

// node_modules/qrcode/lib/core/reed-solomon-encoder.js
var require_reed_solomon_encoder = __commonJS({
  "node_modules/qrcode/lib/core/reed-solomon-encoder.js"(exports, module) {
    var Polynomial = require_polynomial();
    function ReedSolomonEncoder(degree) {
      this.genPoly = void 0;
      this.degree = degree;
      if (this.degree)
        this.initialize(this.degree);
    }
    ReedSolomonEncoder.prototype.initialize = function initialize(degree) {
      this.degree = degree;
      this.genPoly = Polynomial.generateECPolynomial(this.degree);
    };
    ReedSolomonEncoder.prototype.encode = function encode(data) {
      if (!this.genPoly) {
        throw new Error("Encoder not initialized");
      }
      const paddedData = new Uint8Array(data.length + this.degree);
      paddedData.set(data);
      const remainder = Polynomial.mod(paddedData, this.genPoly);
      const start3 = this.degree - remainder.length;
      if (start3 > 0) {
        const buff = new Uint8Array(this.degree);
        buff.set(remainder, start3);
        return buff;
      }
      return remainder;
    };
    module.exports = ReedSolomonEncoder;
  }
});

// node_modules/qrcode/lib/core/version-check.js
var require_version_check = __commonJS({
  "node_modules/qrcode/lib/core/version-check.js"(exports) {
    exports.isValid = function isValid(version) {
      return !isNaN(version) && version >= 1 && version <= 40;
    };
  }
});

// node_modules/qrcode/lib/core/regex.js
var require_regex = __commonJS({
  "node_modules/qrcode/lib/core/regex.js"(exports) {
    var numeric = "[0-9]+";
    var alphanumeric = "[A-Z $%*+\\-./:]+";
    var kanji = "(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";
    kanji = kanji.replace(/u/g, "\\u");
    var byte = "(?:(?![A-Z0-9 $%*+\\-./:]|" + kanji + ")(?:.|[\r\n]))+";
    exports.KANJI = new RegExp(kanji, "g");
    exports.BYTE_KANJI = new RegExp("[^A-Z0-9 $%*+\\-./:]+", "g");
    exports.BYTE = new RegExp(byte, "g");
    exports.NUMERIC = new RegExp(numeric, "g");
    exports.ALPHANUMERIC = new RegExp(alphanumeric, "g");
    var TEST_KANJI = new RegExp("^" + kanji + "$");
    var TEST_NUMERIC = new RegExp("^" + numeric + "$");
    var TEST_ALPHANUMERIC = new RegExp("^[A-Z0-9 $%*+\\-./:]+$");
    exports.testKanji = function testKanji(str) {
      return TEST_KANJI.test(str);
    };
    exports.testNumeric = function testNumeric(str) {
      return TEST_NUMERIC.test(str);
    };
    exports.testAlphanumeric = function testAlphanumeric(str) {
      return TEST_ALPHANUMERIC.test(str);
    };
  }
});

// node_modules/qrcode/lib/core/mode.js
var require_mode = __commonJS({
  "node_modules/qrcode/lib/core/mode.js"(exports) {
    var VersionCheck = require_version_check();
    var Regex = require_regex();
    exports.NUMERIC = {
      id: "Numeric",
      bit: 1 << 0,
      ccBits: [10, 12, 14]
    };
    exports.ALPHANUMERIC = {
      id: "Alphanumeric",
      bit: 1 << 1,
      ccBits: [9, 11, 13]
    };
    exports.BYTE = {
      id: "Byte",
      bit: 1 << 2,
      ccBits: [8, 16, 16]
    };
    exports.KANJI = {
      id: "Kanji",
      bit: 1 << 3,
      ccBits: [8, 10, 12]
    };
    exports.MIXED = {
      bit: -1
    };
    exports.getCharCountIndicator = function getCharCountIndicator(mode, version) {
      if (!mode.ccBits)
        throw new Error("Invalid mode: " + mode);
      if (!VersionCheck.isValid(version)) {
        throw new Error("Invalid version: " + version);
      }
      if (version >= 1 && version < 10)
        return mode.ccBits[0];
      else if (version < 27)
        return mode.ccBits[1];
      return mode.ccBits[2];
    };
    exports.getBestModeForData = function getBestModeForData(dataStr) {
      if (Regex.testNumeric(dataStr))
        return exports.NUMERIC;
      else if (Regex.testAlphanumeric(dataStr))
        return exports.ALPHANUMERIC;
      else if (Regex.testKanji(dataStr))
        return exports.KANJI;
      else
        return exports.BYTE;
    };
    exports.toString = function toString(mode) {
      if (mode && mode.id)
        return mode.id;
      throw new Error("Invalid mode");
    };
    exports.isValid = function isValid(mode) {
      return mode && mode.bit && mode.ccBits;
    };
    function fromString(string) {
      if (typeof string !== "string") {
        throw new Error("Param is not a string");
      }
      const lcStr = string.toLowerCase();
      switch (lcStr) {
        case "numeric":
          return exports.NUMERIC;
        case "alphanumeric":
          return exports.ALPHANUMERIC;
        case "kanji":
          return exports.KANJI;
        case "byte":
          return exports.BYTE;
        default:
          throw new Error("Unknown mode: " + string);
      }
    }
    exports.from = function from(value, defaultValue) {
      if (exports.isValid(value)) {
        return value;
      }
      try {
        return fromString(value);
      } catch (e142) {
        return defaultValue;
      }
    };
  }
});

// node_modules/qrcode/lib/core/version.js
var require_version = __commonJS({
  "node_modules/qrcode/lib/core/version.js"(exports) {
    var Utils = require_utils2();
    var ECCode = require_error_correction_code();
    var ECLevel = require_error_correction_level();
    var Mode = require_mode();
    var VersionCheck = require_version_check();
    var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;
    var G18_BCH = Utils.getBCHDigit(G18);
    function getBestVersionForDataLength(mode, length2, errorCorrectionLevel) {
      for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {
        if (length2 <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {
          return currentVersion;
        }
      }
      return void 0;
    }
    function getReservedBitsCount(mode, version) {
      return Mode.getCharCountIndicator(mode, version) + 4;
    }
    function getTotalBitsFromDataArray(segments, version) {
      let totalBits = 0;
      segments.forEach(function(data) {
        const reservedBits = getReservedBitsCount(data.mode, version);
        totalBits += reservedBits + data.getBitsLength();
      });
      return totalBits;
    }
    function getBestVersionForMixedData(segments, errorCorrectionLevel) {
      for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {
        const length2 = getTotalBitsFromDataArray(segments, currentVersion);
        if (length2 <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {
          return currentVersion;
        }
      }
      return void 0;
    }
    exports.from = function from(value, defaultValue) {
      if (VersionCheck.isValid(value)) {
        return parseInt(value, 10);
      }
      return defaultValue;
    };
    exports.getCapacity = function getCapacity(version, errorCorrectionLevel, mode) {
      if (!VersionCheck.isValid(version)) {
        throw new Error("Invalid QR Code version");
      }
      if (typeof mode === "undefined")
        mode = Mode.BYTE;
      const totalCodewords = Utils.getSymbolTotalCodewords(version);
      const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);
      const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;
      if (mode === Mode.MIXED)
        return dataTotalCodewordsBits;
      const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version);
      switch (mode) {
        case Mode.NUMERIC:
          return Math.floor(usableBits / 10 * 3);
        case Mode.ALPHANUMERIC:
          return Math.floor(usableBits / 11 * 2);
        case Mode.KANJI:
          return Math.floor(usableBits / 13);
        case Mode.BYTE:
        default:
          return Math.floor(usableBits / 8);
      }
    };
    exports.getBestVersionForData = function getBestVersionForData(data, errorCorrectionLevel) {
      let seg;
      const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M);
      if (Array.isArray(data)) {
        if (data.length > 1) {
          return getBestVersionForMixedData(data, ecl);
        }
        if (data.length === 0) {
          return 1;
        }
        seg = data[0];
      } else {
        seg = data;
      }
      return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl);
    };
    exports.getEncodedBits = function getEncodedBits(version) {
      if (!VersionCheck.isValid(version) || version < 7) {
        throw new Error("Invalid QR Code version");
      }
      let d10 = version << 12;
      while (Utils.getBCHDigit(d10) - G18_BCH >= 0) {
        d10 ^= G18 << Utils.getBCHDigit(d10) - G18_BCH;
      }
      return version << 12 | d10;
    };
  }
});

// node_modules/qrcode/lib/core/format-info.js
var require_format_info = __commonJS({
  "node_modules/qrcode/lib/core/format-info.js"(exports) {
    var Utils = require_utils2();
    var G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;
    var G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;
    var G15_BCH = Utils.getBCHDigit(G15);
    exports.getEncodedBits = function getEncodedBits(errorCorrectionLevel, mask) {
      const data = errorCorrectionLevel.bit << 3 | mask;
      let d10 = data << 10;
      while (Utils.getBCHDigit(d10) - G15_BCH >= 0) {
        d10 ^= G15 << Utils.getBCHDigit(d10) - G15_BCH;
      }
      return (data << 10 | d10) ^ G15_MASK;
    };
  }
});

// node_modules/qrcode/lib/core/numeric-data.js
var require_numeric_data = __commonJS({
  "node_modules/qrcode/lib/core/numeric-data.js"(exports, module) {
    var Mode = require_mode();
    function NumericData(data) {
      this.mode = Mode.NUMERIC;
      this.data = data.toString();
    }
    NumericData.getBitsLength = function getBitsLength(length2) {
      return 10 * Math.floor(length2 / 3) + (length2 % 3 ? length2 % 3 * 3 + 1 : 0);
    };
    NumericData.prototype.getLength = function getLength() {
      return this.data.length;
    };
    NumericData.prototype.getBitsLength = function getBitsLength() {
      return NumericData.getBitsLength(this.data.length);
    };
    NumericData.prototype.write = function write(bitBuffer) {
      let i67, group, value;
      for (i67 = 0; i67 + 3 <= this.data.length; i67 += 3) {
        group = this.data.substr(i67, 3);
        value = parseInt(group, 10);
        bitBuffer.put(value, 10);
      }
      const remainingNum = this.data.length - i67;
      if (remainingNum > 0) {
        group = this.data.substr(i67);
        value = parseInt(group, 10);
        bitBuffer.put(value, remainingNum * 3 + 1);
      }
    };
    module.exports = NumericData;
  }
});

// node_modules/qrcode/lib/core/alphanumeric-data.js
var require_alphanumeric_data = __commonJS({
  "node_modules/qrcode/lib/core/alphanumeric-data.js"(exports, module) {
    var Mode = require_mode();
    var ALPHA_NUM_CHARS = [
      "0",
      "1",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7",
      "8",
      "9",
      "A",
      "B",
      "C",
      "D",
      "E",
      "F",
      "G",
      "H",
      "I",
      "J",
      "K",
      "L",
      "M",
      "N",
      "O",
      "P",
      "Q",
      "R",
      "S",
      "T",
      "U",
      "V",
      "W",
      "X",
      "Y",
      "Z",
      " ",
      "$",
      "%",
      "*",
      "+",
      "-",
      ".",
      "/",
      ":"
    ];
    function AlphanumericData(data) {
      this.mode = Mode.ALPHANUMERIC;
      this.data = data;
    }
    AlphanumericData.getBitsLength = function getBitsLength(length2) {
      return 11 * Math.floor(length2 / 2) + 6 * (length2 % 2);
    };
    AlphanumericData.prototype.getLength = function getLength() {
      return this.data.length;
    };
    AlphanumericData.prototype.getBitsLength = function getBitsLength() {
      return AlphanumericData.getBitsLength(this.data.length);
    };
    AlphanumericData.prototype.write = function write(bitBuffer) {
      let i67;
      for (i67 = 0; i67 + 2 <= this.data.length; i67 += 2) {
        let value = ALPHA_NUM_CHARS.indexOf(this.data[i67]) * 45;
        value += ALPHA_NUM_CHARS.indexOf(this.data[i67 + 1]);
        bitBuffer.put(value, 11);
      }
      if (this.data.length % 2) {
        bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i67]), 6);
      }
    };
    module.exports = AlphanumericData;
  }
});

// node_modules/encode-utf8/index.js
var require_encode_utf8 = __commonJS({
  "node_modules/encode-utf8/index.js"(exports, module) {
    "use strict";
    module.exports = function encodeUtf8(input) {
      var result = [];
      var size2 = input.length;
      for (var index3 = 0; index3 < size2; index3++) {
        var point2 = input.charCodeAt(index3);
        if (point2 >= 55296 && point2 <= 56319 && size2 > index3 + 1) {
          var second = input.charCodeAt(index3 + 1);
          if (second >= 56320 && second <= 57343) {
            point2 = (point2 - 55296) * 1024 + second - 56320 + 65536;
            index3 += 1;
          }
        }
        if (point2 < 128) {
          result.push(point2);
          continue;
        }
        if (point2 < 2048) {
          result.push(point2 >> 6 | 192);
          result.push(point2 & 63 | 128);
          continue;
        }
        if (point2 < 55296 || point2 >= 57344 && point2 < 65536) {
          result.push(point2 >> 12 | 224);
          result.push(point2 >> 6 & 63 | 128);
          result.push(point2 & 63 | 128);
          continue;
        }
        if (point2 >= 65536 && point2 <= 1114111) {
          result.push(point2 >> 18 | 240);
          result.push(point2 >> 12 & 63 | 128);
          result.push(point2 >> 6 & 63 | 128);
          result.push(point2 & 63 | 128);
          continue;
        }
        result.push(239, 191, 189);
      }
      return new Uint8Array(result).buffer;
    };
  }
});

// node_modules/qrcode/lib/core/byte-data.js
var require_byte_data = __commonJS({
  "node_modules/qrcode/lib/core/byte-data.js"(exports, module) {
    var encodeUtf8 = require_encode_utf8();
    var Mode = require_mode();
    function ByteData(data) {
      this.mode = Mode.BYTE;
      this.data = new Uint8Array(encodeUtf8(data));
    }
    ByteData.getBitsLength = function getBitsLength(length2) {
      return length2 * 8;
    };
    ByteData.prototype.getLength = function getLength() {
      return this.data.length;
    };
    ByteData.prototype.getBitsLength = function getBitsLength() {
      return ByteData.getBitsLength(this.data.length);
    };
    ByteData.prototype.write = function(bitBuffer) {
      for (let i67 = 0, l29 = this.data.length; i67 < l29; i67++) {
        bitBuffer.put(this.data[i67], 8);
      }
    };
    module.exports = ByteData;
  }
});

// node_modules/qrcode/lib/core/kanji-data.js
var require_kanji_data = __commonJS({
  "node_modules/qrcode/lib/core/kanji-data.js"(exports, module) {
    var Mode = require_mode();
    var Utils = require_utils2();
    function KanjiData(data) {
      this.mode = Mode.KANJI;
      this.data = data;
    }
    KanjiData.getBitsLength = function getBitsLength(length2) {
      return length2 * 13;
    };
    KanjiData.prototype.getLength = function getLength() {
      return this.data.length;
    };
    KanjiData.prototype.getBitsLength = function getBitsLength() {
      return KanjiData.getBitsLength(this.data.length);
    };
    KanjiData.prototype.write = function(bitBuffer) {
      let i67;
      for (i67 = 0; i67 < this.data.length; i67++) {
        let value = Utils.toSJIS(this.data[i67]);
        if (value >= 33088 && value <= 40956) {
          value -= 33088;
        } else if (value >= 57408 && value <= 60351) {
          value -= 49472;
        } else {
          throw new Error(
            "Invalid SJIS character: " + this.data[i67] + "\nMake sure your charset is UTF-8"
          );
        }
        value = (value >>> 8 & 255) * 192 + (value & 255);
        bitBuffer.put(value, 13);
      }
    };
    module.exports = KanjiData;
  }
});

// node_modules/dijkstrajs/dijkstra.js
var require_dijkstra = __commonJS({
  "node_modules/dijkstrajs/dijkstra.js"(exports, module) {
    "use strict";
    var dijkstra = {
      single_source_shortest_paths: function(graph, s62, d10) {
        var predecessors = {};
        var costs = {};
        costs[s62] = 0;
        var open = dijkstra.PriorityQueue.make();
        open.push(s62, 0);
        var closest, u20, v5, cost_of_s_to_u, adjacent_nodes, cost_of_e, cost_of_s_to_u_plus_cost_of_e, cost_of_s_to_v, first_visit;
        while (!open.empty()) {
          closest = open.pop();
          u20 = closest.value;
          cost_of_s_to_u = closest.cost;
          adjacent_nodes = graph[u20] || {};
          for (v5 in adjacent_nodes) {
            if (adjacent_nodes.hasOwnProperty(v5)) {
              cost_of_e = adjacent_nodes[v5];
              cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;
              cost_of_s_to_v = costs[v5];
              first_visit = typeof costs[v5] === "undefined";
              if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {
                costs[v5] = cost_of_s_to_u_plus_cost_of_e;
                open.push(v5, cost_of_s_to_u_plus_cost_of_e);
                predecessors[v5] = u20;
              }
            }
          }
        }
        if (typeof d10 !== "undefined" && typeof costs[d10] === "undefined") {
          var msg = ["Could not find a path from ", s62, " to ", d10, "."].join("");
          throw new Error(msg);
        }
        return predecessors;
      },
      extract_shortest_path_from_predecessor_list: function(predecessors, d10) {
        var nodes = [];
        var u20 = d10;
        var predecessor;
        while (u20) {
          nodes.push(u20);
          predecessor = predecessors[u20];
          u20 = predecessors[u20];
        }
        nodes.reverse();
        return nodes;
      },
      find_path: function(graph, s62, d10) {
        var predecessors = dijkstra.single_source_shortest_paths(graph, s62, d10);
        return dijkstra.extract_shortest_path_from_predecessor_list(
          predecessors,
          d10
        );
      },
      PriorityQueue: {
        make: function(opts) {
          var T2 = dijkstra.PriorityQueue, t87 = {}, key;
          opts = opts || {};
          for (key in T2) {
            if (T2.hasOwnProperty(key)) {
              t87[key] = T2[key];
            }
          }
          t87.queue = [];
          t87.sorter = opts.sorter || T2.default_sorter;
          return t87;
        },
        default_sorter: function(a82, b7) {
          return a82.cost - b7.cost;
        },
        push: function(value, cost) {
          var item = { value, cost };
          this.queue.push(item);
          this.queue.sort(this.sorter);
        },
        pop: function() {
          return this.queue.shift();
        },
        empty: function() {
          return this.queue.length === 0;
        }
      }
    };
    if (typeof module !== "undefined") {
      module.exports = dijkstra;
    }
  }
});

// node_modules/qrcode/lib/core/segments.js
var require_segments = __commonJS({
  "node_modules/qrcode/lib/core/segments.js"(exports) {
    var Mode = require_mode();
    var NumericData = require_numeric_data();
    var AlphanumericData = require_alphanumeric_data();
    var ByteData = require_byte_data();
    var KanjiData = require_kanji_data();
    var Regex = require_regex();
    var Utils = require_utils2();
    var dijkstra = require_dijkstra();
    function getStringByteLength(str) {
      return unescape(encodeURIComponent(str)).length;
    }
    function getSegments(regex, mode, str) {
      const segments = [];
      let result;
      while ((result = regex.exec(str)) !== null) {
        segments.push({
          data: result[0],
          index: result.index,
          mode,
          length: result[0].length
        });
      }
      return segments;
    }
    function getSegmentsFromString(dataStr) {
      const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr);
      const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr);
      let byteSegs;
      let kanjiSegs;
      if (Utils.isKanjiModeEnabled()) {
        byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr);
        kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr);
      } else {
        byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr);
        kanjiSegs = [];
      }
      const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);
      return segs.sort(function(s1, s210) {
        return s1.index - s210.index;
      }).map(function(obj) {
        return {
          data: obj.data,
          mode: obj.mode,
          length: obj.length
        };
      });
    }
    function getSegmentBitsLength(length2, mode) {
      switch (mode) {
        case Mode.NUMERIC:
          return NumericData.getBitsLength(length2);
        case Mode.ALPHANUMERIC:
          return AlphanumericData.getBitsLength(length2);
        case Mode.KANJI:
          return KanjiData.getBitsLength(length2);
        case Mode.BYTE:
          return ByteData.getBitsLength(length2);
      }
    }
    function mergeSegments(segs) {
      return segs.reduce(function(acc, curr) {
        const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;
        if (prevSeg && prevSeg.mode === curr.mode) {
          acc[acc.length - 1].data += curr.data;
          return acc;
        }
        acc.push(curr);
        return acc;
      }, []);
    }
    function buildNodes(segs) {
      const nodes = [];
      for (let i67 = 0; i67 < segs.length; i67++) {
        const seg = segs[i67];
        switch (seg.mode) {
          case Mode.NUMERIC:
            nodes.push([
              seg,
              { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },
              { data: seg.data, mode: Mode.BYTE, length: seg.length }
            ]);
            break;
          case Mode.ALPHANUMERIC:
            nodes.push([
              seg,
              { data: seg.data, mode: Mode.BYTE, length: seg.length }
            ]);
            break;
          case Mode.KANJI:
            nodes.push([
              seg,
              { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }
            ]);
            break;
          case Mode.BYTE:
            nodes.push([
              { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }
            ]);
        }
      }
      return nodes;
    }
    function buildGraph(nodes, version) {
      const table = {};
      const graph = { start: {} };
      let prevNodeIds = ["start"];
      for (let i67 = 0; i67 < nodes.length; i67++) {
        const nodeGroup = nodes[i67];
        const currentNodeIds = [];
        for (let j7 = 0; j7 < nodeGroup.length; j7++) {
          const node = nodeGroup[j7];
          const key = "" + i67 + j7;
          currentNodeIds.push(key);
          table[key] = { node, lastCount: 0 };
          graph[key] = {};
          for (let n45 = 0; n45 < prevNodeIds.length; n45++) {
            const prevNodeId = prevNodeIds[n45];
            if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {
              graph[prevNodeId][key] = getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) - getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);
              table[prevNodeId].lastCount += node.length;
            } else {
              if (table[prevNodeId])
                table[prevNodeId].lastCount = node.length;
              graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) + 4 + Mode.getCharCountIndicator(node.mode, version);
            }
          }
        }
        prevNodeIds = currentNodeIds;
      }
      for (let n45 = 0; n45 < prevNodeIds.length; n45++) {
        graph[prevNodeIds[n45]].end = 0;
      }
      return { map: graph, table };
    }
    function buildSingleSegment(data, modesHint) {
      let mode;
      const bestMode = Mode.getBestModeForData(data);
      mode = Mode.from(modesHint, bestMode);
      if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {
        throw new Error('"' + data + '" cannot be encoded with mode ' + Mode.toString(mode) + ".\n Suggested mode is: " + Mode.toString(bestMode));
      }
      if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {
        mode = Mode.BYTE;
      }
      switch (mode) {
        case Mode.NUMERIC:
          return new NumericData(data);
        case Mode.ALPHANUMERIC:
          return new AlphanumericData(data);
        case Mode.KANJI:
          return new KanjiData(data);
        case Mode.BYTE:
          return new ByteData(data);
      }
    }
    exports.fromArray = function fromArray(array) {
      return array.reduce(function(acc, seg) {
        if (typeof seg === "string") {
          acc.push(buildSingleSegment(seg, null));
        } else if (seg.data) {
          acc.push(buildSingleSegment(seg.data, seg.mode));
        }
        return acc;
      }, []);
    };
    exports.fromString = function fromString(data, version) {
      const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled());
      const nodes = buildNodes(segs);
      const graph = buildGraph(nodes, version);
      const path2 = dijkstra.find_path(graph.map, "start", "end");
      const optimizedSegs = [];
      for (let i67 = 1; i67 < path2.length - 1; i67++) {
        optimizedSegs.push(graph.table[path2[i67]].node);
      }
      return exports.fromArray(mergeSegments(optimizedSegs));
    };
    exports.rawSplit = function rawSplit(data) {
      return exports.fromArray(
        getSegmentsFromString(data, Utils.isKanjiModeEnabled())
      );
    };
  }
});

// node_modules/qrcode/lib/core/qrcode.js
var require_qrcode = __commonJS({
  "node_modules/qrcode/lib/core/qrcode.js"(exports) {
    var Utils = require_utils2();
    var ECLevel = require_error_correction_level();
    var BitBuffer = require_bit_buffer();
    var BitMatrix = require_bit_matrix();
    var AlignmentPattern = require_alignment_pattern();
    var FinderPattern = require_finder_pattern();
    var MaskPattern = require_mask_pattern();
    var ECCode = require_error_correction_code();
    var ReedSolomonEncoder = require_reed_solomon_encoder();
    var Version = require_version();
    var FormatInfo = require_format_info();
    var Mode = require_mode();
    var Segments = require_segments();
    function setupFinderPattern(matrix, version) {
      const size2 = matrix.size;
      const pos = FinderPattern.getPositions(version);
      for (let i67 = 0; i67 < pos.length; i67++) {
        const row = pos[i67][0];
        const col = pos[i67][1];
        for (let r61 = -1; r61 <= 7; r61++) {
          if (row + r61 <= -1 || size2 <= row + r61)
            continue;
          for (let c22 = -1; c22 <= 7; c22++) {
            if (col + c22 <= -1 || size2 <= col + c22)
              continue;
            if (r61 >= 0 && r61 <= 6 && (c22 === 0 || c22 === 6) || c22 >= 0 && c22 <= 6 && (r61 === 0 || r61 === 6) || r61 >= 2 && r61 <= 4 && c22 >= 2 && c22 <= 4) {
              matrix.set(row + r61, col + c22, true, true);
            } else {
              matrix.set(row + r61, col + c22, false, true);
            }
          }
        }
      }
    }
    function setupTimingPattern(matrix) {
      const size2 = matrix.size;
      for (let r61 = 8; r61 < size2 - 8; r61++) {
        const value = r61 % 2 === 0;
        matrix.set(r61, 6, value, true);
        matrix.set(6, r61, value, true);
      }
    }
    function setupAlignmentPattern(matrix, version) {
      const pos = AlignmentPattern.getPositions(version);
      for (let i67 = 0; i67 < pos.length; i67++) {
        const row = pos[i67][0];
        const col = pos[i67][1];
        for (let r61 = -2; r61 <= 2; r61++) {
          for (let c22 = -2; c22 <= 2; c22++) {
            if (r61 === -2 || r61 === 2 || c22 === -2 || c22 === 2 || r61 === 0 && c22 === 0) {
              matrix.set(row + r61, col + c22, true, true);
            } else {
              matrix.set(row + r61, col + c22, false, true);
            }
          }
        }
      }
    }
    function setupVersionInfo(matrix, version) {
      const size2 = matrix.size;
      const bits = Version.getEncodedBits(version);
      let row, col, mod;
      for (let i67 = 0; i67 < 18; i67++) {
        row = Math.floor(i67 / 3);
        col = i67 % 3 + size2 - 8 - 3;
        mod = (bits >> i67 & 1) === 1;
        matrix.set(row, col, mod, true);
        matrix.set(col, row, mod, true);
      }
    }
    function setupFormatInfo(matrix, errorCorrectionLevel, maskPattern) {
      const size2 = matrix.size;
      const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);
      let i67, mod;
      for (i67 = 0; i67 < 15; i67++) {
        mod = (bits >> i67 & 1) === 1;
        if (i67 < 6) {
          matrix.set(i67, 8, mod, true);
        } else if (i67 < 8) {
          matrix.set(i67 + 1, 8, mod, true);
        } else {
          matrix.set(size2 - 15 + i67, 8, mod, true);
        }
        if (i67 < 8) {
          matrix.set(8, size2 - i67 - 1, mod, true);
        } else if (i67 < 9) {
          matrix.set(8, 15 - i67 - 1 + 1, mod, true);
        } else {
          matrix.set(8, 15 - i67 - 1, mod, true);
        }
      }
      matrix.set(size2 - 8, 8, 1, true);
    }
    function setupData(matrix, data) {
      const size2 = matrix.size;
      let inc = -1;
      let row = size2 - 1;
      let bitIndex = 7;
      let byteIndex = 0;
      for (let col = size2 - 1; col > 0; col -= 2) {
        if (col === 6)
          col--;
        while (true) {
          for (let c22 = 0; c22 < 2; c22++) {
            if (!matrix.isReserved(row, col - c22)) {
              let dark = false;
              if (byteIndex < data.length) {
                dark = (data[byteIndex] >>> bitIndex & 1) === 1;
              }
              matrix.set(row, col - c22, dark);
              bitIndex--;
              if (bitIndex === -1) {
                byteIndex++;
                bitIndex = 7;
              }
            }
          }
          row += inc;
          if (row < 0 || size2 <= row) {
            row -= inc;
            inc = -inc;
            break;
          }
        }
      }
    }
    function createData(version, errorCorrectionLevel, segments) {
      const buffer = new BitBuffer();
      segments.forEach(function(data) {
        buffer.put(data.mode.bit, 4);
        buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version));
        data.write(buffer);
      });
      const totalCodewords = Utils.getSymbolTotalCodewords(version);
      const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);
      const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;
      if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {
        buffer.put(0, 4);
      }
      while (buffer.getLengthInBits() % 8 !== 0) {
        buffer.putBit(0);
      }
      const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;
      for (let i67 = 0; i67 < remainingByte; i67++) {
        buffer.put(i67 % 2 ? 17 : 236, 8);
      }
      return createCodewords(buffer, version, errorCorrectionLevel);
    }
    function createCodewords(bitBuffer, version, errorCorrectionLevel) {
      const totalCodewords = Utils.getSymbolTotalCodewords(version);
      const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);
      const dataTotalCodewords = totalCodewords - ecTotalCodewords;
      const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel);
      const blocksInGroup2 = totalCodewords % ecTotalBlocks;
      const blocksInGroup1 = ecTotalBlocks - blocksInGroup2;
      const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);
      const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);
      const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1;
      const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1;
      const rs = new ReedSolomonEncoder(ecCount);
      let offset2 = 0;
      const dcData = new Array(ecTotalBlocks);
      const ecData = new Array(ecTotalBlocks);
      let maxDataSize = 0;
      const buffer = new Uint8Array(bitBuffer.buffer);
      for (let b7 = 0; b7 < ecTotalBlocks; b7++) {
        const dataSize = b7 < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2;
        dcData[b7] = buffer.slice(offset2, offset2 + dataSize);
        ecData[b7] = rs.encode(dcData[b7]);
        offset2 += dataSize;
        maxDataSize = Math.max(maxDataSize, dataSize);
      }
      const data = new Uint8Array(totalCodewords);
      let index3 = 0;
      let i67, r61;
      for (i67 = 0; i67 < maxDataSize; i67++) {
        for (r61 = 0; r61 < ecTotalBlocks; r61++) {
          if (i67 < dcData[r61].length) {
            data[index3++] = dcData[r61][i67];
          }
        }
      }
      for (i67 = 0; i67 < ecCount; i67++) {
        for (r61 = 0; r61 < ecTotalBlocks; r61++) {
          data[index3++] = ecData[r61][i67];
        }
      }
      return data;
    }
    function createSymbol(data, version, errorCorrectionLevel, maskPattern) {
      let segments;
      if (Array.isArray(data)) {
        segments = Segments.fromArray(data);
      } else if (typeof data === "string") {
        let estimatedVersion = version;
        if (!estimatedVersion) {
          const rawSegments = Segments.rawSplit(data);
          estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel);
        }
        segments = Segments.fromString(data, estimatedVersion || 40);
      } else {
        throw new Error("Invalid data");
      }
      const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel);
      if (!bestVersion) {
        throw new Error("The amount of data is too big to be stored in a QR Code");
      }
      if (!version) {
        version = bestVersion;
      } else if (version < bestVersion) {
        throw new Error(
          "\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: " + bestVersion + ".\n"
        );
      }
      const dataBits = createData(version, errorCorrectionLevel, segments);
      const moduleCount = Utils.getSymbolSize(version);
      const modules = new BitMatrix(moduleCount);
      setupFinderPattern(modules, version);
      setupTimingPattern(modules);
      setupAlignmentPattern(modules, version);
      setupFormatInfo(modules, errorCorrectionLevel, 0);
      if (version >= 7) {
        setupVersionInfo(modules, version);
      }
      setupData(modules, dataBits);
      if (isNaN(maskPattern)) {
        maskPattern = MaskPattern.getBestMask(
          modules,
          setupFormatInfo.bind(null, modules, errorCorrectionLevel)
        );
      }
      MaskPattern.applyMask(maskPattern, modules);
      setupFormatInfo(modules, errorCorrectionLevel, maskPattern);
      return {
        modules,
        version,
        errorCorrectionLevel,
        maskPattern,
        segments
      };
    }
    exports.create = function create(data, options) {
      if (typeof data === "undefined" || data === "") {
        throw new Error("No input text");
      }
      let errorCorrectionLevel = ECLevel.M;
      let version;
      let mask;
      if (typeof options !== "undefined") {
        errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M);
        version = Version.from(options.version);
        mask = MaskPattern.from(options.maskPattern);
        if (options.toSJISFunc) {
          Utils.setToSJISFunction(options.toSJISFunc);
        }
      }
      return createSymbol(data, version, errorCorrectionLevel, mask);
    };
  }
});

// node_modules/qrcode/lib/renderer/utils.js
var require_utils3 = __commonJS({
  "node_modules/qrcode/lib/renderer/utils.js"(exports) {
    function hex2rgba(hex) {
      if (typeof hex === "number") {
        hex = hex.toString();
      }
      if (typeof hex !== "string") {
        throw new Error("Color should be defined as hex string");
      }
      let hexCode = hex.slice().replace("#", "").split("");
      if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {
        throw new Error("Invalid hex color: " + hex);
      }
      if (hexCode.length === 3 || hexCode.length === 4) {
        hexCode = Array.prototype.concat.apply([], hexCode.map(function(c22) {
          return [c22, c22];
        }));
      }
      if (hexCode.length === 6)
        hexCode.push("F", "F");
      const hexValue = parseInt(hexCode.join(""), 16);
      return {
        r: hexValue >> 24 & 255,
        g: hexValue >> 16 & 255,
        b: hexValue >> 8 & 255,
        a: hexValue & 255,
        hex: "#" + hexCode.slice(0, 6).join("")
      };
    }
    exports.getOptions = function getOptions(options) {
      if (!options)
        options = {};
      if (!options.color)
        options.color = {};
      const margin = typeof options.margin === "undefined" || options.margin === null || options.margin < 0 ? 4 : options.margin;
      const width = options.width && options.width >= 21 ? options.width : void 0;
      const scale = options.scale || 4;
      return {
        width,
        scale: width ? 4 : scale,
        margin,
        color: {
          dark: hex2rgba(options.color.dark || "#000000ff"),
          light: hex2rgba(options.color.light || "#ffffffff")
        },
        type: options.type,
        rendererOpts: options.rendererOpts || {}
      };
    };
    exports.getScale = function getScale(qrSize, opts) {
      return opts.width && opts.width >= qrSize + opts.margin * 2 ? opts.width / (qrSize + opts.margin * 2) : opts.scale;
    };
    exports.getImageWidth = function getImageWidth(qrSize, opts) {
      const scale = exports.getScale(qrSize, opts);
      return Math.floor((qrSize + opts.margin * 2) * scale);
    };
    exports.qrToImageData = function qrToImageData(imgData, qr, opts) {
      const size2 = qr.modules.size;
      const data = qr.modules.data;
      const scale = exports.getScale(size2, opts);
      const symbolSize = Math.floor((size2 + opts.margin * 2) * scale);
      const scaledMargin = opts.margin * scale;
      const palette = [opts.color.light, opts.color.dark];
      for (let i67 = 0; i67 < symbolSize; i67++) {
        for (let j7 = 0; j7 < symbolSize; j7++) {
          let posDst = (i67 * symbolSize + j7) * 4;
          let pxColor = opts.color.light;
          if (i67 >= scaledMargin && j7 >= scaledMargin && i67 < symbolSize - scaledMargin && j7 < symbolSize - scaledMargin) {
            const iSrc = Math.floor((i67 - scaledMargin) / scale);
            const jSrc = Math.floor((j7 - scaledMargin) / scale);
            pxColor = palette[data[iSrc * size2 + jSrc] ? 1 : 0];
          }
          imgData[posDst++] = pxColor.r;
          imgData[posDst++] = pxColor.g;
          imgData[posDst++] = pxColor.b;
          imgData[posDst] = pxColor.a;
        }
      }
    };
  }
});

// node_modules/qrcode/lib/renderer/canvas.js
var require_canvas = __commonJS({
  "node_modules/qrcode/lib/renderer/canvas.js"(exports) {
    var Utils = require_utils3();
    function clearCanvas(ctx, canvas, size2) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (!canvas.style)
        canvas.style = {};
      canvas.height = size2;
      canvas.width = size2;
      canvas.style.height = size2 + "px";
      canvas.style.width = size2 + "px";
    }
    function getCanvasElement() {
      try {
        return document.createElement("canvas");
      } catch (e142) {
        throw new Error("You need to specify a canvas element");
      }
    }
    exports.render = function render(qrData, canvas, options) {
      let opts = options;
      let canvasEl = canvas;
      if (typeof opts === "undefined" && (!canvas || !canvas.getContext)) {
        opts = canvas;
        canvas = void 0;
      }
      if (!canvas) {
        canvasEl = getCanvasElement();
      }
      opts = Utils.getOptions(opts);
      const size2 = Utils.getImageWidth(qrData.modules.size, opts);
      const ctx = canvasEl.getContext("2d");
      const image = ctx.createImageData(size2, size2);
      Utils.qrToImageData(image.data, qrData, opts);
      clearCanvas(ctx, canvasEl, size2);
      ctx.putImageData(image, 0, 0);
      return canvasEl;
    };
    exports.renderToDataURL = function renderToDataURL(qrData, canvas, options) {
      let opts = options;
      if (typeof opts === "undefined" && (!canvas || !canvas.getContext)) {
        opts = canvas;
        canvas = void 0;
      }
      if (!opts)
        opts = {};
      const canvasEl = exports.render(qrData, canvas, opts);
      const type = opts.type || "image/png";
      const rendererOpts = opts.rendererOpts || {};
      return canvasEl.toDataURL(type, rendererOpts.quality);
    };
  }
});

// node_modules/qrcode/lib/renderer/svg-tag.js
var require_svg_tag = __commonJS({
  "node_modules/qrcode/lib/renderer/svg-tag.js"(exports) {
    var Utils = require_utils3();
    function getColorAttrib(color, attrib) {
      const alpha = color.a / 255;
      const str = attrib + '="' + color.hex + '"';
      return alpha < 1 ? str + " " + attrib + '-opacity="' + alpha.toFixed(2).slice(1) + '"' : str;
    }
    function svgCmd(cmd, x5, y9) {
      let str = cmd + x5;
      if (typeof y9 !== "undefined")
        str += " " + y9;
      return str;
    }
    function qrToPath(data, size2, margin) {
      let path2 = "";
      let moveBy = 0;
      let newRow = false;
      let lineLength = 0;
      for (let i67 = 0; i67 < data.length; i67++) {
        const col = Math.floor(i67 % size2);
        const row = Math.floor(i67 / size2);
        if (!col && !newRow)
          newRow = true;
        if (data[i67]) {
          lineLength++;
          if (!(i67 > 0 && col > 0 && data[i67 - 1])) {
            path2 += newRow ? svgCmd("M", col + margin, 0.5 + row + margin) : svgCmd("m", moveBy, 0);
            moveBy = 0;
            newRow = false;
          }
          if (!(col + 1 < size2 && data[i67 + 1])) {
            path2 += svgCmd("h", lineLength);
            lineLength = 0;
          }
        } else {
          moveBy++;
        }
      }
      return path2;
    }
    exports.render = function render(qrData, options, cb) {
      const opts = Utils.getOptions(options);
      const size2 = qrData.modules.size;
      const data = qrData.modules.data;
      const qrcodesize = size2 + opts.margin * 2;
      const bg = !opts.color.light.a ? "" : "<path " + getColorAttrib(opts.color.light, "fill") + ' d="M0 0h' + qrcodesize + "v" + qrcodesize + 'H0z"/>';
      const path2 = "<path " + getColorAttrib(opts.color.dark, "stroke") + ' d="' + qrToPath(data, size2, opts.margin) + '"/>';
      const viewBox = 'viewBox="0 0 ' + qrcodesize + " " + qrcodesize + '"';
      const width = !opts.width ? "" : 'width="' + opts.width + '" height="' + opts.width + '" ';
      const svgTag = '<svg xmlns="http://www.w3.org/2000/svg" ' + width + viewBox + ' shape-rendering="crispEdges">' + bg + path2 + "</svg>\n";
      if (typeof cb === "function") {
        cb(null, svgTag);
      }
      return svgTag;
    };
  }
});

// node_modules/qrcode/lib/browser.js
var require_browser = __commonJS({
  "node_modules/qrcode/lib/browser.js"(exports) {
    var canPromise = require_can_promise();
    var QRCode = require_qrcode();
    var CanvasRenderer = require_canvas();
    var SvgRenderer = require_svg_tag();
    function renderCanvas(renderFunc, canvas, text, opts, cb) {
      const args = [].slice.call(arguments, 1);
      const argsNum = args.length;
      const isLastArgCb = typeof args[argsNum - 1] === "function";
      if (!isLastArgCb && !canPromise()) {
        throw new Error("Callback required as last argument");
      }
      if (isLastArgCb) {
        if (argsNum < 2) {
          throw new Error("Too few arguments provided");
        }
        if (argsNum === 2) {
          cb = text;
          text = canvas;
          canvas = opts = void 0;
        } else if (argsNum === 3) {
          if (canvas.getContext && typeof cb === "undefined") {
            cb = opts;
            opts = void 0;
          } else {
            cb = opts;
            opts = text;
            text = canvas;
            canvas = void 0;
          }
        }
      } else {
        if (argsNum < 1) {
          throw new Error("Too few arguments provided");
        }
        if (argsNum === 1) {
          text = canvas;
          canvas = opts = void 0;
        } else if (argsNum === 2 && !canvas.getContext) {
          opts = text;
          text = canvas;
          canvas = void 0;
        }
        return new Promise(function(resolve, reject) {
          try {
            const data = QRCode.create(text, opts);
            resolve(renderFunc(data, canvas, opts));
          } catch (e142) {
            reject(e142);
          }
        });
      }
      try {
        const data = QRCode.create(text, opts);
        cb(null, renderFunc(data, canvas, opts));
      } catch (e142) {
        cb(e142);
      }
    }
    exports.create = QRCode.create;
    exports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render);
    exports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL);
    exports.toString = renderCanvas.bind(null, function(data, _3, opts) {
      return SvgRenderer.render(data, opts);
    });
  }
});

// node_modules/maplibre-gl/dist/maplibre-gl.js
var require_maplibre_gl = __commonJS({
  "node_modules/maplibre-gl/dist/maplibre-gl.js"(exports, module) {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global2 = typeof globalThis !== "undefined" ? globalThis : global2 || self, global2.maplibregl = factory());
    })(exports, function() {
      "use strict";
      var shared, worker, maplibregl3;
      function define2(_3, chunk) {
        if (!shared) {
          shared = chunk;
        } else if (!worker) {
          worker = chunk;
        } else {
          var workerBundleString = "var sharedChunk = {}; (" + shared + ")(sharedChunk); (" + worker + ")(sharedChunk);";
          var sharedChunk = {};
          shared(sharedChunk);
          maplibregl3 = chunk(sharedChunk);
          if (typeof window !== "undefined") {
            maplibregl3.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: "text/javascript" }));
          }
        }
      }
      define2(["exports"], function(t87) {
        "use strict";
        var e142 = r61;
        function r61(t88, e143, r62, n46) {
          this.cx = 3 * t88, this.bx = 3 * (r62 - t88) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * e143, this.by = 3 * (n46 - e143) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = t88, this.p1y = e143, this.p2x = r62, this.p2y = n46;
        }
        function n45(t88, r62, n46, i68) {
          const s63 = new e142(t88, r62, n46, i68);
          return function(t89) {
            return s63.solve(t89);
          };
        }
        r61.prototype = { sampleCurveX: function(t88) {
          return ((this.ax * t88 + this.bx) * t88 + this.cx) * t88;
        }, sampleCurveY: function(t88) {
          return ((this.ay * t88 + this.by) * t88 + this.cy) * t88;
        }, sampleCurveDerivativeX: function(t88) {
          return (3 * this.ax * t88 + 2 * this.bx) * t88 + this.cx;
        }, solveCurveX: function(t88, e143) {
          if (void 0 === e143 && (e143 = 1e-6), t88 < 0)
            return 0;
          if (t88 > 1)
            return 1;
          for (var r62 = t88, n46 = 0; n46 < 8; n46++) {
            var i68 = this.sampleCurveX(r62) - t88;
            if (Math.abs(i68) < e143)
              return r62;
            var s63 = this.sampleCurveDerivativeX(r62);
            if (Math.abs(s63) < 1e-6)
              break;
            r62 -= i68 / s63;
          }
          var a83 = 0, o102 = 1;
          for (r62 = t88, n46 = 0; n46 < 20 && (i68 = this.sampleCurveX(r62), !(Math.abs(i68 - t88) < e143)); n46++)
            t88 > i68 ? a83 = r62 : o102 = r62, r62 = 0.5 * (o102 - a83) + a83;
          return r62;
        }, solve: function(t88, e143) {
          return this.sampleCurveY(this.solveCurveX(t88, e143));
        } };
        const i67 = n45(0.25, 0.1, 0.25, 1);
        function s62(t88, e143, r62) {
          return Math.min(r62, Math.max(e143, t88));
        }
        function a82(t88, e143, r62) {
          const n46 = r62 - e143, i68 = ((t88 - e143) % n46 + n46) % n46 + e143;
          return i68 === e143 ? r62 : i68;
        }
        function o101(t88, ...e143) {
          for (const r62 of e143)
            for (const e144 in r62)
              t88[e144] = r62[e144];
          return t88;
        }
        let l29 = 1;
        function u20(t88, e143) {
          t88.forEach((t89) => {
            e143[t89] && (e143[t89] = e143[t89].bind(e143));
          });
        }
        function c22(t88, e143, r62) {
          const n46 = {};
          for (const i68 in t88)
            n46[i68] = e143.call(r62 || this, t88[i68], i68, t88);
          return n46;
        }
        function h12(t88, e143, r62) {
          const n46 = {};
          for (const i68 in t88)
            e143.call(r62 || this, t88[i68], i68, t88) && (n46[i68] = t88[i68]);
          return n46;
        }
        function p17(t88) {
          return Array.isArray(t88) ? t88.map(p17) : "object" == typeof t88 && t88 ? c22(t88, p17) : t88;
        }
        const f21 = {};
        function d10(t88) {
          f21[t88] || ("undefined" != typeof console && console.warn(t88), f21[t88] = true);
        }
        function y9(t88, e143, r62) {
          return (r62.y - t88.y) * (e143.x - t88.x) > (e143.y - t88.y) * (r62.x - t88.x);
        }
        function m29(t88) {
          let e143 = 0;
          for (let r62, n46, i68 = 0, s63 = t88.length, a83 = s63 - 1; i68 < s63; a83 = i68++)
            r62 = t88[i68], n46 = t88[a83], e143 += (n46.x - r62.x) * (r62.y + n46.y);
          return e143;
        }
        function g14() {
          return "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope;
        }
        function x5(t88) {
          const e143 = {};
          if (t88.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g, (t89, r62, n46, i68) => {
            const s63 = n46 || i68;
            return e143[r62] = !s63 || s63.toLowerCase(), "";
          }), e143["max-age"]) {
            const t89 = parseInt(e143["max-age"], 10);
            isNaN(t89) ? delete e143["max-age"] : e143["max-age"] = t89;
          }
          return e143;
        }
        let v5, b7, w3 = null;
        function _3(t88) {
          if (null == w3) {
            const e143 = t88.navigator ? t88.navigator.userAgent : null;
            w3 = !!t88.safari || !(!e143 || !(/\b(iPad|iPhone|iPod)\b/.test(e143) || e143.match("Safari") && !e143.match("Chrome")));
          }
          return w3;
        }
        function A3(t88) {
          return "undefined" != typeof ImageBitmap && t88 instanceof ImageBitmap;
        }
        const k6 = { now: "undefined" != typeof performance && performance && performance.now ? performance.now.bind(performance) : Date.now.bind(Date), frame(t88) {
          const e143 = requestAnimationFrame(t88);
          return { cancel: () => cancelAnimationFrame(e143) };
        }, getImageData(t88, e143 = 0) {
          const r62 = window.document.createElement("canvas"), n46 = r62.getContext("2d");
          if (!n46)
            throw new Error("failed to create canvas 2d context");
          return r62.width = t88.width, r62.height = t88.height, n46.drawImage(t88, 0, 0, t88.width, t88.height), n46.getImageData(-e143, -e143, t88.width + 2 * e143, t88.height + 2 * e143);
        }, resolveURL: (t88) => (v5 || (v5 = document.createElement("a")), v5.href = t88, v5.href), hardwareConcurrency: "undefined" != typeof navigator && navigator.hardwareConcurrency || 4, get prefersReducedMotion() {
          return !!matchMedia && (null == b7 && (b7 = matchMedia("(prefers-reduced-motion: reduce)")), b7.matches);
        } };
        var S = z2;
        function z2(t88, e143) {
          this.x = t88, this.y = e143;
        }
        z2.prototype = { clone: function() {
          return new z2(this.x, this.y);
        }, add: function(t88) {
          return this.clone()._add(t88);
        }, sub: function(t88) {
          return this.clone()._sub(t88);
        }, multByPoint: function(t88) {
          return this.clone()._multByPoint(t88);
        }, divByPoint: function(t88) {
          return this.clone()._divByPoint(t88);
        }, mult: function(t88) {
          return this.clone()._mult(t88);
        }, div: function(t88) {
          return this.clone()._div(t88);
        }, rotate: function(t88) {
          return this.clone()._rotate(t88);
        }, rotateAround: function(t88, e143) {
          return this.clone()._rotateAround(t88, e143);
        }, matMult: function(t88) {
          return this.clone()._matMult(t88);
        }, unit: function() {
          return this.clone()._unit();
        }, perp: function() {
          return this.clone()._perp();
        }, round: function() {
          return this.clone()._round();
        }, mag: function() {
          return Math.sqrt(this.x * this.x + this.y * this.y);
        }, equals: function(t88) {
          return this.x === t88.x && this.y === t88.y;
        }, dist: function(t88) {
          return Math.sqrt(this.distSqr(t88));
        }, distSqr: function(t88) {
          var e143 = t88.x - this.x, r62 = t88.y - this.y;
          return e143 * e143 + r62 * r62;
        }, angle: function() {
          return Math.atan2(this.y, this.x);
        }, angleTo: function(t88) {
          return Math.atan2(this.y - t88.y, this.x - t88.x);
        }, angleWith: function(t88) {
          return this.angleWithSep(t88.x, t88.y);
        }, angleWithSep: function(t88, e143) {
          return Math.atan2(this.x * e143 - this.y * t88, this.x * t88 + this.y * e143);
        }, _matMult: function(t88) {
          var e143 = t88[2] * this.x + t88[3] * this.y;
          return this.x = t88[0] * this.x + t88[1] * this.y, this.y = e143, this;
        }, _add: function(t88) {
          return this.x += t88.x, this.y += t88.y, this;
        }, _sub: function(t88) {
          return this.x -= t88.x, this.y -= t88.y, this;
        }, _mult: function(t88) {
          return this.x *= t88, this.y *= t88, this;
        }, _div: function(t88) {
          return this.x /= t88, this.y /= t88, this;
        }, _multByPoint: function(t88) {
          return this.x *= t88.x, this.y *= t88.y, this;
        }, _divByPoint: function(t88) {
          return this.x /= t88.x, this.y /= t88.y, this;
        }, _unit: function() {
          return this._div(this.mag()), this;
        }, _perp: function() {
          var t88 = this.y;
          return this.y = this.x, this.x = -t88, this;
        }, _rotate: function(t88) {
          var e143 = Math.cos(t88), r62 = Math.sin(t88), n46 = r62 * this.x + e143 * this.y;
          return this.x = e143 * this.x - r62 * this.y, this.y = n46, this;
        }, _rotateAround: function(t88, e143) {
          var r62 = Math.cos(t88), n46 = Math.sin(t88), i68 = e143.y + n46 * (this.x - e143.x) + r62 * (this.y - e143.y);
          return this.x = e143.x + r62 * (this.x - e143.x) - n46 * (this.y - e143.y), this.y = i68, this;
        }, _round: function() {
          return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
        } }, z2.convert = function(t88) {
          return t88 instanceof z2 ? t88 : Array.isArray(t88) ? new z2(t88[0], t88[1]) : t88;
        };
        const I2 = { MAX_PARALLEL_IMAGE_REQUESTS: 16, REGISTERED_PROTOCOLS: {} }, M4 = "mapbox-tiles";
        let B2, C7, P2 = 500, V2 = 50;
        function E4() {
          "undefined" == typeof caches || B2 || (B2 = caches.open(M4));
        }
        let F4 = 1 / 0;
        const T2 = { supported: false, testSupport: function(t88) {
          !$ && D3 && (R ? U2(t88) : L = t88);
        } };
        let L, D3, $ = false, R = false;
        function U2(t88) {
          const e143 = t88.createTexture();
          t88.bindTexture(t88.TEXTURE_2D, e143);
          try {
            if (t88.texImage2D(t88.TEXTURE_2D, 0, t88.RGBA, t88.RGBA, t88.UNSIGNED_BYTE, D3), t88.isContextLost())
              return;
            T2.supported = true;
          } catch (t89) {
          }
          t88.deleteTexture(e143), $ = true;
        }
        "undefined" != typeof document && (D3 = document.createElement("img"), D3.onload = function() {
          L && U2(L), L = null, R = true;
        }, D3.onerror = function() {
          $ = true, L = null;
        }, D3.src = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");
        const O2 = { Unknown: "Unknown", Style: "Style", Source: "Source", Tile: "Tile", Glyphs: "Glyphs", SpriteImage: "SpriteImage", SpriteJSON: "SpriteJSON", Image: "Image" };
        "function" == typeof Object.freeze && Object.freeze(O2);
        class q3 extends Error {
          constructor(t88, e143, r62, n46) {
            super(`AJAXError: ${e143} (${t88}): ${r62}`), this.status = t88, this.statusText = e143, this.url = r62, this.body = n46;
          }
        }
        const j7 = g14() ? () => self.worker && self.worker.referrer : () => ("blob:" === window.location.protocol ? window.parent : window).location.href;
        function N5(t88, e143) {
          const r62 = new AbortController(), n46 = new Request(t88.url, { method: t88.method || "GET", body: t88.body, credentials: t88.credentials, headers: t88.headers, referrer: j7(), signal: r62.signal });
          let i68 = false, s63 = false;
          "json" === t88.type && n46.headers.set("Accept", "application/json");
          return ((r63, a83, o102) => {
            if (s63)
              return;
            const l30 = Date.now();
            fetch(n46).then((r64) => r64.ok ? ((r65, a84, o103) => {
              ("arrayBuffer" === t88.type ? r65.arrayBuffer() : "json" === t88.type ? r65.json() : r65.text()).then((t89) => {
                s63 || (a84 && o103 && function(t90, e144, r66) {
                  if (E4(), !B2)
                    return;
                  const n47 = { status: e144.status, statusText: e144.statusText, headers: new Headers() };
                  e144.headers.forEach((t91, e145) => n47.headers.set(e145, t91));
                  const i69 = x5(e144.headers.get("Cache-Control") || "");
                  i69["no-store"] || (i69["max-age"] && n47.headers.set("Expires", new Date(r66 + 1e3 * i69["max-age"]).toUTCString()), new Date(n47.headers.get("Expires")).getTime() - r66 < 42e4 || function(t91, e145) {
                    if (void 0 === C7)
                      try {
                        new Response(new ReadableStream()), C7 = true;
                      } catch (t92) {
                        C7 = false;
                      }
                    C7 ? e145(t91.body) : t91.blob().then(e145);
                  }(e144, (e145) => {
                    const r67 = new Response(e145, n47);
                    E4(), B2 && B2.then((e146) => e146.put(function(t91) {
                      const e147 = t91.indexOf("?");
                      return e147 < 0 ? t91 : t91.slice(0, e147);
                    }(t90.url), r67)).catch((t91) => d10(t91.message));
                  }));
                }(n46, a84, o103), i68 = true, e143(null, t89, r65.headers.get("Cache-Control"), r65.headers.get("Expires")));
              }).catch((t89) => {
                s63 || e143(new Error(t89.message));
              });
            })(r64, null, l30) : r64.blob().then((n47) => e143(new q3(r64.status, r64.statusText, t88.url, n47)))).catch((t89) => {
              20 !== t89.code && e143(new Error(t89.message));
            });
          })(), { cancel: () => {
            s63 = true, i68 || r62.abort();
          } };
        }
        const K = function(t88, e143) {
          if (/:\/\//.test(t88.url) && !/^https?:|^file:/.test(t88.url)) {
            if (g14() && self.worker && self.worker.actor)
              return self.worker.actor.send("getResource", t88, e143);
            if (!g14()) {
              const r63 = t88.url.substring(0, t88.url.indexOf("://"));
              return (I2.REGISTERED_PROTOCOLS[r63] || N5)(t88, e143);
            }
          }
          if (!(/^file:/.test(r62 = t88.url) || /^file:/.test(j7()) && !/^\w+:/.test(r62))) {
            if (fetch && Request && AbortController && Object.prototype.hasOwnProperty.call(Request.prototype, "signal"))
              return N5(t88, e143);
            if (g14() && self.worker && self.worker.actor)
              return self.worker.actor.send("getResource", t88, e143, void 0, true);
          }
          var r62;
          return function(t89, e144) {
            const r63 = new XMLHttpRequest();
            r63.open(t89.method || "GET", t89.url, true), "arrayBuffer" === t89.type && (r63.responseType = "arraybuffer");
            for (const e145 in t89.headers)
              r63.setRequestHeader(e145, t89.headers[e145]);
            return "json" === t89.type && (r63.responseType = "text", r63.setRequestHeader("Accept", "application/json")), r63.withCredentials = "include" === t89.credentials, r63.onerror = () => {
              e144(new Error(r63.statusText));
            }, r63.onload = () => {
              if ((r63.status >= 200 && r63.status < 300 || 0 === r63.status) && null !== r63.response) {
                let n46 = r63.response;
                if ("json" === t89.type)
                  try {
                    n46 = JSON.parse(r63.response);
                  } catch (t90) {
                    return e144(t90);
                  }
                e144(null, n46, r63.getResponseHeader("Cache-Control"), r63.getResponseHeader("Expires"));
              } else {
                const n46 = new Blob([r63.response], { type: r63.getResponseHeader("Content-Type") });
                e144(new q3(r63.status, r63.statusText, t89.url, n46));
              }
            }, r63.send(t89.body), { cancel: () => r63.abort() };
          }(t88, e143);
        }, Z = function(t88, e143) {
          return K(o101(t88, { type: "arrayBuffer" }), e143);
        };
        function G(t88) {
          const e143 = window.document.createElement("a");
          return e143.href = t88, e143.protocol === window.document.location.protocol && e143.host === window.document.location.host;
        }
        const J = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";
        let X, Y;
        X = [], Y = 0;
        const H = function(t88, e143) {
          if (T2.supported && (t88.headers || (t88.headers = {}), t88.headers.accept = "image/webp,*/*"), Y >= I2.MAX_PARALLEL_IMAGE_REQUESTS) {
            const r63 = { requestParameters: t88, callback: e143, cancelled: false, cancel() {
              this.cancelled = true;
            } };
            return X.push(r63), r63;
          }
          Y++;
          let r62 = false;
          const n46 = () => {
            if (!r62)
              for (r62 = true, Y--; X.length && Y < I2.MAX_PARALLEL_IMAGE_REQUESTS; ) {
                const t89 = X.shift(), { requestParameters: e144, callback: r63, cancelled: n47 } = t89;
                n47 || (t89.cancel = H(e144, r63).cancel);
              }
          }, i68 = Z(t88, (t89, r63, i69, s63) => {
            n46(), t89 ? e143(t89) : r63 && function(t90, e144) {
              "function" == typeof createImageBitmap ? function(t91, e145) {
                const r64 = new Blob([new Uint8Array(t91)], { type: "image/png" });
                createImageBitmap(r64).then((t92) => {
                  e145(null, t92);
                }).catch((t92) => {
                  e145(new Error(`Could not load image because of ${t92.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));
                });
              }(t90, e144) : function(t91, e145) {
                const r64 = new Image();
                r64.onload = () => {
                  e145(null, r64), URL.revokeObjectURL(r64.src), r64.onload = null, window.requestAnimationFrame(() => {
                    r64.src = J;
                  });
                }, r64.onerror = () => e145(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));
                const n47 = new Blob([new Uint8Array(t91)], { type: "image/png" });
                r64.src = t91.byteLength ? URL.createObjectURL(n47) : J;
              }(t90, e144);
            }(r63, (t90, r64) => {
              null != t90 ? e143(t90) : null != r64 && e143(null, r64, { cacheControl: i69, expires: s63 });
            });
          });
          return { cancel: () => {
            i68.cancel(), n46();
          } };
        };
        function W(t88, e143, r62) {
          r62[t88] && -1 !== r62[t88].indexOf(e143) || (r62[t88] = r62[t88] || [], r62[t88].push(e143));
        }
        function Q(t88, e143, r62) {
          if (r62 && r62[t88]) {
            const n46 = r62[t88].indexOf(e143);
            -1 !== n46 && r62[t88].splice(n46, 1);
          }
        }
        class tt {
          constructor(t88, e143 = {}) {
            o101(this, e143), this.type = t88;
          }
        }
        class et extends tt {
          constructor(t88, e143 = {}) {
            super("error", o101({ error: t88 }, e143));
          }
        }
        class rt {
          on(t88, e143) {
            return this._listeners = this._listeners || {}, W(t88, e143, this._listeners), this;
          }
          off(t88, e143) {
            return Q(t88, e143, this._listeners), Q(t88, e143, this._oneTimeListeners), this;
          }
          once(t88, e143) {
            return this._oneTimeListeners = this._oneTimeListeners || {}, W(t88, e143, this._oneTimeListeners), this;
          }
          fire(t88, e143) {
            "string" == typeof t88 && (t88 = new tt(t88, e143 || {}));
            const r62 = t88.type;
            if (this.listens(r62)) {
              t88.target = this;
              const e144 = this._listeners && this._listeners[r62] ? this._listeners[r62].slice() : [];
              for (const r63 of e144)
                r63.call(this, t88);
              const n46 = this._oneTimeListeners && this._oneTimeListeners[r62] ? this._oneTimeListeners[r62].slice() : [];
              for (const e145 of n46)
                Q(r62, e145, this._oneTimeListeners), e145.call(this, t88);
              const i68 = this._eventedParent;
              i68 && (o101(t88, "function" == typeof this._eventedParentData ? this._eventedParentData() : this._eventedParentData), i68.fire(t88));
            } else
              t88 instanceof et && console.error(t88.error);
            return this;
          }
          listens(t88) {
            return this._listeners && this._listeners[t88] && this._listeners[t88].length > 0 || this._oneTimeListeners && this._oneTimeListeners[t88] && this._oneTimeListeners[t88].length > 0 || this._eventedParent && this._eventedParent.listens(t88);
          }
          setEventedParent(t88, e143) {
            return this._eventedParent = t88, this._eventedParentData = e143, this;
          }
        }
        var nt = { $version: 8, $root: { version: { required: true, type: "enum", values: [8] }, name: { type: "string" }, metadata: { type: "*" }, center: { type: "array", value: "number" }, zoom: { type: "number" }, bearing: { type: "number", default: 0, period: 360, units: "degrees" }, pitch: { type: "number", default: 0, units: "degrees" }, light: { type: "light" }, sources: { required: true, type: "sources" }, sprite: { type: "string" }, glyphs: { type: "string" }, transition: { type: "transition" }, layers: { required: true, type: "array", value: "layer" } }, sources: { "*": { type: "source" } }, source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"], source_vector: { type: { required: true, type: "enum", values: { vector: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, attribution: { type: "string" }, promoteId: { type: "promoteId" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_raster: { type: { required: true, type: "enum", values: { raster: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, attribution: { type: "string" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_raster_dem: { type: { required: true, type: "enum", values: { "raster-dem": {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, attribution: { type: "string" }, encoding: { type: "enum", values: { terrarium: {}, mapbox: {} }, default: "mapbox" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_geojson: { type: { required: true, type: "enum", values: { geojson: {} } }, data: { type: "*" }, maxzoom: { type: "number", default: 18 }, attribution: { type: "string" }, buffer: { type: "number", default: 128, maximum: 512, minimum: 0 }, filter: { type: "*" }, tolerance: { type: "number", default: 0.375 }, cluster: { type: "boolean", default: false }, clusterRadius: { type: "number", default: 50, minimum: 0 }, clusterMaxZoom: { type: "number" }, clusterMinPoints: { type: "number" }, clusterProperties: { type: "*" }, lineMetrics: { type: "boolean", default: false }, generateId: { type: "boolean", default: false }, promoteId: { type: "promoteId" } }, source_video: { type: { required: true, type: "enum", values: { video: {} } }, urls: { required: true, type: "array", value: "string" }, coordinates: { required: true, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, source_image: { type: { required: true, type: "enum", values: { image: {} } }, url: { required: true, type: "string" }, coordinates: { required: true, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, layer: { id: { type: "string", required: true }, type: { type: "enum", values: { fill: {}, line: {}, symbol: {}, circle: {}, heatmap: {}, "fill-extrusion": {}, raster: {}, hillshade: {}, background: {} }, required: true }, metadata: { type: "*" }, source: { type: "string" }, "source-layer": { type: "string" }, minzoom: { type: "number", minimum: 0, maximum: 24 }, maxzoom: { type: "number", minimum: 0, maximum: 24 }, filter: { type: "filter" }, layout: { type: "layout" }, paint: { type: "paint" } }, layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background"], layout_background: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_fill: { "fill-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_circle: { "circle-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_heatmap: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, "layout_fill-extrusion": { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_line: { "line-cap": { type: "enum", values: { butt: {}, round: {}, square: {} }, default: "butt", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-join": { type: "enum", values: { bevel: {}, round: {}, miter: {} }, default: "miter", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "line-miter-limit": { type: "number", default: 2, requires: [{ "line-join": "miter" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-round-limit": { type: "number", default: 1.05, requires: [{ "line-join": "round" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_symbol: { "symbol-placement": { type: "enum", values: { point: {}, line: {}, "line-center": {} }, default: "point", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-spacing": { type: "number", default: 250, minimum: 1, units: "pixels", requires: [{ "symbol-placement": "line" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-avoid-edges": { type: "boolean", default: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "symbol-z-order": { type: "enum", values: { auto: {}, "viewport-y": {}, source: {} }, default: "auto", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-allow-overlap": { type: "boolean", default: false, requires: ["icon-image", { "!": "icon-overlap" }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-overlap": { type: "enum", values: { never: {}, always: {}, cooperative: {} }, requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-ignore-placement": { type: "boolean", default: false, requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-optional": { type: "boolean", default: false, requires: ["icon-image", "text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-size": { type: "number", default: 1, minimum: 0, units: "factor of the original icon size", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-text-fit": { type: "enum", values: { none: {}, width: {}, height: {}, both: {} }, default: "none", requires: ["icon-image", "text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-text-fit-padding": { type: "array", value: "number", length: 4, default: [0, 0, 0, 0], units: "pixels", requires: ["icon-image", "text-field", { "icon-text-fit": ["both", "width", "height"] }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-image": { type: "resolvedImage", tokens: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-padding": { type: "number", default: 2, minimum: 0, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-keep-upright": { type: "boolean", default: false, requires: ["icon-image", { "icon-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-offset": { type: "array", value: "number", length: 2, default: [0, 0], requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, "viewport-glyph": {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-field": { type: "formatted", default: "", tokens: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-font": { type: "array", value: "string", default: ["Open Sans Regular", "Arial Unicode MS Regular"], requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-size": { type: "number", default: 16, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-width": { type: "number", default: 10, minimum: 0, units: "ems", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-line-height": { type: "number", default: 1.2, units: "ems", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-letter-spacing": { type: "number", default: 0, units: "ems", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-justify": { type: "enum", values: { auto: {}, left: {}, center: {}, right: {} }, default: "center", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-radial-offset": { type: "number", units: "ems", default: 0, requires: ["text-field"], "property-type": "data-driven", expression: { interpolated: true, parameters: ["zoom", "feature"] } }, "text-variable-anchor": { type: "array", value: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["text-field", { "!": "text-variable-anchor" }], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-angle": { type: "number", default: 45, units: "degrees", requires: ["text-field", { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-writing-mode": { type: "array", value: "enum", values: { horizontal: {}, vertical: {} }, requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-padding": { type: "number", default: 2, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-keep-upright": { type: "boolean", default: true, requires: ["text-field", { "text-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-transform": { type: "enum", values: { none: {}, uppercase: {}, lowercase: {} }, default: "none", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-offset": { type: "array", value: "number", units: "ems", length: 2, default: [0, 0], requires: ["text-field", { "!": "text-radial-offset" }], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-allow-overlap": { type: "boolean", default: false, requires: ["text-field", { "!": "text-overlap" }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-overlap": { type: "enum", values: { never: {}, always: {}, cooperative: {} }, requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-ignore-placement": { type: "boolean", default: false, requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-optional": { type: "boolean", default: false, requires: ["text-field", "icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_raster: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_hillshade: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, filter: { type: "array", value: "*" }, filter_operator: { type: "enum", values: { "==": {}, "!=": {}, ">": {}, ">=": {}, "<": {}, "<=": {}, in: {}, "!in": {}, all: {}, any: {}, none: {}, has: {}, "!has": {}, within: {} } }, geometry_type: { type: "enum", values: { Point: {}, LineString: {}, Polygon: {} } }, function: { expression: { type: "expression" }, stops: { type: "array", value: "function_stop" }, base: { type: "number", default: 1, minimum: 0 }, property: { type: "string", default: "$zoom" }, type: { type: "enum", values: { identity: {}, exponential: {}, interval: {}, categorical: {} }, default: "exponential" }, colorSpace: { type: "enum", values: { rgb: {}, lab: {}, hcl: {} }, default: "rgb" }, default: { type: "*", required: false } }, function_stop: { type: "array", minimum: 0, maximum: 24, value: ["number", "color"], length: 2 }, expression: { type: "array", value: "*", minimum: 1 }, light: { anchor: { type: "enum", default: "viewport", values: { map: {}, viewport: {} }, "property-type": "data-constant", transition: false, expression: { interpolated: false, parameters: ["zoom"] } }, position: { type: "array", default: [1.15, 210, 30], length: 3, value: "number", "property-type": "data-constant", transition: true, expression: { interpolated: true, parameters: ["zoom"] } }, color: { type: "color", "property-type": "data-constant", default: "#ffffff", expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, intensity: { type: "number", "property-type": "data-constant", default: 0.5, minimum: 0, maximum: 1, expression: { interpolated: true, parameters: ["zoom"] }, transition: true } }, paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background"], paint_fill: { "fill-antialias": { type: "boolean", default: true, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "fill-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-outline-color": { type: "color", transition: true, requires: [{ "!": "fill-pattern" }, { "fill-antialias": true }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" } }, "paint_fill-extrusion": { "fill-extrusion-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "fill-extrusion-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-extrusion-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "fill-extrusion-height": { type: "number", default: 0, minimum: 0, units: "meters", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-base": { type: "number", default: 0, minimum: 0, units: "meters", transition: true, requires: ["fill-extrusion-height"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-vertical-gradient": { type: "boolean", default: true, transition: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_line: { "line-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "line-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["line-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-width": { type: "number", default: 1, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-gap-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-offset": { type: "number", default: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-dasharray": { type: "array", value: "number", minimum: 0, transition: true, units: "line widths", requires: [{ "!": "line-pattern" }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "cross-faded" }, "line-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "line-gradient": { type: "color", transition: false, requires: [{ "!": "line-dasharray" }, { "!": "line-pattern" }, { source: "geojson", has: { lineMetrics: true } }], expression: { interpolated: true, parameters: ["line-progress"] }, "property-type": "color-ramp" } }, paint_circle: { "circle-radius": { type: "number", default: 5, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-blur": { type: "number", default: 0, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["circle-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-scale": { type: "enum", values: { map: {}, viewport: {} }, default: "map", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-alignment": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-stroke-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" } }, paint_heatmap: { "heatmap-radius": { type: "number", default: 30, minimum: 1, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-weight": { type: "number", default: 1, minimum: 0, transition: false, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-intensity": { type: "number", default: 1, minimum: 0, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "heatmap-color": { type: "color", default: ["interpolate", ["linear"], ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", 0.1, "royalblue", 0.3, "cyan", 0.5, "lime", 0.7, "yellow", 1, "red"], transition: false, expression: { interpolated: true, parameters: ["heatmap-density"] }, "property-type": "color-ramp" }, "heatmap-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_symbol: { "icon-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-color": { type: "color", default: "#000000", transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["icon-image", "icon-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-color": { type: "color", default: "#000000", transition: true, overridable: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["text-field", "text-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_raster: { "raster-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-hue-rotate": { type: "number", default: 0, period: 360, transition: true, units: "degrees", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-min": { type: "number", default: 0, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-max": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-saturation": { type: "number", default: 0, minimum: -1, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-contrast": { type: "number", default: 0, minimum: -1, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-resampling": { type: "enum", values: { linear: {}, nearest: {} }, default: "linear", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-fade-duration": { type: "number", default: 300, minimum: 0, transition: false, units: "milliseconds", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_hillshade: { "hillshade-illumination-direction": { type: "number", default: 335, minimum: 0, maximum: 359, transition: false, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-illumination-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-exaggeration": { type: "number", default: 0.5, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-shadow-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-highlight-color": { type: "color", default: "#FFFFFF", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-accent-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_background: { "background-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "background-pattern" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "background-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "cross-faded" }, "background-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, transition: { duration: { type: "number", default: 300, minimum: 0, units: "milliseconds" }, delay: { type: "number", default: 0, minimum: 0, units: "milliseconds" } }, "property-type": { "data-driven": { type: "property-type" }, "cross-faded": { type: "property-type" }, "cross-faded-data-driven": { type: "property-type" }, "color-ramp": { type: "property-type" }, "data-constant": { type: "property-type" }, constant: { type: "property-type" } }, promoteId: { "*": { type: "string" } } };
        class it {
          constructor(t88, e143, r62, n46) {
            this.message = (t88 ? `${t88}: ` : "") + r62, n46 && (this.identifier = n46), null != e143 && e143.__line__ && (this.line = e143.__line__);
          }
        }
        function st(t88) {
          const e143 = t88.value;
          return e143 ? [new it(t88.key, e143, "constants have been deprecated as of v8")] : [];
        }
        function at(t88, ...e143) {
          for (const r62 of e143)
            for (const e144 in r62)
              t88[e144] = r62[e144];
          return t88;
        }
        function ot(t88) {
          return t88 instanceof Number || t88 instanceof String || t88 instanceof Boolean ? t88.valueOf() : t88;
        }
        function lt(t88) {
          if (Array.isArray(t88))
            return t88.map(lt);
          if (t88 instanceof Object && !(t88 instanceof Number || t88 instanceof String || t88 instanceof Boolean)) {
            const e143 = {};
            for (const r62 in t88)
              e143[r62] = lt(t88[r62]);
            return e143;
          }
          return ot(t88);
        }
        class ut extends Error {
          constructor(t88, e143) {
            super(e143), this.message = e143, this.key = t88;
          }
        }
        class ct {
          constructor(t88, e143 = []) {
            this.parent = t88, this.bindings = {};
            for (const [t89, r62] of e143)
              this.bindings[t89] = r62;
          }
          concat(t88) {
            return new ct(this, t88);
          }
          get(t88) {
            if (this.bindings[t88])
              return this.bindings[t88];
            if (this.parent)
              return this.parent.get(t88);
            throw new Error(`${t88} not found in scope.`);
          }
          has(t88) {
            return !!this.bindings[t88] || !!this.parent && this.parent.has(t88);
          }
        }
        const ht = { kind: "null" }, pt = { kind: "number" }, ft = { kind: "string" }, dt = { kind: "boolean" }, yt = { kind: "color" }, mt = { kind: "object" }, gt = { kind: "value" }, xt = { kind: "collator" }, vt = { kind: "formatted" }, bt = { kind: "resolvedImage" };
        function wt(t88, e143) {
          return { kind: "array", itemType: t88, N: e143 };
        }
        function _t(t88) {
          if ("array" === t88.kind) {
            const e143 = _t(t88.itemType);
            return "number" == typeof t88.N ? `array<${e143}, ${t88.N}>` : "value" === t88.itemType.kind ? "array" : `array<${e143}>`;
          }
          return t88.kind;
        }
        const At = [ht, pt, ft, dt, yt, vt, mt, wt(gt), bt];
        function kt(t88, e143) {
          if ("error" === e143.kind)
            return null;
          if ("array" === t88.kind) {
            if ("array" === e143.kind && (0 === e143.N && "value" === e143.itemType.kind || !kt(t88.itemType, e143.itemType)) && ("number" != typeof t88.N || t88.N === e143.N))
              return null;
          } else {
            if (t88.kind === e143.kind)
              return null;
            if ("value" === t88.kind) {
              for (const t89 of At)
                if (!kt(t89, e143))
                  return null;
            }
          }
          return `Expected ${_t(t88)} but found ${_t(e143)} instead.`;
        }
        function St(t88, e143) {
          return e143.some((e144) => e144.kind === t88.kind);
        }
        function zt(t88, e143) {
          return e143.some((e144) => "null" === e144 ? null === t88 : "array" === e144 ? Array.isArray(t88) : "object" === e144 ? t88 && !Array.isArray(t88) && "object" == typeof t88 : e144 === typeof t88);
        }
        var It, Mt = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], rebeccapurple: [102, 51, 153, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] };
        function Bt(t88) {
          return (t88 = Math.round(t88)) < 0 ? 0 : t88 > 255 ? 255 : t88;
        }
        function Ct(t88) {
          return Bt("%" === t88[t88.length - 1] ? parseFloat(t88) / 100 * 255 : parseInt(t88));
        }
        function Pt(t88) {
          return (e143 = "%" === t88[t88.length - 1] ? parseFloat(t88) / 100 : parseFloat(t88)) < 0 ? 0 : e143 > 1 ? 1 : e143;
          var e143;
        }
        function Vt(t88, e143, r62) {
          return r62 < 0 ? r62 += 1 : r62 > 1 && (r62 -= 1), 6 * r62 < 1 ? t88 + (e143 - t88) * r62 * 6 : 2 * r62 < 1 ? e143 : 3 * r62 < 2 ? t88 + (e143 - t88) * (2 / 3 - r62) * 6 : t88;
        }
        try {
          It = {}.parseCSSColor = function(t88) {
            var e143, r62 = t88.replace(/ /g, "").toLowerCase();
            if (r62 in Mt)
              return Mt[r62].slice();
            if ("#" === r62[0])
              return 4 === r62.length ? (e143 = parseInt(r62.substr(1), 16)) >= 0 && e143 <= 4095 ? [(3840 & e143) >> 4 | (3840 & e143) >> 8, 240 & e143 | (240 & e143) >> 4, 15 & e143 | (15 & e143) << 4, 1] : null : 7 === r62.length && (e143 = parseInt(r62.substr(1), 16)) >= 0 && e143 <= 16777215 ? [(16711680 & e143) >> 16, (65280 & e143) >> 8, 255 & e143, 1] : null;
            var n46 = r62.indexOf("("), i68 = r62.indexOf(")");
            if (-1 !== n46 && i68 + 1 === r62.length) {
              var s63 = r62.substr(0, n46), a83 = r62.substr(n46 + 1, i68 - (n46 + 1)).split(","), o102 = 1;
              switch (s63) {
                case "rgba":
                  if (4 !== a83.length)
                    return null;
                  o102 = Pt(a83.pop());
                case "rgb":
                  return 3 !== a83.length ? null : [Ct(a83[0]), Ct(a83[1]), Ct(a83[2]), o102];
                case "hsla":
                  if (4 !== a83.length)
                    return null;
                  o102 = Pt(a83.pop());
                case "hsl":
                  if (3 !== a83.length)
                    return null;
                  var l30 = (parseFloat(a83[0]) % 360 + 360) % 360 / 360, u21 = Pt(a83[1]), c23 = Pt(a83[2]), h13 = c23 <= 0.5 ? c23 * (u21 + 1) : c23 + u21 - c23 * u21, p18 = 2 * c23 - h13;
                  return [Bt(255 * Vt(p18, h13, l30 + 1 / 3)), Bt(255 * Vt(p18, h13, l30)), Bt(255 * Vt(p18, h13, l30 - 1 / 3)), o102];
                default:
                  return null;
              }
            }
            return null;
          };
        } catch (t88) {
        }
        class Et {
          constructor(t88, e143, r62, n46 = 1) {
            this.r = t88, this.g = e143, this.b = r62, this.a = n46;
          }
          static parse(t88) {
            if (!t88)
              return;
            if (t88 instanceof Et)
              return t88;
            if ("string" != typeof t88)
              return;
            const e143 = It(t88);
            return e143 ? new Et(e143[0] / 255 * e143[3], e143[1] / 255 * e143[3], e143[2] / 255 * e143[3], e143[3]) : void 0;
          }
          toString() {
            const [t88, e143, r62, n46] = this.toArray();
            return `rgba(${Math.round(t88)},${Math.round(e143)},${Math.round(r62)},${n46})`;
          }
          toArray() {
            const { r: t88, g: e143, b: r62, a: n46 } = this;
            return 0 === n46 ? [0, 0, 0, 0] : [255 * t88 / n46, 255 * e143 / n46, 255 * r62 / n46, n46];
          }
        }
        Et.black = new Et(0, 0, 0, 1), Et.white = new Et(1, 1, 1, 1), Et.transparent = new Et(0, 0, 0, 0), Et.red = new Et(1, 0, 0, 1);
        class Ft {
          constructor(t88, e143, r62) {
            this.sensitivity = t88 ? e143 ? "variant" : "case" : e143 ? "accent" : "base", this.locale = r62, this.collator = new Intl.Collator(this.locale ? this.locale : [], { sensitivity: this.sensitivity, usage: "search" });
          }
          compare(t88, e143) {
            return this.collator.compare(t88, e143);
          }
          resolvedLocale() {
            return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale;
          }
        }
        class Tt {
          constructor(t88, e143, r62, n46, i68) {
            this.text = t88, this.image = e143, this.scale = r62, this.fontStack = n46, this.textColor = i68;
          }
        }
        class Lt {
          constructor(t88) {
            this.sections = t88;
          }
          static fromString(t88) {
            return new Lt([new Tt(t88, null, null, null, null)]);
          }
          isEmpty() {
            return 0 === this.sections.length || !this.sections.some((t88) => 0 !== t88.text.length || t88.image && 0 !== t88.image.name.length);
          }
          static factory(t88) {
            return t88 instanceof Lt ? t88 : Lt.fromString(t88);
          }
          toString() {
            return 0 === this.sections.length ? "" : this.sections.map((t88) => t88.text).join("");
          }
          serialize() {
            const t88 = ["format"];
            for (const e143 of this.sections) {
              if (e143.image) {
                t88.push(["image", e143.image.name]);
                continue;
              }
              t88.push(e143.text);
              const r62 = {};
              e143.fontStack && (r62["text-font"] = ["literal", e143.fontStack.split(",")]), e143.scale && (r62["font-scale"] = e143.scale), e143.textColor && (r62["text-color"] = ["rgba"].concat(e143.textColor.toArray())), t88.push(r62);
            }
            return t88;
          }
        }
        class Dt {
          constructor(t88) {
            this.name = t88.name, this.available = t88.available;
          }
          toString() {
            return this.name;
          }
          static fromString(t88) {
            return t88 ? new Dt({ name: t88, available: false }) : null;
          }
          serialize() {
            return ["image", this.name];
          }
        }
        function $t(t88, e143, r62, n46) {
          return "number" == typeof t88 && t88 >= 0 && t88 <= 255 && "number" == typeof e143 && e143 >= 0 && e143 <= 255 && "number" == typeof r62 && r62 >= 0 && r62 <= 255 ? void 0 === n46 || "number" == typeof n46 && n46 >= 0 && n46 <= 1 ? null : `Invalid rgba value [${[t88, e143, r62, n46].join(", ")}]: 'a' must be between 0 and 1.` : `Invalid rgba value [${("number" == typeof n46 ? [t88, e143, r62, n46] : [t88, e143, r62]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`;
        }
        function Rt(t88) {
          if (null === t88)
            return true;
          if ("string" == typeof t88)
            return true;
          if ("boolean" == typeof t88)
            return true;
          if ("number" == typeof t88)
            return true;
          if (t88 instanceof Et)
            return true;
          if (t88 instanceof Ft)
            return true;
          if (t88 instanceof Lt)
            return true;
          if (t88 instanceof Dt)
            return true;
          if (Array.isArray(t88)) {
            for (const e143 of t88)
              if (!Rt(e143))
                return false;
            return true;
          }
          if ("object" == typeof t88) {
            for (const e143 in t88)
              if (!Rt(t88[e143]))
                return false;
            return true;
          }
          return false;
        }
        function Ut(t88) {
          if (null === t88)
            return ht;
          if ("string" == typeof t88)
            return ft;
          if ("boolean" == typeof t88)
            return dt;
          if ("number" == typeof t88)
            return pt;
          if (t88 instanceof Et)
            return yt;
          if (t88 instanceof Ft)
            return xt;
          if (t88 instanceof Lt)
            return vt;
          if (t88 instanceof Dt)
            return bt;
          if (Array.isArray(t88)) {
            const e143 = t88.length;
            let r62;
            for (const e144 of t88) {
              const t89 = Ut(e144);
              if (r62) {
                if (r62 === t89)
                  continue;
                r62 = gt;
                break;
              }
              r62 = t89;
            }
            return wt(r62 || gt, e143);
          }
          return mt;
        }
        function Ot(t88) {
          const e143 = typeof t88;
          return null === t88 ? "" : "string" === e143 || "number" === e143 || "boolean" === e143 ? String(t88) : t88 instanceof Et || t88 instanceof Lt || t88 instanceof Dt ? t88.toString() : JSON.stringify(t88);
        }
        class qt {
          constructor(t88, e143) {
            this.type = t88, this.value = e143;
          }
          static parse(t88, e143) {
            if (2 !== t88.length)
              return e143.error(`'literal' expression requires exactly one argument, but found ${t88.length - 1} instead.`);
            if (!Rt(t88[1]))
              return e143.error("invalid value");
            const r62 = t88[1];
            let n46 = Ut(r62);
            const i68 = e143.expectedType;
            return "array" !== n46.kind || 0 !== n46.N || !i68 || "array" !== i68.kind || "number" == typeof i68.N && 0 !== i68.N || (n46 = i68), new qt(n46, r62);
          }
          evaluate() {
            return this.value;
          }
          eachChild() {
          }
          outputDefined() {
            return true;
          }
          serialize() {
            return "array" === this.type.kind || "object" === this.type.kind ? ["literal", this.value] : this.value instanceof Et ? ["rgba"].concat(this.value.toArray()) : this.value instanceof Lt ? this.value.serialize() : this.value;
          }
        }
        class jt {
          constructor(t88) {
            this.name = "ExpressionEvaluationError", this.message = t88;
          }
          toJSON() {
            return this.message;
          }
        }
        const Nt = { string: ft, number: pt, boolean: dt, object: mt };
        class Kt {
          constructor(t88, e143) {
            this.type = t88, this.args = e143;
          }
          static parse(t88, e143) {
            if (t88.length < 2)
              return e143.error("Expected at least one argument.");
            let r62, n46 = 1;
            const i68 = t88[0];
            if ("array" === i68) {
              let i69, s64;
              if (t88.length > 2) {
                const r63 = t88[1];
                if ("string" != typeof r63 || !(r63 in Nt) || "object" === r63)
                  return e143.error('The item type argument of "array" must be one of string, number, boolean', 1);
                i69 = Nt[r63], n46++;
              } else
                i69 = gt;
              if (t88.length > 3) {
                if (null !== t88[2] && ("number" != typeof t88[2] || t88[2] < 0 || t88[2] !== Math.floor(t88[2])))
                  return e143.error('The length argument to "array" must be a positive integer literal', 2);
                s64 = t88[2], n46++;
              }
              r62 = wt(i69, s64);
            } else
              r62 = Nt[i68];
            const s63 = [];
            for (; n46 < t88.length; n46++) {
              const r63 = e143.parse(t88[n46], n46, gt);
              if (!r63)
                return null;
              s63.push(r63);
            }
            return new Kt(r62, s63);
          }
          evaluate(t88) {
            for (let e143 = 0; e143 < this.args.length; e143++) {
              const r62 = this.args[e143].evaluate(t88);
              if (!kt(this.type, Ut(r62)))
                return r62;
              if (e143 === this.args.length - 1)
                throw new jt(`Expected value to be of type ${_t(this.type)}, but found ${_t(Ut(r62))} instead.`);
            }
            return null;
          }
          eachChild(t88) {
            this.args.forEach(t88);
          }
          outputDefined() {
            return this.args.every((t88) => t88.outputDefined());
          }
          serialize() {
            const t88 = this.type, e143 = [t88.kind];
            if ("array" === t88.kind) {
              const r62 = t88.itemType;
              if ("string" === r62.kind || "number" === r62.kind || "boolean" === r62.kind) {
                e143.push(r62.kind);
                const n46 = t88.N;
                ("number" == typeof n46 || this.args.length > 1) && e143.push(n46);
              }
            }
            return e143.concat(this.args.map((t89) => t89.serialize()));
          }
        }
        class Zt {
          constructor(t88) {
            this.type = vt, this.sections = t88;
          }
          static parse(t88, e143) {
            if (t88.length < 2)
              return e143.error("Expected at least one argument.");
            const r62 = t88[1];
            if (!Array.isArray(r62) && "object" == typeof r62)
              return e143.error("First argument must be an image or text section.");
            const n46 = [];
            let i68 = false;
            for (let r63 = 1; r63 <= t88.length - 1; ++r63) {
              const s63 = t88[r63];
              if (i68 && "object" == typeof s63 && !Array.isArray(s63)) {
                i68 = false;
                let t89 = null;
                if (s63["font-scale"] && (t89 = e143.parse(s63["font-scale"], 1, pt), !t89))
                  return null;
                let r64 = null;
                if (s63["text-font"] && (r64 = e143.parse(s63["text-font"], 1, wt(ft)), !r64))
                  return null;
                let a83 = null;
                if (s63["text-color"] && (a83 = e143.parse(s63["text-color"], 1, yt), !a83))
                  return null;
                const o102 = n46[n46.length - 1];
                o102.scale = t89, o102.font = r64, o102.textColor = a83;
              } else {
                const s64 = e143.parse(t88[r63], 1, gt);
                if (!s64)
                  return null;
                const a83 = s64.type.kind;
                if ("string" !== a83 && "value" !== a83 && "null" !== a83 && "resolvedImage" !== a83)
                  return e143.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
                i68 = true, n46.push({ content: s64, scale: null, font: null, textColor: null });
              }
            }
            return new Zt(n46);
          }
          evaluate(t88) {
            return new Lt(this.sections.map((e143) => {
              const r62 = e143.content.evaluate(t88);
              return Ut(r62) === bt ? new Tt("", r62, null, null, null) : new Tt(Ot(r62), null, e143.scale ? e143.scale.evaluate(t88) : null, e143.font ? e143.font.evaluate(t88).join(",") : null, e143.textColor ? e143.textColor.evaluate(t88) : null);
            }));
          }
          eachChild(t88) {
            for (const e143 of this.sections)
              t88(e143.content), e143.scale && t88(e143.scale), e143.font && t88(e143.font), e143.textColor && t88(e143.textColor);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            const t88 = ["format"];
            for (const e143 of this.sections) {
              t88.push(e143.content.serialize());
              const r62 = {};
              e143.scale && (r62["font-scale"] = e143.scale.serialize()), e143.font && (r62["text-font"] = e143.font.serialize()), e143.textColor && (r62["text-color"] = e143.textColor.serialize()), t88.push(r62);
            }
            return t88;
          }
        }
        class Gt {
          constructor(t88) {
            this.type = bt, this.input = t88;
          }
          static parse(t88, e143) {
            if (2 !== t88.length)
              return e143.error("Expected two arguments.");
            const r62 = e143.parse(t88[1], 1, ft);
            return r62 ? new Gt(r62) : e143.error("No image name provided.");
          }
          evaluate(t88) {
            const e143 = this.input.evaluate(t88), r62 = Dt.fromString(e143);
            return r62 && t88.availableImages && (r62.available = t88.availableImages.indexOf(e143) > -1), r62;
          }
          eachChild(t88) {
            t88(this.input);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            return ["image", this.input.serialize()];
          }
        }
        const Jt = { "to-boolean": dt, "to-color": yt, "to-number": pt, "to-string": ft };
        class Xt {
          constructor(t88, e143) {
            this.type = t88, this.args = e143;
          }
          static parse(t88, e143) {
            if (t88.length < 2)
              return e143.error("Expected at least one argument.");
            const r62 = t88[0];
            if (("to-boolean" === r62 || "to-string" === r62) && 2 !== t88.length)
              return e143.error("Expected one argument.");
            const n46 = Jt[r62], i68 = [];
            for (let r63 = 1; r63 < t88.length; r63++) {
              const n47 = e143.parse(t88[r63], r63, gt);
              if (!n47)
                return null;
              i68.push(n47);
            }
            return new Xt(n46, i68);
          }
          evaluate(t88) {
            if ("boolean" === this.type.kind)
              return Boolean(this.args[0].evaluate(t88));
            if ("color" === this.type.kind) {
              let e143, r62;
              for (const n46 of this.args) {
                if (e143 = n46.evaluate(t88), r62 = null, e143 instanceof Et)
                  return e143;
                if ("string" == typeof e143) {
                  const r63 = t88.parseColor(e143);
                  if (r63)
                    return r63;
                } else if (Array.isArray(e143) && (r62 = e143.length < 3 || e143.length > 4 ? `Invalid rbga value ${JSON.stringify(e143)}: expected an array containing either three or four numeric values.` : $t(e143[0], e143[1], e143[2], e143[3]), !r62))
                  return new Et(e143[0] / 255, e143[1] / 255, e143[2] / 255, e143[3]);
              }
              throw new jt(r62 || `Could not parse color from value '${"string" == typeof e143 ? e143 : String(JSON.stringify(e143))}'`);
            }
            if ("number" === this.type.kind) {
              let e143 = null;
              for (const r62 of this.args) {
                if (e143 = r62.evaluate(t88), null === e143)
                  return 0;
                const n46 = Number(e143);
                if (!isNaN(n46))
                  return n46;
              }
              throw new jt(`Could not convert ${JSON.stringify(e143)} to number.`);
            }
            return "formatted" === this.type.kind ? Lt.fromString(Ot(this.args[0].evaluate(t88))) : "resolvedImage" === this.type.kind ? Dt.fromString(Ot(this.args[0].evaluate(t88))) : Ot(this.args[0].evaluate(t88));
          }
          eachChild(t88) {
            this.args.forEach(t88);
          }
          outputDefined() {
            return this.args.every((t88) => t88.outputDefined());
          }
          serialize() {
            if ("formatted" === this.type.kind)
              return new Zt([{ content: this.args[0], scale: null, font: null, textColor: null }]).serialize();
            if ("resolvedImage" === this.type.kind)
              return new Gt(this.args[0]).serialize();
            const t88 = [`to-${this.type.kind}`];
            return this.eachChild((e143) => {
              t88.push(e143.serialize());
            }), t88;
          }
        }
        const Yt = ["Unknown", "Point", "LineString", "Polygon"];
        class Ht {
          constructor() {
            this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null;
          }
          id() {
            return this.feature && "id" in this.feature ? this.feature.id : null;
          }
          geometryType() {
            return this.feature ? "number" == typeof this.feature.type ? Yt[this.feature.type] : this.feature.type : null;
          }
          geometry() {
            return this.feature && "geometry" in this.feature ? this.feature.geometry : null;
          }
          canonicalID() {
            return this.canonical;
          }
          properties() {
            return this.feature && this.feature.properties || {};
          }
          parseColor(t88) {
            let e143 = this._parseColorCache[t88];
            return e143 || (e143 = this._parseColorCache[t88] = Et.parse(t88)), e143;
          }
        }
        class Wt {
          constructor(t88, e143, r62, n46) {
            this.name = t88, this.type = e143, this._evaluate = r62, this.args = n46;
          }
          evaluate(t88) {
            return this._evaluate(t88, this.args);
          }
          eachChild(t88) {
            this.args.forEach(t88);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            return [this.name].concat(this.args.map((t88) => t88.serialize()));
          }
          static parse(t88, e143) {
            const r62 = t88[0], n46 = Wt.definitions[r62];
            if (!n46)
              return e143.error(`Unknown expression "${r62}". If you wanted a literal array, use ["literal", [...]].`, 0);
            const i68 = Array.isArray(n46) ? n46[0] : n46.type, s63 = Array.isArray(n46) ? [[n46[1], n46[2]]] : n46.overloads, a83 = s63.filter(([e144]) => !Array.isArray(e144) || e144.length === t88.length - 1);
            let o102 = null;
            for (const [n47, s64] of a83) {
              o102 = new we(e143.registry, e143.path, null, e143.scope);
              const a84 = [];
              let l30 = false;
              for (let e144 = 1; e144 < t88.length; e144++) {
                const r63 = t88[e144], i69 = Array.isArray(n47) ? n47[e144 - 1] : n47.type, s65 = o102.parse(r63, 1 + a84.length, i69);
                if (!s65) {
                  l30 = true;
                  break;
                }
                a84.push(s65);
              }
              if (!l30)
                if (Array.isArray(n47) && n47.length !== a84.length)
                  o102.error(`Expected ${n47.length} arguments, but found ${a84.length} instead.`);
                else {
                  for (let t89 = 0; t89 < a84.length; t89++) {
                    const e144 = Array.isArray(n47) ? n47[t89] : n47.type, r63 = a84[t89];
                    o102.concat(t89 + 1).checkSubtype(e144, r63.type);
                  }
                  if (0 === o102.errors.length)
                    return new Wt(r62, i68, s64, a84);
                }
            }
            if (1 === a83.length)
              e143.errors.push(...o102.errors);
            else {
              const r63 = (a83.length ? a83 : s63).map(([t89]) => {
                return e144 = t89, Array.isArray(e144) ? `(${e144.map(_t).join(", ")})` : `(${_t(e144.type)}...)`;
                var e144;
              }).join(" | "), n47 = [];
              for (let r64 = 1; r64 < t88.length; r64++) {
                const i69 = e143.parse(t88[r64], 1 + n47.length);
                if (!i69)
                  return null;
                n47.push(_t(i69.type));
              }
              e143.error(`Expected arguments of type ${r63}, but found (${n47.join(", ")}) instead.`);
            }
            return null;
          }
          static register(t88, e143) {
            Wt.definitions = e143;
            for (const r62 in e143)
              t88[r62] = Wt;
          }
        }
        class Qt {
          constructor(t88, e143, r62) {
            this.type = xt, this.locale = r62, this.caseSensitive = t88, this.diacriticSensitive = e143;
          }
          static parse(t88, e143) {
            if (2 !== t88.length)
              return e143.error("Expected one argument.");
            const r62 = t88[1];
            if ("object" != typeof r62 || Array.isArray(r62))
              return e143.error("Collator options argument must be an object.");
            const n46 = e143.parse(void 0 !== r62["case-sensitive"] && r62["case-sensitive"], 1, dt);
            if (!n46)
              return null;
            const i68 = e143.parse(void 0 !== r62["diacritic-sensitive"] && r62["diacritic-sensitive"], 1, dt);
            if (!i68)
              return null;
            let s63 = null;
            return r62.locale && (s63 = e143.parse(r62.locale, 1, ft), !s63) ? null : new Qt(n46, i68, s63);
          }
          evaluate(t88) {
            return new Ft(this.caseSensitive.evaluate(t88), this.diacriticSensitive.evaluate(t88), this.locale ? this.locale.evaluate(t88) : null);
          }
          eachChild(t88) {
            t88(this.caseSensitive), t88(this.diacriticSensitive), this.locale && t88(this.locale);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            const t88 = {};
            return t88["case-sensitive"] = this.caseSensitive.serialize(), t88["diacritic-sensitive"] = this.diacriticSensitive.serialize(), this.locale && (t88.locale = this.locale.serialize()), ["collator", t88];
          }
        }
        const te = 8192;
        function ee(t88, e143) {
          t88[0] = Math.min(t88[0], e143[0]), t88[1] = Math.min(t88[1], e143[1]), t88[2] = Math.max(t88[2], e143[0]), t88[3] = Math.max(t88[3], e143[1]);
        }
        function re(t88, e143) {
          return !(t88[0] <= e143[0] || t88[2] >= e143[2] || t88[1] <= e143[1] || t88[3] >= e143[3]);
        }
        function ne(t88, e143) {
          const r62 = (180 + t88[0]) / 360, n46 = (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t88[1] * Math.PI / 360))) / 360, i68 = Math.pow(2, e143.z);
          return [Math.round(r62 * i68 * te), Math.round(n46 * i68 * te)];
        }
        function ie(t88, e143, r62) {
          const n46 = t88[0] - e143[0], i68 = t88[1] - e143[1], s63 = t88[0] - r62[0], a83 = t88[1] - r62[1];
          return n46 * a83 - s63 * i68 == 0 && n46 * s63 <= 0 && i68 * a83 <= 0;
        }
        function se(t88, e143) {
          let r62 = false;
          for (let a83 = 0, o102 = e143.length; a83 < o102; a83++) {
            const o103 = e143[a83];
            for (let e144 = 0, a84 = o103.length; e144 < a84 - 1; e144++) {
              if (ie(t88, o103[e144], o103[e144 + 1]))
                return false;
              (i68 = o103[e144])[1] > (n46 = t88)[1] != (s63 = o103[e144 + 1])[1] > n46[1] && n46[0] < (s63[0] - i68[0]) * (n46[1] - i68[1]) / (s63[1] - i68[1]) + i68[0] && (r62 = !r62);
            }
          }
          var n46, i68, s63;
          return r62;
        }
        function ae(t88, e143) {
          for (let r62 = 0; r62 < e143.length; r62++)
            if (se(t88, e143[r62]))
              return true;
          return false;
        }
        function oe(t88, e143, r62, n46) {
          const i68 = n46[0] - r62[0], s63 = n46[1] - r62[1], a83 = (t88[0] - r62[0]) * s63 - i68 * (t88[1] - r62[1]), o102 = (e143[0] - r62[0]) * s63 - i68 * (e143[1] - r62[1]);
          return a83 > 0 && o102 < 0 || a83 < 0 && o102 > 0;
        }
        function le(t88, e143, r62) {
          for (const u21 of r62)
            for (let r63 = 0; r63 < u21.length - 1; ++r63)
              if (0 != (o102 = [(a83 = u21[r63 + 1])[0] - (s63 = u21[r63])[0], a83[1] - s63[1]])[0] * (l30 = [(i68 = e143)[0] - (n46 = t88)[0], i68[1] - n46[1]])[1] - o102[1] * l30[0] && oe(n46, i68, s63, a83) && oe(s63, a83, n46, i68))
                return true;
          var n46, i68, s63, a83, o102, l30;
          return false;
        }
        function ue(t88, e143) {
          for (let r62 = 0; r62 < t88.length; ++r62)
            if (!se(t88[r62], e143))
              return false;
          for (let r62 = 0; r62 < t88.length - 1; ++r62)
            if (le(t88[r62], t88[r62 + 1], e143))
              return false;
          return true;
        }
        function ce(t88, e143) {
          for (let r62 = 0; r62 < e143.length; r62++)
            if (ue(t88, e143[r62]))
              return true;
          return false;
        }
        function he(t88, e143, r62) {
          const n46 = [];
          for (let i68 = 0; i68 < t88.length; i68++) {
            const s63 = [];
            for (let n47 = 0; n47 < t88[i68].length; n47++) {
              const a83 = ne(t88[i68][n47], r62);
              ee(e143, a83), s63.push(a83);
            }
            n46.push(s63);
          }
          return n46;
        }
        function pe(t88, e143, r62) {
          const n46 = [];
          for (let i68 = 0; i68 < t88.length; i68++) {
            const s63 = he(t88[i68], e143, r62);
            n46.push(s63);
          }
          return n46;
        }
        function fe(t88, e143, r62, n46) {
          if (t88[0] < r62[0] || t88[0] > r62[2]) {
            const e144 = 0.5 * n46;
            let i68 = t88[0] - r62[0] > e144 ? -n46 : r62[0] - t88[0] > e144 ? n46 : 0;
            0 === i68 && (i68 = t88[0] - r62[2] > e144 ? -n46 : r62[2] - t88[0] > e144 ? n46 : 0), t88[0] += i68;
          }
          ee(e143, t88);
        }
        function de(t88, e143, r62, n46) {
          const i68 = Math.pow(2, n46.z) * te, s63 = [n46.x * te, n46.y * te], a83 = [];
          for (const n47 of t88)
            for (const t89 of n47) {
              const n48 = [t89.x + s63[0], t89.y + s63[1]];
              fe(n48, e143, r62, i68), a83.push(n48);
            }
          return a83;
        }
        function ye(t88, e143, r62, n46) {
          const i68 = Math.pow(2, n46.z) * te, s63 = [n46.x * te, n46.y * te], a83 = [];
          for (const r63 of t88) {
            const t89 = [];
            for (const n47 of r63) {
              const r64 = [n47.x + s63[0], n47.y + s63[1]];
              ee(e143, r64), t89.push(r64);
            }
            a83.push(t89);
          }
          if (e143[2] - e143[0] <= i68 / 2) {
            (o102 = e143)[0] = o102[1] = 1 / 0, o102[2] = o102[3] = -1 / 0;
            for (const t89 of a83)
              for (const n47 of t89)
                fe(n47, e143, r62, i68);
          }
          var o102;
          return a83;
        }
        class me {
          constructor(t88, e143) {
            this.type = dt, this.geojson = t88, this.geometries = e143;
          }
          static parse(t88, e143) {
            if (2 !== t88.length)
              return e143.error(`'within' expression requires exactly one argument, but found ${t88.length - 1} instead.`);
            if (Rt(t88[1])) {
              const e144 = t88[1];
              if ("FeatureCollection" === e144.type)
                for (let t89 = 0; t89 < e144.features.length; ++t89) {
                  const r62 = e144.features[t89].geometry.type;
                  if ("Polygon" === r62 || "MultiPolygon" === r62)
                    return new me(e144, e144.features[t89].geometry);
                }
              else if ("Feature" === e144.type) {
                const t89 = e144.geometry.type;
                if ("Polygon" === t89 || "MultiPolygon" === t89)
                  return new me(e144, e144.geometry);
              } else if ("Polygon" === e144.type || "MultiPolygon" === e144.type)
                return new me(e144, e144);
            }
            return e143.error("'within' expression requires valid geojson object that contains polygon geometry type.");
          }
          evaluate(t88) {
            if (null != t88.geometry() && null != t88.canonicalID()) {
              if ("Point" === t88.geometryType())
                return function(t89, e143) {
                  const r62 = [1 / 0, 1 / 0, -1 / 0, -1 / 0], n46 = [1 / 0, 1 / 0, -1 / 0, -1 / 0], i68 = t89.canonicalID();
                  if ("Polygon" === e143.type) {
                    const s63 = he(e143.coordinates, n46, i68), a83 = de(t89.geometry(), r62, n46, i68);
                    if (!re(r62, n46))
                      return false;
                    for (const t90 of a83)
                      if (!se(t90, s63))
                        return false;
                  }
                  if ("MultiPolygon" === e143.type) {
                    const s63 = pe(e143.coordinates, n46, i68), a83 = de(t89.geometry(), r62, n46, i68);
                    if (!re(r62, n46))
                      return false;
                    for (const t90 of a83)
                      if (!ae(t90, s63))
                        return false;
                  }
                  return true;
                }(t88, this.geometries);
              if ("LineString" === t88.geometryType())
                return function(t89, e143) {
                  const r62 = [1 / 0, 1 / 0, -1 / 0, -1 / 0], n46 = [1 / 0, 1 / 0, -1 / 0, -1 / 0], i68 = t89.canonicalID();
                  if ("Polygon" === e143.type) {
                    const s63 = he(e143.coordinates, n46, i68), a83 = ye(t89.geometry(), r62, n46, i68);
                    if (!re(r62, n46))
                      return false;
                    for (const t90 of a83)
                      if (!ue(t90, s63))
                        return false;
                  }
                  if ("MultiPolygon" === e143.type) {
                    const s63 = pe(e143.coordinates, n46, i68), a83 = ye(t89.geometry(), r62, n46, i68);
                    if (!re(r62, n46))
                      return false;
                    for (const t90 of a83)
                      if (!ce(t90, s63))
                        return false;
                  }
                  return true;
                }(t88, this.geometries);
            }
            return false;
          }
          eachChild() {
          }
          outputDefined() {
            return true;
          }
          serialize() {
            return ["within", this.geojson];
          }
        }
        function ge(t88) {
          if (t88 instanceof Wt) {
            if ("get" === t88.name && 1 === t88.args.length)
              return false;
            if ("feature-state" === t88.name)
              return false;
            if ("has" === t88.name && 1 === t88.args.length)
              return false;
            if ("properties" === t88.name || "geometry-type" === t88.name || "id" === t88.name)
              return false;
            if (/^filter-/.test(t88.name))
              return false;
          }
          if (t88 instanceof me)
            return false;
          let e143 = true;
          return t88.eachChild((t89) => {
            e143 && !ge(t89) && (e143 = false);
          }), e143;
        }
        function xe(t88) {
          if (t88 instanceof Wt && "feature-state" === t88.name)
            return false;
          let e143 = true;
          return t88.eachChild((t89) => {
            e143 && !xe(t89) && (e143 = false);
          }), e143;
        }
        function ve(t88, e143) {
          if (t88 instanceof Wt && e143.indexOf(t88.name) >= 0)
            return false;
          let r62 = true;
          return t88.eachChild((t89) => {
            r62 && !ve(t89, e143) && (r62 = false);
          }), r62;
        }
        class be {
          constructor(t88, e143) {
            this.type = e143.type, this.name = t88, this.boundExpression = e143;
          }
          static parse(t88, e143) {
            if (2 !== t88.length || "string" != typeof t88[1])
              return e143.error("'var' expression requires exactly one string literal argument.");
            const r62 = t88[1];
            return e143.scope.has(r62) ? new be(r62, e143.scope.get(r62)) : e143.error(`Unknown variable "${r62}". Make sure "${r62}" has been bound in an enclosing "let" expression before using it.`, 1);
          }
          evaluate(t88) {
            return this.boundExpression.evaluate(t88);
          }
          eachChild() {
          }
          outputDefined() {
            return false;
          }
          serialize() {
            return ["var", this.name];
          }
        }
        class we {
          constructor(t88, e143 = [], r62, n46 = new ct(), i68 = []) {
            this.registry = t88, this.path = e143, this.key = e143.map((t89) => `[${t89}]`).join(""), this.scope = n46, this.errors = i68, this.expectedType = r62;
          }
          parse(t88, e143, r62, n46, i68 = {}) {
            return e143 ? this.concat(e143, r62, n46)._parse(t88, i68) : this._parse(t88, i68);
          }
          _parse(t88, e143) {
            function r62(t89, e144, r63) {
              return "assert" === r63 ? new Kt(e144, [t89]) : "coerce" === r63 ? new Xt(e144, [t89]) : t89;
            }
            if (null !== t88 && "string" != typeof t88 && "boolean" != typeof t88 && "number" != typeof t88 || (t88 = ["literal", t88]), Array.isArray(t88)) {
              if (0 === t88.length)
                return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
              const n46 = t88[0];
              if ("string" != typeof n46)
                return this.error(`Expression name must be a string, but found ${typeof n46} instead. If you wanted a literal array, use ["literal", [...]].`, 0), null;
              const i68 = this.registry[n46];
              if (i68) {
                let n47 = i68.parse(t88, this);
                if (!n47)
                  return null;
                if (this.expectedType) {
                  const t89 = this.expectedType, i69 = n47.type;
                  if ("string" !== t89.kind && "number" !== t89.kind && "boolean" !== t89.kind && "object" !== t89.kind && "array" !== t89.kind || "value" !== i69.kind)
                    if ("color" !== t89.kind && "formatted" !== t89.kind && "resolvedImage" !== t89.kind || "value" !== i69.kind && "string" !== i69.kind) {
                      if (this.checkSubtype(t89, i69))
                        return null;
                    } else
                      n47 = r62(n47, t89, e143.typeAnnotation || "coerce");
                  else
                    n47 = r62(n47, t89, e143.typeAnnotation || "assert");
                }
                if (!(n47 instanceof qt) && "resolvedImage" !== n47.type.kind && _e(n47)) {
                  const t89 = new Ht();
                  try {
                    n47 = new qt(n47.type, n47.evaluate(t89));
                  } catch (t90) {
                    return this.error(t90.message), null;
                  }
                }
                return n47;
              }
              return this.error(`Unknown expression "${n46}". If you wanted a literal array, use ["literal", [...]].`, 0);
            }
            return this.error(void 0 === t88 ? "'undefined' value invalid. Use null instead." : "object" == typeof t88 ? 'Bare objects invalid. Use ["literal", {...}] instead.' : `Expected an array, but found ${typeof t88} instead.`);
          }
          concat(t88, e143, r62) {
            const n46 = "number" == typeof t88 ? this.path.concat(t88) : this.path, i68 = r62 ? this.scope.concat(r62) : this.scope;
            return new we(this.registry, n46, e143 || null, i68, this.errors);
          }
          error(t88, ...e143) {
            const r62 = `${this.key}${e143.map((t89) => `[${t89}]`).join("")}`;
            this.errors.push(new ut(r62, t88));
          }
          checkSubtype(t88, e143) {
            const r62 = kt(t88, e143);
            return r62 && this.error(r62), r62;
          }
        }
        function _e(t88) {
          if (t88 instanceof be)
            return _e(t88.boundExpression);
          if (t88 instanceof Wt && "error" === t88.name)
            return false;
          if (t88 instanceof Qt)
            return false;
          if (t88 instanceof me)
            return false;
          const e143 = t88 instanceof Xt || t88 instanceof Kt;
          let r62 = true;
          return t88.eachChild((t89) => {
            r62 = e143 ? r62 && _e(t89) : r62 && t89 instanceof qt;
          }), !!r62 && ge(t88) && ve(t88, ["zoom", "heatmap-density", "line-progress", "accumulated", "is-supported-script"]);
        }
        function Ae(t88, e143) {
          const r62 = t88.length - 1;
          let n46, i68, s63 = 0, a83 = r62, o102 = 0;
          for (; s63 <= a83; )
            if (o102 = Math.floor((s63 + a83) / 2), n46 = t88[o102], i68 = t88[o102 + 1], n46 <= e143) {
              if (o102 === r62 || e143 < i68)
                return o102;
              s63 = o102 + 1;
            } else {
              if (!(n46 > e143))
                throw new jt("Input is not a number.");
              a83 = o102 - 1;
            }
          return 0;
        }
        class ke {
          constructor(t88, e143, r62) {
            this.type = t88, this.input = e143, this.labels = [], this.outputs = [];
            for (const [t89, e144] of r62)
              this.labels.push(t89), this.outputs.push(e144);
          }
          static parse(t88, e143) {
            if (t88.length - 1 < 4)
              return e143.error(`Expected at least 4 arguments, but found only ${t88.length - 1}.`);
            if ((t88.length - 1) % 2 != 0)
              return e143.error("Expected an even number of arguments.");
            const r62 = e143.parse(t88[1], 1, pt);
            if (!r62)
              return null;
            const n46 = [];
            let i68 = null;
            e143.expectedType && "value" !== e143.expectedType.kind && (i68 = e143.expectedType);
            for (let r63 = 1; r63 < t88.length; r63 += 2) {
              const s63 = 1 === r63 ? -1 / 0 : t88[r63], a83 = t88[r63 + 1], o102 = r63, l30 = r63 + 1;
              if ("number" != typeof s63)
                return e143.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', o102);
              if (n46.length && n46[n46.length - 1][0] >= s63)
                return e143.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', o102);
              const u21 = e143.parse(a83, l30, i68);
              if (!u21)
                return null;
              i68 = i68 || u21.type, n46.push([s63, u21]);
            }
            return new ke(i68, r62, n46);
          }
          evaluate(t88) {
            const e143 = this.labels, r62 = this.outputs;
            if (1 === e143.length)
              return r62[0].evaluate(t88);
            const n46 = this.input.evaluate(t88);
            if (n46 <= e143[0])
              return r62[0].evaluate(t88);
            const i68 = e143.length;
            return n46 >= e143[i68 - 1] ? r62[i68 - 1].evaluate(t88) : r62[Ae(e143, n46)].evaluate(t88);
          }
          eachChild(t88) {
            t88(this.input);
            for (const e143 of this.outputs)
              t88(e143);
          }
          outputDefined() {
            return this.outputs.every((t88) => t88.outputDefined());
          }
          serialize() {
            const t88 = ["step", this.input.serialize()];
            for (let e143 = 0; e143 < this.labels.length; e143++)
              e143 > 0 && t88.push(this.labels[e143]), t88.push(this.outputs[e143].serialize());
            return t88;
          }
        }
        function Se(t88, e143, r62) {
          return t88 * (1 - r62) + e143 * r62;
        }
        var ze = Object.freeze({ __proto__: null, number: Se, color: function(t88, e143, r62) {
          return new Et(Se(t88.r, e143.r, r62), Se(t88.g, e143.g, r62), Se(t88.b, e143.b, r62), Se(t88.a, e143.a, r62));
        }, array: function(t88, e143, r62) {
          return t88.map((t89, n46) => Se(t89, e143[n46], r62));
        } });
        const Ie = 0.95047, Me = 1.08883, Be = 4 / 29, Ce = 6 / 29, Pe = 3 * Ce * Ce, Ve = Math.PI / 180, Ee = 180 / Math.PI;
        function Fe(t88) {
          return t88 > 0.008856451679035631 ? Math.pow(t88, 1 / 3) : t88 / Pe + Be;
        }
        function Te(t88) {
          return t88 > Ce ? t88 * t88 * t88 : Pe * (t88 - Be);
        }
        function Le(t88) {
          return 255 * (t88 <= 31308e-7 ? 12.92 * t88 : 1.055 * Math.pow(t88, 1 / 2.4) - 0.055);
        }
        function De(t88) {
          return (t88 /= 255) <= 0.04045 ? t88 / 12.92 : Math.pow((t88 + 0.055) / 1.055, 2.4);
        }
        function $e(t88) {
          const e143 = De(t88.r), r62 = De(t88.g), n46 = De(t88.b), i68 = Fe((0.4124564 * e143 + 0.3575761 * r62 + 0.1804375 * n46) / Ie), s63 = Fe((0.2126729 * e143 + 0.7151522 * r62 + 0.072175 * n46) / 1);
          return { l: 116 * s63 - 16, a: 500 * (i68 - s63), b: 200 * (s63 - Fe((0.0193339 * e143 + 0.119192 * r62 + 0.9503041 * n46) / Me)), alpha: t88.a };
        }
        function Re(t88) {
          let e143 = (t88.l + 16) / 116, r62 = isNaN(t88.a) ? e143 : e143 + t88.a / 500, n46 = isNaN(t88.b) ? e143 : e143 - t88.b / 200;
          return e143 = 1 * Te(e143), r62 = Ie * Te(r62), n46 = Me * Te(n46), new Et(Le(3.2404542 * r62 - 1.5371385 * e143 - 0.4985314 * n46), Le(-0.969266 * r62 + 1.8760108 * e143 + 0.041556 * n46), Le(0.0556434 * r62 - 0.2040259 * e143 + 1.0572252 * n46), t88.alpha);
        }
        function Ue(t88, e143, r62) {
          const n46 = e143 - t88;
          return t88 + r62 * (n46 > 180 || n46 < -180 ? n46 - 360 * Math.round(n46 / 360) : n46);
        }
        const Oe = { forward: $e, reverse: Re, interpolate: function(t88, e143, r62) {
          return { l: Se(t88.l, e143.l, r62), a: Se(t88.a, e143.a, r62), b: Se(t88.b, e143.b, r62), alpha: Se(t88.alpha, e143.alpha, r62) };
        } }, qe = { forward: function(t88) {
          const { l: e143, a: r62, b: n46 } = $e(t88), i68 = Math.atan2(n46, r62) * Ee;
          return { h: i68 < 0 ? i68 + 360 : i68, c: Math.sqrt(r62 * r62 + n46 * n46), l: e143, alpha: t88.a };
        }, reverse: function(t88) {
          const e143 = t88.h * Ve, r62 = t88.c;
          return Re({ l: t88.l, a: Math.cos(e143) * r62, b: Math.sin(e143) * r62, alpha: t88.alpha });
        }, interpolate: function(t88, e143, r62) {
          return { h: Ue(t88.h, e143.h, r62), c: Se(t88.c, e143.c, r62), l: Se(t88.l, e143.l, r62), alpha: Se(t88.alpha, e143.alpha, r62) };
        } };
        var je = Object.freeze({ __proto__: null, lab: Oe, hcl: qe });
        class Ne {
          constructor(t88, e143, r62, n46, i68) {
            this.type = t88, this.operator = e143, this.interpolation = r62, this.input = n46, this.labels = [], this.outputs = [];
            for (const [t89, e144] of i68)
              this.labels.push(t89), this.outputs.push(e144);
          }
          static interpolationFactor(t88, r62, n46, i68) {
            let s63 = 0;
            if ("exponential" === t88.name)
              s63 = Ke(r62, t88.base, n46, i68);
            else if ("linear" === t88.name)
              s63 = Ke(r62, 1, n46, i68);
            else if ("cubic-bezier" === t88.name) {
              const a83 = t88.controlPoints;
              s63 = new e142(a83[0], a83[1], a83[2], a83[3]).solve(Ke(r62, 1, n46, i68));
            }
            return s63;
          }
          static parse(t88, e143) {
            let [r62, n46, i68, ...s63] = t88;
            if (!Array.isArray(n46) || 0 === n46.length)
              return e143.error("Expected an interpolation type expression.", 1);
            if ("linear" === n46[0])
              n46 = { name: "linear" };
            else if ("exponential" === n46[0]) {
              const t89 = n46[1];
              if ("number" != typeof t89)
                return e143.error("Exponential interpolation requires a numeric base.", 1, 1);
              n46 = { name: "exponential", base: t89 };
            } else {
              if ("cubic-bezier" !== n46[0])
                return e143.error(`Unknown interpolation type ${String(n46[0])}`, 1, 0);
              {
                const t89 = n46.slice(1);
                if (4 !== t89.length || t89.some((t90) => "number" != typeof t90 || t90 < 0 || t90 > 1))
                  return e143.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
                n46 = { name: "cubic-bezier", controlPoints: t89 };
              }
            }
            if (t88.length - 1 < 4)
              return e143.error(`Expected at least 4 arguments, but found only ${t88.length - 1}.`);
            if ((t88.length - 1) % 2 != 0)
              return e143.error("Expected an even number of arguments.");
            if (i68 = e143.parse(i68, 2, pt), !i68)
              return null;
            const a83 = [];
            let o102 = null;
            "interpolate-hcl" === r62 || "interpolate-lab" === r62 ? o102 = yt : e143.expectedType && "value" !== e143.expectedType.kind && (o102 = e143.expectedType);
            for (let t89 = 0; t89 < s63.length; t89 += 2) {
              const r63 = s63[t89], n47 = s63[t89 + 1], i69 = t89 + 3, l30 = t89 + 4;
              if ("number" != typeof r63)
                return e143.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', i69);
              if (a83.length && a83[a83.length - 1][0] >= r63)
                return e143.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', i69);
              const u21 = e143.parse(n47, l30, o102);
              if (!u21)
                return null;
              o102 = o102 || u21.type, a83.push([r63, u21]);
            }
            return "number" === o102.kind || "color" === o102.kind || "array" === o102.kind && "number" === o102.itemType.kind && "number" == typeof o102.N ? new Ne(o102, r62, n46, i68, a83) : e143.error(`Type ${_t(o102)} is not interpolatable.`);
          }
          evaluate(t88) {
            const e143 = this.labels, r62 = this.outputs;
            if (1 === e143.length)
              return r62[0].evaluate(t88);
            const n46 = this.input.evaluate(t88);
            if (n46 <= e143[0])
              return r62[0].evaluate(t88);
            const i68 = e143.length;
            if (n46 >= e143[i68 - 1])
              return r62[i68 - 1].evaluate(t88);
            const s63 = Ae(e143, n46), a83 = Ne.interpolationFactor(this.interpolation, n46, e143[s63], e143[s63 + 1]), o102 = r62[s63].evaluate(t88), l30 = r62[s63 + 1].evaluate(t88);
            return "interpolate" === this.operator ? ze[this.type.kind.toLowerCase()](o102, l30, a83) : "interpolate-hcl" === this.operator ? qe.reverse(qe.interpolate(qe.forward(o102), qe.forward(l30), a83)) : Oe.reverse(Oe.interpolate(Oe.forward(o102), Oe.forward(l30), a83));
          }
          eachChild(t88) {
            t88(this.input);
            for (const e143 of this.outputs)
              t88(e143);
          }
          outputDefined() {
            return this.outputs.every((t88) => t88.outputDefined());
          }
          serialize() {
            let t88;
            t88 = "linear" === this.interpolation.name ? ["linear"] : "exponential" === this.interpolation.name ? 1 === this.interpolation.base ? ["linear"] : ["exponential", this.interpolation.base] : ["cubic-bezier"].concat(this.interpolation.controlPoints);
            const e143 = [this.operator, t88, this.input.serialize()];
            for (let t89 = 0; t89 < this.labels.length; t89++)
              e143.push(this.labels[t89], this.outputs[t89].serialize());
            return e143;
          }
        }
        function Ke(t88, e143, r62, n46) {
          const i68 = n46 - r62, s63 = t88 - r62;
          return 0 === i68 ? 0 : 1 === e143 ? s63 / i68 : (Math.pow(e143, s63) - 1) / (Math.pow(e143, i68) - 1);
        }
        class Ze {
          constructor(t88, e143) {
            this.type = t88, this.args = e143;
          }
          static parse(t88, e143) {
            if (t88.length < 2)
              return e143.error("Expectected at least one argument.");
            let r62 = null;
            const n46 = e143.expectedType;
            n46 && "value" !== n46.kind && (r62 = n46);
            const i68 = [];
            for (const n47 of t88.slice(1)) {
              const t89 = e143.parse(n47, 1 + i68.length, r62, void 0, { typeAnnotation: "omit" });
              if (!t89)
                return null;
              r62 = r62 || t89.type, i68.push(t89);
            }
            const s63 = n46 && i68.some((t89) => kt(n46, t89.type));
            return new Ze(s63 ? gt : r62, i68);
          }
          evaluate(t88) {
            let e143, r62 = null, n46 = 0;
            for (const i68 of this.args)
              if (n46++, r62 = i68.evaluate(t88), r62 && r62 instanceof Dt && !r62.available && (e143 || (e143 = r62.name), r62 = null, n46 === this.args.length && (r62 = e143)), null !== r62)
                break;
            return r62;
          }
          eachChild(t88) {
            this.args.forEach(t88);
          }
          outputDefined() {
            return this.args.every((t88) => t88.outputDefined());
          }
          serialize() {
            const t88 = ["coalesce"];
            return this.eachChild((e143) => {
              t88.push(e143.serialize());
            }), t88;
          }
        }
        class Ge {
          constructor(t88, e143) {
            this.type = e143.type, this.bindings = [].concat(t88), this.result = e143;
          }
          evaluate(t88) {
            return this.result.evaluate(t88);
          }
          eachChild(t88) {
            for (const e143 of this.bindings)
              t88(e143[1]);
            t88(this.result);
          }
          static parse(t88, e143) {
            if (t88.length < 4)
              return e143.error(`Expected at least 3 arguments, but found ${t88.length - 1} instead.`);
            const r62 = [];
            for (let n47 = 1; n47 < t88.length - 1; n47 += 2) {
              const i68 = t88[n47];
              if ("string" != typeof i68)
                return e143.error(`Expected string, but found ${typeof i68} instead.`, n47);
              if (/[^a-zA-Z0-9_]/.test(i68))
                return e143.error("Variable names must contain only alphanumeric characters or '_'.", n47);
              const s63 = e143.parse(t88[n47 + 1], n47 + 1);
              if (!s63)
                return null;
              r62.push([i68, s63]);
            }
            const n46 = e143.parse(t88[t88.length - 1], t88.length - 1, e143.expectedType, r62);
            return n46 ? new Ge(r62, n46) : null;
          }
          outputDefined() {
            return this.result.outputDefined();
          }
          serialize() {
            const t88 = ["let"];
            for (const [e143, r62] of this.bindings)
              t88.push(e143, r62.serialize());
            return t88.push(this.result.serialize()), t88;
          }
        }
        class Je {
          constructor(t88, e143, r62) {
            this.type = t88, this.index = e143, this.input = r62;
          }
          static parse(t88, e143) {
            if (3 !== t88.length)
              return e143.error(`Expected 2 arguments, but found ${t88.length - 1} instead.`);
            const r62 = e143.parse(t88[1], 1, pt), n46 = e143.parse(t88[2], 2, wt(e143.expectedType || gt));
            return r62 && n46 ? new Je(n46.type.itemType, r62, n46) : null;
          }
          evaluate(t88) {
            const e143 = this.index.evaluate(t88), r62 = this.input.evaluate(t88);
            if (e143 < 0)
              throw new jt(`Array index out of bounds: ${e143} < 0.`);
            if (e143 >= r62.length)
              throw new jt(`Array index out of bounds: ${e143} > ${r62.length - 1}.`);
            if (e143 !== Math.floor(e143))
              throw new jt(`Array index must be an integer, but found ${e143} instead.`);
            return r62[e143];
          }
          eachChild(t88) {
            t88(this.index), t88(this.input);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            return ["at", this.index.serialize(), this.input.serialize()];
          }
        }
        class Xe {
          constructor(t88, e143) {
            this.type = dt, this.needle = t88, this.haystack = e143;
          }
          static parse(t88, e143) {
            if (3 !== t88.length)
              return e143.error(`Expected 2 arguments, but found ${t88.length - 1} instead.`);
            const r62 = e143.parse(t88[1], 1, gt), n46 = e143.parse(t88[2], 2, gt);
            return r62 && n46 ? St(r62.type, [dt, ft, pt, ht, gt]) ? new Xe(r62, n46) : e143.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(r62.type)} instead`) : null;
          }
          evaluate(t88) {
            const e143 = this.needle.evaluate(t88), r62 = this.haystack.evaluate(t88);
            if (!r62)
              return false;
            if (!zt(e143, ["boolean", "string", "number", "null"]))
              throw new jt(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Ut(e143))} instead.`);
            if (!zt(r62, ["string", "array"]))
              throw new jt(`Expected second argument to be of type array or string, but found ${_t(Ut(r62))} instead.`);
            return r62.indexOf(e143) >= 0;
          }
          eachChild(t88) {
            t88(this.needle), t88(this.haystack);
          }
          outputDefined() {
            return true;
          }
          serialize() {
            return ["in", this.needle.serialize(), this.haystack.serialize()];
          }
        }
        class Ye {
          constructor(t88, e143, r62) {
            this.type = pt, this.needle = t88, this.haystack = e143, this.fromIndex = r62;
          }
          static parse(t88, e143) {
            if (t88.length <= 2 || t88.length >= 5)
              return e143.error(`Expected 3 or 4 arguments, but found ${t88.length - 1} instead.`);
            const r62 = e143.parse(t88[1], 1, gt), n46 = e143.parse(t88[2], 2, gt);
            if (!r62 || !n46)
              return null;
            if (!St(r62.type, [dt, ft, pt, ht, gt]))
              return e143.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(r62.type)} instead`);
            if (4 === t88.length) {
              const i68 = e143.parse(t88[3], 3, pt);
              return i68 ? new Ye(r62, n46, i68) : null;
            }
            return new Ye(r62, n46);
          }
          evaluate(t88) {
            const e143 = this.needle.evaluate(t88), r62 = this.haystack.evaluate(t88);
            if (!zt(e143, ["boolean", "string", "number", "null"]))
              throw new jt(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Ut(e143))} instead.`);
            if (!zt(r62, ["string", "array"]))
              throw new jt(`Expected second argument to be of type array or string, but found ${_t(Ut(r62))} instead.`);
            if (this.fromIndex) {
              const n46 = this.fromIndex.evaluate(t88);
              return r62.indexOf(e143, n46);
            }
            return r62.indexOf(e143);
          }
          eachChild(t88) {
            t88(this.needle), t88(this.haystack), this.fromIndex && t88(this.fromIndex);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            if (null != this.fromIndex && void 0 !== this.fromIndex) {
              const t88 = this.fromIndex.serialize();
              return ["index-of", this.needle.serialize(), this.haystack.serialize(), t88];
            }
            return ["index-of", this.needle.serialize(), this.haystack.serialize()];
          }
        }
        class He {
          constructor(t88, e143, r62, n46, i68, s63) {
            this.inputType = t88, this.type = e143, this.input = r62, this.cases = n46, this.outputs = i68, this.otherwise = s63;
          }
          static parse(t88, e143) {
            if (t88.length < 5)
              return e143.error(`Expected at least 4 arguments, but found only ${t88.length - 1}.`);
            if (t88.length % 2 != 1)
              return e143.error("Expected an even number of arguments.");
            let r62, n46;
            e143.expectedType && "value" !== e143.expectedType.kind && (n46 = e143.expectedType);
            const i68 = {}, s63 = [];
            for (let a84 = 2; a84 < t88.length - 1; a84 += 2) {
              let o103 = t88[a84];
              const l30 = t88[a84 + 1];
              Array.isArray(o103) || (o103 = [o103]);
              const u21 = e143.concat(a84);
              if (0 === o103.length)
                return u21.error("Expected at least one branch label.");
              for (const t89 of o103) {
                if ("number" != typeof t89 && "string" != typeof t89)
                  return u21.error("Branch labels must be numbers or strings.");
                if ("number" == typeof t89 && Math.abs(t89) > Number.MAX_SAFE_INTEGER)
                  return u21.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);
                if ("number" == typeof t89 && Math.floor(t89) !== t89)
                  return u21.error("Numeric branch labels must be integer values.");
                if (r62) {
                  if (u21.checkSubtype(r62, Ut(t89)))
                    return null;
                } else
                  r62 = Ut(t89);
                if (void 0 !== i68[String(t89)])
                  return u21.error("Branch labels must be unique.");
                i68[String(t89)] = s63.length;
              }
              const c23 = e143.parse(l30, a84, n46);
              if (!c23)
                return null;
              n46 = n46 || c23.type, s63.push(c23);
            }
            const a83 = e143.parse(t88[1], 1, gt);
            if (!a83)
              return null;
            const o102 = e143.parse(t88[t88.length - 1], t88.length - 1, n46);
            return o102 ? "value" !== a83.type.kind && e143.concat(1).checkSubtype(r62, a83.type) ? null : new He(r62, n46, a83, i68, s63, o102) : null;
          }
          evaluate(t88) {
            const e143 = this.input.evaluate(t88);
            return (Ut(e143) === this.inputType && this.outputs[this.cases[e143]] || this.otherwise).evaluate(t88);
          }
          eachChild(t88) {
            t88(this.input), this.outputs.forEach(t88), t88(this.otherwise);
          }
          outputDefined() {
            return this.outputs.every((t88) => t88.outputDefined()) && this.otherwise.outputDefined();
          }
          serialize() {
            const t88 = ["match", this.input.serialize()], e143 = Object.keys(this.cases).sort(), r62 = [], n46 = {};
            for (const t89 of e143) {
              const e144 = n46[this.cases[t89]];
              void 0 === e144 ? (n46[this.cases[t89]] = r62.length, r62.push([this.cases[t89], [t89]])) : r62[e144][1].push(t89);
            }
            const i68 = (t89) => "number" === this.inputType.kind ? Number(t89) : t89;
            for (const [e144, n47] of r62)
              t88.push(1 === n47.length ? i68(n47[0]) : n47.map(i68)), t88.push(this.outputs[e144].serialize());
            return t88.push(this.otherwise.serialize()), t88;
          }
        }
        class We {
          constructor(t88, e143, r62) {
            this.type = t88, this.branches = e143, this.otherwise = r62;
          }
          static parse(t88, e143) {
            if (t88.length < 4)
              return e143.error(`Expected at least 3 arguments, but found only ${t88.length - 1}.`);
            if (t88.length % 2 != 0)
              return e143.error("Expected an odd number of arguments.");
            let r62;
            e143.expectedType && "value" !== e143.expectedType.kind && (r62 = e143.expectedType);
            const n46 = [];
            for (let i69 = 1; i69 < t88.length - 1; i69 += 2) {
              const s63 = e143.parse(t88[i69], i69, dt);
              if (!s63)
                return null;
              const a83 = e143.parse(t88[i69 + 1], i69 + 1, r62);
              if (!a83)
                return null;
              n46.push([s63, a83]), r62 = r62 || a83.type;
            }
            const i68 = e143.parse(t88[t88.length - 1], t88.length - 1, r62);
            return i68 ? new We(r62, n46, i68) : null;
          }
          evaluate(t88) {
            for (const [e143, r62] of this.branches)
              if (e143.evaluate(t88))
                return r62.evaluate(t88);
            return this.otherwise.evaluate(t88);
          }
          eachChild(t88) {
            for (const [e143, r62] of this.branches)
              t88(e143), t88(r62);
            t88(this.otherwise);
          }
          outputDefined() {
            return this.branches.every(([t88, e143]) => e143.outputDefined()) && this.otherwise.outputDefined();
          }
          serialize() {
            const t88 = ["case"];
            return this.eachChild((e143) => {
              t88.push(e143.serialize());
            }), t88;
          }
        }
        class Qe {
          constructor(t88, e143, r62, n46) {
            this.type = t88, this.input = e143, this.beginIndex = r62, this.endIndex = n46;
          }
          static parse(t88, e143) {
            if (t88.length <= 2 || t88.length >= 5)
              return e143.error(`Expected 3 or 4 arguments, but found ${t88.length - 1} instead.`);
            const r62 = e143.parse(t88[1], 1, gt), n46 = e143.parse(t88[2], 2, pt);
            if (!r62 || !n46)
              return null;
            if (!St(r62.type, [wt(gt), ft, gt]))
              return e143.error(`Expected first argument to be of type array or string, but found ${_t(r62.type)} instead`);
            if (4 === t88.length) {
              const i68 = e143.parse(t88[3], 3, pt);
              return i68 ? new Qe(r62.type, r62, n46, i68) : null;
            }
            return new Qe(r62.type, r62, n46);
          }
          evaluate(t88) {
            const e143 = this.input.evaluate(t88), r62 = this.beginIndex.evaluate(t88);
            if (!zt(e143, ["string", "array"]))
              throw new jt(`Expected first argument to be of type array or string, but found ${_t(Ut(e143))} instead.`);
            if (this.endIndex) {
              const n46 = this.endIndex.evaluate(t88);
              return e143.slice(r62, n46);
            }
            return e143.slice(r62);
          }
          eachChild(t88) {
            t88(this.input), t88(this.beginIndex), this.endIndex && t88(this.endIndex);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            if (null != this.endIndex && void 0 !== this.endIndex) {
              const t88 = this.endIndex.serialize();
              return ["slice", this.input.serialize(), this.beginIndex.serialize(), t88];
            }
            return ["slice", this.input.serialize(), this.beginIndex.serialize()];
          }
        }
        function tr(t88, e143) {
          return "==" === t88 || "!=" === t88 ? "boolean" === e143.kind || "string" === e143.kind || "number" === e143.kind || "null" === e143.kind || "value" === e143.kind : "string" === e143.kind || "number" === e143.kind || "value" === e143.kind;
        }
        function er(t88, e143, r62, n46) {
          return 0 === n46.compare(e143, r62);
        }
        function rr(t88, e143, r62) {
          const n46 = "==" !== t88 && "!=" !== t88;
          return class i68 {
            constructor(t89, e144, r63) {
              this.type = dt, this.lhs = t89, this.rhs = e144, this.collator = r63, this.hasUntypedArgument = "value" === t89.type.kind || "value" === e144.type.kind;
            }
            static parse(t89, e144) {
              if (3 !== t89.length && 4 !== t89.length)
                return e144.error("Expected two or three arguments.");
              const r63 = t89[0];
              let s63 = e144.parse(t89[1], 1, gt);
              if (!s63)
                return null;
              if (!tr(r63, s63.type))
                return e144.concat(1).error(`"${r63}" comparisons are not supported for type '${_t(s63.type)}'.`);
              let a83 = e144.parse(t89[2], 2, gt);
              if (!a83)
                return null;
              if (!tr(r63, a83.type))
                return e144.concat(2).error(`"${r63}" comparisons are not supported for type '${_t(a83.type)}'.`);
              if (s63.type.kind !== a83.type.kind && "value" !== s63.type.kind && "value" !== a83.type.kind)
                return e144.error(`Cannot compare types '${_t(s63.type)}' and '${_t(a83.type)}'.`);
              n46 && ("value" === s63.type.kind && "value" !== a83.type.kind ? s63 = new Kt(a83.type, [s63]) : "value" !== s63.type.kind && "value" === a83.type.kind && (a83 = new Kt(s63.type, [a83])));
              let o102 = null;
              if (4 === t89.length) {
                if ("string" !== s63.type.kind && "string" !== a83.type.kind && "value" !== s63.type.kind && "value" !== a83.type.kind)
                  return e144.error("Cannot use collator to compare non-string types.");
                if (o102 = e144.parse(t89[3], 3, xt), !o102)
                  return null;
              }
              return new i68(s63, a83, o102);
            }
            evaluate(i69) {
              const s63 = this.lhs.evaluate(i69), a83 = this.rhs.evaluate(i69);
              if (n46 && this.hasUntypedArgument) {
                const e144 = Ut(s63), r63 = Ut(a83);
                if (e144.kind !== r63.kind || "string" !== e144.kind && "number" !== e144.kind)
                  throw new jt(`Expected arguments for "${t88}" to be (string, string) or (number, number), but found (${e144.kind}, ${r63.kind}) instead.`);
              }
              if (this.collator && !n46 && this.hasUntypedArgument) {
                const t89 = Ut(s63), r63 = Ut(a83);
                if ("string" !== t89.kind || "string" !== r63.kind)
                  return e143(i69, s63, a83);
              }
              return this.collator ? r62(i69, s63, a83, this.collator.evaluate(i69)) : e143(i69, s63, a83);
            }
            eachChild(t89) {
              t89(this.lhs), t89(this.rhs), this.collator && t89(this.collator);
            }
            outputDefined() {
              return true;
            }
            serialize() {
              const e144 = [t88];
              return this.eachChild((t89) => {
                e144.push(t89.serialize());
              }), e144;
            }
          };
        }
        const nr = rr("==", function(t88, e143, r62) {
          return e143 === r62;
        }, er), ir = rr("!=", function(t88, e143, r62) {
          return e143 !== r62;
        }, function(t88, e143, r62, n46) {
          return !er(0, e143, r62, n46);
        }), sr = rr("<", function(t88, e143, r62) {
          return e143 < r62;
        }, function(t88, e143, r62, n46) {
          return n46.compare(e143, r62) < 0;
        }), ar = rr(">", function(t88, e143, r62) {
          return e143 > r62;
        }, function(t88, e143, r62, n46) {
          return n46.compare(e143, r62) > 0;
        }), or = rr("<=", function(t88, e143, r62) {
          return e143 <= r62;
        }, function(t88, e143, r62, n46) {
          return n46.compare(e143, r62) <= 0;
        }), lr = rr(">=", function(t88, e143, r62) {
          return e143 >= r62;
        }, function(t88, e143, r62, n46) {
          return n46.compare(e143, r62) >= 0;
        });
        class ur {
          constructor(t88, e143, r62, n46, i68) {
            this.type = ft, this.number = t88, this.locale = e143, this.currency = r62, this.minFractionDigits = n46, this.maxFractionDigits = i68;
          }
          static parse(t88, e143) {
            if (3 !== t88.length)
              return e143.error("Expected two arguments.");
            const r62 = e143.parse(t88[1], 1, pt);
            if (!r62)
              return null;
            const n46 = t88[2];
            if ("object" != typeof n46 || Array.isArray(n46))
              return e143.error("NumberFormat options argument must be an object.");
            let i68 = null;
            if (n46.locale && (i68 = e143.parse(n46.locale, 1, ft), !i68))
              return null;
            let s63 = null;
            if (n46.currency && (s63 = e143.parse(n46.currency, 1, ft), !s63))
              return null;
            let a83 = null;
            if (n46["min-fraction-digits"] && (a83 = e143.parse(n46["min-fraction-digits"], 1, pt), !a83))
              return null;
            let o102 = null;
            return n46["max-fraction-digits"] && (o102 = e143.parse(n46["max-fraction-digits"], 1, pt), !o102) ? null : new ur(r62, i68, s63, a83, o102);
          }
          evaluate(t88) {
            return new Intl.NumberFormat(this.locale ? this.locale.evaluate(t88) : [], { style: this.currency ? "currency" : "decimal", currency: this.currency ? this.currency.evaluate(t88) : void 0, minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(t88) : void 0, maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(t88) : void 0 }).format(this.number.evaluate(t88));
          }
          eachChild(t88) {
            t88(this.number), this.locale && t88(this.locale), this.currency && t88(this.currency), this.minFractionDigits && t88(this.minFractionDigits), this.maxFractionDigits && t88(this.maxFractionDigits);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            const t88 = {};
            return this.locale && (t88.locale = this.locale.serialize()), this.currency && (t88.currency = this.currency.serialize()), this.minFractionDigits && (t88["min-fraction-digits"] = this.minFractionDigits.serialize()), this.maxFractionDigits && (t88["max-fraction-digits"] = this.maxFractionDigits.serialize()), ["number-format", this.number.serialize(), t88];
          }
        }
        class cr {
          constructor(t88) {
            this.type = pt, this.input = t88;
          }
          static parse(t88, e143) {
            if (2 !== t88.length)
              return e143.error(`Expected 1 argument, but found ${t88.length - 1} instead.`);
            const r62 = e143.parse(t88[1], 1);
            return r62 ? "array" !== r62.type.kind && "string" !== r62.type.kind && "value" !== r62.type.kind ? e143.error(`Expected argument of type string or array, but found ${_t(r62.type)} instead.`) : new cr(r62) : null;
          }
          evaluate(t88) {
            const e143 = this.input.evaluate(t88);
            if ("string" == typeof e143)
              return e143.length;
            if (Array.isArray(e143))
              return e143.length;
            throw new jt(`Expected value to be of type string or array, but found ${_t(Ut(e143))} instead.`);
          }
          eachChild(t88) {
            t88(this.input);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            const t88 = ["length"];
            return this.eachChild((e143) => {
              t88.push(e143.serialize());
            }), t88;
          }
        }
        const hr = { "==": nr, "!=": ir, ">": ar, "<": sr, ">=": lr, "<=": or, array: Kt, at: Je, boolean: Kt, case: We, coalesce: Ze, collator: Qt, format: Zt, image: Gt, in: Xe, "index-of": Ye, interpolate: Ne, "interpolate-hcl": Ne, "interpolate-lab": Ne, length: cr, let: Ge, literal: qt, match: He, number: Kt, "number-format": ur, object: Kt, slice: Qe, step: ke, string: Kt, "to-boolean": Xt, "to-color": Xt, "to-number": Xt, "to-string": Xt, var: be, within: me };
        function pr(t88, [e143, r62, n46, i68]) {
          e143 = e143.evaluate(t88), r62 = r62.evaluate(t88), n46 = n46.evaluate(t88);
          const s63 = i68 ? i68.evaluate(t88) : 1, a83 = $t(e143, r62, n46, s63);
          if (a83)
            throw new jt(a83);
          return new Et(e143 / 255 * s63, r62 / 255 * s63, n46 / 255 * s63, s63);
        }
        function fr(t88, e143) {
          return t88 in e143;
        }
        function dr(t88, e143) {
          const r62 = e143[t88];
          return void 0 === r62 ? null : r62;
        }
        function yr(t88) {
          return { type: t88 };
        }
        function mr(t88) {
          return { result: "success", value: t88 };
        }
        function gr(t88) {
          return { result: "error", value: t88 };
        }
        function xr(t88) {
          return "data-driven" === t88["property-type"] || "cross-faded-data-driven" === t88["property-type"];
        }
        function vr(t88) {
          return !!t88.expression && t88.expression.parameters.indexOf("zoom") > -1;
        }
        function br(t88) {
          return !!t88.expression && t88.expression.interpolated;
        }
        function wr(t88) {
          return t88 instanceof Number ? "number" : t88 instanceof String ? "string" : t88 instanceof Boolean ? "boolean" : Array.isArray(t88) ? "array" : null === t88 ? "null" : typeof t88;
        }
        function _r(t88) {
          return "object" == typeof t88 && null !== t88 && !Array.isArray(t88);
        }
        function Ar(t88) {
          return t88;
        }
        function kr(t88, e143) {
          const r62 = "color" === e143.type, n46 = t88.stops && "object" == typeof t88.stops[0][0], i68 = n46 || !(n46 || void 0 !== t88.property), s63 = t88.type || (br(e143) ? "exponential" : "interval");
          if (r62 && ((t88 = at({}, t88)).stops && (t88.stops = t88.stops.map((t89) => [t89[0], Et.parse(t89[1])])), t88.default = Et.parse(t88.default ? t88.default : e143.default)), t88.colorSpace && "rgb" !== t88.colorSpace && !je[t88.colorSpace])
            throw new Error(`Unknown color space: ${t88.colorSpace}`);
          let a83, o102, l30;
          if ("exponential" === s63)
            a83 = Mr;
          else if ("interval" === s63)
            a83 = Ir;
          else if ("categorical" === s63) {
            a83 = zr, o102 = /* @__PURE__ */ Object.create(null);
            for (const e144 of t88.stops)
              o102[e144[0]] = e144[1];
            l30 = typeof t88.stops[0][0];
          } else {
            if ("identity" !== s63)
              throw new Error(`Unknown function type "${s63}"`);
            a83 = Br;
          }
          if (n46) {
            const r63 = {}, n47 = [];
            for (let e144 = 0; e144 < t88.stops.length; e144++) {
              const i70 = t88.stops[e144], s65 = i70[0].zoom;
              void 0 === r63[s65] && (r63[s65] = { zoom: s65, type: t88.type, property: t88.property, default: t88.default, stops: [] }, n47.push(s65)), r63[s65].stops.push([i70[0].value, i70[1]]);
            }
            const i69 = [];
            for (const t89 of n47)
              i69.push([r63[t89].zoom, kr(r63[t89], e143)]);
            const s64 = { name: "linear" };
            return { kind: "composite", interpolationType: s64, interpolationFactor: Ne.interpolationFactor.bind(void 0, s64), zoomStops: i69.map((t89) => t89[0]), evaluate: ({ zoom: r64 }, n48) => Mr({ stops: i69, base: t88.base }, e143, r64).evaluate(r64, n48) };
          }
          if (i68) {
            const r63 = "exponential" === s63 ? { name: "exponential", base: void 0 !== t88.base ? t88.base : 1 } : null;
            return { kind: "camera", interpolationType: r63, interpolationFactor: Ne.interpolationFactor.bind(void 0, r63), zoomStops: t88.stops.map((t89) => t89[0]), evaluate: ({ zoom: r64 }) => a83(t88, e143, r64, o102, l30) };
          }
          return { kind: "source", evaluate(r63, n47) {
            const i69 = n47 && n47.properties ? n47.properties[t88.property] : void 0;
            return void 0 === i69 ? Sr(t88.default, e143.default) : a83(t88, e143, i69, o102, l30);
          } };
        }
        function Sr(t88, e143, r62) {
          return void 0 !== t88 ? t88 : void 0 !== e143 ? e143 : void 0 !== r62 ? r62 : void 0;
        }
        function zr(t88, e143, r62, n46, i68) {
          return Sr(typeof r62 === i68 ? n46[r62] : void 0, t88.default, e143.default);
        }
        function Ir(t88, e143, r62) {
          if ("number" !== wr(r62))
            return Sr(t88.default, e143.default);
          const n46 = t88.stops.length;
          if (1 === n46)
            return t88.stops[0][1];
          if (r62 <= t88.stops[0][0])
            return t88.stops[0][1];
          if (r62 >= t88.stops[n46 - 1][0])
            return t88.stops[n46 - 1][1];
          const i68 = Ae(t88.stops.map((t89) => t89[0]), r62);
          return t88.stops[i68][1];
        }
        function Mr(t88, e143, r62) {
          const n46 = void 0 !== t88.base ? t88.base : 1;
          if ("number" !== wr(r62))
            return Sr(t88.default, e143.default);
          const i68 = t88.stops.length;
          if (1 === i68)
            return t88.stops[0][1];
          if (r62 <= t88.stops[0][0])
            return t88.stops[0][1];
          if (r62 >= t88.stops[i68 - 1][0])
            return t88.stops[i68 - 1][1];
          const s63 = Ae(t88.stops.map((t89) => t89[0]), r62), a83 = function(t89, e144, r63, n47) {
            const i69 = n47 - r63, s64 = t89 - r63;
            return 0 === i69 ? 0 : 1 === e144 ? s64 / i69 : (Math.pow(e144, s64) - 1) / (Math.pow(e144, i69) - 1);
          }(r62, n46, t88.stops[s63][0], t88.stops[s63 + 1][0]), o102 = t88.stops[s63][1], l30 = t88.stops[s63 + 1][1];
          let u21 = ze[e143.type] || Ar;
          if (t88.colorSpace && "rgb" !== t88.colorSpace) {
            const e144 = je[t88.colorSpace];
            u21 = (t89, r63) => e144.reverse(e144.interpolate(e144.forward(t89), e144.forward(r63), a83));
          }
          return "function" == typeof o102.evaluate ? { evaluate(...t89) {
            const e144 = o102.evaluate.apply(void 0, t89), r63 = l30.evaluate.apply(void 0, t89);
            if (void 0 !== e144 && void 0 !== r63)
              return u21(e144, r63, a83);
          } } : u21(o102, l30, a83);
        }
        function Br(t88, e143, r62) {
          return "color" === e143.type ? r62 = Et.parse(r62) : "formatted" === e143.type ? r62 = Lt.fromString(r62.toString()) : "resolvedImage" === e143.type ? r62 = Dt.fromString(r62.toString()) : wr(r62) === e143.type || "enum" === e143.type && e143.values[r62] || (r62 = void 0), Sr(r62, t88.default, e143.default);
        }
        Wt.register(hr, { error: [{ kind: "error" }, [ft], (t88, [e143]) => {
          throw new jt(e143.evaluate(t88));
        }], typeof: [ft, [gt], (t88, [e143]) => _t(Ut(e143.evaluate(t88)))], "to-rgba": [wt(pt, 4), [yt], (t88, [e143]) => e143.evaluate(t88).toArray()], rgb: [yt, [pt, pt, pt], pr], rgba: [yt, [pt, pt, pt, pt], pr], has: { type: dt, overloads: [[[ft], (t88, [e143]) => fr(e143.evaluate(t88), t88.properties())], [[ft, mt], (t88, [e143, r62]) => fr(e143.evaluate(t88), r62.evaluate(t88))]] }, get: { type: gt, overloads: [[[ft], (t88, [e143]) => dr(e143.evaluate(t88), t88.properties())], [[ft, mt], (t88, [e143, r62]) => dr(e143.evaluate(t88), r62.evaluate(t88))]] }, "feature-state": [gt, [ft], (t88, [e143]) => dr(e143.evaluate(t88), t88.featureState || {})], properties: [mt, [], (t88) => t88.properties()], "geometry-type": [ft, [], (t88) => t88.geometryType()], id: [gt, [], (t88) => t88.id()], zoom: [pt, [], (t88) => t88.globals.zoom], "heatmap-density": [pt, [], (t88) => t88.globals.heatmapDensity || 0], "line-progress": [pt, [], (t88) => t88.globals.lineProgress || 0], accumulated: [gt, [], (t88) => void 0 === t88.globals.accumulated ? null : t88.globals.accumulated], "+": [pt, yr(pt), (t88, e143) => {
          let r62 = 0;
          for (const n46 of e143)
            r62 += n46.evaluate(t88);
          return r62;
        }], "*": [pt, yr(pt), (t88, e143) => {
          let r62 = 1;
          for (const n46 of e143)
            r62 *= n46.evaluate(t88);
          return r62;
        }], "-": { type: pt, overloads: [[[pt, pt], (t88, [e143, r62]) => e143.evaluate(t88) - r62.evaluate(t88)], [[pt], (t88, [e143]) => -e143.evaluate(t88)]] }, "/": [pt, [pt, pt], (t88, [e143, r62]) => e143.evaluate(t88) / r62.evaluate(t88)], "%": [pt, [pt, pt], (t88, [e143, r62]) => e143.evaluate(t88) % r62.evaluate(t88)], ln2: [pt, [], () => Math.LN2], pi: [pt, [], () => Math.PI], e: [pt, [], () => Math.E], "^": [pt, [pt, pt], (t88, [e143, r62]) => Math.pow(e143.evaluate(t88), r62.evaluate(t88))], sqrt: [pt, [pt], (t88, [e143]) => Math.sqrt(e143.evaluate(t88))], log10: [pt, [pt], (t88, [e143]) => Math.log(e143.evaluate(t88)) / Math.LN10], ln: [pt, [pt], (t88, [e143]) => Math.log(e143.evaluate(t88))], log2: [pt, [pt], (t88, [e143]) => Math.log(e143.evaluate(t88)) / Math.LN2], sin: [pt, [pt], (t88, [e143]) => Math.sin(e143.evaluate(t88))], cos: [pt, [pt], (t88, [e143]) => Math.cos(e143.evaluate(t88))], tan: [pt, [pt], (t88, [e143]) => Math.tan(e143.evaluate(t88))], asin: [pt, [pt], (t88, [e143]) => Math.asin(e143.evaluate(t88))], acos: [pt, [pt], (t88, [e143]) => Math.acos(e143.evaluate(t88))], atan: [pt, [pt], (t88, [e143]) => Math.atan(e143.evaluate(t88))], min: [pt, yr(pt), (t88, e143) => Math.min(...e143.map((e144) => e144.evaluate(t88)))], max: [pt, yr(pt), (t88, e143) => Math.max(...e143.map((e144) => e144.evaluate(t88)))], abs: [pt, [pt], (t88, [e143]) => Math.abs(e143.evaluate(t88))], round: [pt, [pt], (t88, [e143]) => {
          const r62 = e143.evaluate(t88);
          return r62 < 0 ? -Math.round(-r62) : Math.round(r62);
        }], floor: [pt, [pt], (t88, [e143]) => Math.floor(e143.evaluate(t88))], ceil: [pt, [pt], (t88, [e143]) => Math.ceil(e143.evaluate(t88))], "filter-==": [dt, [ft, gt], (t88, [e143, r62]) => t88.properties()[e143.value] === r62.value], "filter-id-==": [dt, [gt], (t88, [e143]) => t88.id() === e143.value], "filter-type-==": [dt, [ft], (t88, [e143]) => t88.geometryType() === e143.value], "filter-<": [dt, [ft, gt], (t88, [e143, r62]) => {
          const n46 = t88.properties()[e143.value], i68 = r62.value;
          return typeof n46 == typeof i68 && n46 < i68;
        }], "filter-id-<": [dt, [gt], (t88, [e143]) => {
          const r62 = t88.id(), n46 = e143.value;
          return typeof r62 == typeof n46 && r62 < n46;
        }], "filter->": [dt, [ft, gt], (t88, [e143, r62]) => {
          const n46 = t88.properties()[e143.value], i68 = r62.value;
          return typeof n46 == typeof i68 && n46 > i68;
        }], "filter-id->": [dt, [gt], (t88, [e143]) => {
          const r62 = t88.id(), n46 = e143.value;
          return typeof r62 == typeof n46 && r62 > n46;
        }], "filter-<=": [dt, [ft, gt], (t88, [e143, r62]) => {
          const n46 = t88.properties()[e143.value], i68 = r62.value;
          return typeof n46 == typeof i68 && n46 <= i68;
        }], "filter-id-<=": [dt, [gt], (t88, [e143]) => {
          const r62 = t88.id(), n46 = e143.value;
          return typeof r62 == typeof n46 && r62 <= n46;
        }], "filter->=": [dt, [ft, gt], (t88, [e143, r62]) => {
          const n46 = t88.properties()[e143.value], i68 = r62.value;
          return typeof n46 == typeof i68 && n46 >= i68;
        }], "filter-id->=": [dt, [gt], (t88, [e143]) => {
          const r62 = t88.id(), n46 = e143.value;
          return typeof r62 == typeof n46 && r62 >= n46;
        }], "filter-has": [dt, [gt], (t88, [e143]) => e143.value in t88.properties()], "filter-has-id": [dt, [], (t88) => null !== t88.id() && void 0 !== t88.id()], "filter-type-in": [dt, [wt(ft)], (t88, [e143]) => e143.value.indexOf(t88.geometryType()) >= 0], "filter-id-in": [dt, [wt(gt)], (t88, [e143]) => e143.value.indexOf(t88.id()) >= 0], "filter-in-small": [dt, [ft, wt(gt)], (t88, [e143, r62]) => r62.value.indexOf(t88.properties()[e143.value]) >= 0], "filter-in-large": [dt, [ft, wt(gt)], (t88, [e143, r62]) => function(t89, e144, r63, n46) {
          for (; r63 <= n46; ) {
            const i68 = r63 + n46 >> 1;
            if (e144[i68] === t89)
              return true;
            e144[i68] > t89 ? n46 = i68 - 1 : r63 = i68 + 1;
          }
          return false;
        }(t88.properties()[e143.value], r62.value, 0, r62.value.length - 1)], all: { type: dt, overloads: [[[dt, dt], (t88, [e143, r62]) => e143.evaluate(t88) && r62.evaluate(t88)], [yr(dt), (t88, e143) => {
          for (const r62 of e143)
            if (!r62.evaluate(t88))
              return false;
          return true;
        }]] }, any: { type: dt, overloads: [[[dt, dt], (t88, [e143, r62]) => e143.evaluate(t88) || r62.evaluate(t88)], [yr(dt), (t88, e143) => {
          for (const r62 of e143)
            if (r62.evaluate(t88))
              return true;
          return false;
        }]] }, "!": [dt, [dt], (t88, [e143]) => !e143.evaluate(t88)], "is-supported-script": [dt, [ft], (t88, [e143]) => {
          const r62 = t88.globals && t88.globals.isSupportedScript;
          return !r62 || r62(e143.evaluate(t88));
        }], upcase: [ft, [ft], (t88, [e143]) => e143.evaluate(t88).toUpperCase()], downcase: [ft, [ft], (t88, [e143]) => e143.evaluate(t88).toLowerCase()], concat: [ft, yr(gt), (t88, e143) => e143.map((e144) => Ot(e144.evaluate(t88))).join("")], "resolved-locale": [ft, [xt], (t88, [e143]) => e143.evaluate(t88).resolvedLocale()] });
        class Cr {
          constructor(t88, e143) {
            this.expression = t88, this._warningHistory = {}, this._evaluator = new Ht(), this._defaultValue = e143 ? function(t89) {
              return "color" === t89.type && _r(t89.default) ? new Et(0, 0, 0, 0) : "color" === t89.type ? Et.parse(t89.default) || null : void 0 === t89.default ? null : t89.default;
            }(e143) : null, this._enumValues = e143 && "enum" === e143.type ? e143.values : null;
          }
          evaluateWithoutErrorHandling(t88, e143, r62, n46, i68, s63) {
            return this._evaluator.globals = t88, this._evaluator.feature = e143, this._evaluator.featureState = r62, this._evaluator.canonical = n46, this._evaluator.availableImages = i68 || null, this._evaluator.formattedSection = s63, this.expression.evaluate(this._evaluator);
          }
          evaluate(t88, e143, r62, n46, i68, s63) {
            this._evaluator.globals = t88, this._evaluator.feature = e143 || null, this._evaluator.featureState = r62 || null, this._evaluator.canonical = n46, this._evaluator.availableImages = i68 || null, this._evaluator.formattedSection = s63 || null;
            try {
              const t89 = this.expression.evaluate(this._evaluator);
              if (null == t89 || "number" == typeof t89 && t89 != t89)
                return this._defaultValue;
              if (this._enumValues && !(t89 in this._enumValues))
                throw new jt(`Expected value to be one of ${Object.keys(this._enumValues).map((t90) => JSON.stringify(t90)).join(", ")}, but found ${JSON.stringify(t89)} instead.`);
              return t89;
            } catch (t89) {
              return this._warningHistory[t89.message] || (this._warningHistory[t89.message] = true, "undefined" != typeof console && console.warn(t89.message)), this._defaultValue;
            }
          }
        }
        function Pr(t88) {
          return Array.isArray(t88) && t88.length > 0 && "string" == typeof t88[0] && t88[0] in hr;
        }
        function Vr(t88, e143) {
          const r62 = new we(hr, [], e143 ? function(t89) {
            const e144 = { color: yt, string: ft, number: pt, enum: ft, boolean: dt, formatted: vt, resolvedImage: bt };
            return "array" === t89.type ? wt(e144[t89.value] || gt, t89.length) : e144[t89.type];
          }(e143) : void 0), n46 = r62.parse(t88, void 0, void 0, void 0, e143 && "string" === e143.type ? { typeAnnotation: "coerce" } : void 0);
          return n46 ? mr(new Cr(n46, e143)) : gr(r62.errors);
        }
        class Er {
          constructor(t88, e143) {
            this.kind = t88, this._styleExpression = e143, this.isStateDependent = "constant" !== t88 && !xe(e143.expression);
          }
          evaluateWithoutErrorHandling(t88, e143, r62, n46, i68, s63) {
            return this._styleExpression.evaluateWithoutErrorHandling(t88, e143, r62, n46, i68, s63);
          }
          evaluate(t88, e143, r62, n46, i68, s63) {
            return this._styleExpression.evaluate(t88, e143, r62, n46, i68, s63);
          }
        }
        class Fr {
          constructor(t88, e143, r62, n46) {
            this.kind = t88, this.zoomStops = r62, this._styleExpression = e143, this.isStateDependent = "camera" !== t88 && !xe(e143.expression), this.interpolationType = n46;
          }
          evaluateWithoutErrorHandling(t88, e143, r62, n46, i68, s63) {
            return this._styleExpression.evaluateWithoutErrorHandling(t88, e143, r62, n46, i68, s63);
          }
          evaluate(t88, e143, r62, n46, i68, s63) {
            return this._styleExpression.evaluate(t88, e143, r62, n46, i68, s63);
          }
          interpolationFactor(t88, e143, r62) {
            return this.interpolationType ? Ne.interpolationFactor(this.interpolationType, t88, e143, r62) : 0;
          }
        }
        function Tr(t88, e143) {
          const r62 = Vr(t88, e143);
          if ("error" === r62.result)
            return r62;
          const n46 = r62.value.expression, i68 = ge(n46);
          if (!i68 && !xr(e143))
            return gr([new ut("", "data expressions not supported")]);
          const s63 = ve(n46, ["zoom"]);
          if (!s63 && !vr(e143))
            return gr([new ut("", "zoom expressions not supported")]);
          const a83 = Dr(n46);
          return a83 || s63 ? a83 instanceof ut ? gr([a83]) : a83 instanceof Ne && !br(e143) ? gr([new ut("", '"interpolate" expressions cannot be used with this property')]) : mr(a83 ? new Fr(i68 ? "camera" : "composite", r62.value, a83.labels, a83 instanceof Ne ? a83.interpolation : void 0) : new Er(i68 ? "constant" : "source", r62.value)) : gr([new ut("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);
        }
        class Lr {
          constructor(t88, e143) {
            this._parameters = t88, this._specification = e143, at(this, kr(this._parameters, this._specification));
          }
          static deserialize(t88) {
            return new Lr(t88._parameters, t88._specification);
          }
          static serialize(t88) {
            return { _parameters: t88._parameters, _specification: t88._specification };
          }
        }
        function Dr(t88) {
          let e143 = null;
          if (t88 instanceof Ge)
            e143 = Dr(t88.result);
          else if (t88 instanceof Ze) {
            for (const r62 of t88.args)
              if (e143 = Dr(r62), e143)
                break;
          } else
            (t88 instanceof ke || t88 instanceof Ne) && t88.input instanceof Wt && "zoom" === t88.input.name && (e143 = t88);
          return e143 instanceof ut || t88.eachChild((t89) => {
            const r62 = Dr(t89);
            r62 instanceof ut ? e143 = r62 : !e143 && r62 ? e143 = new ut("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : e143 && r62 && e143 !== r62 && (e143 = new ut("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'));
          }), e143;
        }
        function $r(t88) {
          const e143 = t88.key, r62 = t88.value, n46 = t88.valueSpec || {}, i68 = t88.objectElementValidators || {}, s63 = t88.style, a83 = t88.styleSpec;
          let o102 = [];
          const l30 = wr(r62);
          if ("object" !== l30)
            return [new it(e143, r62, `object expected, ${l30} found`)];
          for (const t89 in r62) {
            const l31 = t89.split(".")[0], u21 = n46[l31] || n46["*"];
            let c23;
            if (i68[l31])
              c23 = i68[l31];
            else if (n46[l31])
              c23 = pn;
            else if (i68["*"])
              c23 = i68["*"];
            else {
              if (!n46["*"]) {
                o102.push(new it(e143, r62[t89], `unknown property "${t89}"`));
                continue;
              }
              c23 = pn;
            }
            o102 = o102.concat(c23({ key: (e143 ? `${e143}.` : e143) + t89, value: r62[t89], valueSpec: u21, style: s63, styleSpec: a83, object: r62, objectKey: t89 }, r62));
          }
          for (const t89 in n46)
            i68[t89] || n46[t89].required && void 0 === n46[t89].default && void 0 === r62[t89] && o102.push(new it(e143, r62, `missing required property "${t89}"`));
          return o102;
        }
        function Rr(t88) {
          const e143 = t88.value, r62 = t88.valueSpec, n46 = t88.style, i68 = t88.styleSpec, s63 = t88.key, a83 = t88.arrayElementValidator || pn;
          if ("array" !== wr(e143))
            return [new it(s63, e143, `array expected, ${wr(e143)} found`)];
          if (r62.length && e143.length !== r62.length)
            return [new it(s63, e143, `array length ${r62.length} expected, length ${e143.length} found`)];
          if (r62["min-length"] && e143.length < r62["min-length"])
            return [new it(s63, e143, `array length at least ${r62["min-length"]} expected, length ${e143.length} found`)];
          let o102 = { type: r62.value, values: r62.values };
          i68.$version < 7 && (o102.function = r62.function), "object" === wr(r62.value) && (o102 = r62.value);
          let l30 = [];
          for (let t89 = 0; t89 < e143.length; t89++)
            l30 = l30.concat(a83({ array: e143, arrayIndex: t89, value: e143[t89], valueSpec: o102, style: n46, styleSpec: i68, key: `${s63}[${t89}]` }));
          return l30;
        }
        function Ur(t88) {
          const e143 = t88.key, r62 = t88.value, n46 = t88.valueSpec;
          let i68 = wr(r62);
          return "number" === i68 && r62 != r62 && (i68 = "NaN"), "number" !== i68 ? [new it(e143, r62, `number expected, ${i68} found`)] : "minimum" in n46 && r62 < n46.minimum ? [new it(e143, r62, `${r62} is less than the minimum value ${n46.minimum}`)] : "maximum" in n46 && r62 > n46.maximum ? [new it(e143, r62, `${r62} is greater than the maximum value ${n46.maximum}`)] : [];
        }
        function Or(t88) {
          const e143 = t88.valueSpec, r62 = ot(t88.value.type);
          let n46, i68, s63, a83 = {};
          const o102 = "categorical" !== r62 && void 0 === t88.value.property, l30 = !o102, u21 = "array" === wr(t88.value.stops) && "array" === wr(t88.value.stops[0]) && "object" === wr(t88.value.stops[0][0]), c23 = $r({ key: t88.key, value: t88.value, valueSpec: t88.styleSpec.function, style: t88.style, styleSpec: t88.styleSpec, objectElementValidators: { stops: function(t89) {
            if ("identity" === r62)
              return [new it(t89.key, t89.value, 'identity function may not have a "stops" property')];
            let e144 = [];
            const n47 = t89.value;
            return e144 = e144.concat(Rr({ key: t89.key, value: n47, valueSpec: t89.valueSpec, style: t89.style, styleSpec: t89.styleSpec, arrayElementValidator: h13 })), "array" === wr(n47) && 0 === n47.length && e144.push(new it(t89.key, n47, "array must have at least one stop")), e144;
          }, default: function(t89) {
            return pn({ key: t89.key, value: t89.value, valueSpec: e143, style: t89.style, styleSpec: t89.styleSpec });
          } } });
          return "identity" === r62 && o102 && c23.push(new it(t88.key, t88.value, 'missing required property "property"')), "identity" === r62 || t88.value.stops || c23.push(new it(t88.key, t88.value, 'missing required property "stops"')), "exponential" === r62 && t88.valueSpec.expression && !br(t88.valueSpec) && c23.push(new it(t88.key, t88.value, "exponential functions not supported")), t88.styleSpec.$version >= 8 && (l30 && !xr(t88.valueSpec) ? c23.push(new it(t88.key, t88.value, "property functions not supported")) : o102 && !vr(t88.valueSpec) && c23.push(new it(t88.key, t88.value, "zoom functions not supported"))), "categorical" !== r62 && !u21 || void 0 !== t88.value.property || c23.push(new it(t88.key, t88.value, '"property" property is required')), c23;
          function h13(t89) {
            let r63 = [];
            const n47 = t89.value, o103 = t89.key;
            if ("array" !== wr(n47))
              return [new it(o103, n47, `array expected, ${wr(n47)} found`)];
            if (2 !== n47.length)
              return [new it(o103, n47, `array length 2 expected, length ${n47.length} found`)];
            if (u21) {
              if ("object" !== wr(n47[0]))
                return [new it(o103, n47, `object expected, ${wr(n47[0])} found`)];
              if (void 0 === n47[0].zoom)
                return [new it(o103, n47, "object stop key must have zoom")];
              if (void 0 === n47[0].value)
                return [new it(o103, n47, "object stop key must have value")];
              if (s63 && s63 > ot(n47[0].zoom))
                return [new it(o103, n47[0].zoom, "stop zoom values must appear in ascending order")];
              ot(n47[0].zoom) !== s63 && (s63 = ot(n47[0].zoom), i68 = void 0, a83 = {}), r63 = r63.concat($r({ key: `${o103}[0]`, value: n47[0], valueSpec: { zoom: {} }, style: t89.style, styleSpec: t89.styleSpec, objectElementValidators: { zoom: Ur, value: p18 } }));
            } else
              r63 = r63.concat(p18({ key: `${o103}[0]`, value: n47[0], valueSpec: {}, style: t89.style, styleSpec: t89.styleSpec }, n47));
            return Pr(lt(n47[1])) ? r63.concat([new it(`${o103}[1]`, n47[1], "expressions are not allowed in function stops.")]) : r63.concat(pn({ key: `${o103}[1]`, value: n47[1], valueSpec: e143, style: t89.style, styleSpec: t89.styleSpec }));
          }
          function p18(t89, s64) {
            const o103 = wr(t89.value), l31 = ot(t89.value), u22 = null !== t89.value ? t89.value : s64;
            if (n46) {
              if (o103 !== n46)
                return [new it(t89.key, u22, `${o103} stop domain type must match previous stop domain type ${n46}`)];
            } else
              n46 = o103;
            if ("number" !== o103 && "string" !== o103 && "boolean" !== o103)
              return [new it(t89.key, u22, "stop domain value must be a number, string, or boolean")];
            if ("number" !== o103 && "categorical" !== r62) {
              let n47 = `number expected, ${o103} found`;
              return xr(e143) && void 0 === r62 && (n47 += '\nIf you intended to use a categorical function, specify `"type": "categorical"`.'), [new it(t89.key, u22, n47)];
            }
            return "categorical" !== r62 || "number" !== o103 || isFinite(l31) && Math.floor(l31) === l31 ? "categorical" !== r62 && "number" === o103 && void 0 !== i68 && l31 < i68 ? [new it(t89.key, u22, "stop domain values must appear in ascending order")] : (i68 = l31, "categorical" === r62 && l31 in a83 ? [new it(t89.key, u22, "stop domain values must be unique")] : (a83[l31] = true, [])) : [new it(t89.key, u22, `integer expected, found ${l31}`)];
          }
        }
        function qr(t88) {
          const e143 = ("property" === t88.expressionContext ? Tr : Vr)(lt(t88.value), t88.valueSpec);
          if ("error" === e143.result)
            return e143.value.map((e144) => new it(`${t88.key}${e144.key}`, t88.value, e144.message));
          const r62 = e143.value.expression || e143.value._styleExpression.expression;
          if ("property" === t88.expressionContext && "text-font" === t88.propertyKey && !r62.outputDefined())
            return [new it(t88.key, t88.value, `Invalid data expression for "${t88.propertyKey}". Output values must be contained as literals within the expression.`)];
          if ("property" === t88.expressionContext && "layout" === t88.propertyType && !xe(r62))
            return [new it(t88.key, t88.value, '"feature-state" data expressions are not supported with layout properties.')];
          if ("filter" === t88.expressionContext && !xe(r62))
            return [new it(t88.key, t88.value, '"feature-state" data expressions are not supported with filters.')];
          if (t88.expressionContext && 0 === t88.expressionContext.indexOf("cluster")) {
            if (!ve(r62, ["zoom", "feature-state"]))
              return [new it(t88.key, t88.value, '"zoom" and "feature-state" expressions are not supported with cluster properties.')];
            if ("cluster-initial" === t88.expressionContext && !ge(r62))
              return [new it(t88.key, t88.value, "Feature data expressions are not supported with initial expression part of cluster properties.")];
          }
          return [];
        }
        function jr(t88) {
          const e143 = t88.key, r62 = t88.value, n46 = t88.valueSpec, i68 = [];
          return Array.isArray(n46.values) ? -1 === n46.values.indexOf(ot(r62)) && i68.push(new it(e143, r62, `expected one of [${n46.values.join(", ")}], ${JSON.stringify(r62)} found`)) : -1 === Object.keys(n46.values).indexOf(ot(r62)) && i68.push(new it(e143, r62, `expected one of [${Object.keys(n46.values).join(", ")}], ${JSON.stringify(r62)} found`)), i68;
        }
        function Nr(t88) {
          if (true === t88 || false === t88)
            return true;
          if (!Array.isArray(t88) || 0 === t88.length)
            return false;
          switch (t88[0]) {
            case "has":
              return t88.length >= 2 && "$id" !== t88[1] && "$type" !== t88[1];
            case "in":
              return t88.length >= 3 && ("string" != typeof t88[1] || Array.isArray(t88[2]));
            case "!in":
            case "!has":
            case "none":
              return false;
            case "==":
            case "!=":
            case ">":
            case ">=":
            case "<":
            case "<=":
              return 3 !== t88.length || Array.isArray(t88[1]) || Array.isArray(t88[2]);
            case "any":
            case "all":
              for (const e143 of t88.slice(1))
                if (!Nr(e143) && "boolean" != typeof e143)
                  return false;
              return true;
            default:
              return true;
          }
        }
        const Kr = { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } };
        function Zr(t88) {
          if (null == t88)
            return { filter: () => true, needGeometry: false };
          Nr(t88) || (t88 = Xr(t88));
          const e143 = Vr(t88, Kr);
          if ("error" === e143.result)
            throw new Error(e143.value.map((t89) => `${t89.key}: ${t89.message}`).join(", "));
          return { filter: (t89, r62, n46) => e143.value.evaluate(t89, r62, {}, n46), needGeometry: Jr(t88) };
        }
        function Gr(t88, e143) {
          return t88 < e143 ? -1 : t88 > e143 ? 1 : 0;
        }
        function Jr(t88) {
          if (!Array.isArray(t88))
            return false;
          if ("within" === t88[0])
            return true;
          for (let e143 = 1; e143 < t88.length; e143++)
            if (Jr(t88[e143]))
              return true;
          return false;
        }
        function Xr(t88) {
          if (!t88)
            return true;
          const e143 = t88[0];
          return t88.length <= 1 ? "any" !== e143 : "==" === e143 ? Yr(t88[1], t88[2], "==") : "!=" === e143 ? Qr(Yr(t88[1], t88[2], "==")) : "<" === e143 || ">" === e143 || "<=" === e143 || ">=" === e143 ? Yr(t88[1], t88[2], e143) : "any" === e143 ? (r62 = t88.slice(1), ["any"].concat(r62.map(Xr))) : "all" === e143 ? ["all"].concat(t88.slice(1).map(Xr)) : "none" === e143 ? ["all"].concat(t88.slice(1).map(Xr).map(Qr)) : "in" === e143 ? Hr(t88[1], t88.slice(2)) : "!in" === e143 ? Qr(Hr(t88[1], t88.slice(2))) : "has" === e143 ? Wr(t88[1]) : "!has" === e143 ? Qr(Wr(t88[1])) : "within" !== e143 || t88;
          var r62;
        }
        function Yr(t88, e143, r62) {
          switch (t88) {
            case "$type":
              return [`filter-type-${r62}`, e143];
            case "$id":
              return [`filter-id-${r62}`, e143];
            default:
              return [`filter-${r62}`, t88, e143];
          }
        }
        function Hr(t88, e143) {
          if (0 === e143.length)
            return false;
          switch (t88) {
            case "$type":
              return ["filter-type-in", ["literal", e143]];
            case "$id":
              return ["filter-id-in", ["literal", e143]];
            default:
              return e143.length > 200 && !e143.some((t89) => typeof t89 != typeof e143[0]) ? ["filter-in-large", t88, ["literal", e143.sort(Gr)]] : ["filter-in-small", t88, ["literal", e143]];
          }
        }
        function Wr(t88) {
          switch (t88) {
            case "$type":
              return true;
            case "$id":
              return ["filter-has-id"];
            default:
              return ["filter-has", t88];
          }
        }
        function Qr(t88) {
          return ["!", t88];
        }
        function tn(t88) {
          return Nr(lt(t88.value)) ? qr(at({}, t88, { expressionContext: "filter", valueSpec: { value: "boolean" } })) : en(t88);
        }
        function en(t88) {
          const e143 = t88.value, r62 = t88.key;
          if ("array" !== wr(e143))
            return [new it(r62, e143, `array expected, ${wr(e143)} found`)];
          const n46 = t88.styleSpec;
          let i68, s63 = [];
          if (e143.length < 1)
            return [new it(r62, e143, "filter array must have at least 1 element")];
          switch (s63 = s63.concat(jr({ key: `${r62}[0]`, value: e143[0], valueSpec: n46.filter_operator, style: t88.style, styleSpec: t88.styleSpec })), ot(e143[0])) {
            case "<":
            case "<=":
            case ">":
            case ">=":
              e143.length >= 2 && "$type" === ot(e143[1]) && s63.push(new it(r62, e143, `"$type" cannot be use with operator "${e143[0]}"`));
            case "==":
            case "!=":
              3 !== e143.length && s63.push(new it(r62, e143, `filter array for operator "${e143[0]}" must have 3 elements`));
            case "in":
            case "!in":
              e143.length >= 2 && (i68 = wr(e143[1]), "string" !== i68 && s63.push(new it(`${r62}[1]`, e143[1], `string expected, ${i68} found`)));
              for (let a83 = 2; a83 < e143.length; a83++)
                i68 = wr(e143[a83]), "$type" === ot(e143[1]) ? s63 = s63.concat(jr({ key: `${r62}[${a83}]`, value: e143[a83], valueSpec: n46.geometry_type, style: t88.style, styleSpec: t88.styleSpec })) : "string" !== i68 && "number" !== i68 && "boolean" !== i68 && s63.push(new it(`${r62}[${a83}]`, e143[a83], `string, number, or boolean expected, ${i68} found`));
              break;
            case "any":
            case "all":
            case "none":
              for (let n47 = 1; n47 < e143.length; n47++)
                s63 = s63.concat(en({ key: `${r62}[${n47}]`, value: e143[n47], style: t88.style, styleSpec: t88.styleSpec }));
              break;
            case "has":
            case "!has":
              i68 = wr(e143[1]), 2 !== e143.length ? s63.push(new it(r62, e143, `filter array for "${e143[0]}" operator must have 2 elements`)) : "string" !== i68 && s63.push(new it(`${r62}[1]`, e143[1], `string expected, ${i68} found`));
              break;
            case "within":
              i68 = wr(e143[1]), 2 !== e143.length ? s63.push(new it(r62, e143, `filter array for "${e143[0]}" operator must have 2 elements`)) : "object" !== i68 && s63.push(new it(`${r62}[1]`, e143[1], `object expected, ${i68} found`));
          }
          return s63;
        }
        function rn(t88, e143) {
          const r62 = t88.key, n46 = t88.style, i68 = t88.styleSpec, s63 = t88.value, a83 = t88.objectKey, o102 = i68[`${e143}_${t88.layerType}`];
          if (!o102)
            return [];
          const l30 = a83.match(/^(.*)-transition$/);
          if ("paint" === e143 && l30 && o102[l30[1]] && o102[l30[1]].transition)
            return pn({ key: r62, value: s63, valueSpec: i68.transition, style: n46, styleSpec: i68 });
          const u21 = t88.valueSpec || o102[a83];
          if (!u21)
            return [new it(r62, s63, `unknown property "${a83}"`)];
          let c23;
          if ("string" === wr(s63) && xr(u21) && !u21.tokens && (c23 = /^{([^}]+)}$/.exec(s63)))
            return [new it(r62, s63, `"${a83}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(c23[1])} }\`.`)];
          const h13 = [];
          return "symbol" === t88.layerType && ("text-field" === a83 && n46 && !n46.glyphs && h13.push(new it(r62, s63, 'use of "text-field" requires a style "glyphs" property')), "text-font" === a83 && _r(lt(s63)) && "identity" === ot(s63.type) && h13.push(new it(r62, s63, '"text-font" does not support identity functions'))), h13.concat(pn({ key: t88.key, value: s63, valueSpec: u21, style: n46, styleSpec: i68, expressionContext: "property", propertyType: e143, propertyKey: a83 }));
        }
        function nn(t88) {
          return rn(t88, "paint");
        }
        function sn(t88) {
          return rn(t88, "layout");
        }
        function an(t88) {
          let e143 = [];
          const r62 = t88.value, n46 = t88.key, i68 = t88.style, s63 = t88.styleSpec;
          r62.type || r62.ref || e143.push(new it(n46, r62, 'either "type" or "ref" is required'));
          let a83 = ot(r62.type);
          const o102 = ot(r62.ref);
          if (r62.id) {
            const s64 = ot(r62.id);
            for (let a84 = 0; a84 < t88.arrayIndex; a84++) {
              const t89 = i68.layers[a84];
              ot(t89.id) === s64 && e143.push(new it(n46, r62.id, `duplicate layer id "${r62.id}", previously used at line ${t89.id.__line__}`));
            }
          }
          if ("ref" in r62) {
            let t89;
            ["type", "source", "source-layer", "filter", "layout"].forEach((t90) => {
              t90 in r62 && e143.push(new it(n46, r62[t90], `"${t90}" is prohibited for ref layers`));
            }), i68.layers.forEach((e144) => {
              ot(e144.id) === o102 && (t89 = e144);
            }), t89 ? t89.ref ? e143.push(new it(n46, r62.ref, "ref cannot reference another ref layer")) : a83 = ot(t89.type) : e143.push(new it(n46, r62.ref, `ref layer "${o102}" not found`));
          } else if ("background" !== a83)
            if (r62.source) {
              const t89 = i68.sources && i68.sources[r62.source], s64 = t89 && ot(t89.type);
              t89 ? "vector" === s64 && "raster" === a83 ? e143.push(new it(n46, r62.source, `layer "${r62.id}" requires a raster source`)) : "raster" === s64 && "raster" !== a83 ? e143.push(new it(n46, r62.source, `layer "${r62.id}" requires a vector source`)) : "vector" !== s64 || r62["source-layer"] ? "raster-dem" === s64 && "hillshade" !== a83 ? e143.push(new it(n46, r62.source, "raster-dem source can only be used with layer type 'hillshade'.")) : "line" !== a83 || !r62.paint || !r62.paint["line-gradient"] || "geojson" === s64 && t89.lineMetrics || e143.push(new it(n46, r62, `layer "${r62.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)) : e143.push(new it(n46, r62, `layer "${r62.id}" must specify a "source-layer"`)) : e143.push(new it(n46, r62.source, `source "${r62.source}" not found`));
            } else
              e143.push(new it(n46, r62, 'missing required property "source"'));
          return e143 = e143.concat($r({ key: n46, value: r62, valueSpec: s63.layer, style: t88.style, styleSpec: t88.styleSpec, objectElementValidators: { "*": () => [], type: () => pn({ key: `${n46}.type`, value: r62.type, valueSpec: s63.layer.type, style: t88.style, styleSpec: t88.styleSpec, object: r62, objectKey: "type" }), filter: tn, layout: (t89) => $r({ layer: r62, key: t89.key, value: t89.value, style: t89.style, styleSpec: t89.styleSpec, objectElementValidators: { "*": (t90) => sn(at({ layerType: a83 }, t90)) } }), paint: (t89) => $r({ layer: r62, key: t89.key, value: t89.value, style: t89.style, styleSpec: t89.styleSpec, objectElementValidators: { "*": (t90) => nn(at({ layerType: a83 }, t90)) } }) } })), e143;
        }
        function on(t88) {
          const e143 = t88.value, r62 = t88.key, n46 = wr(e143);
          return "string" !== n46 ? [new it(r62, e143, `string expected, ${n46} found`)] : [];
        }
        const ln = { promoteId: function({ key: t88, value: e143 }) {
          if ("string" === wr(e143))
            return on({ key: t88, value: e143 });
          {
            const r62 = [];
            for (const n46 in e143)
              r62.push(...on({ key: `${t88}.${n46}`, value: e143[n46] }));
            return r62;
          }
        } };
        function un(t88) {
          const e143 = t88.value, r62 = t88.key, n46 = t88.styleSpec, i68 = t88.style;
          if (!e143.type)
            return [new it(r62, e143, '"type" is required')];
          const s63 = ot(e143.type);
          let a83;
          switch (s63) {
            case "vector":
            case "raster":
            case "raster-dem":
              return a83 = $r({ key: r62, value: e143, valueSpec: n46[`source_${s63.replace("-", "_")}`], style: t88.style, styleSpec: n46, objectElementValidators: ln }), a83;
            case "geojson":
              if (a83 = $r({ key: r62, value: e143, valueSpec: n46.source_geojson, style: i68, styleSpec: n46, objectElementValidators: ln }), e143.cluster)
                for (const t89 in e143.clusterProperties) {
                  const [n47, i69] = e143.clusterProperties[t89], s64 = "string" == typeof n47 ? [n47, ["accumulated"], ["get", t89]] : n47;
                  a83.push(...qr({ key: `${r62}.${t89}.map`, value: i69, expressionContext: "cluster-map" })), a83.push(...qr({ key: `${r62}.${t89}.reduce`, value: s64, expressionContext: "cluster-reduce" }));
                }
              return a83;
            case "video":
              return $r({ key: r62, value: e143, valueSpec: n46.source_video, style: i68, styleSpec: n46 });
            case "image":
              return $r({ key: r62, value: e143, valueSpec: n46.source_image, style: i68, styleSpec: n46 });
            case "canvas":
              return [new it(r62, null, "Please use runtime APIs to add canvas sources, rather than including them in stylesheets.", "source.canvas")];
            default:
              return jr({ key: `${r62}.type`, value: e143.type, valueSpec: { values: ["vector", "raster", "raster-dem", "geojson", "video", "image"] }, style: i68, styleSpec: n46 });
          }
        }
        function cn(t88) {
          const e143 = t88.value, r62 = t88.styleSpec, n46 = r62.light, i68 = t88.style;
          let s63 = [];
          const a83 = wr(e143);
          if (void 0 === e143)
            return s63;
          if ("object" !== a83)
            return s63 = s63.concat([new it("light", e143, `object expected, ${a83} found`)]), s63;
          for (const t89 in e143) {
            const a84 = t89.match(/^(.*)-transition$/);
            s63 = s63.concat(a84 && n46[a84[1]] && n46[a84[1]].transition ? pn({ key: t89, value: e143[t89], valueSpec: r62.transition, style: i68, styleSpec: r62 }) : n46[t89] ? pn({ key: t89, value: e143[t89], valueSpec: n46[t89], style: i68, styleSpec: r62 }) : [new it(t89, e143[t89], `unknown property "${t89}"`)]);
          }
          return s63;
        }
        const hn = { "*": () => [], array: Rr, boolean: function(t88) {
          const e143 = t88.value, r62 = t88.key, n46 = wr(e143);
          return "boolean" !== n46 ? [new it(r62, e143, `boolean expected, ${n46} found`)] : [];
        }, number: Ur, color: function(t88) {
          const e143 = t88.key, r62 = t88.value, n46 = wr(r62);
          return "string" !== n46 ? [new it(e143, r62, `color expected, ${n46} found`)] : null === It(r62) ? [new it(e143, r62, `color expected, "${r62}" found`)] : [];
        }, constants: st, enum: jr, filter: tn, function: Or, layer: an, object: $r, source: un, light: cn, string: on, formatted: function(t88) {
          return 0 === on(t88).length ? [] : qr(t88);
        }, resolvedImage: function(t88) {
          return 0 === on(t88).length ? [] : qr(t88);
        } };
        function pn(t88) {
          const e143 = t88.value, r62 = t88.valueSpec, n46 = t88.styleSpec;
          return r62.expression && _r(ot(e143)) ? Or(t88) : r62.expression && Pr(lt(e143)) ? qr(t88) : r62.type && hn[r62.type] ? hn[r62.type](t88) : $r(at({}, t88, { valueSpec: r62.type ? n46[r62.type] : r62 }));
        }
        function fn(t88) {
          const e143 = t88.value, r62 = t88.key, n46 = on(t88);
          return n46.length || (-1 === e143.indexOf("{fontstack}") && n46.push(new it(r62, e143, '"glyphs" url must include a "{fontstack}" token')), -1 === e143.indexOf("{range}") && n46.push(new it(r62, e143, '"glyphs" url must include a "{range}" token'))), n46;
        }
        function dn(t88, e143 = nt) {
          let r62 = [];
          return r62 = r62.concat(pn({ key: "", value: t88, valueSpec: e143.$root, styleSpec: e143, style: t88, objectElementValidators: { glyphs: fn, "*": () => [] } })), t88.constants && (r62 = r62.concat(st({ key: "constants", value: t88.constants, style: t88, styleSpec: e143 }))), yn(r62);
        }
        function yn(t88) {
          return [].concat(t88).sort((t89, e143) => t89.line - e143.line);
        }
        function mn(t88) {
          return function(...e143) {
            return yn(t88.apply(this, e143));
          };
        }
        dn.source = mn(un), dn.light = mn(cn), dn.layer = mn(an), dn.filter = mn(tn), dn.paintProperty = mn(nn), dn.layoutProperty = mn(sn);
        const gn = dn, xn = gn.light, vn = gn.paintProperty, bn = gn.layoutProperty;
        function wn(t88, e143) {
          let r62 = false;
          if (e143 && e143.length)
            for (const n46 of e143)
              t88.fire(new et(new Error(n46.message))), r62 = true;
          return r62;
        }
        class _n {
          constructor(t88, e143, r62) {
            const n46 = this.cells = [];
            if (t88 instanceof ArrayBuffer) {
              this.arrayBuffer = t88;
              const i69 = new Int32Array(this.arrayBuffer);
              t88 = i69[0], this.d = (e143 = i69[1]) + 2 * (r62 = i69[2]);
              for (let t89 = 0; t89 < this.d * this.d; t89++) {
                const e144 = i69[3 + t89], r63 = i69[3 + t89 + 1];
                n46.push(e144 === r63 ? null : i69.subarray(e144, r63));
              }
              const s63 = i69[3 + n46.length + 1];
              this.keys = i69.subarray(i69[3 + n46.length], s63), this.bboxes = i69.subarray(s63), this.insert = this._insertReadonly;
            } else {
              this.d = e143 + 2 * r62;
              for (let t89 = 0; t89 < this.d * this.d; t89++)
                n46.push([]);
              this.keys = [], this.bboxes = [];
            }
            this.n = e143, this.extent = t88, this.padding = r62, this.scale = e143 / t88, this.uid = 0;
            const i68 = r62 / e143 * t88;
            this.min = -i68, this.max = t88 + i68;
          }
          insert(t88, e143, r62, n46, i68) {
            this._forEachCell(e143, r62, n46, i68, this._insertCell, this.uid++, void 0, void 0), this.keys.push(t88), this.bboxes.push(e143), this.bboxes.push(r62), this.bboxes.push(n46), this.bboxes.push(i68);
          }
          _insertReadonly() {
            throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.");
          }
          _insertCell(t88, e143, r62, n46, i68, s63) {
            this.cells[i68].push(s63);
          }
          query(t88, e143, r62, n46, i68) {
            const s63 = this.min, a83 = this.max;
            if (t88 <= s63 && e143 <= s63 && a83 <= r62 && a83 <= n46 && !i68)
              return Array.prototype.slice.call(this.keys);
            {
              const s64 = [];
              return this._forEachCell(t88, e143, r62, n46, this._queryCell, s64, {}, i68), s64;
            }
          }
          _queryCell(t88, e143, r62, n46, i68, s63, a83, o102) {
            const l30 = this.cells[i68];
            if (null !== l30) {
              const i69 = this.keys, u21 = this.bboxes;
              for (let c23 = 0; c23 < l30.length; c23++) {
                const h13 = l30[c23];
                if (void 0 === a83[h13]) {
                  const l31 = 4 * h13;
                  (o102 ? o102(u21[l31 + 0], u21[l31 + 1], u21[l31 + 2], u21[l31 + 3]) : t88 <= u21[l31 + 2] && e143 <= u21[l31 + 3] && r62 >= u21[l31 + 0] && n46 >= u21[l31 + 1]) ? (a83[h13] = true, s63.push(i69[h13])) : a83[h13] = false;
                }
              }
            }
          }
          _forEachCell(t88, e143, r62, n46, i68, s63, a83, o102) {
            const l30 = this._convertToCellCoord(t88), u21 = this._convertToCellCoord(e143), c23 = this._convertToCellCoord(r62), h13 = this._convertToCellCoord(n46);
            for (let p18 = l30; p18 <= c23; p18++)
              for (let l31 = u21; l31 <= h13; l31++) {
                const u22 = this.d * l31 + p18;
                if ((!o102 || o102(this._convertFromCellCoord(p18), this._convertFromCellCoord(l31), this._convertFromCellCoord(p18 + 1), this._convertFromCellCoord(l31 + 1))) && i68.call(this, t88, e143, r62, n46, u22, s63, a83, o102))
                  return;
              }
          }
          _convertFromCellCoord(t88) {
            return (t88 - this.padding) / this.scale;
          }
          _convertToCellCoord(t88) {
            return Math.max(0, Math.min(this.d - 1, Math.floor(t88 * this.scale) + this.padding));
          }
          toArrayBuffer() {
            if (this.arrayBuffer)
              return this.arrayBuffer;
            const t88 = this.cells, e143 = 3 + this.cells.length + 1 + 1;
            let r62 = 0;
            for (let t89 = 0; t89 < this.cells.length; t89++)
              r62 += this.cells[t89].length;
            const n46 = new Int32Array(e143 + r62 + this.keys.length + this.bboxes.length);
            n46[0] = this.extent, n46[1] = this.n, n46[2] = this.padding;
            let i68 = e143;
            for (let e144 = 0; e144 < t88.length; e144++) {
              const r63 = t88[e144];
              n46[3 + e144] = i68, n46.set(r63, i68), i68 += r63.length;
            }
            return n46[3 + t88.length] = i68, n46.set(this.keys, i68), i68 += this.keys.length, n46[3 + t88.length + 1] = i68, n46.set(this.bboxes, i68), i68 += this.bboxes.length, n46.buffer;
          }
          static serialize(t88, e143) {
            const r62 = t88.toArrayBuffer();
            return e143 && e143.push(r62), { buffer: r62 };
          }
          static deserialize(t88) {
            return new _n(t88.buffer);
          }
        }
        const An = {};
        function kn(t88, e143, r62 = {}) {
          Object.defineProperty(e143, "_classRegistryKey", { value: t88, writeable: false }), An[t88] = { klass: e143, omit: r62.omit || [], shallow: r62.shallow || [] };
        }
        kn("Object", Object), kn("TransferableGridIndex", _n), kn("Color", Et), kn("Error", Error), kn("AJAXError", q3), kn("ResolvedImage", Dt), kn("StylePropertyFunction", Lr), kn("StyleExpression", Cr, { omit: ["_evaluator"] }), kn("ZoomDependentExpression", Fr), kn("ZoomConstantExpression", Er), kn("CompoundExpression", Wt, { omit: ["_evaluate"] });
        for (const t88 in hr)
          hr[t88]._classRegistryKey || kn(`Expression_${t88}`, hr[t88]);
        function Sn(t88) {
          return t88 && "undefined" != typeof ArrayBuffer && (t88 instanceof ArrayBuffer || t88.constructor && "ArrayBuffer" === t88.constructor.name);
        }
        function zn(t88, e143) {
          if (null == t88 || "boolean" == typeof t88 || "number" == typeof t88 || "string" == typeof t88 || t88 instanceof Boolean || t88 instanceof Number || t88 instanceof String || t88 instanceof Date || t88 instanceof RegExp || t88 instanceof Blob)
            return t88;
          if (Sn(t88))
            return e143 && e143.push(t88), t88;
          if (A3(t88))
            return e143 && e143.push(t88), t88;
          if (ArrayBuffer.isView(t88)) {
            const r62 = t88;
            return e143 && e143.push(r62.buffer), r62;
          }
          if (t88 instanceof ImageData)
            return e143 && e143.push(t88.data.buffer), t88;
          if (Array.isArray(t88)) {
            const r62 = [];
            for (const n46 of t88)
              r62.push(zn(n46, e143));
            return r62;
          }
          if ("object" == typeof t88) {
            const r62 = t88.constructor, n46 = r62._classRegistryKey;
            if (!n46)
              throw new Error("can't serialize object of unregistered class");
            const i68 = r62.serialize ? r62.serialize(t88, e143) : {};
            if (!r62.serialize) {
              for (const r63 in t88) {
                if (!t88.hasOwnProperty(r63))
                  continue;
                if (An[n46].omit.indexOf(r63) >= 0)
                  continue;
                const s63 = t88[r63];
                i68[r63] = An[n46].shallow.indexOf(r63) >= 0 ? s63 : zn(s63, e143);
              }
              t88 instanceof Error && (i68.message = t88.message);
            }
            if (i68.$name)
              throw new Error("$name property is reserved for worker serialization logic.");
            return "Object" !== n46 && (i68.$name = n46), i68;
          }
          throw new Error("can't serialize object of type " + typeof t88);
        }
        function In(t88) {
          if (null == t88 || "boolean" == typeof t88 || "number" == typeof t88 || "string" == typeof t88 || t88 instanceof Boolean || t88 instanceof Number || t88 instanceof String || t88 instanceof Date || t88 instanceof RegExp || t88 instanceof Blob || Sn(t88) || A3(t88) || ArrayBuffer.isView(t88) || t88 instanceof ImageData)
            return t88;
          if (Array.isArray(t88))
            return t88.map(In);
          if ("object" == typeof t88) {
            const e143 = t88.$name || "Object";
            if (!An[e143])
              throw new Error(`can't deserialize unregistered class ${e143}`);
            const { klass: r62 } = An[e143];
            if (!r62)
              throw new Error(`can't deserialize unregistered class ${e143}`);
            if (r62.deserialize)
              return r62.deserialize(t88);
            const n46 = Object.create(r62.prototype);
            for (const r63 of Object.keys(t88)) {
              if ("$name" === r63)
                continue;
              const i68 = t88[r63];
              n46[r63] = An[e143].shallow.indexOf(r63) >= 0 ? i68 : In(i68);
            }
            return n46;
          }
          throw new Error("can't deserialize object of type " + typeof t88);
        }
        class Mn {
          constructor() {
            this.first = true;
          }
          update(t88, e143) {
            const r62 = Math.floor(t88);
            return this.first ? (this.first = false, this.lastIntegerZoom = r62, this.lastIntegerZoomTime = 0, this.lastZoom = t88, this.lastFloorZoom = r62, true) : (this.lastFloorZoom > r62 ? (this.lastIntegerZoom = r62 + 1, this.lastIntegerZoomTime = e143) : this.lastFloorZoom < r62 && (this.lastIntegerZoom = r62, this.lastIntegerZoomTime = e143), t88 !== this.lastZoom && (this.lastZoom = t88, this.lastFloorZoom = r62, true));
          }
        }
        const Bn = { "Latin-1 Supplement": (t88) => t88 >= 128 && t88 <= 255, Arabic: (t88) => t88 >= 1536 && t88 <= 1791, "Arabic Supplement": (t88) => t88 >= 1872 && t88 <= 1919, "Arabic Extended-A": (t88) => t88 >= 2208 && t88 <= 2303, "Hangul Jamo": (t88) => t88 >= 4352 && t88 <= 4607, "Unified Canadian Aboriginal Syllabics": (t88) => t88 >= 5120 && t88 <= 5759, Khmer: (t88) => t88 >= 6016 && t88 <= 6143, "Unified Canadian Aboriginal Syllabics Extended": (t88) => t88 >= 6320 && t88 <= 6399, "General Punctuation": (t88) => t88 >= 8192 && t88 <= 8303, "Letterlike Symbols": (t88) => t88 >= 8448 && t88 <= 8527, "Number Forms": (t88) => t88 >= 8528 && t88 <= 8591, "Miscellaneous Technical": (t88) => t88 >= 8960 && t88 <= 9215, "Control Pictures": (t88) => t88 >= 9216 && t88 <= 9279, "Optical Character Recognition": (t88) => t88 >= 9280 && t88 <= 9311, "Enclosed Alphanumerics": (t88) => t88 >= 9312 && t88 <= 9471, "Geometric Shapes": (t88) => t88 >= 9632 && t88 <= 9727, "Miscellaneous Symbols": (t88) => t88 >= 9728 && t88 <= 9983, "Miscellaneous Symbols and Arrows": (t88) => t88 >= 11008 && t88 <= 11263, "CJK Radicals Supplement": (t88) => t88 >= 11904 && t88 <= 12031, "Kangxi Radicals": (t88) => t88 >= 12032 && t88 <= 12255, "Ideographic Description Characters": (t88) => t88 >= 12272 && t88 <= 12287, "CJK Symbols and Punctuation": (t88) => t88 >= 12288 && t88 <= 12351, Hiragana: (t88) => t88 >= 12352 && t88 <= 12447, Katakana: (t88) => t88 >= 12448 && t88 <= 12543, Bopomofo: (t88) => t88 >= 12544 && t88 <= 12591, "Hangul Compatibility Jamo": (t88) => t88 >= 12592 && t88 <= 12687, Kanbun: (t88) => t88 >= 12688 && t88 <= 12703, "Bopomofo Extended": (t88) => t88 >= 12704 && t88 <= 12735, "CJK Strokes": (t88) => t88 >= 12736 && t88 <= 12783, "Katakana Phonetic Extensions": (t88) => t88 >= 12784 && t88 <= 12799, "Enclosed CJK Letters and Months": (t88) => t88 >= 12800 && t88 <= 13055, "CJK Compatibility": (t88) => t88 >= 13056 && t88 <= 13311, "CJK Unified Ideographs Extension A": (t88) => t88 >= 13312 && t88 <= 19903, "Yijing Hexagram Symbols": (t88) => t88 >= 19904 && t88 <= 19967, "CJK Unified Ideographs": (t88) => t88 >= 19968 && t88 <= 40959, "Yi Syllables": (t88) => t88 >= 40960 && t88 <= 42127, "Yi Radicals": (t88) => t88 >= 42128 && t88 <= 42191, "Hangul Jamo Extended-A": (t88) => t88 >= 43360 && t88 <= 43391, "Hangul Syllables": (t88) => t88 >= 44032 && t88 <= 55215, "Hangul Jamo Extended-B": (t88) => t88 >= 55216 && t88 <= 55295, "Private Use Area": (t88) => t88 >= 57344 && t88 <= 63743, "CJK Compatibility Ideographs": (t88) => t88 >= 63744 && t88 <= 64255, "Arabic Presentation Forms-A": (t88) => t88 >= 64336 && t88 <= 65023, "Vertical Forms": (t88) => t88 >= 65040 && t88 <= 65055, "CJK Compatibility Forms": (t88) => t88 >= 65072 && t88 <= 65103, "Small Form Variants": (t88) => t88 >= 65104 && t88 <= 65135, "Arabic Presentation Forms-B": (t88) => t88 >= 65136 && t88 <= 65279, "Halfwidth and Fullwidth Forms": (t88) => t88 >= 65280 && t88 <= 65519 };
        function Cn(t88) {
          for (const e143 of t88)
            if (En(e143.charCodeAt(0)))
              return true;
          return false;
        }
        function Pn(t88) {
          for (const e143 of t88)
            if (!Vn(e143.charCodeAt(0)))
              return false;
          return true;
        }
        function Vn(t88) {
          return !(Bn.Arabic(t88) || Bn["Arabic Supplement"](t88) || Bn["Arabic Extended-A"](t88) || Bn["Arabic Presentation Forms-A"](t88) || Bn["Arabic Presentation Forms-B"](t88));
        }
        function En(t88) {
          return !(746 !== t88 && 747 !== t88 && (t88 < 4352 || !(Bn["Bopomofo Extended"](t88) || Bn.Bopomofo(t88) || Bn["CJK Compatibility Forms"](t88) && !(t88 >= 65097 && t88 <= 65103) || Bn["CJK Compatibility Ideographs"](t88) || Bn["CJK Compatibility"](t88) || Bn["CJK Radicals Supplement"](t88) || Bn["CJK Strokes"](t88) || !(!Bn["CJK Symbols and Punctuation"](t88) || t88 >= 12296 && t88 <= 12305 || t88 >= 12308 && t88 <= 12319 || 12336 === t88) || Bn["CJK Unified Ideographs Extension A"](t88) || Bn["CJK Unified Ideographs"](t88) || Bn["Enclosed CJK Letters and Months"](t88) || Bn["Hangul Compatibility Jamo"](t88) || Bn["Hangul Jamo Extended-A"](t88) || Bn["Hangul Jamo Extended-B"](t88) || Bn["Hangul Jamo"](t88) || Bn["Hangul Syllables"](t88) || Bn.Hiragana(t88) || Bn["Ideographic Description Characters"](t88) || Bn.Kanbun(t88) || Bn["Kangxi Radicals"](t88) || Bn["Katakana Phonetic Extensions"](t88) || Bn.Katakana(t88) && 12540 !== t88 || !(!Bn["Halfwidth and Fullwidth Forms"](t88) || 65288 === t88 || 65289 === t88 || 65293 === t88 || t88 >= 65306 && t88 <= 65310 || 65339 === t88 || 65341 === t88 || 65343 === t88 || t88 >= 65371 && t88 <= 65503 || 65507 === t88 || t88 >= 65512 && t88 <= 65519) || !(!Bn["Small Form Variants"](t88) || t88 >= 65112 && t88 <= 65118 || t88 >= 65123 && t88 <= 65126) || Bn["Unified Canadian Aboriginal Syllabics"](t88) || Bn["Unified Canadian Aboriginal Syllabics Extended"](t88) || Bn["Vertical Forms"](t88) || Bn["Yijing Hexagram Symbols"](t88) || Bn["Yi Syllables"](t88) || Bn["Yi Radicals"](t88))));
        }
        function Fn(t88) {
          return !(En(t88) || function(t89) {
            return !!(Bn["Latin-1 Supplement"](t89) && (167 === t89 || 169 === t89 || 174 === t89 || 177 === t89 || 188 === t89 || 189 === t89 || 190 === t89 || 215 === t89 || 247 === t89) || Bn["General Punctuation"](t89) && (8214 === t89 || 8224 === t89 || 8225 === t89 || 8240 === t89 || 8241 === t89 || 8251 === t89 || 8252 === t89 || 8258 === t89 || 8263 === t89 || 8264 === t89 || 8265 === t89 || 8273 === t89) || Bn["Letterlike Symbols"](t89) || Bn["Number Forms"](t89) || Bn["Miscellaneous Technical"](t89) && (t89 >= 8960 && t89 <= 8967 || t89 >= 8972 && t89 <= 8991 || t89 >= 8996 && t89 <= 9e3 || 9003 === t89 || t89 >= 9085 && t89 <= 9114 || t89 >= 9150 && t89 <= 9165 || 9167 === t89 || t89 >= 9169 && t89 <= 9179 || t89 >= 9186 && t89 <= 9215) || Bn["Control Pictures"](t89) && 9251 !== t89 || Bn["Optical Character Recognition"](t89) || Bn["Enclosed Alphanumerics"](t89) || Bn["Geometric Shapes"](t89) || Bn["Miscellaneous Symbols"](t89) && !(t89 >= 9754 && t89 <= 9759) || Bn["Miscellaneous Symbols and Arrows"](t89) && (t89 >= 11026 && t89 <= 11055 || t89 >= 11088 && t89 <= 11097 || t89 >= 11192 && t89 <= 11243) || Bn["CJK Symbols and Punctuation"](t89) || Bn.Katakana(t89) || Bn["Private Use Area"](t89) || Bn["CJK Compatibility Forms"](t89) || Bn["Small Form Variants"](t89) || Bn["Halfwidth and Fullwidth Forms"](t89) || 8734 === t89 || 8756 === t89 || 8757 === t89 || t89 >= 9984 && t89 <= 10087 || t89 >= 10102 && t89 <= 10131 || 65532 === t89 || 65533 === t89);
          }(t88));
        }
        function Tn(t88) {
          return t88 >= 1424 && t88 <= 2303 || Bn["Arabic Presentation Forms-A"](t88) || Bn["Arabic Presentation Forms-B"](t88);
        }
        function Ln(t88, e143) {
          return !(!e143 && Tn(t88) || t88 >= 2304 && t88 <= 3583 || t88 >= 3840 && t88 <= 4255 || Bn.Khmer(t88));
        }
        function Dn(t88) {
          for (const e143 of t88)
            if (Tn(e143.charCodeAt(0)))
              return true;
          return false;
        }
        const $n = "deferred", Rn = "loading", Un = "loaded";
        let On = null, qn = "unavailable", jn = null;
        const Nn = function(t88) {
          t88 && "string" == typeof t88 && t88.indexOf("NetworkError") > -1 && (qn = "error"), On && On(t88);
        };
        function Kn() {
          Zn.fire(new tt("pluginStateChange", { pluginStatus: qn, pluginURL: jn }));
        }
        const Zn = new rt(), Gn = function() {
          return qn;
        }, Jn = function() {
          if (qn !== $n || !jn)
            throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");
          qn = Rn, Kn(), jn && Z({ url: jn }, (t88) => {
            t88 ? Nn(t88) : (qn = Un, Kn());
          });
        }, Xn = { applyArabicShaping: null, processBidirectionalText: null, processStyledBidirectionalText: null, isLoaded: () => qn === Un || null != Xn.applyArabicShaping, isLoading: () => qn === Rn, setState(t88) {
          qn = t88.pluginStatus, jn = t88.pluginURL;
        }, isParsed: () => null != Xn.applyArabicShaping && null != Xn.processBidirectionalText && null != Xn.processStyledBidirectionalText, getPluginURL: () => jn };
        class Yn {
          constructor(t88, e143) {
            this.zoom = t88, e143 ? (this.now = e143.now, this.fadeDuration = e143.fadeDuration, this.zoomHistory = e143.zoomHistory, this.transition = e143.transition) : (this.now = 0, this.fadeDuration = 0, this.zoomHistory = new Mn(), this.transition = {});
          }
          isSupportedScript(t88) {
            return function(t89, e143) {
              for (const r62 of t89)
                if (!Ln(r62.charCodeAt(0), e143))
                  return false;
              return true;
            }(t88, Xn.isLoaded());
          }
          crossFadingFactor() {
            return 0 === this.fadeDuration ? 1 : Math.min((this.now - this.zoomHistory.lastIntegerZoomTime) / this.fadeDuration, 1);
          }
          getCrossfadeParameters() {
            const t88 = this.zoom, e143 = t88 - Math.floor(t88), r62 = this.crossFadingFactor();
            return t88 > this.zoomHistory.lastIntegerZoom ? { fromScale: 2, toScale: 1, t: e143 + (1 - e143) * r62 } : { fromScale: 0.5, toScale: 1, t: 1 - (1 - r62) * e143 };
          }
        }
        class Hn {
          constructor(t88, e143) {
            this.property = t88, this.value = e143, this.expression = function(t89, e144) {
              if (_r(t89))
                return new Lr(t89, e144);
              if (Pr(t89)) {
                const r62 = Tr(t89, e144);
                if ("error" === r62.result)
                  throw new Error(r62.value.map((t90) => `${t90.key}: ${t90.message}`).join(", "));
                return r62.value;
              }
              {
                let r62 = t89;
                return "string" == typeof t89 && "color" === e144.type && (r62 = Et.parse(t89)), { kind: "constant", evaluate: () => r62 };
              }
            }(void 0 === e143 ? t88.specification.default : e143, t88.specification);
          }
          isDataDriven() {
            return "source" === this.expression.kind || "composite" === this.expression.kind;
          }
          possiblyEvaluate(t88, e143, r62) {
            return this.property.possiblyEvaluate(this, t88, e143, r62);
          }
        }
        class Wn {
          constructor(t88) {
            this.property = t88, this.value = new Hn(t88, void 0);
          }
          transitioned(t88, e143) {
            return new ti(this.property, this.value, e143, o101({}, t88.transition, this.transition), t88.now);
          }
          untransitioned() {
            return new ti(this.property, this.value, null, {}, 0);
          }
        }
        class Qn {
          constructor(t88) {
            this._properties = t88, this._values = Object.create(t88.defaultTransitionablePropertyValues);
          }
          getValue(t88) {
            return p17(this._values[t88].value.value);
          }
          setValue(t88, e143) {
            Object.prototype.hasOwnProperty.call(this._values, t88) || (this._values[t88] = new Wn(this._values[t88].property)), this._values[t88].value = new Hn(this._values[t88].property, null === e143 ? void 0 : p17(e143));
          }
          getTransition(t88) {
            return p17(this._values[t88].transition);
          }
          setTransition(t88, e143) {
            Object.prototype.hasOwnProperty.call(this._values, t88) || (this._values[t88] = new Wn(this._values[t88].property)), this._values[t88].transition = p17(e143) || void 0;
          }
          serialize() {
            const t88 = {};
            for (const e143 of Object.keys(this._values)) {
              const r62 = this.getValue(e143);
              void 0 !== r62 && (t88[e143] = r62);
              const n46 = this.getTransition(e143);
              void 0 !== n46 && (t88[`${e143}-transition`] = n46);
            }
            return t88;
          }
          transitioned(t88, e143) {
            const r62 = new ei(this._properties);
            for (const n46 of Object.keys(this._values))
              r62._values[n46] = this._values[n46].transitioned(t88, e143._values[n46]);
            return r62;
          }
          untransitioned() {
            const t88 = new ei(this._properties);
            for (const e143 of Object.keys(this._values))
              t88._values[e143] = this._values[e143].untransitioned();
            return t88;
          }
        }
        class ti {
          constructor(t88, e143, r62, n46, i68) {
            this.property = t88, this.value = e143, this.begin = i68 + n46.delay || 0, this.end = this.begin + n46.duration || 0, t88.specification.transition && (n46.delay || n46.duration) && (this.prior = r62);
          }
          possiblyEvaluate(t88, e143, r62) {
            const n46 = t88.now || 0, i68 = this.value.possiblyEvaluate(t88, e143, r62), s63 = this.prior;
            if (s63) {
              if (n46 > this.end)
                return this.prior = null, i68;
              if (this.value.isDataDriven())
                return this.prior = null, i68;
              if (n46 < this.begin)
                return s63.possiblyEvaluate(t88, e143, r62);
              {
                const a83 = (n46 - this.begin) / (this.end - this.begin);
                return this.property.interpolate(s63.possiblyEvaluate(t88, e143, r62), i68, function(t89) {
                  if (t89 <= 0)
                    return 0;
                  if (t89 >= 1)
                    return 1;
                  const e144 = t89 * t89, r63 = e144 * t89;
                  return 4 * (t89 < 0.5 ? r63 : 3 * (t89 - e144) + r63 - 0.75);
                }(a83));
              }
            }
            return i68;
          }
        }
        class ei {
          constructor(t88) {
            this._properties = t88, this._values = Object.create(t88.defaultTransitioningPropertyValues);
          }
          possiblyEvaluate(t88, e143, r62) {
            const n46 = new ii(this._properties);
            for (const i68 of Object.keys(this._values))
              n46._values[i68] = this._values[i68].possiblyEvaluate(t88, e143, r62);
            return n46;
          }
          hasTransition() {
            for (const t88 of Object.keys(this._values))
              if (this._values[t88].prior)
                return true;
            return false;
          }
        }
        class ri {
          constructor(t88) {
            this._properties = t88, this._values = Object.create(t88.defaultPropertyValues);
          }
          getValue(t88) {
            return p17(this._values[t88].value);
          }
          setValue(t88, e143) {
            this._values[t88] = new Hn(this._values[t88].property, null === e143 ? void 0 : p17(e143));
          }
          serialize() {
            const t88 = {};
            for (const e143 of Object.keys(this._values)) {
              const r62 = this.getValue(e143);
              void 0 !== r62 && (t88[e143] = r62);
            }
            return t88;
          }
          possiblyEvaluate(t88, e143, r62) {
            const n46 = new ii(this._properties);
            for (const i68 of Object.keys(this._values))
              n46._values[i68] = this._values[i68].possiblyEvaluate(t88, e143, r62);
            return n46;
          }
        }
        class ni {
          constructor(t88, e143, r62) {
            this.property = t88, this.value = e143, this.parameters = r62;
          }
          isConstant() {
            return "constant" === this.value.kind;
          }
          constantOr(t88) {
            return "constant" === this.value.kind ? this.value.value : t88;
          }
          evaluate(t88, e143, r62, n46) {
            return this.property.evaluate(this.value, this.parameters, t88, e143, r62, n46);
          }
        }
        class ii {
          constructor(t88) {
            this._properties = t88, this._values = Object.create(t88.defaultPossiblyEvaluatedValues);
          }
          get(t88) {
            return this._values[t88];
          }
        }
        class si {
          constructor(t88) {
            this.specification = t88;
          }
          possiblyEvaluate(t88, e143) {
            return t88.expression.evaluate(e143);
          }
          interpolate(t88, e143, r62) {
            const n46 = ze[this.specification.type];
            return n46 ? n46(t88, e143, r62) : t88;
          }
        }
        class ai {
          constructor(t88, e143) {
            this.specification = t88, this.overrides = e143;
          }
          possiblyEvaluate(t88, e143, r62, n46) {
            return new ni(this, "constant" === t88.expression.kind || "camera" === t88.expression.kind ? { kind: "constant", value: t88.expression.evaluate(e143, null, {}, r62, n46) } : t88.expression, e143);
          }
          interpolate(t88, e143, r62) {
            if ("constant" !== t88.value.kind || "constant" !== e143.value.kind)
              return t88;
            if (void 0 === t88.value.value || void 0 === e143.value.value)
              return new ni(this, { kind: "constant", value: void 0 }, t88.parameters);
            const n46 = ze[this.specification.type];
            return n46 ? new ni(this, { kind: "constant", value: n46(t88.value.value, e143.value.value, r62) }, t88.parameters) : t88;
          }
          evaluate(t88, e143, r62, n46, i68, s63) {
            return "constant" === t88.kind ? t88.value : t88.evaluate(e143, r62, n46, i68, s63);
          }
        }
        class oi extends ai {
          possiblyEvaluate(t88, e143, r62, n46) {
            if (void 0 === t88.value)
              return new ni(this, { kind: "constant", value: void 0 }, e143);
            if ("constant" === t88.expression.kind) {
              const i68 = t88.expression.evaluate(e143, null, {}, r62, n46), s63 = "resolvedImage" === t88.property.specification.type && "string" != typeof i68 ? i68.name : i68, a83 = this._calculate(s63, s63, s63, e143);
              return new ni(this, { kind: "constant", value: a83 }, e143);
            }
            if ("camera" === t88.expression.kind) {
              const r63 = this._calculate(t88.expression.evaluate({ zoom: e143.zoom - 1 }), t88.expression.evaluate({ zoom: e143.zoom }), t88.expression.evaluate({ zoom: e143.zoom + 1 }), e143);
              return new ni(this, { kind: "constant", value: r63 }, e143);
            }
            return new ni(this, t88.expression, e143);
          }
          evaluate(t88, e143, r62, n46, i68, s63) {
            if ("source" === t88.kind) {
              const a83 = t88.evaluate(e143, r62, n46, i68, s63);
              return this._calculate(a83, a83, a83, e143);
            }
            return "composite" === t88.kind ? this._calculate(t88.evaluate({ zoom: Math.floor(e143.zoom) - 1 }, r62, n46), t88.evaluate({ zoom: Math.floor(e143.zoom) }, r62, n46), t88.evaluate({ zoom: Math.floor(e143.zoom) + 1 }, r62, n46), e143) : t88.value;
          }
          _calculate(t88, e143, r62, n46) {
            return n46.zoom > n46.zoomHistory.lastIntegerZoom ? { from: t88, to: e143 } : { from: r62, to: e143 };
          }
          interpolate(t88) {
            return t88;
          }
        }
        class li {
          constructor(t88) {
            this.specification = t88;
          }
          possiblyEvaluate(t88, e143, r62, n46) {
            if (void 0 !== t88.value) {
              if ("constant" === t88.expression.kind) {
                const i68 = t88.expression.evaluate(e143, null, {}, r62, n46);
                return this._calculate(i68, i68, i68, e143);
              }
              return this._calculate(t88.expression.evaluate(new Yn(Math.floor(e143.zoom - 1), e143)), t88.expression.evaluate(new Yn(Math.floor(e143.zoom), e143)), t88.expression.evaluate(new Yn(Math.floor(e143.zoom + 1), e143)), e143);
            }
          }
          _calculate(t88, e143, r62, n46) {
            return n46.zoom > n46.zoomHistory.lastIntegerZoom ? { from: t88, to: e143 } : { from: r62, to: e143 };
          }
          interpolate(t88) {
            return t88;
          }
        }
        class ui {
          constructor(t88) {
            this.specification = t88;
          }
          possiblyEvaluate(t88, e143, r62, n46) {
            return !!t88.expression.evaluate(e143, null, {}, r62, n46);
          }
          interpolate() {
            return false;
          }
        }
        class ci {
          constructor(t88) {
            this.properties = t88, this.defaultPropertyValues = {}, this.defaultTransitionablePropertyValues = {}, this.defaultTransitioningPropertyValues = {}, this.defaultPossiblyEvaluatedValues = {}, this.overridableProperties = [];
            for (const e143 in t88) {
              const r62 = t88[e143];
              r62.specification.overridable && this.overridableProperties.push(e143);
              const n46 = this.defaultPropertyValues[e143] = new Hn(r62, void 0), i68 = this.defaultTransitionablePropertyValues[e143] = new Wn(r62);
              this.defaultTransitioningPropertyValues[e143] = i68.untransitioned(), this.defaultPossiblyEvaluatedValues[e143] = n46.possiblyEvaluate({});
            }
          }
        }
        kn("DataDrivenProperty", ai), kn("DataConstantProperty", si), kn("CrossFadedDataDrivenProperty", oi), kn("CrossFadedProperty", li), kn("ColorRampProperty", ui);
        const hi = "-transition";
        class pi extends rt {
          constructor(t88, e143) {
            if (super(), this.id = t88.id, this.type = t88.type, this._featureFilter = { filter: () => true, needGeometry: false }, "custom" !== t88.type && (this.metadata = (t88 = t88).metadata, this.minzoom = t88.minzoom, this.maxzoom = t88.maxzoom, "background" !== t88.type && (this.source = t88.source, this.sourceLayer = t88["source-layer"], this.filter = t88.filter), e143.layout && (this._unevaluatedLayout = new ri(e143.layout)), e143.paint)) {
              this._transitionablePaint = new Qn(e143.paint);
              for (const e144 in t88.paint)
                this.setPaintProperty(e144, t88.paint[e144], { validate: false });
              for (const e144 in t88.layout)
                this.setLayoutProperty(e144, t88.layout[e144], { validate: false });
              this._transitioningPaint = this._transitionablePaint.untransitioned(), this.paint = new ii(e143.paint);
            }
          }
          getCrossfadeParameters() {
            return this._crossfadeParameters;
          }
          getLayoutProperty(t88) {
            return "visibility" === t88 ? this.visibility : this._unevaluatedLayout.getValue(t88);
          }
          setLayoutProperty(t88, e143, r62 = {}) {
            null != e143 && this._validate(bn, `layers.${this.id}.layout.${t88}`, t88, e143, r62) || ("visibility" !== t88 ? this._unevaluatedLayout.setValue(t88, e143) : this.visibility = e143);
          }
          getPaintProperty(t88) {
            return t88.endsWith(hi) ? this._transitionablePaint.getTransition(t88.slice(0, -hi.length)) : this._transitionablePaint.getValue(t88);
          }
          setPaintProperty(t88, e143, r62 = {}) {
            if (null != e143 && this._validate(vn, `layers.${this.id}.paint.${t88}`, t88, e143, r62))
              return false;
            if (t88.endsWith(hi))
              return this._transitionablePaint.setTransition(t88.slice(0, -hi.length), e143 || void 0), false;
            {
              const r63 = this._transitionablePaint._values[t88], n46 = "cross-faded-data-driven" === r63.property.specification["property-type"], i68 = r63.value.isDataDriven(), s63 = r63.value;
              this._transitionablePaint.setValue(t88, e143), this._handleSpecialPaintPropertyUpdate(t88);
              const a83 = this._transitionablePaint._values[t88].value;
              return a83.isDataDriven() || i68 || n46 || this._handleOverridablePaintPropertyUpdate(t88, s63, a83);
            }
          }
          _handleSpecialPaintPropertyUpdate(t88) {
          }
          _handleOverridablePaintPropertyUpdate(t88, e143, r62) {
            return false;
          }
          isHidden(t88) {
            return !!(this.minzoom && t88 < this.minzoom) || !!(this.maxzoom && t88 >= this.maxzoom) || "none" === this.visibility;
          }
          updateTransitions(t88) {
            this._transitioningPaint = this._transitionablePaint.transitioned(t88, this._transitioningPaint);
          }
          hasTransition() {
            return this._transitioningPaint.hasTransition();
          }
          recalculate(t88, e143) {
            t88.getCrossfadeParameters && (this._crossfadeParameters = t88.getCrossfadeParameters()), this._unevaluatedLayout && (this.layout = this._unevaluatedLayout.possiblyEvaluate(t88, void 0, e143)), this.paint = this._transitioningPaint.possiblyEvaluate(t88, void 0, e143);
          }
          serialize() {
            const t88 = { id: this.id, type: this.type, source: this.source, "source-layer": this.sourceLayer, metadata: this.metadata, minzoom: this.minzoom, maxzoom: this.maxzoom, filter: this.filter, layout: this._unevaluatedLayout && this._unevaluatedLayout.serialize(), paint: this._transitionablePaint && this._transitionablePaint.serialize() };
            return this.visibility && (t88.layout = t88.layout || {}, t88.layout.visibility = this.visibility), h12(t88, (t89, e143) => !(void 0 === t89 || "layout" === e143 && !Object.keys(t89).length || "paint" === e143 && !Object.keys(t89).length));
          }
          _validate(t88, e143, r62, n46, i68 = {}) {
            return (!i68 || false !== i68.validate) && wn(this, t88.call(gn, { key: e143, layerType: this.type, objectKey: r62, value: n46, styleSpec: nt, style: { glyphs: true, sprite: true } }));
          }
          is3D() {
            return false;
          }
          isTileClipped() {
            return false;
          }
          hasOffscreenPass() {
            return false;
          }
          resize() {
          }
          isStateDependent() {
            for (const t88 in this.paint._values) {
              const e143 = this.paint.get(t88);
              if (e143 instanceof ni && xr(e143.property.specification) && ("source" === e143.value.kind || "composite" === e143.value.kind) && e143.value.isStateDependent)
                return true;
            }
            return false;
          }
        }
        const fi = { Int8: Int8Array, Uint8: Uint8Array, Int16: Int16Array, Uint16: Uint16Array, Int32: Int32Array, Uint32: Uint32Array, Float32: Float32Array };
        class di {
          constructor(t88, e143) {
            this._structArray = t88, this._pos1 = e143 * this.size, this._pos2 = this._pos1 / 2, this._pos4 = this._pos1 / 4, this._pos8 = this._pos1 / 8;
          }
        }
        class yi {
          constructor() {
            this.isTransferred = false, this.capacity = -1, this.resize(0);
          }
          static serialize(t88, e143) {
            return t88._trim(), e143 && (t88.isTransferred = true, e143.push(t88.arrayBuffer)), { length: t88.length, arrayBuffer: t88.arrayBuffer };
          }
          static deserialize(t88) {
            const e143 = Object.create(this.prototype);
            return e143.arrayBuffer = t88.arrayBuffer, e143.length = t88.length, e143.capacity = t88.arrayBuffer.byteLength / e143.bytesPerElement, e143._refreshViews(), e143;
          }
          _trim() {
            this.length !== this.capacity && (this.capacity = this.length, this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.bytesPerElement), this._refreshViews());
          }
          clear() {
            this.length = 0;
          }
          resize(t88) {
            this.reserve(t88), this.length = t88;
          }
          reserve(t88) {
            if (t88 > this.capacity) {
              this.capacity = Math.max(t88, Math.floor(5 * this.capacity), 128), this.arrayBuffer = new ArrayBuffer(this.capacity * this.bytesPerElement);
              const e143 = this.uint8;
              this._refreshViews(), e143 && this.uint8.set(e143);
            }
          }
          _refreshViews() {
            throw new Error("_refreshViews() must be implemented by each concrete StructArray layout");
          }
        }
        function mi(t88, e143 = 1) {
          let r62 = 0, n46 = 0;
          return { members: t88.map((t89) => {
            const i68 = fi[t89.type].BYTES_PER_ELEMENT, s63 = r62 = gi(r62, Math.max(e143, i68)), a83 = t89.components || 1;
            return n46 = Math.max(n46, i68), r62 += i68 * a83, { name: t89.name, type: t89.type, components: a83, offset: s63 };
          }), size: gi(r62, Math.max(n46, e143)), alignment: e143 };
        }
        function gi(t88, e143) {
          return Math.ceil(t88 / e143) * e143;
        }
        class xi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143) {
            const r62 = this.length;
            return this.resize(r62 + 1), this.emplace(r62, t88, e143);
          }
          emplace(t88, e143, r62) {
            const n46 = 2 * t88;
            return this.int16[n46 + 0] = e143, this.int16[n46 + 1] = r62, t88;
          }
        }
        xi.prototype.bytesPerElement = 4, kn("StructArrayLayout2i4", xi);
        class vi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46) {
            const i68 = this.length;
            return this.resize(i68 + 1), this.emplace(i68, t88, e143, r62, n46);
          }
          emplace(t88, e143, r62, n46, i68) {
            const s63 = 4 * t88;
            return this.int16[s63 + 0] = e143, this.int16[s63 + 1] = r62, this.int16[s63 + 2] = n46, this.int16[s63 + 3] = i68, t88;
          }
        }
        vi.prototype.bytesPerElement = 8, kn("StructArrayLayout4i8", vi);
        class bi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63) {
            const a83 = this.length;
            return this.resize(a83 + 1), this.emplace(a83, t88, e143, r62, n46, i68, s63);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83) {
            const o102 = 6 * t88;
            return this.int16[o102 + 0] = e143, this.int16[o102 + 1] = r62, this.int16[o102 + 2] = n46, this.int16[o102 + 3] = i68, this.int16[o102 + 4] = s63, this.int16[o102 + 5] = a83, t88;
          }
        }
        bi.prototype.bytesPerElement = 12, kn("StructArrayLayout2i4i12", bi);
        class wi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63) {
            const a83 = this.length;
            return this.resize(a83 + 1), this.emplace(a83, t88, e143, r62, n46, i68, s63);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83) {
            const o102 = 4 * t88, l30 = 8 * t88;
            return this.int16[o102 + 0] = e143, this.int16[o102 + 1] = r62, this.uint8[l30 + 4] = n46, this.uint8[l30 + 5] = i68, this.uint8[l30 + 6] = s63, this.uint8[l30 + 7] = a83, t88;
          }
        }
        wi.prototype.bytesPerElement = 8, kn("StructArrayLayout2i4ub8", wi);
        class _i extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143) {
            const r62 = this.length;
            return this.resize(r62 + 1), this.emplace(r62, t88, e143);
          }
          emplace(t88, e143, r62) {
            const n46 = 2 * t88;
            return this.float32[n46 + 0] = e143, this.float32[n46 + 1] = r62, t88;
          }
        }
        _i.prototype.bytesPerElement = 8, kn("StructArrayLayout2f8", _i);
        class Ai extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21) {
            const c23 = this.length;
            return this.resize(c23 + 1), this.emplace(c23, t88, e143, r62, n46, i68, s63, a83, o102, l30, u21);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23) {
            const h13 = 10 * t88;
            return this.uint16[h13 + 0] = e143, this.uint16[h13 + 1] = r62, this.uint16[h13 + 2] = n46, this.uint16[h13 + 3] = i68, this.uint16[h13 + 4] = s63, this.uint16[h13 + 5] = a83, this.uint16[h13 + 6] = o102, this.uint16[h13 + 7] = l30, this.uint16[h13 + 8] = u21, this.uint16[h13 + 9] = c23, t88;
          }
        }
        Ai.prototype.bytesPerElement = 20, kn("StructArrayLayout10ui20", Ai);
        class ki extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13) {
            const p18 = this.length;
            return this.resize(p18 + 1), this.emplace(p18, t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18) {
            const f22 = 12 * t88;
            return this.int16[f22 + 0] = e143, this.int16[f22 + 1] = r62, this.int16[f22 + 2] = n46, this.int16[f22 + 3] = i68, this.uint16[f22 + 4] = s63, this.uint16[f22 + 5] = a83, this.uint16[f22 + 6] = o102, this.uint16[f22 + 7] = l30, this.int16[f22 + 8] = u21, this.int16[f22 + 9] = c23, this.int16[f22 + 10] = h13, this.int16[f22 + 11] = p18, t88;
          }
        }
        ki.prototype.bytesPerElement = 24, kn("StructArrayLayout4i4ui4i24", ki);
        class Si extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62) {
            const n46 = this.length;
            return this.resize(n46 + 1), this.emplace(n46, t88, e143, r62);
          }
          emplace(t88, e143, r62, n46) {
            const i68 = 3 * t88;
            return this.float32[i68 + 0] = e143, this.float32[i68 + 1] = r62, this.float32[i68 + 2] = n46, t88;
          }
        }
        Si.prototype.bytesPerElement = 12, kn("StructArrayLayout3f12", Si);
        class zi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer);
          }
          emplaceBack(t88) {
            const e143 = this.length;
            return this.resize(e143 + 1), this.emplace(e143, t88);
          }
          emplace(t88, e143) {
            return this.uint32[1 * t88 + 0] = e143, t88;
          }
        }
        zi.prototype.bytesPerElement = 4, kn("StructArrayLayout1ul4", zi);
        class Ii extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63, a83, o102, l30) {
            const u21 = this.length;
            return this.resize(u21 + 1), this.emplace(u21, t88, e143, r62, n46, i68, s63, a83, o102, l30);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21) {
            const c23 = 10 * t88, h13 = 5 * t88;
            return this.int16[c23 + 0] = e143, this.int16[c23 + 1] = r62, this.int16[c23 + 2] = n46, this.int16[c23 + 3] = i68, this.int16[c23 + 4] = s63, this.int16[c23 + 5] = a83, this.uint32[h13 + 3] = o102, this.uint16[c23 + 8] = l30, this.uint16[c23 + 9] = u21, t88;
          }
        }
        Ii.prototype.bytesPerElement = 20, kn("StructArrayLayout6i1ul2ui20", Ii);
        class Mi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63) {
            const a83 = this.length;
            return this.resize(a83 + 1), this.emplace(a83, t88, e143, r62, n46, i68, s63);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83) {
            const o102 = 6 * t88;
            return this.int16[o102 + 0] = e143, this.int16[o102 + 1] = r62, this.int16[o102 + 2] = n46, this.int16[o102 + 3] = i68, this.int16[o102 + 4] = s63, this.int16[o102 + 5] = a83, t88;
          }
        }
        Mi.prototype.bytesPerElement = 12, kn("StructArrayLayout2i2i2i12", Mi);
        class Bi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68) {
            const s63 = this.length;
            return this.resize(s63 + 1), this.emplace(s63, t88, e143, r62, n46, i68);
          }
          emplace(t88, e143, r62, n46, i68, s63) {
            const a83 = 4 * t88, o102 = 8 * t88;
            return this.float32[a83 + 0] = e143, this.float32[a83 + 1] = r62, this.float32[a83 + 2] = n46, this.int16[o102 + 6] = i68, this.int16[o102 + 7] = s63, t88;
          }
        }
        Bi.prototype.bytesPerElement = 16, kn("StructArrayLayout2f1f2i16", Bi);
        class Ci extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46) {
            const i68 = this.length;
            return this.resize(i68 + 1), this.emplace(i68, t88, e143, r62, n46);
          }
          emplace(t88, e143, r62, n46, i68) {
            const s63 = 12 * t88, a83 = 3 * t88;
            return this.uint8[s63 + 0] = e143, this.uint8[s63 + 1] = r62, this.float32[a83 + 1] = n46, this.float32[a83 + 2] = i68, t88;
          }
        }
        Ci.prototype.bytesPerElement = 12, kn("StructArrayLayout2ub2f12", Ci);
        class Pi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62) {
            const n46 = this.length;
            return this.resize(n46 + 1), this.emplace(n46, t88, e143, r62);
          }
          emplace(t88, e143, r62, n46) {
            const i68 = 3 * t88;
            return this.uint16[i68 + 0] = e143, this.uint16[i68 + 1] = r62, this.uint16[i68 + 2] = n46, t88;
          }
        }
        Pi.prototype.bytesPerElement = 6, kn("StructArrayLayout3ui6", Pi);
        class Vi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30) {
            const g15 = this.length;
            return this.resize(g15 + 1), this.emplace(g15, t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30, g15) {
            const x6 = 24 * t88, v6 = 12 * t88, b8 = 48 * t88;
            return this.int16[x6 + 0] = e143, this.int16[x6 + 1] = r62, this.uint16[x6 + 2] = n46, this.uint16[x6 + 3] = i68, this.uint32[v6 + 2] = s63, this.uint32[v6 + 3] = a83, this.uint32[v6 + 4] = o102, this.uint16[x6 + 10] = l30, this.uint16[x6 + 11] = u21, this.uint16[x6 + 12] = c23, this.float32[v6 + 7] = h13, this.float32[v6 + 8] = p18, this.uint8[b8 + 36] = f22, this.uint8[b8 + 37] = d11, this.uint8[b8 + 38] = y10, this.uint32[v6 + 10] = m30, this.int16[x6 + 22] = g15, t88;
          }
        }
        Vi.prototype.bytesPerElement = 48, kn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48", Vi);
        class Ei extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30, g15, x6, v6, b8, w4, _4, A4, k7, S2, z3, I3) {
            const M5 = this.length;
            return this.resize(M5 + 1), this.emplace(M5, t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30, g15, x6, v6, b8, w4, _4, A4, k7, S2, z3, I3);
          }
          emplace(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30, g15, x6, v6, b8, w4, _4, A4, k7, S2, z3, I3, M5) {
            const B3 = 34 * t88, C8 = 17 * t88;
            return this.int16[B3 + 0] = e143, this.int16[B3 + 1] = r62, this.int16[B3 + 2] = n46, this.int16[B3 + 3] = i68, this.int16[B3 + 4] = s63, this.int16[B3 + 5] = a83, this.int16[B3 + 6] = o102, this.int16[B3 + 7] = l30, this.uint16[B3 + 8] = u21, this.uint16[B3 + 9] = c23, this.uint16[B3 + 10] = h13, this.uint16[B3 + 11] = p18, this.uint16[B3 + 12] = f22, this.uint16[B3 + 13] = d11, this.uint16[B3 + 14] = y10, this.uint16[B3 + 15] = m30, this.uint16[B3 + 16] = g15, this.uint16[B3 + 17] = x6, this.uint16[B3 + 18] = v6, this.uint16[B3 + 19] = b8, this.uint16[B3 + 20] = w4, this.uint16[B3 + 21] = _4, this.uint16[B3 + 22] = A4, this.uint32[C8 + 12] = k7, this.float32[C8 + 13] = S2, this.float32[C8 + 14] = z3, this.float32[C8 + 15] = I3, this.float32[C8 + 16] = M5, t88;
          }
        }
        Ei.prototype.bytesPerElement = 68, kn("StructArrayLayout8i15ui1ul4f68", Ei);
        class Fi extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88) {
            const e143 = this.length;
            return this.resize(e143 + 1), this.emplace(e143, t88);
          }
          emplace(t88, e143) {
            return this.float32[1 * t88 + 0] = e143, t88;
          }
        }
        Fi.prototype.bytesPerElement = 4, kn("StructArrayLayout1f4", Fi);
        class Ti extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62) {
            const n46 = this.length;
            return this.resize(n46 + 1), this.emplace(n46, t88, e143, r62);
          }
          emplace(t88, e143, r62, n46) {
            const i68 = 3 * t88;
            return this.int16[i68 + 0] = e143, this.int16[i68 + 1] = r62, this.int16[i68 + 2] = n46, t88;
          }
        }
        Ti.prototype.bytesPerElement = 6, kn("StructArrayLayout3i6", Ti);
        class Li extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62) {
            const n46 = this.length;
            return this.resize(n46 + 1), this.emplace(n46, t88, e143, r62);
          }
          emplace(t88, e143, r62, n46) {
            const i68 = 4 * t88;
            return this.uint32[2 * t88 + 0] = e143, this.uint16[i68 + 2] = r62, this.uint16[i68 + 3] = n46, t88;
          }
        }
        Li.prototype.bytesPerElement = 8, kn("StructArrayLayout1ul2ui8", Li);
        class Di extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143) {
            const r62 = this.length;
            return this.resize(r62 + 1), this.emplace(r62, t88, e143);
          }
          emplace(t88, e143, r62) {
            const n46 = 2 * t88;
            return this.uint16[n46 + 0] = e143, this.uint16[n46 + 1] = r62, t88;
          }
        }
        Di.prototype.bytesPerElement = 4, kn("StructArrayLayout2ui4", Di);
        class $i extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
          }
          emplaceBack(t88) {
            const e143 = this.length;
            return this.resize(e143 + 1), this.emplace(e143, t88);
          }
          emplace(t88, e143) {
            return this.uint16[1 * t88 + 0] = e143, t88;
          }
        }
        $i.prototype.bytesPerElement = 2, kn("StructArrayLayout1ui2", $i);
        class Ri extends yi {
          _refreshViews() {
            this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
          }
          emplaceBack(t88, e143, r62, n46) {
            const i68 = this.length;
            return this.resize(i68 + 1), this.emplace(i68, t88, e143, r62, n46);
          }
          emplace(t88, e143, r62, n46, i68) {
            const s63 = 4 * t88;
            return this.float32[s63 + 0] = e143, this.float32[s63 + 1] = r62, this.float32[s63 + 2] = n46, this.float32[s63 + 3] = i68, t88;
          }
        }
        Ri.prototype.bytesPerElement = 16, kn("StructArrayLayout4f16", Ri);
        class Ui extends di {
          get anchorPointX() {
            return this._structArray.int16[this._pos2 + 0];
          }
          get anchorPointY() {
            return this._structArray.int16[this._pos2 + 1];
          }
          get x1() {
            return this._structArray.int16[this._pos2 + 2];
          }
          get y1() {
            return this._structArray.int16[this._pos2 + 3];
          }
          get x2() {
            return this._structArray.int16[this._pos2 + 4];
          }
          get y2() {
            return this._structArray.int16[this._pos2 + 5];
          }
          get featureIndex() {
            return this._structArray.uint32[this._pos4 + 3];
          }
          get sourceLayerIndex() {
            return this._structArray.uint16[this._pos2 + 8];
          }
          get bucketIndex() {
            return this._structArray.uint16[this._pos2 + 9];
          }
          get anchorPoint() {
            return new S(this.anchorPointX, this.anchorPointY);
          }
        }
        Ui.prototype.size = 20;
        class Oi extends Ii {
          get(t88) {
            return new Ui(this, t88);
          }
        }
        kn("CollisionBoxArray", Oi);
        class qi extends di {
          get anchorX() {
            return this._structArray.int16[this._pos2 + 0];
          }
          get anchorY() {
            return this._structArray.int16[this._pos2 + 1];
          }
          get glyphStartIndex() {
            return this._structArray.uint16[this._pos2 + 2];
          }
          get numGlyphs() {
            return this._structArray.uint16[this._pos2 + 3];
          }
          get vertexStartIndex() {
            return this._structArray.uint32[this._pos4 + 2];
          }
          get lineStartIndex() {
            return this._structArray.uint32[this._pos4 + 3];
          }
          get lineLength() {
            return this._structArray.uint32[this._pos4 + 4];
          }
          get segment() {
            return this._structArray.uint16[this._pos2 + 10];
          }
          get lowerSize() {
            return this._structArray.uint16[this._pos2 + 11];
          }
          get upperSize() {
            return this._structArray.uint16[this._pos2 + 12];
          }
          get lineOffsetX() {
            return this._structArray.float32[this._pos4 + 7];
          }
          get lineOffsetY() {
            return this._structArray.float32[this._pos4 + 8];
          }
          get writingMode() {
            return this._structArray.uint8[this._pos1 + 36];
          }
          get placedOrientation() {
            return this._structArray.uint8[this._pos1 + 37];
          }
          set placedOrientation(t88) {
            this._structArray.uint8[this._pos1 + 37] = t88;
          }
          get hidden() {
            return this._structArray.uint8[this._pos1 + 38];
          }
          set hidden(t88) {
            this._structArray.uint8[this._pos1 + 38] = t88;
          }
          get crossTileID() {
            return this._structArray.uint32[this._pos4 + 10];
          }
          set crossTileID(t88) {
            this._structArray.uint32[this._pos4 + 10] = t88;
          }
          get associatedIconIndex() {
            return this._structArray.int16[this._pos2 + 22];
          }
        }
        qi.prototype.size = 48;
        class ji extends Vi {
          get(t88) {
            return new qi(this, t88);
          }
        }
        kn("PlacedSymbolArray", ji);
        class Ni extends di {
          get anchorX() {
            return this._structArray.int16[this._pos2 + 0];
          }
          get anchorY() {
            return this._structArray.int16[this._pos2 + 1];
          }
          get rightJustifiedTextSymbolIndex() {
            return this._structArray.int16[this._pos2 + 2];
          }
          get centerJustifiedTextSymbolIndex() {
            return this._structArray.int16[this._pos2 + 3];
          }
          get leftJustifiedTextSymbolIndex() {
            return this._structArray.int16[this._pos2 + 4];
          }
          get verticalPlacedTextSymbolIndex() {
            return this._structArray.int16[this._pos2 + 5];
          }
          get placedIconSymbolIndex() {
            return this._structArray.int16[this._pos2 + 6];
          }
          get verticalPlacedIconSymbolIndex() {
            return this._structArray.int16[this._pos2 + 7];
          }
          get key() {
            return this._structArray.uint16[this._pos2 + 8];
          }
          get textBoxStartIndex() {
            return this._structArray.uint16[this._pos2 + 9];
          }
          get textBoxEndIndex() {
            return this._structArray.uint16[this._pos2 + 10];
          }
          get verticalTextBoxStartIndex() {
            return this._structArray.uint16[this._pos2 + 11];
          }
          get verticalTextBoxEndIndex() {
            return this._structArray.uint16[this._pos2 + 12];
          }
          get iconBoxStartIndex() {
            return this._structArray.uint16[this._pos2 + 13];
          }
          get iconBoxEndIndex() {
            return this._structArray.uint16[this._pos2 + 14];
          }
          get verticalIconBoxStartIndex() {
            return this._structArray.uint16[this._pos2 + 15];
          }
          get verticalIconBoxEndIndex() {
            return this._structArray.uint16[this._pos2 + 16];
          }
          get featureIndex() {
            return this._structArray.uint16[this._pos2 + 17];
          }
          get numHorizontalGlyphVertices() {
            return this._structArray.uint16[this._pos2 + 18];
          }
          get numVerticalGlyphVertices() {
            return this._structArray.uint16[this._pos2 + 19];
          }
          get numIconVertices() {
            return this._structArray.uint16[this._pos2 + 20];
          }
          get numVerticalIconVertices() {
            return this._structArray.uint16[this._pos2 + 21];
          }
          get useRuntimeCollisionCircles() {
            return this._structArray.uint16[this._pos2 + 22];
          }
          get crossTileID() {
            return this._structArray.uint32[this._pos4 + 12];
          }
          set crossTileID(t88) {
            this._structArray.uint32[this._pos4 + 12] = t88;
          }
          get textBoxScale() {
            return this._structArray.float32[this._pos4 + 13];
          }
          get textOffset0() {
            return this._structArray.float32[this._pos4 + 14];
          }
          get textOffset1() {
            return this._structArray.float32[this._pos4 + 15];
          }
          get collisionCircleDiameter() {
            return this._structArray.float32[this._pos4 + 16];
          }
        }
        Ni.prototype.size = 68;
        class Ki extends Ei {
          get(t88) {
            return new Ni(this, t88);
          }
        }
        kn("SymbolInstanceArray", Ki);
        class Zi extends Fi {
          getoffsetX(t88) {
            return this.float32[1 * t88 + 0];
          }
        }
        kn("GlyphOffsetArray", Zi);
        class Gi extends Ti {
          getx(t88) {
            return this.int16[3 * t88 + 0];
          }
          gety(t88) {
            return this.int16[3 * t88 + 1];
          }
          gettileUnitDistanceFromAnchor(t88) {
            return this.int16[3 * t88 + 2];
          }
        }
        kn("SymbolLineVertexArray", Gi);
        class Ji extends di {
          get featureIndex() {
            return this._structArray.uint32[this._pos4 + 0];
          }
          get sourceLayerIndex() {
            return this._structArray.uint16[this._pos2 + 2];
          }
          get bucketIndex() {
            return this._structArray.uint16[this._pos2 + 3];
          }
        }
        Ji.prototype.size = 8;
        class Xi extends Li {
          get(t88) {
            return new Ji(this, t88);
          }
        }
        kn("FeatureIndexArray", Xi);
        class Yi extends xi {
        }
        class Hi extends xi {
        }
        class Wi extends bi {
        }
        class Qi extends wi {
        }
        class ts extends _i {
        }
        class es extends Ai {
        }
        class rs extends ki {
        }
        class ns extends Si {
        }
        class is extends zi {
        }
        class ss extends Mi {
        }
        class as extends Ci {
        }
        class os extends Pi {
        }
        class ls extends Di {
        }
        const us = mi([{ name: "a_pos", components: 2, type: "Int16" }], 4), { members: cs } = us;
        class hs {
          constructor(t88 = []) {
            this.segments = t88;
          }
          prepareSegment(t88, e143, r62, n46) {
            let i68 = this.segments[this.segments.length - 1];
            return t88 > hs.MAX_VERTEX_ARRAY_LENGTH && d10(`Max vertices per segment is ${hs.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t88}`), (!i68 || i68.vertexLength + t88 > hs.MAX_VERTEX_ARRAY_LENGTH || i68.sortKey !== n46) && (i68 = { vertexOffset: e143.length, primitiveOffset: r62.length, vertexLength: 0, primitiveLength: 0 }, void 0 !== n46 && (i68.sortKey = n46), this.segments.push(i68)), i68;
          }
          get() {
            return this.segments;
          }
          destroy() {
            for (const t88 of this.segments)
              for (const e143 in t88.vaos)
                t88.vaos[e143].destroy();
          }
          static simpleSegment(t88, e143, r62, n46) {
            return new hs([{ vertexOffset: t88, primitiveOffset: e143, vertexLength: r62, primitiveLength: n46, vaos: {}, sortKey: 0 }]);
          }
        }
        function ps(t88, e143) {
          return 256 * (t88 = s62(Math.floor(t88), 0, 255)) + s62(Math.floor(e143), 0, 255);
        }
        hs.MAX_VERTEX_ARRAY_LENGTH = Math.pow(2, 16) - 1, kn("SegmentVector", hs);
        const fs = mi([{ name: "a_pattern_from", components: 4, type: "Uint16" }, { name: "a_pattern_to", components: 4, type: "Uint16" }, { name: "a_pixel_ratio_from", components: 1, type: "Uint16" }, { name: "a_pixel_ratio_to", components: 1, type: "Uint16" }]);
        var ds = { exports: {} }, ys = { exports: {} };
        ys.exports = function(t88, e143) {
          var r62, n46, i68, s63, a83, o102, l30, u21;
          for (n46 = t88.length - (r62 = 3 & t88.length), i68 = e143, a83 = 3432918353, o102 = 461845907, u21 = 0; u21 < n46; )
            l30 = 255 & t88.charCodeAt(u21) | (255 & t88.charCodeAt(++u21)) << 8 | (255 & t88.charCodeAt(++u21)) << 16 | (255 & t88.charCodeAt(++u21)) << 24, ++u21, i68 = 27492 + (65535 & (s63 = 5 * (65535 & (i68 = (i68 ^= l30 = (65535 & (l30 = (l30 = (65535 & l30) * a83 + (((l30 >>> 16) * a83 & 65535) << 16) & 4294967295) << 15 | l30 >>> 17)) * o102 + (((l30 >>> 16) * o102 & 65535) << 16) & 4294967295) << 13 | i68 >>> 19)) + ((5 * (i68 >>> 16) & 65535) << 16) & 4294967295)) + ((58964 + (s63 >>> 16) & 65535) << 16);
          switch (l30 = 0, r62) {
            case 3:
              l30 ^= (255 & t88.charCodeAt(u21 + 2)) << 16;
            case 2:
              l30 ^= (255 & t88.charCodeAt(u21 + 1)) << 8;
            case 1:
              i68 ^= l30 = (65535 & (l30 = (l30 = (65535 & (l30 ^= 255 & t88.charCodeAt(u21))) * a83 + (((l30 >>> 16) * a83 & 65535) << 16) & 4294967295) << 15 | l30 >>> 17)) * o102 + (((l30 >>> 16) * o102 & 65535) << 16) & 4294967295;
          }
          return i68 ^= t88.length, i68 = 2246822507 * (65535 & (i68 ^= i68 >>> 16)) + ((2246822507 * (i68 >>> 16) & 65535) << 16) & 4294967295, i68 = 3266489909 * (65535 & (i68 ^= i68 >>> 13)) + ((3266489909 * (i68 >>> 16) & 65535) << 16) & 4294967295, (i68 ^= i68 >>> 16) >>> 0;
        };
        var ms = { exports: {} };
        ms.exports = function(t88, e143) {
          for (var r62, n46 = t88.length, i68 = e143 ^ n46, s63 = 0; n46 >= 4; )
            r62 = 1540483477 * (65535 & (r62 = 255 & t88.charCodeAt(s63) | (255 & t88.charCodeAt(++s63)) << 8 | (255 & t88.charCodeAt(++s63)) << 16 | (255 & t88.charCodeAt(++s63)) << 24)) + ((1540483477 * (r62 >>> 16) & 65535) << 16), i68 = 1540483477 * (65535 & i68) + ((1540483477 * (i68 >>> 16) & 65535) << 16) ^ (r62 = 1540483477 * (65535 & (r62 ^= r62 >>> 24)) + ((1540483477 * (r62 >>> 16) & 65535) << 16)), n46 -= 4, ++s63;
          switch (n46) {
            case 3:
              i68 ^= (255 & t88.charCodeAt(s63 + 2)) << 16;
            case 2:
              i68 ^= (255 & t88.charCodeAt(s63 + 1)) << 8;
            case 1:
              i68 = 1540483477 * (65535 & (i68 ^= 255 & t88.charCodeAt(s63))) + ((1540483477 * (i68 >>> 16) & 65535) << 16);
          }
          return i68 = 1540483477 * (65535 & (i68 ^= i68 >>> 13)) + ((1540483477 * (i68 >>> 16) & 65535) << 16), (i68 ^= i68 >>> 15) >>> 0;
        };
        var gs = ys.exports, xs = ms.exports;
        ds.exports = gs, ds.exports.murmur3 = gs, ds.exports.murmur2 = xs;
        var vs = ds.exports;
        class bs {
          constructor() {
            this.ids = [], this.positions = [], this.indexed = false;
          }
          add(t88, e143, r62, n46) {
            this.ids.push(ws(t88)), this.positions.push(e143, r62, n46);
          }
          getPositions(t88) {
            const e143 = ws(t88);
            let r62 = 0, n46 = this.ids.length - 1;
            for (; r62 < n46; ) {
              const t89 = r62 + n46 >> 1;
              this.ids[t89] >= e143 ? n46 = t89 : r62 = t89 + 1;
            }
            const i68 = [];
            for (; this.ids[r62] === e143; )
              i68.push({ index: this.positions[3 * r62], start: this.positions[3 * r62 + 1], end: this.positions[3 * r62 + 2] }), r62++;
            return i68;
          }
          static serialize(t88, e143) {
            const r62 = new Float64Array(t88.ids), n46 = new Uint32Array(t88.positions);
            return _s(r62, n46, 0, r62.length - 1), e143 && e143.push(r62.buffer, n46.buffer), { ids: r62, positions: n46 };
          }
          static deserialize(t88) {
            const e143 = new bs();
            return e143.ids = t88.ids, e143.positions = t88.positions, e143.indexed = true, e143;
          }
        }
        function ws(t88) {
          const e143 = +t88;
          return !isNaN(e143) && e143 <= Number.MAX_SAFE_INTEGER ? e143 : vs(String(t88));
        }
        function _s(t88, e143, r62, n46) {
          for (; r62 < n46; ) {
            const i68 = t88[r62 + n46 >> 1];
            let s63 = r62 - 1, a83 = n46 + 1;
            for (; ; ) {
              do {
                s63++;
              } while (t88[s63] < i68);
              do {
                a83--;
              } while (t88[a83] > i68);
              if (s63 >= a83)
                break;
              As(t88, s63, a83), As(e143, 3 * s63, 3 * a83), As(e143, 3 * s63 + 1, 3 * a83 + 1), As(e143, 3 * s63 + 2, 3 * a83 + 2);
            }
            a83 - r62 < n46 - a83 ? (_s(t88, e143, r62, a83), r62 = a83 + 1) : (_s(t88, e143, a83 + 1, n46), n46 = a83);
          }
        }
        function As(t88, e143, r62) {
          const n46 = t88[e143];
          t88[e143] = t88[r62], t88[r62] = n46;
        }
        kn("FeaturePositionMap", bs);
        class ks {
          constructor(t88, e143) {
            this.gl = t88.gl, this.location = e143;
          }
        }
        class Ss extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = 0;
          }
          set(t88) {
            this.current !== t88 && (this.current = t88, this.gl.uniform1f(this.location, t88));
          }
        }
        class zs extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = [0, 0, 0, 0];
          }
          set(t88) {
            t88[0] === this.current[0] && t88[1] === this.current[1] && t88[2] === this.current[2] && t88[3] === this.current[3] || (this.current = t88, this.gl.uniform4f(this.location, t88[0], t88[1], t88[2], t88[3]));
          }
        }
        class Is extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = Et.transparent;
          }
          set(t88) {
            t88.r === this.current.r && t88.g === this.current.g && t88.b === this.current.b && t88.a === this.current.a || (this.current = t88, this.gl.uniform4f(this.location, t88.r, t88.g, t88.b, t88.a));
          }
        }
        const Ms = new Float32Array(16);
        function Bs(t88) {
          return [ps(255 * t88.r, 255 * t88.g), ps(255 * t88.b, 255 * t88.a)];
        }
        class Cs {
          constructor(t88, e143, r62) {
            this.value = t88, this.uniformNames = e143.map((t89) => `u_${t89}`), this.type = r62;
          }
          setUniform(t88, e143, r62) {
            t88.set(r62.constantOr(this.value));
          }
          getBinding(t88, e143, r62) {
            return "color" === this.type ? new Is(t88, e143) : new Ss(t88, e143);
          }
        }
        class Ps {
          constructor(t88, e143) {
            this.uniformNames = e143.map((t89) => `u_${t89}`), this.patternFrom = null, this.patternTo = null, this.pixelRatioFrom = 1, this.pixelRatioTo = 1;
          }
          setConstantPatternPositions(t88, e143) {
            this.pixelRatioFrom = e143.pixelRatio, this.pixelRatioTo = t88.pixelRatio, this.patternFrom = e143.tlbr, this.patternTo = t88.tlbr;
          }
          setUniform(t88, e143, r62, n46) {
            const i68 = "u_pattern_to" === n46 ? this.patternTo : "u_pattern_from" === n46 ? this.patternFrom : "u_pixel_ratio_to" === n46 ? this.pixelRatioTo : "u_pixel_ratio_from" === n46 ? this.pixelRatioFrom : null;
            i68 && t88.set(i68);
          }
          getBinding(t88, e143, r62) {
            return "u_pattern" === r62.substr(0, 9) ? new zs(t88, e143) : new Ss(t88, e143);
          }
        }
        class Vs {
          constructor(t88, e143, r62, n46) {
            this.expression = t88, this.type = r62, this.maxValue = 0, this.paintVertexAttributes = e143.map((t89) => ({ name: `a_${t89}`, type: "Float32", components: "color" === r62 ? 2 : 1, offset: 0 })), this.paintVertexArray = new n46();
          }
          populatePaintArray(t88, e143, r62, n46, i68) {
            const s63 = this.paintVertexArray.length, a83 = this.expression.evaluate(new Yn(0), e143, {}, n46, [], i68);
            this.paintVertexArray.resize(t88), this._setPaintValue(s63, t88, a83);
          }
          updatePaintArray(t88, e143, r62, n46) {
            const i68 = this.expression.evaluate({ zoom: 0 }, r62, n46);
            this._setPaintValue(t88, e143, i68);
          }
          _setPaintValue(t88, e143, r62) {
            if ("color" === this.type) {
              const n46 = Bs(r62);
              for (let r63 = t88; r63 < e143; r63++)
                this.paintVertexArray.emplace(r63, n46[0], n46[1]);
            } else {
              for (let n46 = t88; n46 < e143; n46++)
                this.paintVertexArray.emplace(n46, r62);
              this.maxValue = Math.max(this.maxValue, Math.abs(r62));
            }
          }
          upload(t88) {
            this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t88.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
          }
          destroy() {
            this.paintVertexBuffer && this.paintVertexBuffer.destroy();
          }
        }
        class Es {
          constructor(t88, e143, r62, n46, i68, s63) {
            this.expression = t88, this.uniformNames = e143.map((t89) => `u_${t89}_t`), this.type = r62, this.useIntegerZoom = n46, this.zoom = i68, this.maxValue = 0, this.paintVertexAttributes = e143.map((t89) => ({ name: `a_${t89}`, type: "Float32", components: "color" === r62 ? 4 : 2, offset: 0 })), this.paintVertexArray = new s63();
          }
          populatePaintArray(t88, e143, r62, n46, i68) {
            const s63 = this.expression.evaluate(new Yn(this.zoom), e143, {}, n46, [], i68), a83 = this.expression.evaluate(new Yn(this.zoom + 1), e143, {}, n46, [], i68), o102 = this.paintVertexArray.length;
            this.paintVertexArray.resize(t88), this._setPaintValue(o102, t88, s63, a83);
          }
          updatePaintArray(t88, e143, r62, n46) {
            const i68 = this.expression.evaluate({ zoom: this.zoom }, r62, n46), s63 = this.expression.evaluate({ zoom: this.zoom + 1 }, r62, n46);
            this._setPaintValue(t88, e143, i68, s63);
          }
          _setPaintValue(t88, e143, r62, n46) {
            if ("color" === this.type) {
              const i68 = Bs(r62), s63 = Bs(n46);
              for (let r63 = t88; r63 < e143; r63++)
                this.paintVertexArray.emplace(r63, i68[0], i68[1], s63[0], s63[1]);
            } else {
              for (let i68 = t88; i68 < e143; i68++)
                this.paintVertexArray.emplace(i68, r62, n46);
              this.maxValue = Math.max(this.maxValue, Math.abs(r62), Math.abs(n46));
            }
          }
          upload(t88) {
            this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t88.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
          }
          destroy() {
            this.paintVertexBuffer && this.paintVertexBuffer.destroy();
          }
          setUniform(t88, e143) {
            const r62 = this.useIntegerZoom ? Math.floor(e143.zoom) : e143.zoom, n46 = s62(this.expression.interpolationFactor(r62, this.zoom, this.zoom + 1), 0, 1);
            t88.set(n46);
          }
          getBinding(t88, e143, r62) {
            return new Ss(t88, e143);
          }
        }
        class Fs {
          constructor(t88, e143, r62, n46, i68, s63) {
            this.expression = t88, this.type = e143, this.useIntegerZoom = r62, this.zoom = n46, this.layerId = s63, this.zoomInPaintVertexArray = new i68(), this.zoomOutPaintVertexArray = new i68();
          }
          populatePaintArray(t88, e143, r62) {
            const n46 = this.zoomInPaintVertexArray.length;
            this.zoomInPaintVertexArray.resize(t88), this.zoomOutPaintVertexArray.resize(t88), this._setPaintValues(n46, t88, e143.patterns && e143.patterns[this.layerId], r62);
          }
          updatePaintArray(t88, e143, r62, n46, i68) {
            this._setPaintValues(t88, e143, r62.patterns && r62.patterns[this.layerId], i68);
          }
          _setPaintValues(t88, e143, r62, n46) {
            if (!n46 || !r62)
              return;
            const { min: i68, mid: s63, max: a83 } = r62, o102 = n46[i68], l30 = n46[s63], u21 = n46[a83];
            if (o102 && l30 && u21)
              for (let r63 = t88; r63 < e143; r63++)
                this.zoomInPaintVertexArray.emplace(r63, l30.tl[0], l30.tl[1], l30.br[0], l30.br[1], o102.tl[0], o102.tl[1], o102.br[0], o102.br[1], l30.pixelRatio, o102.pixelRatio), this.zoomOutPaintVertexArray.emplace(r63, l30.tl[0], l30.tl[1], l30.br[0], l30.br[1], u21.tl[0], u21.tl[1], u21.br[0], u21.br[1], l30.pixelRatio, u21.pixelRatio);
          }
          upload(t88) {
            this.zoomInPaintVertexArray && this.zoomInPaintVertexArray.arrayBuffer && this.zoomOutPaintVertexArray && this.zoomOutPaintVertexArray.arrayBuffer && (this.zoomInPaintVertexBuffer = t88.createVertexBuffer(this.zoomInPaintVertexArray, fs.members, this.expression.isStateDependent), this.zoomOutPaintVertexBuffer = t88.createVertexBuffer(this.zoomOutPaintVertexArray, fs.members, this.expression.isStateDependent));
          }
          destroy() {
            this.zoomOutPaintVertexBuffer && this.zoomOutPaintVertexBuffer.destroy(), this.zoomInPaintVertexBuffer && this.zoomInPaintVertexBuffer.destroy();
          }
        }
        class Ts {
          constructor(t88, e143, r62) {
            this.binders = {}, this._buffers = [];
            const n46 = [];
            for (const i68 in t88.paint._values) {
              if (!r62(i68))
                continue;
              const s63 = t88.paint.get(i68);
              if (!(s63 instanceof ni && xr(s63.property.specification)))
                continue;
              const a83 = Ds(i68, t88.type), o102 = s63.value, l30 = s63.property.specification.type, u21 = s63.property.useIntegerZoom, c23 = s63.property.specification["property-type"], h13 = "cross-faded" === c23 || "cross-faded-data-driven" === c23;
              if ("constant" === o102.kind)
                this.binders[i68] = h13 ? new Ps(o102.value, a83) : new Cs(o102.value, a83, l30), n46.push(`/u_${i68}`);
              else if ("source" === o102.kind || h13) {
                const r63 = $s(i68, l30, "source");
                this.binders[i68] = h13 ? new Fs(o102, l30, u21, e143, r63, t88.id) : new Vs(o102, a83, l30, r63), n46.push(`/a_${i68}`);
              } else {
                const t89 = $s(i68, l30, "composite");
                this.binders[i68] = new Es(o102, a83, l30, u21, e143, t89), n46.push(`/z_${i68}`);
              }
            }
            this.cacheKey = n46.sort().join("");
          }
          getMaxValue(t88) {
            const e143 = this.binders[t88];
            return e143 instanceof Vs || e143 instanceof Es ? e143.maxValue : 0;
          }
          populatePaintArrays(t88, e143, r62, n46, i68) {
            for (const s63 in this.binders) {
              const a83 = this.binders[s63];
              (a83 instanceof Vs || a83 instanceof Es || a83 instanceof Fs) && a83.populatePaintArray(t88, e143, r62, n46, i68);
            }
          }
          setConstantPatternPositions(t88, e143) {
            for (const r62 in this.binders) {
              const n46 = this.binders[r62];
              n46 instanceof Ps && n46.setConstantPatternPositions(t88, e143);
            }
          }
          updatePaintArrays(t88, e143, r62, n46, i68) {
            let s63 = false;
            for (const a83 in t88) {
              const o102 = e143.getPositions(a83);
              for (const e144 of o102) {
                const o103 = r62.feature(e144.index);
                for (const r63 in this.binders) {
                  const l30 = this.binders[r63];
                  if ((l30 instanceof Vs || l30 instanceof Es || l30 instanceof Fs) && true === l30.expression.isStateDependent) {
                    const u21 = n46.paint.get(r63);
                    l30.expression = u21.value, l30.updatePaintArray(e144.start, e144.end, o103, t88[a83], i68), s63 = true;
                  }
                }
              }
            }
            return s63;
          }
          defines() {
            const t88 = [];
            for (const e143 in this.binders) {
              const r62 = this.binders[e143];
              (r62 instanceof Cs || r62 instanceof Ps) && t88.push(...r62.uniformNames.map((t89) => `#define HAS_UNIFORM_${t89}`));
            }
            return t88;
          }
          getBinderAttributes() {
            const t88 = [];
            for (const e143 in this.binders) {
              const r62 = this.binders[e143];
              if (r62 instanceof Vs || r62 instanceof Es)
                for (let e144 = 0; e144 < r62.paintVertexAttributes.length; e144++)
                  t88.push(r62.paintVertexAttributes[e144].name);
              else if (r62 instanceof Fs)
                for (let e144 = 0; e144 < fs.members.length; e144++)
                  t88.push(fs.members[e144].name);
            }
            return t88;
          }
          getBinderUniforms() {
            const t88 = [];
            for (const e143 in this.binders) {
              const r62 = this.binders[e143];
              if (r62 instanceof Cs || r62 instanceof Ps || r62 instanceof Es)
                for (const e144 of r62.uniformNames)
                  t88.push(e144);
            }
            return t88;
          }
          getPaintVertexBuffers() {
            return this._buffers;
          }
          getUniforms(t88, e143) {
            const r62 = [];
            for (const n46 in this.binders) {
              const i68 = this.binders[n46];
              if (i68 instanceof Cs || i68 instanceof Ps || i68 instanceof Es) {
                for (const s63 of i68.uniformNames)
                  if (e143[s63]) {
                    const a83 = i68.getBinding(t88, e143[s63], s63);
                    r62.push({ name: s63, property: n46, binding: a83 });
                  }
              }
            }
            return r62;
          }
          setUniforms(t88, e143, r62, n46) {
            for (const { name: t89, property: i68, binding: s63 } of e143)
              this.binders[i68].setUniform(s63, n46, r62.get(i68), t89);
          }
          updatePaintBuffers(t88) {
            this._buffers = [];
            for (const e143 in this.binders) {
              const r62 = this.binders[e143];
              if (t88 && r62 instanceof Fs) {
                const e144 = 2 === t88.fromScale ? r62.zoomInPaintVertexBuffer : r62.zoomOutPaintVertexBuffer;
                e144 && this._buffers.push(e144);
              } else
                (r62 instanceof Vs || r62 instanceof Es) && r62.paintVertexBuffer && this._buffers.push(r62.paintVertexBuffer);
            }
          }
          upload(t88) {
            for (const e143 in this.binders) {
              const r62 = this.binders[e143];
              (r62 instanceof Vs || r62 instanceof Es || r62 instanceof Fs) && r62.upload(t88);
            }
            this.updatePaintBuffers();
          }
          destroy() {
            for (const t88 in this.binders) {
              const e143 = this.binders[t88];
              (e143 instanceof Vs || e143 instanceof Es || e143 instanceof Fs) && e143.destroy();
            }
          }
        }
        class Ls {
          constructor(t88, e143, r62 = () => true) {
            this.programConfigurations = {};
            for (const n46 of t88)
              this.programConfigurations[n46.id] = new Ts(n46, e143, r62);
            this.needsUpload = false, this._featureMap = new bs(), this._bufferOffset = 0;
          }
          populatePaintArrays(t88, e143, r62, n46, i68, s63) {
            for (const r63 in this.programConfigurations)
              this.programConfigurations[r63].populatePaintArrays(t88, e143, n46, i68, s63);
            void 0 !== e143.id && this._featureMap.add(e143.id, r62, this._bufferOffset, t88), this._bufferOffset = t88, this.needsUpload = true;
          }
          updatePaintArrays(t88, e143, r62, n46) {
            for (const i68 of r62)
              this.needsUpload = this.programConfigurations[i68.id].updatePaintArrays(t88, this._featureMap, e143, i68, n46) || this.needsUpload;
          }
          get(t88) {
            return this.programConfigurations[t88];
          }
          upload(t88) {
            if (this.needsUpload) {
              for (const e143 in this.programConfigurations)
                this.programConfigurations[e143].upload(t88);
              this.needsUpload = false;
            }
          }
          destroy() {
            for (const t88 in this.programConfigurations)
              this.programConfigurations[t88].destroy();
          }
        }
        function Ds(t88, e143) {
          return { "text-opacity": ["opacity"], "icon-opacity": ["opacity"], "text-color": ["fill_color"], "icon-color": ["fill_color"], "text-halo-color": ["halo_color"], "icon-halo-color": ["halo_color"], "text-halo-blur": ["halo_blur"], "icon-halo-blur": ["halo_blur"], "text-halo-width": ["halo_width"], "icon-halo-width": ["halo_width"], "line-gap-width": ["gapwidth"], "line-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"], "fill-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"], "fill-extrusion-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"] }[t88] || [t88.replace(`${e143}-`, "").replace(/-/g, "_")];
        }
        function $s(t88, e143, r62) {
          const n46 = { color: { source: _i, composite: Ri }, number: { source: Fi, composite: _i } }, i68 = function(t89) {
            return { "line-pattern": { source: es, composite: es }, "fill-pattern": { source: es, composite: es }, "fill-extrusion-pattern": { source: es, composite: es } }[t89];
          }(t88);
          return i68 && i68[r62] || n46[e143][r62];
        }
        kn("ConstantBinder", Cs), kn("CrossFadedConstantBinder", Ps), kn("SourceExpressionBinder", Vs), kn("CrossFadedCompositeBinder", Fs), kn("CompositeExpressionBinder", Es), kn("ProgramConfiguration", Ts, { omit: ["_buffers"] }), kn("ProgramConfigurationSet", Ls);
        var Rs = 8192;
        const Us = Math.pow(2, 14) - 1, Os = -Us - 1;
        function qs(t88) {
          const e143 = Rs / t88.extent, r62 = t88.loadGeometry();
          for (let t89 = 0; t89 < r62.length; t89++) {
            const n46 = r62[t89];
            for (let t90 = 0; t90 < n46.length; t90++) {
              const r63 = n46[t90], i68 = Math.round(r63.x * e143), a83 = Math.round(r63.y * e143);
              r63.x = s62(i68, Os, Us), r63.y = s62(a83, Os, Us), (i68 < r63.x || i68 > r63.x + 1 || a83 < r63.y || a83 > r63.y + 1) && d10("Geometry exceeds allowed extent, reduce your vector tile buffer size");
            }
          }
          return r62;
        }
        function js(t88, e143) {
          return { type: t88.type, id: t88.id, properties: t88.properties, geometry: e143 ? qs(t88) : [] };
        }
        function Ns(t88, e143, r62, n46, i68) {
          t88.emplaceBack(2 * e143 + (n46 + 1) / 2, 2 * r62 + (i68 + 1) / 2);
        }
        class Ks {
          constructor(t88) {
            this.zoom = t88.zoom, this.overscaling = t88.overscaling, this.layers = t88.layers, this.layerIds = this.layers.map((t89) => t89.id), this.index = t88.index, this.hasPattern = false, this.layoutVertexArray = new Yi(), this.indexArray = new os(), this.segments = new hs(), this.programConfigurations = new Ls(t88.layers, t88.zoom), this.stateDependentLayerIds = this.layers.filter((t89) => t89.isStateDependent()).map((t89) => t89.id);
          }
          populate(t88, e143, r62) {
            const n46 = this.layers[0], i68 = [];
            let s63 = null, a83 = false;
            "circle" === n46.type && (s63 = n46.layout.get("circle-sort-key"), a83 = !s63.isConstant());
            for (const { feature: e144, id: n47, index: o102, sourceLayerIndex: l30 } of t88) {
              const t89 = this.layers[0]._featureFilter.needGeometry, u21 = js(e144, t89);
              if (!this.layers[0]._featureFilter.filter(new Yn(this.zoom), u21, r62))
                continue;
              const c23 = a83 ? s63.evaluate(u21, {}, r62) : void 0, h13 = { id: n47, properties: e144.properties, type: e144.type, sourceLayerIndex: l30, index: o102, geometry: t89 ? u21.geometry : qs(e144), patterns: {}, sortKey: c23 };
              i68.push(h13);
            }
            a83 && i68.sort((t89, e144) => t89.sortKey - e144.sortKey);
            for (const n47 of i68) {
              const { geometry: i69, index: s64, sourceLayerIndex: a84 } = n47, o102 = t88[s64].feature;
              this.addFeature(n47, i69, s64, r62), e143.featureIndex.insert(o102, i69, s64, a84, this.index);
            }
          }
          update(t88, e143, r62) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t88, e143, this.stateDependentLayers, r62);
          }
          isEmpty() {
            return 0 === this.layoutVertexArray.length;
          }
          uploadPending() {
            return !this.uploaded || this.programConfigurations.needsUpload;
          }
          upload(t88) {
            this.uploaded || (this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, cs), this.indexBuffer = t88.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t88), this.uploaded = true;
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
          }
          addFeature(t88, e143, r62, n46) {
            for (const r63 of e143)
              for (const e144 of r63) {
                const r64 = e144.x, n47 = e144.y;
                if (r64 < 0 || r64 >= Rs || n47 < 0 || n47 >= Rs)
                  continue;
                const i68 = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray, t88.sortKey), s63 = i68.vertexLength;
                Ns(this.layoutVertexArray, r64, n47, -1, -1), Ns(this.layoutVertexArray, r64, n47, 1, -1), Ns(this.layoutVertexArray, r64, n47, 1, 1), Ns(this.layoutVertexArray, r64, n47, -1, 1), this.indexArray.emplaceBack(s63, s63 + 1, s63 + 2), this.indexArray.emplaceBack(s63, s63 + 3, s63 + 2), i68.vertexLength += 4, i68.primitiveLength += 2;
              }
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t88, r62, {}, n46);
          }
        }
        function Zs(t88, e143) {
          for (let r62 = 0; r62 < t88.length; r62++)
            if (ea(e143, t88[r62]))
              return true;
          for (let r62 = 0; r62 < e143.length; r62++)
            if (ea(t88, e143[r62]))
              return true;
          return !!Ys(t88, e143);
        }
        function Gs(t88, e143, r62) {
          return !!ea(t88, e143) || !!Ws(e143, t88, r62);
        }
        function Js(t88, e143) {
          if (1 === t88.length)
            return ta(e143, t88[0]);
          for (let r62 = 0; r62 < e143.length; r62++) {
            const n46 = e143[r62];
            for (let e144 = 0; e144 < n46.length; e144++)
              if (ea(t88, n46[e144]))
                return true;
          }
          for (let r62 = 0; r62 < t88.length; r62++)
            if (ta(e143, t88[r62]))
              return true;
          for (let r62 = 0; r62 < e143.length; r62++)
            if (Ys(t88, e143[r62]))
              return true;
          return false;
        }
        function Xs(t88, e143, r62) {
          if (t88.length > 1) {
            if (Ys(t88, e143))
              return true;
            for (let n46 = 0; n46 < e143.length; n46++)
              if (Ws(e143[n46], t88, r62))
                return true;
          }
          for (let n46 = 0; n46 < t88.length; n46++)
            if (Ws(t88[n46], e143, r62))
              return true;
          return false;
        }
        function Ys(t88, e143) {
          if (0 === t88.length || 0 === e143.length)
            return false;
          for (let r62 = 0; r62 < t88.length - 1; r62++) {
            const n46 = t88[r62], i68 = t88[r62 + 1];
            for (let t89 = 0; t89 < e143.length - 1; t89++)
              if (Hs(n46, i68, e143[t89], e143[t89 + 1]))
                return true;
          }
          return false;
        }
        function Hs(t88, e143, r62, n46) {
          return y9(t88, r62, n46) !== y9(e143, r62, n46) && y9(t88, e143, r62) !== y9(t88, e143, n46);
        }
        function Ws(t88, e143, r62) {
          const n46 = r62 * r62;
          if (1 === e143.length)
            return t88.distSqr(e143[0]) < n46;
          for (let r63 = 1; r63 < e143.length; r63++)
            if (Qs(t88, e143[r63 - 1], e143[r63]) < n46)
              return true;
          return false;
        }
        function Qs(t88, e143, r62) {
          const n46 = e143.distSqr(r62);
          if (0 === n46)
            return t88.distSqr(e143);
          const i68 = ((t88.x - e143.x) * (r62.x - e143.x) + (t88.y - e143.y) * (r62.y - e143.y)) / n46;
          return t88.distSqr(i68 < 0 ? e143 : i68 > 1 ? r62 : r62.sub(e143)._mult(i68)._add(e143));
        }
        function ta(t88, e143) {
          let r62, n46, i68, s63 = false;
          for (let a83 = 0; a83 < t88.length; a83++) {
            r62 = t88[a83];
            for (let t89 = 0, a84 = r62.length - 1; t89 < r62.length; a84 = t89++)
              n46 = r62[t89], i68 = r62[a84], n46.y > e143.y != i68.y > e143.y && e143.x < (i68.x - n46.x) * (e143.y - n46.y) / (i68.y - n46.y) + n46.x && (s63 = !s63);
          }
          return s63;
        }
        function ea(t88, e143) {
          let r62 = false;
          for (let n46 = 0, i68 = t88.length - 1; n46 < t88.length; i68 = n46++) {
            const s63 = t88[n46], a83 = t88[i68];
            s63.y > e143.y != a83.y > e143.y && e143.x < (a83.x - s63.x) * (e143.y - s63.y) / (a83.y - s63.y) + s63.x && (r62 = !r62);
          }
          return r62;
        }
        function ra(t88, e143, r62) {
          const n46 = r62[0], i68 = r62[2];
          if (t88.x < n46.x && e143.x < n46.x || t88.x > i68.x && e143.x > i68.x || t88.y < n46.y && e143.y < n46.y || t88.y > i68.y && e143.y > i68.y)
            return false;
          const s63 = y9(t88, e143, r62[0]);
          return s63 !== y9(t88, e143, r62[1]) || s63 !== y9(t88, e143, r62[2]) || s63 !== y9(t88, e143, r62[3]);
        }
        function na(t88, e143, r62) {
          const n46 = e143.paint.get(t88).value;
          return "constant" === n46.kind ? n46.value : r62.programConfigurations.get(e143.id).getMaxValue(t88);
        }
        function ia(t88) {
          return Math.sqrt(t88[0] * t88[0] + t88[1] * t88[1]);
        }
        function sa(t88, e143, r62, n46, i68) {
          if (!e143[0] && !e143[1])
            return t88;
          const s63 = S.convert(e143)._mult(i68);
          "viewport" === r62 && s63._rotate(-n46);
          const a83 = [];
          for (let e144 = 0; e144 < t88.length; e144++)
            a83.push(t88[e144].sub(s63));
          return a83;
        }
        kn("CircleBucket", Ks, { omit: ["layers"] });
        const aa = new ci({ "circle-sort-key": new ai(nt.layout_circle["circle-sort-key"]) });
        var oa = { paint: new ci({ "circle-radius": new ai(nt.paint_circle["circle-radius"]), "circle-color": new ai(nt.paint_circle["circle-color"]), "circle-blur": new ai(nt.paint_circle["circle-blur"]), "circle-opacity": new ai(nt.paint_circle["circle-opacity"]), "circle-translate": new si(nt.paint_circle["circle-translate"]), "circle-translate-anchor": new si(nt.paint_circle["circle-translate-anchor"]), "circle-pitch-scale": new si(nt.paint_circle["circle-pitch-scale"]), "circle-pitch-alignment": new si(nt.paint_circle["circle-pitch-alignment"]), "circle-stroke-width": new ai(nt.paint_circle["circle-stroke-width"]), "circle-stroke-color": new ai(nt.paint_circle["circle-stroke-color"]), "circle-stroke-opacity": new ai(nt.paint_circle["circle-stroke-opacity"]) }), layout: aa }, la = "undefined" != typeof Float32Array ? Float32Array : Array;
        function ua(t88) {
          return t88[0] = 1, t88[1] = 0, t88[2] = 0, t88[3] = 0, t88[4] = 0, t88[5] = 1, t88[6] = 0, t88[7] = 0, t88[8] = 0, t88[9] = 0, t88[10] = 1, t88[11] = 0, t88[12] = 0, t88[13] = 0, t88[14] = 0, t88[15] = 1, t88;
        }
        function ca(t88, e143, r62) {
          var n46 = e143[0], i68 = e143[1], s63 = e143[2], a83 = e143[3], o102 = e143[4], l30 = e143[5], u21 = e143[6], c23 = e143[7], h13 = e143[8], p18 = e143[9], f22 = e143[10], d11 = e143[11], y10 = e143[12], m30 = e143[13], g15 = e143[14], x6 = e143[15], v6 = r62[0], b8 = r62[1], w4 = r62[2], _4 = r62[3];
          return t88[0] = v6 * n46 + b8 * o102 + w4 * h13 + _4 * y10, t88[1] = v6 * i68 + b8 * l30 + w4 * p18 + _4 * m30, t88[2] = v6 * s63 + b8 * u21 + w4 * f22 + _4 * g15, t88[3] = v6 * a83 + b8 * c23 + w4 * d11 + _4 * x6, t88[4] = (v6 = r62[4]) * n46 + (b8 = r62[5]) * o102 + (w4 = r62[6]) * h13 + (_4 = r62[7]) * y10, t88[5] = v6 * i68 + b8 * l30 + w4 * p18 + _4 * m30, t88[6] = v6 * s63 + b8 * u21 + w4 * f22 + _4 * g15, t88[7] = v6 * a83 + b8 * c23 + w4 * d11 + _4 * x6, t88[8] = (v6 = r62[8]) * n46 + (b8 = r62[9]) * o102 + (w4 = r62[10]) * h13 + (_4 = r62[11]) * y10, t88[9] = v6 * i68 + b8 * l30 + w4 * p18 + _4 * m30, t88[10] = v6 * s63 + b8 * u21 + w4 * f22 + _4 * g15, t88[11] = v6 * a83 + b8 * c23 + w4 * d11 + _4 * x6, t88[12] = (v6 = r62[12]) * n46 + (b8 = r62[13]) * o102 + (w4 = r62[14]) * h13 + (_4 = r62[15]) * y10, t88[13] = v6 * i68 + b8 * l30 + w4 * p18 + _4 * m30, t88[14] = v6 * s63 + b8 * u21 + w4 * f22 + _4 * g15, t88[15] = v6 * a83 + b8 * c23 + w4 * d11 + _4 * x6, t88;
        }
        Math.hypot || (Math.hypot = function() {
          for (var t88 = 0, e143 = arguments.length; e143--; )
            t88 += arguments[e143] * arguments[e143];
          return Math.sqrt(t88);
        });
        var ha, pa = ca;
        function fa(t88, e143, r62) {
          var n46 = e143[0], i68 = e143[1], s63 = e143[2], a83 = e143[3];
          return t88[0] = r62[0] * n46 + r62[4] * i68 + r62[8] * s63 + r62[12] * a83, t88[1] = r62[1] * n46 + r62[5] * i68 + r62[9] * s63 + r62[13] * a83, t88[2] = r62[2] * n46 + r62[6] * i68 + r62[10] * s63 + r62[14] * a83, t88[3] = r62[3] * n46 + r62[7] * i68 + r62[11] * s63 + r62[15] * a83, t88;
        }
        function da(t88, e143) {
          const r62 = fa([], [t88.x, t88.y, 0, 1], e143);
          return new S(r62[0] / r62[3], r62[1] / r62[3]);
        }
        ha = new la(4), la != Float32Array && (ha[0] = 0, ha[1] = 0, ha[2] = 0, ha[3] = 0);
        class ya extends Ks {
        }
        kn("HeatmapBucket", ya, { omit: ["layers"] });
        var ma = { paint: new ci({ "heatmap-radius": new ai(nt.paint_heatmap["heatmap-radius"]), "heatmap-weight": new ai(nt.paint_heatmap["heatmap-weight"]), "heatmap-intensity": new si(nt.paint_heatmap["heatmap-intensity"]), "heatmap-color": new ui(nt.paint_heatmap["heatmap-color"]), "heatmap-opacity": new si(nt.paint_heatmap["heatmap-opacity"]) }) };
        function ga(t88, { width: e143, height: r62 }, n46, i68) {
          if (i68) {
            if (i68 instanceof Uint8ClampedArray)
              i68 = new Uint8Array(i68.buffer);
            else if (i68.length !== e143 * r62 * n46)
              throw new RangeError(`mismatched image size. expected: ${i68.length} but got: ${e143 * r62 * n46}`);
          } else
            i68 = new Uint8Array(e143 * r62 * n46);
          return t88.width = e143, t88.height = r62, t88.data = i68, t88;
        }
        function xa(t88, { width: e143, height: r62 }, n46) {
          if (e143 === t88.width && r62 === t88.height)
            return;
          const i68 = ga({}, { width: e143, height: r62 }, n46);
          va(t88, i68, { x: 0, y: 0 }, { x: 0, y: 0 }, { width: Math.min(t88.width, e143), height: Math.min(t88.height, r62) }, n46), t88.width = e143, t88.height = r62, t88.data = i68.data;
        }
        function va(t88, e143, r62, n46, i68, s63) {
          if (0 === i68.width || 0 === i68.height)
            return e143;
          if (i68.width > t88.width || i68.height > t88.height || r62.x > t88.width - i68.width || r62.y > t88.height - i68.height)
            throw new RangeError("out of range source coordinates for image copy");
          if (i68.width > e143.width || i68.height > e143.height || n46.x > e143.width - i68.width || n46.y > e143.height - i68.height)
            throw new RangeError("out of range destination coordinates for image copy");
          const a83 = t88.data, o102 = e143.data;
          for (let l30 = 0; l30 < i68.height; l30++) {
            const u21 = ((r62.y + l30) * t88.width + r62.x) * s63, c23 = ((n46.y + l30) * e143.width + n46.x) * s63;
            for (let t89 = 0; t89 < i68.width * s63; t89++)
              o102[c23 + t89] = a83[u21 + t89];
          }
          return e143;
        }
        class ba {
          constructor(t88, e143) {
            ga(this, t88, 1, e143);
          }
          resize(t88) {
            xa(this, t88, 1);
          }
          clone() {
            return new ba({ width: this.width, height: this.height }, new Uint8Array(this.data));
          }
          static copy(t88, e143, r62, n46, i68) {
            va(t88, e143, r62, n46, i68, 1);
          }
        }
        class wa {
          constructor(t88, e143) {
            ga(this, t88, 4, e143);
          }
          resize(t88) {
            xa(this, t88, 4);
          }
          replace(t88, e143) {
            e143 ? this.data.set(t88) : this.data = t88 instanceof Uint8ClampedArray ? new Uint8Array(t88.buffer) : t88;
          }
          clone() {
            return new wa({ width: this.width, height: this.height }, new Uint8Array(this.data));
          }
          static copy(t88, e143, r62, n46, i68) {
            va(t88, e143, r62, n46, i68, 4);
          }
        }
        function _a3(t88) {
          const e143 = {}, r62 = t88.resolution || 256, n46 = t88.clips ? t88.clips.length : 1, i68 = t88.image || new wa({ width: r62, height: n46 }), s63 = (r63, n47, s64) => {
            e143[t88.evaluationKey] = s64;
            const a83 = t88.expression.evaluate(e143);
            i68.data[r63 + n47 + 0] = Math.floor(255 * a83.r / a83.a), i68.data[r63 + n47 + 1] = Math.floor(255 * a83.g / a83.a), i68.data[r63 + n47 + 2] = Math.floor(255 * a83.b / a83.a), i68.data[r63 + n47 + 3] = Math.floor(255 * a83.a);
          };
          if (t88.clips)
            for (let e144 = 0, i69 = 0; e144 < n46; ++e144, i69 += 4 * r62)
              for (let n47 = 0, a83 = 0; n47 < r62; n47++, a83 += 4) {
                const o102 = n47 / (r62 - 1), { start: l30, end: u21 } = t88.clips[e144];
                s63(i69, a83, l30 * (1 - o102) + u21 * o102);
              }
          else
            for (let t89 = 0, e144 = 0; t89 < r62; t89++, e144 += 4)
              s63(0, e144, t89 / (r62 - 1));
          return i68;
        }
        kn("AlphaImage", ba), kn("RGBAImage", wa);
        var Aa = { paint: new ci({ "hillshade-illumination-direction": new si(nt.paint_hillshade["hillshade-illumination-direction"]), "hillshade-illumination-anchor": new si(nt.paint_hillshade["hillshade-illumination-anchor"]), "hillshade-exaggeration": new si(nt.paint_hillshade["hillshade-exaggeration"]), "hillshade-shadow-color": new si(nt.paint_hillshade["hillshade-shadow-color"]), "hillshade-highlight-color": new si(nt.paint_hillshade["hillshade-highlight-color"]), "hillshade-accent-color": new si(nt.paint_hillshade["hillshade-accent-color"]) }) };
        const ka = mi([{ name: "a_pos", components: 2, type: "Int16" }], 4), { members: Sa } = ka;
        var za = { exports: {} };
        function Ia(t88, e143, r62) {
          r62 = r62 || 2;
          var n46, i68, s63, a83, o102, l30, u21, c23 = e143 && e143.length, h13 = c23 ? e143[0] * r62 : t88.length, p18 = Ma(t88, 0, h13, r62, true), f22 = [];
          if (!p18 || p18.next === p18.prev)
            return f22;
          if (c23 && (p18 = function(t89, e144, r63, n47) {
            var i69, s64, a84, o103 = [];
            for (i69 = 0, s64 = e144.length; i69 < s64; i69++)
              (a84 = Ma(t89, e144[i69] * n47, i69 < s64 - 1 ? e144[i69 + 1] * n47 : t89.length, n47, false)) === a84.next && (a84.steiner = true), o103.push(Ra(a84));
            for (o103.sort(Ta), i69 = 0; i69 < o103.length; i69++)
              r63 = Ba(r63 = La(o103[i69], r63), r63.next);
            return r63;
          }(t88, e143, p18, r62)), t88.length > 80 * r62) {
            n46 = s63 = t88[0], i68 = a83 = t88[1];
            for (var d11 = r62; d11 < h13; d11 += r62)
              (o102 = t88[d11]) < n46 && (n46 = o102), (l30 = t88[d11 + 1]) < i68 && (i68 = l30), o102 > s63 && (s63 = o102), l30 > a83 && (a83 = l30);
            u21 = 0 !== (u21 = Math.max(s63 - n46, a83 - i68)) ? 1 / u21 : 0;
          }
          return Ca(p18, f22, r62, n46, i68, u21), f22;
        }
        function Ma(t88, e143, r62, n46, i68) {
          var s63, a83;
          if (i68 === Wa(t88, e143, r62, n46) > 0)
            for (s63 = e143; s63 < r62; s63 += n46)
              a83 = Xa(s63, t88[s63], t88[s63 + 1], a83);
          else
            for (s63 = r62 - n46; s63 >= e143; s63 -= n46)
              a83 = Xa(s63, t88[s63], t88[s63 + 1], a83);
          return a83 && ja(a83, a83.next) && (Ya(a83), a83 = a83.next), a83;
        }
        function Ba(t88, e143) {
          if (!t88)
            return t88;
          e143 || (e143 = t88);
          var r62, n46 = t88;
          do {
            if (r62 = false, n46.steiner || !ja(n46, n46.next) && 0 !== qa(n46.prev, n46, n46.next))
              n46 = n46.next;
            else {
              if (Ya(n46), (n46 = e143 = n46.prev) === n46.next)
                break;
              r62 = true;
            }
          } while (r62 || n46 !== e143);
          return e143;
        }
        function Ca(t88, e143, r62, n46, i68, s63, a83) {
          if (t88) {
            !a83 && s63 && function(t89, e144, r63, n47) {
              var i69 = t89;
              do {
                null === i69.z && (i69.z = $a(i69.x, i69.y, e144, r63, n47)), i69.prevZ = i69.prev, i69.nextZ = i69.next, i69 = i69.next;
              } while (i69 !== t89);
              i69.prevZ.nextZ = null, i69.prevZ = null, function(t90) {
                var e145, r64, n48, i70, s64, a84, o103, l31, u22 = 1;
                do {
                  for (r64 = t90, t90 = null, s64 = null, a84 = 0; r64; ) {
                    for (a84++, n48 = r64, o103 = 0, e145 = 0; e145 < u22 && (o103++, n48 = n48.nextZ); e145++)
                      ;
                    for (l31 = u22; o103 > 0 || l31 > 0 && n48; )
                      0 !== o103 && (0 === l31 || !n48 || r64.z <= n48.z) ? (i70 = r64, r64 = r64.nextZ, o103--) : (i70 = n48, n48 = n48.nextZ, l31--), s64 ? s64.nextZ = i70 : t90 = i70, i70.prevZ = s64, s64 = i70;
                    r64 = n48;
                  }
                  s64.nextZ = null, u22 *= 2;
                } while (a84 > 1);
              }(i69);
            }(t88, n46, i68, s63);
            for (var o102, l30, u21 = t88; t88.prev !== t88.next; )
              if (o102 = t88.prev, l30 = t88.next, s63 ? Va(t88, n46, i68, s63) : Pa(t88))
                e143.push(o102.i / r62), e143.push(t88.i / r62), e143.push(l30.i / r62), Ya(t88), t88 = l30.next, u21 = l30.next;
              else if ((t88 = l30) === u21) {
                a83 ? 1 === a83 ? Ca(t88 = Ea(Ba(t88), e143, r62), e143, r62, n46, i68, s63, 2) : 2 === a83 && Fa(t88, e143, r62, n46, i68, s63) : Ca(Ba(t88), e143, r62, n46, i68, s63, 1);
                break;
              }
          }
        }
        function Pa(t88) {
          var e143 = t88.prev, r62 = t88, n46 = t88.next;
          if (qa(e143, r62, n46) >= 0)
            return false;
          for (var i68 = t88.next.next; i68 !== t88.prev; ) {
            if (Ua(e143.x, e143.y, r62.x, r62.y, n46.x, n46.y, i68.x, i68.y) && qa(i68.prev, i68, i68.next) >= 0)
              return false;
            i68 = i68.next;
          }
          return true;
        }
        function Va(t88, e143, r62, n46) {
          var i68 = t88.prev, s63 = t88, a83 = t88.next;
          if (qa(i68, s63, a83) >= 0)
            return false;
          for (var o102 = i68.x > s63.x ? i68.x > a83.x ? i68.x : a83.x : s63.x > a83.x ? s63.x : a83.x, l30 = i68.y > s63.y ? i68.y > a83.y ? i68.y : a83.y : s63.y > a83.y ? s63.y : a83.y, u21 = $a(i68.x < s63.x ? i68.x < a83.x ? i68.x : a83.x : s63.x < a83.x ? s63.x : a83.x, i68.y < s63.y ? i68.y < a83.y ? i68.y : a83.y : s63.y < a83.y ? s63.y : a83.y, e143, r62, n46), c23 = $a(o102, l30, e143, r62, n46), h13 = t88.prevZ, p18 = t88.nextZ; h13 && h13.z >= u21 && p18 && p18.z <= c23; ) {
            if (h13 !== t88.prev && h13 !== t88.next && Ua(i68.x, i68.y, s63.x, s63.y, a83.x, a83.y, h13.x, h13.y) && qa(h13.prev, h13, h13.next) >= 0)
              return false;
            if (h13 = h13.prevZ, p18 !== t88.prev && p18 !== t88.next && Ua(i68.x, i68.y, s63.x, s63.y, a83.x, a83.y, p18.x, p18.y) && qa(p18.prev, p18, p18.next) >= 0)
              return false;
            p18 = p18.nextZ;
          }
          for (; h13 && h13.z >= u21; ) {
            if (h13 !== t88.prev && h13 !== t88.next && Ua(i68.x, i68.y, s63.x, s63.y, a83.x, a83.y, h13.x, h13.y) && qa(h13.prev, h13, h13.next) >= 0)
              return false;
            h13 = h13.prevZ;
          }
          for (; p18 && p18.z <= c23; ) {
            if (p18 !== t88.prev && p18 !== t88.next && Ua(i68.x, i68.y, s63.x, s63.y, a83.x, a83.y, p18.x, p18.y) && qa(p18.prev, p18, p18.next) >= 0)
              return false;
            p18 = p18.nextZ;
          }
          return true;
        }
        function Ea(t88, e143, r62) {
          var n46 = t88;
          do {
            var i68 = n46.prev, s63 = n46.next.next;
            !ja(i68, s63) && Na(i68, n46, n46.next, s63) && Ga(i68, s63) && Ga(s63, i68) && (e143.push(i68.i / r62), e143.push(n46.i / r62), e143.push(s63.i / r62), Ya(n46), Ya(n46.next), n46 = t88 = s63), n46 = n46.next;
          } while (n46 !== t88);
          return Ba(n46);
        }
        function Fa(t88, e143, r62, n46, i68, s63) {
          var a83 = t88;
          do {
            for (var o102 = a83.next.next; o102 !== a83.prev; ) {
              if (a83.i !== o102.i && Oa(a83, o102)) {
                var l30 = Ja(a83, o102);
                return a83 = Ba(a83, a83.next), l30 = Ba(l30, l30.next), Ca(a83, e143, r62, n46, i68, s63), void Ca(l30, e143, r62, n46, i68, s63);
              }
              o102 = o102.next;
            }
            a83 = a83.next;
          } while (a83 !== t88);
        }
        function Ta(t88, e143) {
          return t88.x - e143.x;
        }
        function La(t88, e143) {
          var r62 = function(t89, e144) {
            var r63, n47 = e144, i69 = t89.x, s63 = t89.y, a83 = -1 / 0;
            do {
              if (s63 <= n47.y && s63 >= n47.next.y && n47.next.y !== n47.y) {
                var o102 = n47.x + (s63 - n47.y) * (n47.next.x - n47.x) / (n47.next.y - n47.y);
                if (o102 <= i69 && o102 > a83) {
                  if (a83 = o102, o102 === i69) {
                    if (s63 === n47.y)
                      return n47;
                    if (s63 === n47.next.y)
                      return n47.next;
                  }
                  r63 = n47.x < n47.next.x ? n47 : n47.next;
                }
              }
              n47 = n47.next;
            } while (n47 !== e144);
            if (!r63)
              return null;
            if (i69 === a83)
              return r63;
            var l30, u21 = r63, c23 = r63.x, h13 = r63.y, p18 = 1 / 0;
            n47 = r63;
            do {
              i69 >= n47.x && n47.x >= c23 && i69 !== n47.x && Ua(s63 < h13 ? i69 : a83, s63, c23, h13, s63 < h13 ? a83 : i69, s63, n47.x, n47.y) && (l30 = Math.abs(s63 - n47.y) / (i69 - n47.x), Ga(n47, t89) && (l30 < p18 || l30 === p18 && (n47.x > r63.x || n47.x === r63.x && Da(r63, n47))) && (r63 = n47, p18 = l30)), n47 = n47.next;
            } while (n47 !== u21);
            return r63;
          }(t88, e143);
          if (!r62)
            return e143;
          var n46 = Ja(r62, t88), i68 = Ba(r62, r62.next);
          return Ba(n46, n46.next), e143 === r62 ? i68 : e143;
        }
        function Da(t88, e143) {
          return qa(t88.prev, t88, e143.prev) < 0 && qa(e143.next, t88, t88.next) < 0;
        }
        function $a(t88, e143, r62, n46, i68) {
          return (t88 = 1431655765 & ((t88 = 858993459 & ((t88 = 252645135 & ((t88 = 16711935 & ((t88 = 32767 * (t88 - r62) * i68) | t88 << 8)) | t88 << 4)) | t88 << 2)) | t88 << 1)) | (e143 = 1431655765 & ((e143 = 858993459 & ((e143 = 252645135 & ((e143 = 16711935 & ((e143 = 32767 * (e143 - n46) * i68) | e143 << 8)) | e143 << 4)) | e143 << 2)) | e143 << 1)) << 1;
        }
        function Ra(t88) {
          var e143 = t88, r62 = t88;
          do {
            (e143.x < r62.x || e143.x === r62.x && e143.y < r62.y) && (r62 = e143), e143 = e143.next;
          } while (e143 !== t88);
          return r62;
        }
        function Ua(t88, e143, r62, n46, i68, s63, a83, o102) {
          return (i68 - a83) * (e143 - o102) - (t88 - a83) * (s63 - o102) >= 0 && (t88 - a83) * (n46 - o102) - (r62 - a83) * (e143 - o102) >= 0 && (r62 - a83) * (s63 - o102) - (i68 - a83) * (n46 - o102) >= 0;
        }
        function Oa(t88, e143) {
          return t88.next.i !== e143.i && t88.prev.i !== e143.i && !function(t89, e144) {
            var r62 = t89;
            do {
              if (r62.i !== t89.i && r62.next.i !== t89.i && r62.i !== e144.i && r62.next.i !== e144.i && Na(r62, r62.next, t89, e144))
                return true;
              r62 = r62.next;
            } while (r62 !== t89);
            return false;
          }(t88, e143) && (Ga(t88, e143) && Ga(e143, t88) && function(t89, e144) {
            var r62 = t89, n46 = false, i68 = (t89.x + e144.x) / 2, s63 = (t89.y + e144.y) / 2;
            do {
              r62.y > s63 != r62.next.y > s63 && r62.next.y !== r62.y && i68 < (r62.next.x - r62.x) * (s63 - r62.y) / (r62.next.y - r62.y) + r62.x && (n46 = !n46), r62 = r62.next;
            } while (r62 !== t89);
            return n46;
          }(t88, e143) && (qa(t88.prev, t88, e143.prev) || qa(t88, e143.prev, e143)) || ja(t88, e143) && qa(t88.prev, t88, t88.next) > 0 && qa(e143.prev, e143, e143.next) > 0);
        }
        function qa(t88, e143, r62) {
          return (e143.y - t88.y) * (r62.x - e143.x) - (e143.x - t88.x) * (r62.y - e143.y);
        }
        function ja(t88, e143) {
          return t88.x === e143.x && t88.y === e143.y;
        }
        function Na(t88, e143, r62, n46) {
          var i68 = Za(qa(t88, e143, r62)), s63 = Za(qa(t88, e143, n46)), a83 = Za(qa(r62, n46, t88)), o102 = Za(qa(r62, n46, e143));
          return i68 !== s63 && a83 !== o102 || !(0 !== i68 || !Ka(t88, r62, e143)) || !(0 !== s63 || !Ka(t88, n46, e143)) || !(0 !== a83 || !Ka(r62, t88, n46)) || !(0 !== o102 || !Ka(r62, e143, n46));
        }
        function Ka(t88, e143, r62) {
          return e143.x <= Math.max(t88.x, r62.x) && e143.x >= Math.min(t88.x, r62.x) && e143.y <= Math.max(t88.y, r62.y) && e143.y >= Math.min(t88.y, r62.y);
        }
        function Za(t88) {
          return t88 > 0 ? 1 : t88 < 0 ? -1 : 0;
        }
        function Ga(t88, e143) {
          return qa(t88.prev, t88, t88.next) < 0 ? qa(t88, e143, t88.next) >= 0 && qa(t88, t88.prev, e143) >= 0 : qa(t88, e143, t88.prev) < 0 || qa(t88, t88.next, e143) < 0;
        }
        function Ja(t88, e143) {
          var r62 = new Ha(t88.i, t88.x, t88.y), n46 = new Ha(e143.i, e143.x, e143.y), i68 = t88.next, s63 = e143.prev;
          return t88.next = e143, e143.prev = t88, r62.next = i68, i68.prev = r62, n46.next = r62, r62.prev = n46, s63.next = n46, n46.prev = s63, n46;
        }
        function Xa(t88, e143, r62, n46) {
          var i68 = new Ha(t88, e143, r62);
          return n46 ? (i68.next = n46.next, i68.prev = n46, n46.next.prev = i68, n46.next = i68) : (i68.prev = i68, i68.next = i68), i68;
        }
        function Ya(t88) {
          t88.next.prev = t88.prev, t88.prev.next = t88.next, t88.prevZ && (t88.prevZ.nextZ = t88.nextZ), t88.nextZ && (t88.nextZ.prevZ = t88.prevZ);
        }
        function Ha(t88, e143, r62) {
          this.i = t88, this.x = e143, this.y = r62, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = false;
        }
        function Wa(t88, e143, r62, n46) {
          for (var i68 = 0, s63 = e143, a83 = r62 - n46; s63 < r62; s63 += n46)
            i68 += (t88[a83] - t88[s63]) * (t88[s63 + 1] + t88[a83 + 1]), a83 = s63;
          return i68;
        }
        za.exports = Ia, za.exports.default = Ia, Ia.deviation = function(t88, e143, r62, n46) {
          var i68 = e143 && e143.length, s63 = Math.abs(Wa(t88, 0, i68 ? e143[0] * r62 : t88.length, r62));
          if (i68)
            for (var a83 = 0, o102 = e143.length; a83 < o102; a83++)
              s63 -= Math.abs(Wa(t88, e143[a83] * r62, a83 < o102 - 1 ? e143[a83 + 1] * r62 : t88.length, r62));
          var l30 = 0;
          for (a83 = 0; a83 < n46.length; a83 += 3) {
            var u21 = n46[a83] * r62, c23 = n46[a83 + 1] * r62, h13 = n46[a83 + 2] * r62;
            l30 += Math.abs((t88[u21] - t88[h13]) * (t88[c23 + 1] - t88[u21 + 1]) - (t88[u21] - t88[c23]) * (t88[h13 + 1] - t88[u21 + 1]));
          }
          return 0 === s63 && 0 === l30 ? 0 : Math.abs((l30 - s63) / s63);
        }, Ia.flatten = function(t88) {
          for (var e143 = t88[0][0].length, r62 = { vertices: [], holes: [], dimensions: e143 }, n46 = 0, i68 = 0; i68 < t88.length; i68++) {
            for (var s63 = 0; s63 < t88[i68].length; s63++)
              for (var a83 = 0; a83 < e143; a83++)
                r62.vertices.push(t88[i68][s63][a83]);
            i68 > 0 && r62.holes.push(n46 += t88[i68 - 1].length);
          }
          return r62;
        };
        var Qa = za.exports;
        function to(t88, e143, r62, n46, i68) {
          eo(t88, e143, r62 || 0, n46 || t88.length - 1, i68 || no);
        }
        function eo(t88, e143, r62, n46, i68) {
          for (; n46 > r62; ) {
            if (n46 - r62 > 600) {
              var s63 = n46 - r62 + 1, a83 = e143 - r62 + 1, o102 = Math.log(s63), l30 = 0.5 * Math.exp(2 * o102 / 3), u21 = 0.5 * Math.sqrt(o102 * l30 * (s63 - l30) / s63) * (a83 - s63 / 2 < 0 ? -1 : 1);
              eo(t88, e143, Math.max(r62, Math.floor(e143 - a83 * l30 / s63 + u21)), Math.min(n46, Math.floor(e143 + (s63 - a83) * l30 / s63 + u21)), i68);
            }
            var c23 = t88[e143], h13 = r62, p18 = n46;
            for (ro(t88, r62, e143), i68(t88[n46], c23) > 0 && ro(t88, r62, n46); h13 < p18; ) {
              for (ro(t88, h13, p18), h13++, p18--; i68(t88[h13], c23) < 0; )
                h13++;
              for (; i68(t88[p18], c23) > 0; )
                p18--;
            }
            0 === i68(t88[r62], c23) ? ro(t88, r62, p18) : ro(t88, ++p18, n46), p18 <= e143 && (r62 = p18 + 1), e143 <= p18 && (n46 = p18 - 1);
          }
        }
        function ro(t88, e143, r62) {
          var n46 = t88[e143];
          t88[e143] = t88[r62], t88[r62] = n46;
        }
        function no(t88, e143) {
          return t88 < e143 ? -1 : t88 > e143 ? 1 : 0;
        }
        function io(t88, e143) {
          const r62 = t88.length;
          if (r62 <= 1)
            return [t88];
          const n46 = [];
          let i68, s63;
          for (let e144 = 0; e144 < r62; e144++) {
            const r63 = m29(t88[e144]);
            0 !== r63 && (t88[e144].area = Math.abs(r63), void 0 === s63 && (s63 = r63 < 0), s63 === r63 < 0 ? (i68 && n46.push(i68), i68 = [t88[e144]]) : i68.push(t88[e144]));
          }
          if (i68 && n46.push(i68), e143 > 1)
            for (let t89 = 0; t89 < n46.length; t89++)
              n46[t89].length <= e143 || (to(n46[t89], e143, 1, n46[t89].length - 1, so), n46[t89] = n46[t89].slice(0, e143));
          return n46;
        }
        function so(t88, e143) {
          return e143.area - t88.area;
        }
        function ao(t88, e143, r62) {
          const n46 = r62.patternDependencies;
          let i68 = false;
          for (const r63 of e143) {
            const e144 = r63.paint.get(`${t88}-pattern`);
            e144.isConstant() || (i68 = true);
            const s63 = e144.constantOr(null);
            s63 && (i68 = true, n46[s63.to] = true, n46[s63.from] = true);
          }
          return i68;
        }
        function oo(t88, e143, r62, n46, i68) {
          const s63 = i68.patternDependencies;
          for (const a83 of e143) {
            const e144 = a83.paint.get(`${t88}-pattern`).value;
            if ("constant" !== e144.kind) {
              let t89 = e144.evaluate({ zoom: n46 - 1 }, r62, {}, i68.availableImages), o102 = e144.evaluate({ zoom: n46 }, r62, {}, i68.availableImages), l30 = e144.evaluate({ zoom: n46 + 1 }, r62, {}, i68.availableImages);
              t89 = t89 && t89.name ? t89.name : t89, o102 = o102 && o102.name ? o102.name : o102, l30 = l30 && l30.name ? l30.name : l30, s63[t89] = true, s63[o102] = true, s63[l30] = true, r62.patterns[a83.id] = { min: t89, mid: o102, max: l30 };
            }
          }
          return r62;
        }
        class lo {
          constructor(t88) {
            this.zoom = t88.zoom, this.overscaling = t88.overscaling, this.layers = t88.layers, this.layerIds = this.layers.map((t89) => t89.id), this.index = t88.index, this.hasPattern = false, this.patternFeatures = [], this.layoutVertexArray = new Hi(), this.indexArray = new os(), this.indexArray2 = new ls(), this.programConfigurations = new Ls(t88.layers, t88.zoom), this.segments = new hs(), this.segments2 = new hs(), this.stateDependentLayerIds = this.layers.filter((t89) => t89.isStateDependent()).map((t89) => t89.id);
          }
          populate(t88, e143, r62) {
            this.hasPattern = ao("fill", this.layers, e143);
            const n46 = this.layers[0].layout.get("fill-sort-key"), i68 = !n46.isConstant(), s63 = [];
            for (const { feature: a83, id: o102, index: l30, sourceLayerIndex: u21 } of t88) {
              const t89 = this.layers[0]._featureFilter.needGeometry, c23 = js(a83, t89);
              if (!this.layers[0]._featureFilter.filter(new Yn(this.zoom), c23, r62))
                continue;
              const h13 = i68 ? n46.evaluate(c23, {}, r62, e143.availableImages) : void 0, p18 = { id: o102, properties: a83.properties, type: a83.type, sourceLayerIndex: u21, index: l30, geometry: t89 ? c23.geometry : qs(a83), patterns: {}, sortKey: h13 };
              s63.push(p18);
            }
            i68 && s63.sort((t89, e144) => t89.sortKey - e144.sortKey);
            for (const n47 of s63) {
              const { geometry: i69, index: s64, sourceLayerIndex: a83 } = n47;
              if (this.hasPattern) {
                const t89 = oo("fill", this.layers, n47, this.zoom, e143);
                this.patternFeatures.push(t89);
              } else
                this.addFeature(n47, i69, s64, r62, {});
              e143.featureIndex.insert(t88[s64].feature, i69, s64, a83, this.index);
            }
          }
          update(t88, e143, r62) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t88, e143, this.stateDependentLayers, r62);
          }
          addFeatures(t88, e143, r62) {
            for (const t89 of this.patternFeatures)
              this.addFeature(t89, t89.geometry, t89.index, e143, r62);
          }
          isEmpty() {
            return 0 === this.layoutVertexArray.length;
          }
          uploadPending() {
            return !this.uploaded || this.programConfigurations.needsUpload;
          }
          upload(t88) {
            this.uploaded || (this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, Sa), this.indexBuffer = t88.createIndexBuffer(this.indexArray), this.indexBuffer2 = t88.createIndexBuffer(this.indexArray2)), this.programConfigurations.upload(t88), this.uploaded = true;
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.indexBuffer2.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.segments2.destroy());
          }
          addFeature(t88, e143, r62, n46, i68) {
            for (const t89 of io(e143, 500)) {
              let e144 = 0;
              for (const r64 of t89)
                e144 += r64.length;
              const r63 = this.segments.prepareSegment(e144, this.layoutVertexArray, this.indexArray), n47 = r63.vertexLength, i69 = [], s63 = [];
              for (const e145 of t89) {
                if (0 === e145.length)
                  continue;
                e145 !== t89[0] && s63.push(i69.length / 2);
                const r64 = this.segments2.prepareSegment(e145.length, this.layoutVertexArray, this.indexArray2), n48 = r64.vertexLength;
                this.layoutVertexArray.emplaceBack(e145[0].x, e145[0].y), this.indexArray2.emplaceBack(n48 + e145.length - 1, n48), i69.push(e145[0].x), i69.push(e145[0].y);
                for (let t90 = 1; t90 < e145.length; t90++)
                  this.layoutVertexArray.emplaceBack(e145[t90].x, e145[t90].y), this.indexArray2.emplaceBack(n48 + t90 - 1, n48 + t90), i69.push(e145[t90].x), i69.push(e145[t90].y);
                r64.vertexLength += e145.length, r64.primitiveLength += e145.length;
              }
              const a83 = Qa(i69, s63);
              for (let t90 = 0; t90 < a83.length; t90 += 3)
                this.indexArray.emplaceBack(n47 + a83[t90], n47 + a83[t90 + 1], n47 + a83[t90 + 2]);
              r63.vertexLength += e144, r63.primitiveLength += a83.length / 3;
            }
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t88, r62, i68, n46);
          }
        }
        kn("FillBucket", lo, { omit: ["layers", "patternFeatures"] });
        const uo = new ci({ "fill-sort-key": new ai(nt.layout_fill["fill-sort-key"]) });
        var co = { paint: new ci({ "fill-antialias": new si(nt.paint_fill["fill-antialias"]), "fill-opacity": new ai(nt.paint_fill["fill-opacity"]), "fill-color": new ai(nt.paint_fill["fill-color"]), "fill-outline-color": new ai(nt.paint_fill["fill-outline-color"]), "fill-translate": new si(nt.paint_fill["fill-translate"]), "fill-translate-anchor": new si(nt.paint_fill["fill-translate-anchor"]), "fill-pattern": new oi(nt.paint_fill["fill-pattern"]) }), layout: uo };
        const ho = mi([{ name: "a_pos", components: 2, type: "Int16" }, { name: "a_normal_ed", components: 4, type: "Int16" }], 4), { members: po } = ho;
        var fo = {}, yo = S, mo = go;
        function go(t88, e143, r62, n46, i68) {
          this.properties = {}, this.extent = r62, this.type = 0, this._pbf = t88, this._geometry = -1, this._keys = n46, this._values = i68, t88.readFields(xo, this, e143);
        }
        function xo(t88, e143, r62) {
          1 == t88 ? e143.id = r62.readVarint() : 2 == t88 ? function(t89, e144) {
            for (var r63 = t89.readVarint() + t89.pos; t89.pos < r63; ) {
              var n46 = e144._keys[t89.readVarint()], i68 = e144._values[t89.readVarint()];
              e144.properties[n46] = i68;
            }
          }(r62, e143) : 3 == t88 ? e143.type = r62.readVarint() : 4 == t88 && (e143._geometry = r62.pos);
        }
        function vo(t88) {
          for (var e143, r62, n46 = 0, i68 = 0, s63 = t88.length, a83 = s63 - 1; i68 < s63; a83 = i68++)
            n46 += ((r62 = t88[a83]).x - (e143 = t88[i68]).x) * (e143.y + r62.y);
          return n46;
        }
        go.types = ["Unknown", "Point", "LineString", "Polygon"], go.prototype.loadGeometry = function() {
          var t88 = this._pbf;
          t88.pos = this._geometry;
          for (var e143, r62 = t88.readVarint() + t88.pos, n46 = 1, i68 = 0, s63 = 0, a83 = 0, o102 = []; t88.pos < r62; ) {
            if (i68 <= 0) {
              var l30 = t88.readVarint();
              n46 = 7 & l30, i68 = l30 >> 3;
            }
            if (i68--, 1 === n46 || 2 === n46)
              s63 += t88.readSVarint(), a83 += t88.readSVarint(), 1 === n46 && (e143 && o102.push(e143), e143 = []), e143.push(new yo(s63, a83));
            else {
              if (7 !== n46)
                throw new Error("unknown command " + n46);
              e143 && e143.push(e143[0].clone());
            }
          }
          return e143 && o102.push(e143), o102;
        }, go.prototype.bbox = function() {
          var t88 = this._pbf;
          t88.pos = this._geometry;
          for (var e143 = t88.readVarint() + t88.pos, r62 = 1, n46 = 0, i68 = 0, s63 = 0, a83 = 1 / 0, o102 = -1 / 0, l30 = 1 / 0, u21 = -1 / 0; t88.pos < e143; ) {
            if (n46 <= 0) {
              var c23 = t88.readVarint();
              r62 = 7 & c23, n46 = c23 >> 3;
            }
            if (n46--, 1 === r62 || 2 === r62)
              (i68 += t88.readSVarint()) < a83 && (a83 = i68), i68 > o102 && (o102 = i68), (s63 += t88.readSVarint()) < l30 && (l30 = s63), s63 > u21 && (u21 = s63);
            else if (7 !== r62)
              throw new Error("unknown command " + r62);
          }
          return [a83, l30, o102, u21];
        }, go.prototype.toGeoJSON = function(t88, e143, r62) {
          var n46, i68, s63 = this.extent * Math.pow(2, r62), a83 = this.extent * t88, o102 = this.extent * e143, l30 = this.loadGeometry(), u21 = go.types[this.type];
          function c23(t89) {
            for (var e144 = 0; e144 < t89.length; e144++) {
              var r63 = t89[e144];
              t89[e144] = [360 * (r63.x + a83) / s63 - 180, 360 / Math.PI * Math.atan(Math.exp((180 - 360 * (r63.y + o102) / s63) * Math.PI / 180)) - 90];
            }
          }
          switch (this.type) {
            case 1:
              var h13 = [];
              for (n46 = 0; n46 < l30.length; n46++)
                h13[n46] = l30[n46][0];
              c23(l30 = h13);
              break;
            case 2:
              for (n46 = 0; n46 < l30.length; n46++)
                c23(l30[n46]);
              break;
            case 3:
              for (l30 = function(t89) {
                var e144 = t89.length;
                if (e144 <= 1)
                  return [t89];
                for (var r63, n47, i69 = [], s64 = 0; s64 < e144; s64++) {
                  var a84 = vo(t89[s64]);
                  0 !== a84 && (void 0 === n47 && (n47 = a84 < 0), n47 === a84 < 0 ? (r63 && i69.push(r63), r63 = [t89[s64]]) : r63.push(t89[s64]));
                }
                return r63 && i69.push(r63), i69;
              }(l30), n46 = 0; n46 < l30.length; n46++)
                for (i68 = 0; i68 < l30[n46].length; i68++)
                  c23(l30[n46][i68]);
          }
          1 === l30.length ? l30 = l30[0] : u21 = "Multi" + u21;
          var p18 = { type: "Feature", geometry: { type: u21, coordinates: l30 }, properties: this.properties };
          return "id" in this && (p18.id = this.id), p18;
        };
        var bo = mo, wo = _o;
        function _o(t88, e143) {
          this.version = 1, this.name = null, this.extent = 4096, this.length = 0, this._pbf = t88, this._keys = [], this._values = [], this._features = [], t88.readFields(Ao, this, e143), this.length = this._features.length;
        }
        function Ao(t88, e143, r62) {
          15 === t88 ? e143.version = r62.readVarint() : 1 === t88 ? e143.name = r62.readString() : 5 === t88 ? e143.extent = r62.readVarint() : 2 === t88 ? e143._features.push(r62.pos) : 3 === t88 ? e143._keys.push(r62.readString()) : 4 === t88 && e143._values.push(function(t89) {
            for (var e144 = null, r63 = t89.readVarint() + t89.pos; t89.pos < r63; ) {
              var n46 = t89.readVarint() >> 3;
              e144 = 1 === n46 ? t89.readString() : 2 === n46 ? t89.readFloat() : 3 === n46 ? t89.readDouble() : 4 === n46 ? t89.readVarint64() : 5 === n46 ? t89.readVarint() : 6 === n46 ? t89.readSVarint() : 7 === n46 ? t89.readBoolean() : null;
            }
            return e144;
          }(r62));
        }
        _o.prototype.feature = function(t88) {
          if (t88 < 0 || t88 >= this._features.length)
            throw new Error("feature index out of bounds");
          this._pbf.pos = this._features[t88];
          var e143 = this._pbf.readVarint() + this._pbf.pos;
          return new bo(this._pbf, e143, this.extent, this._keys, this._values);
        };
        var ko = wo;
        function So(t88, e143, r62) {
          if (3 === t88) {
            var n46 = new ko(r62, r62.readVarint() + r62.pos);
            n46.length && (e143[n46.name] = n46);
          }
        }
        fo.VectorTile = function(t88, e143) {
          this.layers = t88.readFields(So, {}, e143);
        }, fo.VectorTileFeature = mo, fo.VectorTileLayer = wo;
        const zo = fo.VectorTileFeature.types, Io = Math.pow(2, 13);
        function Mo(t88, e143, r62, n46, i68, s63, a83, o102) {
          t88.emplaceBack(e143, r62, 2 * Math.floor(n46 * Io) + a83, i68 * Io * 2, s63 * Io * 2, Math.round(o102));
        }
        class Bo {
          constructor(t88) {
            this.zoom = t88.zoom, this.overscaling = t88.overscaling, this.layers = t88.layers, this.layerIds = this.layers.map((t89) => t89.id), this.index = t88.index, this.hasPattern = false, this.layoutVertexArray = new Wi(), this.indexArray = new os(), this.programConfigurations = new Ls(t88.layers, t88.zoom), this.segments = new hs(), this.stateDependentLayerIds = this.layers.filter((t89) => t89.isStateDependent()).map((t89) => t89.id);
          }
          populate(t88, e143, r62) {
            this.features = [], this.hasPattern = ao("fill-extrusion", this.layers, e143);
            for (const { feature: n46, id: i68, index: s63, sourceLayerIndex: a83 } of t88) {
              const t89 = this.layers[0]._featureFilter.needGeometry, o102 = js(n46, t89);
              if (!this.layers[0]._featureFilter.filter(new Yn(this.zoom), o102, r62))
                continue;
              const l30 = { id: i68, sourceLayerIndex: a83, index: s63, geometry: t89 ? o102.geometry : qs(n46), properties: n46.properties, type: n46.type, patterns: {} };
              this.hasPattern ? this.features.push(oo("fill-extrusion", this.layers, l30, this.zoom, e143)) : this.addFeature(l30, l30.geometry, s63, r62, {}), e143.featureIndex.insert(n46, l30.geometry, s63, a83, this.index, true);
            }
          }
          addFeatures(t88, e143, r62) {
            for (const t89 of this.features) {
              const { geometry: n46 } = t89;
              this.addFeature(t89, n46, t89.index, e143, r62);
            }
          }
          update(t88, e143, r62) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t88, e143, this.stateDependentLayers, r62);
          }
          isEmpty() {
            return 0 === this.layoutVertexArray.length;
          }
          uploadPending() {
            return !this.uploaded || this.programConfigurations.needsUpload;
          }
          upload(t88) {
            this.uploaded || (this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, po), this.indexBuffer = t88.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t88), this.uploaded = true;
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
          }
          addFeature(t88, e143, r62, n46, i68) {
            for (const r63 of io(e143, 500)) {
              let e144 = 0;
              for (const t89 of r63)
                e144 += t89.length;
              let n47 = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray);
              for (const t89 of r63) {
                if (0 === t89.length)
                  continue;
                if (Po(t89))
                  continue;
                let e145 = 0;
                for (let r64 = 0; r64 < t89.length; r64++) {
                  const i70 = t89[r64];
                  if (r64 >= 1) {
                    const s64 = t89[r64 - 1];
                    if (!Co(i70, s64)) {
                      n47.vertexLength + 4 > hs.MAX_VERTEX_ARRAY_LENGTH && (n47 = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray));
                      const t90 = i70.sub(s64)._perp()._unit(), r65 = s64.dist(i70);
                      e145 + r65 > 32768 && (e145 = 0), Mo(this.layoutVertexArray, i70.x, i70.y, t90.x, t90.y, 0, 0, e145), Mo(this.layoutVertexArray, i70.x, i70.y, t90.x, t90.y, 0, 1, e145), e145 += r65, Mo(this.layoutVertexArray, s64.x, s64.y, t90.x, t90.y, 0, 0, e145), Mo(this.layoutVertexArray, s64.x, s64.y, t90.x, t90.y, 0, 1, e145);
                      const a84 = n47.vertexLength;
                      this.indexArray.emplaceBack(a84, a84 + 2, a84 + 1), this.indexArray.emplaceBack(a84 + 1, a84 + 2, a84 + 3), n47.vertexLength += 4, n47.primitiveLength += 2;
                    }
                  }
                }
              }
              if (n47.vertexLength + e144 > hs.MAX_VERTEX_ARRAY_LENGTH && (n47 = this.segments.prepareSegment(e144, this.layoutVertexArray, this.indexArray)), "Polygon" !== zo[t88.type])
                continue;
              const i69 = [], s63 = [], a83 = n47.vertexLength;
              for (const t89 of r63)
                if (0 !== t89.length) {
                  t89 !== r63[0] && s63.push(i69.length / 2);
                  for (let e145 = 0; e145 < t89.length; e145++) {
                    const r64 = t89[e145];
                    Mo(this.layoutVertexArray, r64.x, r64.y, 0, 0, 1, 1, 0), i69.push(r64.x), i69.push(r64.y);
                  }
                }
              const o102 = Qa(i69, s63);
              for (let t89 = 0; t89 < o102.length; t89 += 3)
                this.indexArray.emplaceBack(a83 + o102[t89], a83 + o102[t89 + 2], a83 + o102[t89 + 1]);
              n47.primitiveLength += o102.length / 3, n47.vertexLength += e144;
            }
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t88, r62, i68, n46);
          }
        }
        function Co(t88, e143) {
          return t88.x === e143.x && (t88.x < 0 || t88.x > Rs) || t88.y === e143.y && (t88.y < 0 || t88.y > Rs);
        }
        function Po(t88) {
          return t88.every((t89) => t89.x < 0) || t88.every((t89) => t89.x > Rs) || t88.every((t89) => t89.y < 0) || t88.every((t89) => t89.y > Rs);
        }
        kn("FillExtrusionBucket", Bo, { omit: ["layers", "features"] });
        var Vo = { paint: new ci({ "fill-extrusion-opacity": new si(nt["paint_fill-extrusion"]["fill-extrusion-opacity"]), "fill-extrusion-color": new ai(nt["paint_fill-extrusion"]["fill-extrusion-color"]), "fill-extrusion-translate": new si(nt["paint_fill-extrusion"]["fill-extrusion-translate"]), "fill-extrusion-translate-anchor": new si(nt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]), "fill-extrusion-pattern": new oi(nt["paint_fill-extrusion"]["fill-extrusion-pattern"]), "fill-extrusion-height": new ai(nt["paint_fill-extrusion"]["fill-extrusion-height"]), "fill-extrusion-base": new ai(nt["paint_fill-extrusion"]["fill-extrusion-base"]), "fill-extrusion-vertical-gradient": new si(nt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]) }) };
        function Eo(t88, e143) {
          return t88.x * e143.x + t88.y * e143.y;
        }
        function Fo(t88, e143) {
          if (1 === t88.length) {
            let r62 = 0;
            const n46 = e143[r62++];
            let i68;
            for (; !i68 || n46.equals(i68); )
              if (i68 = e143[r62++], !i68)
                return 1 / 0;
            for (; r62 < e143.length; r62++) {
              const s63 = e143[r62], a83 = t88[0], o102 = i68.sub(n46), l30 = s63.sub(n46), u21 = a83.sub(n46), c23 = Eo(o102, o102), h13 = Eo(o102, l30), p18 = Eo(l30, l30), f22 = Eo(u21, o102), d11 = Eo(u21, l30), y10 = c23 * p18 - h13 * h13, m30 = (p18 * f22 - h13 * d11) / y10, g15 = (c23 * d11 - h13 * f22) / y10, x6 = n46.z * (1 - m30 - g15) + i68.z * m30 + s63.z * g15;
              if (isFinite(x6))
                return x6;
            }
            return 1 / 0;
          }
          {
            let t89 = 1 / 0;
            for (const r62 of e143)
              t89 = Math.min(t89, r62.z);
            return t89;
          }
        }
        const To = mi([{ name: "a_pos_normal", components: 2, type: "Int16" }, { name: "a_data", components: 4, type: "Uint8" }], 4), { members: Lo } = To, Do = mi([{ name: "a_uv_x", components: 1, type: "Float32" }, { name: "a_split_index", components: 1, type: "Float32" }]), { members: $o } = Do, Ro = fo.VectorTileFeature.types, Uo = Math.cos(Math.PI / 180 * 37.5), Oo = Math.pow(2, 14) / 0.5;
        class qo {
          constructor(t88) {
            this.zoom = t88.zoom, this.overscaling = t88.overscaling, this.layers = t88.layers, this.layerIds = this.layers.map((t89) => t89.id), this.index = t88.index, this.hasPattern = false, this.patternFeatures = [], this.lineClipsArray = [], this.gradients = {}, this.layers.forEach((t89) => {
              this.gradients[t89.id] = {};
            }), this.layoutVertexArray = new Qi(), this.layoutVertexArray2 = new ts(), this.indexArray = new os(), this.programConfigurations = new Ls(t88.layers, t88.zoom), this.segments = new hs(), this.maxLineLength = 0, this.stateDependentLayerIds = this.layers.filter((t89) => t89.isStateDependent()).map((t89) => t89.id);
          }
          populate(t88, e143, r62) {
            this.hasPattern = ao("line", this.layers, e143);
            const n46 = this.layers[0].layout.get("line-sort-key"), i68 = !n46.isConstant(), s63 = [];
            for (const { feature: e144, id: a83, index: o102, sourceLayerIndex: l30 } of t88) {
              const t89 = this.layers[0]._featureFilter.needGeometry, u21 = js(e144, t89);
              if (!this.layers[0]._featureFilter.filter(new Yn(this.zoom), u21, r62))
                continue;
              const c23 = i68 ? n46.evaluate(u21, {}, r62) : void 0, h13 = { id: a83, properties: e144.properties, type: e144.type, sourceLayerIndex: l30, index: o102, geometry: t89 ? u21.geometry : qs(e144), patterns: {}, sortKey: c23 };
              s63.push(h13);
            }
            i68 && s63.sort((t89, e144) => t89.sortKey - e144.sortKey);
            for (const n47 of s63) {
              const { geometry: i69, index: s64, sourceLayerIndex: a83 } = n47;
              if (this.hasPattern) {
                const t89 = oo("line", this.layers, n47, this.zoom, e143);
                this.patternFeatures.push(t89);
              } else
                this.addFeature(n47, i69, s64, r62, {});
              e143.featureIndex.insert(t88[s64].feature, i69, s64, a83, this.index);
            }
          }
          update(t88, e143, r62) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t88, e143, this.stateDependentLayers, r62);
          }
          addFeatures(t88, e143, r62) {
            for (const t89 of this.patternFeatures)
              this.addFeature(t89, t89.geometry, t89.index, e143, r62);
          }
          isEmpty() {
            return 0 === this.layoutVertexArray.length;
          }
          uploadPending() {
            return !this.uploaded || this.programConfigurations.needsUpload;
          }
          upload(t88) {
            this.uploaded || (0 !== this.layoutVertexArray2.length && (this.layoutVertexBuffer2 = t88.createVertexBuffer(this.layoutVertexArray2, $o)), this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, Lo), this.indexBuffer = t88.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t88), this.uploaded = true;
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
          }
          lineFeatureClips(t88) {
            if (t88.properties && Object.prototype.hasOwnProperty.call(t88.properties, "mapbox_clip_start") && Object.prototype.hasOwnProperty.call(t88.properties, "mapbox_clip_end"))
              return { start: +t88.properties.mapbox_clip_start, end: +t88.properties.mapbox_clip_end };
          }
          addFeature(t88, e143, r62, n46, i68) {
            const s63 = this.layers[0].layout, a83 = s63.get("line-join").evaluate(t88, {}), o102 = s63.get("line-cap"), l30 = s63.get("line-miter-limit"), u21 = s63.get("line-round-limit");
            this.lineClips = this.lineFeatureClips(t88);
            for (const r63 of e143)
              this.addLine(r63, t88, a83, o102, l30, u21);
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t88, r62, i68, n46);
          }
          addLine(t88, e143, r62, n46, i68, s63) {
            if (this.distance = 0, this.scaledDistance = 0, this.totalDistance = 0, this.lineClips) {
              this.lineClipsArray.push(this.lineClips);
              for (let e144 = 0; e144 < t88.length - 1; e144++)
                this.totalDistance += t88[e144].dist(t88[e144 + 1]);
              this.updateScaledDistance(), this.maxLineLength = Math.max(this.maxLineLength, this.totalDistance);
            }
            const a83 = "Polygon" === Ro[e143.type];
            let o102 = t88.length;
            for (; o102 >= 2 && t88[o102 - 1].equals(t88[o102 - 2]); )
              o102--;
            let l30 = 0;
            for (; l30 < o102 - 1 && t88[l30].equals(t88[l30 + 1]); )
              l30++;
            if (o102 < (a83 ? 3 : 2))
              return;
            "bevel" === r62 && (i68 = 1.05);
            const u21 = this.overscaling <= 16 ? 122880 / (512 * this.overscaling) : 0, c23 = this.segments.prepareSegment(10 * o102, this.layoutVertexArray, this.indexArray);
            let h13, p18, f22, d11, y10;
            this.e1 = this.e2 = -1, a83 && (h13 = t88[o102 - 2], y10 = t88[l30].sub(h13)._unit()._perp());
            for (let e144 = l30; e144 < o102; e144++) {
              if (f22 = e144 === o102 - 1 ? a83 ? t88[l30 + 1] : void 0 : t88[e144 + 1], f22 && t88[e144].equals(f22))
                continue;
              y10 && (d11 = y10), h13 && (p18 = h13), h13 = t88[e144], y10 = f22 ? f22.sub(h13)._unit()._perp() : d11, d11 = d11 || y10;
              let m30 = d11.add(y10);
              0 === m30.x && 0 === m30.y || m30._unit();
              const g15 = d11.x * y10.x + d11.y * y10.y, x6 = m30.x * y10.x + m30.y * y10.y, v6 = 0 !== x6 ? 1 / x6 : 1 / 0, b8 = 2 * Math.sqrt(2 - 2 * x6), w4 = x6 < Uo && p18 && f22, _4 = d11.x * y10.y - d11.y * y10.x > 0;
              if (w4 && e144 > l30) {
                const t89 = h13.dist(p18);
                if (t89 > 2 * u21) {
                  const e145 = h13.sub(h13.sub(p18)._mult(u21 / t89)._round());
                  this.updateDistance(p18, e145), this.addCurrentVertex(e145, d11, 0, 0, c23), p18 = e145;
                }
              }
              const A4 = p18 && f22;
              let k7 = A4 ? r62 : a83 ? "butt" : n46;
              if (A4 && "round" === k7 && (v6 < s63 ? k7 = "miter" : v6 <= 2 && (k7 = "fakeround")), "miter" === k7 && v6 > i68 && (k7 = "bevel"), "bevel" === k7 && (v6 > 2 && (k7 = "flipbevel"), v6 < i68 && (k7 = "miter")), p18 && this.updateDistance(p18, h13), "miter" === k7)
                m30._mult(v6), this.addCurrentVertex(h13, m30, 0, 0, c23);
              else if ("flipbevel" === k7) {
                if (v6 > 100)
                  m30 = y10.mult(-1);
                else {
                  const t89 = v6 * d11.add(y10).mag() / d11.sub(y10).mag();
                  m30._perp()._mult(t89 * (_4 ? -1 : 1));
                }
                this.addCurrentVertex(h13, m30, 0, 0, c23), this.addCurrentVertex(h13, m30.mult(-1), 0, 0, c23);
              } else if ("bevel" === k7 || "fakeround" === k7) {
                const t89 = -Math.sqrt(v6 * v6 - 1), e145 = _4 ? t89 : 0, r63 = _4 ? 0 : t89;
                if (p18 && this.addCurrentVertex(h13, d11, e145, r63, c23), "fakeround" === k7) {
                  const t90 = Math.round(180 * b8 / Math.PI / 20);
                  for (let e146 = 1; e146 < t90; e146++) {
                    let r64 = e146 / t90;
                    if (0.5 !== r64) {
                      const t91 = r64 - 0.5;
                      r64 += r64 * t91 * (r64 - 1) * ((1.0904 + g15 * (g15 * (3.55645 - 1.43519 * g15) - 3.2452)) * t91 * t91 + (0.848013 + g15 * (0.215638 * g15 - 1.06021)));
                    }
                    const n47 = y10.sub(d11)._mult(r64)._add(d11)._unit()._mult(_4 ? -1 : 1);
                    this.addHalfVertex(h13, n47.x, n47.y, false, _4, 0, c23);
                  }
                }
                f22 && this.addCurrentVertex(h13, y10, -e145, -r63, c23);
              } else if ("butt" === k7)
                this.addCurrentVertex(h13, m30, 0, 0, c23);
              else if ("square" === k7) {
                const t89 = p18 ? 1 : -1;
                this.addCurrentVertex(h13, m30, t89, t89, c23);
              } else
                "round" === k7 && (p18 && (this.addCurrentVertex(h13, d11, 0, 0, c23), this.addCurrentVertex(h13, d11, 1, 1, c23, true)), f22 && (this.addCurrentVertex(h13, y10, -1, -1, c23, true), this.addCurrentVertex(h13, y10, 0, 0, c23)));
              if (w4 && e144 < o102 - 1) {
                const t89 = h13.dist(f22);
                if (t89 > 2 * u21) {
                  const e145 = h13.add(f22.sub(h13)._mult(u21 / t89)._round());
                  this.updateDistance(h13, e145), this.addCurrentVertex(e145, y10, 0, 0, c23), h13 = e145;
                }
              }
            }
          }
          addCurrentVertex(t88, e143, r62, n46, i68, s63 = false) {
            const a83 = e143.y * n46 - e143.x, o102 = -e143.y - e143.x * n46;
            this.addHalfVertex(t88, e143.x + e143.y * r62, e143.y - e143.x * r62, s63, false, r62, i68), this.addHalfVertex(t88, a83, o102, s63, true, -n46, i68), this.distance > Oo / 2 && 0 === this.totalDistance && (this.distance = 0, this.addCurrentVertex(t88, e143, r62, n46, i68, s63));
          }
          addHalfVertex({ x: t88, y: e143 }, r62, n46, i68, s63, a83, o102) {
            const l30 = 0.5 * (this.lineClips ? this.scaledDistance * (Oo - 1) : this.scaledDistance);
            this.layoutVertexArray.emplaceBack((t88 << 1) + (i68 ? 1 : 0), (e143 << 1) + (s63 ? 1 : 0), Math.round(63 * r62) + 128, Math.round(63 * n46) + 128, 1 + (0 === a83 ? 0 : a83 < 0 ? -1 : 1) | (63 & l30) << 2, l30 >> 6), this.lineClips && this.layoutVertexArray2.emplaceBack((this.scaledDistance - this.lineClips.start) / (this.lineClips.end - this.lineClips.start), this.lineClipsArray.length);
            const u21 = o102.vertexLength++;
            this.e1 >= 0 && this.e2 >= 0 && (this.indexArray.emplaceBack(this.e1, this.e2, u21), o102.primitiveLength++), s63 ? this.e2 = u21 : this.e1 = u21;
          }
          updateScaledDistance() {
            this.scaledDistance = this.lineClips ? this.lineClips.start + (this.lineClips.end - this.lineClips.start) * this.distance / this.totalDistance : this.distance;
          }
          updateDistance(t88, e143) {
            this.distance += t88.dist(e143), this.updateScaledDistance();
          }
        }
        kn("LineBucket", qo, { omit: ["layers", "patternFeatures"] });
        const jo = new ci({ "line-cap": new si(nt.layout_line["line-cap"]), "line-join": new ai(nt.layout_line["line-join"]), "line-miter-limit": new si(nt.layout_line["line-miter-limit"]), "line-round-limit": new si(nt.layout_line["line-round-limit"]), "line-sort-key": new ai(nt.layout_line["line-sort-key"]) });
        var No = { paint: new ci({ "line-opacity": new ai(nt.paint_line["line-opacity"]), "line-color": new ai(nt.paint_line["line-color"]), "line-translate": new si(nt.paint_line["line-translate"]), "line-translate-anchor": new si(nt.paint_line["line-translate-anchor"]), "line-width": new ai(nt.paint_line["line-width"]), "line-gap-width": new ai(nt.paint_line["line-gap-width"]), "line-offset": new ai(nt.paint_line["line-offset"]), "line-blur": new ai(nt.paint_line["line-blur"]), "line-dasharray": new li(nt.paint_line["line-dasharray"]), "line-pattern": new oi(nt.paint_line["line-pattern"]), "line-gradient": new ui(nt.paint_line["line-gradient"]) }), layout: jo };
        const Ko = new class extends ai {
          possiblyEvaluate(t88, e143) {
            return e143 = new Yn(Math.floor(e143.zoom), { now: e143.now, fadeDuration: e143.fadeDuration, zoomHistory: e143.zoomHistory, transition: e143.transition }), super.possiblyEvaluate(t88, e143);
          }
          evaluate(t88, e143, r62, n46) {
            return e143 = o101({}, e143, { zoom: Math.floor(e143.zoom) }), super.evaluate(t88, e143, r62, n46);
          }
        }(No.paint.properties["line-width"].specification);
        function Zo(t88, e143) {
          return e143 > 0 ? e143 + 2 * t88 : t88;
        }
        Ko.useIntegerZoom = true;
        const Go = mi([{ name: "a_pos_offset", components: 4, type: "Int16" }, { name: "a_data", components: 4, type: "Uint16" }, { name: "a_pixeloffset", components: 4, type: "Int16" }], 4), Jo = mi([{ name: "a_projected_pos", components: 3, type: "Float32" }], 4);
        mi([{ name: "a_fade_opacity", components: 1, type: "Uint32" }], 4);
        const Xo = mi([{ name: "a_placed", components: 2, type: "Uint8" }, { name: "a_shift", components: 2, type: "Float32" }]);
        mi([{ type: "Int16", name: "anchorPointX" }, { type: "Int16", name: "anchorPointY" }, { type: "Int16", name: "x1" }, { type: "Int16", name: "y1" }, { type: "Int16", name: "x2" }, { type: "Int16", name: "y2" }, { type: "Uint32", name: "featureIndex" }, { type: "Uint16", name: "sourceLayerIndex" }, { type: "Uint16", name: "bucketIndex" }]);
        const Yo = mi([{ name: "a_pos", components: 2, type: "Int16" }, { name: "a_anchor_pos", components: 2, type: "Int16" }, { name: "a_extrude", components: 2, type: "Int16" }], 4), Ho = mi([{ name: "a_pos", components: 2, type: "Float32" }, { name: "a_radius", components: 1, type: "Float32" }, { name: "a_flags", components: 2, type: "Int16" }], 4);
        function Wo(t88, e143, r62) {
          return t88.sections.forEach((t89) => {
            t89.text = function(t90, e144, r63) {
              const n46 = e144.layout.get("text-transform").evaluate(r63, {});
              return "uppercase" === n46 ? t90 = t90.toLocaleUpperCase() : "lowercase" === n46 && (t90 = t90.toLocaleLowerCase()), Xn.applyArabicShaping && (t90 = Xn.applyArabicShaping(t90)), t90;
            }(t89.text, e143, r62);
          }), t88;
        }
        mi([{ name: "triangle", components: 3, type: "Uint16" }]), mi([{ type: "Int16", name: "anchorX" }, { type: "Int16", name: "anchorY" }, { type: "Uint16", name: "glyphStartIndex" }, { type: "Uint16", name: "numGlyphs" }, { type: "Uint32", name: "vertexStartIndex" }, { type: "Uint32", name: "lineStartIndex" }, { type: "Uint32", name: "lineLength" }, { type: "Uint16", name: "segment" }, { type: "Uint16", name: "lowerSize" }, { type: "Uint16", name: "upperSize" }, { type: "Float32", name: "lineOffsetX" }, { type: "Float32", name: "lineOffsetY" }, { type: "Uint8", name: "writingMode" }, { type: "Uint8", name: "placedOrientation" }, { type: "Uint8", name: "hidden" }, { type: "Uint32", name: "crossTileID" }, { type: "Int16", name: "associatedIconIndex" }]), mi([{ type: "Int16", name: "anchorX" }, { type: "Int16", name: "anchorY" }, { type: "Int16", name: "rightJustifiedTextSymbolIndex" }, { type: "Int16", name: "centerJustifiedTextSymbolIndex" }, { type: "Int16", name: "leftJustifiedTextSymbolIndex" }, { type: "Int16", name: "verticalPlacedTextSymbolIndex" }, { type: "Int16", name: "placedIconSymbolIndex" }, { type: "Int16", name: "verticalPlacedIconSymbolIndex" }, { type: "Uint16", name: "key" }, { type: "Uint16", name: "textBoxStartIndex" }, { type: "Uint16", name: "textBoxEndIndex" }, { type: "Uint16", name: "verticalTextBoxStartIndex" }, { type: "Uint16", name: "verticalTextBoxEndIndex" }, { type: "Uint16", name: "iconBoxStartIndex" }, { type: "Uint16", name: "iconBoxEndIndex" }, { type: "Uint16", name: "verticalIconBoxStartIndex" }, { type: "Uint16", name: "verticalIconBoxEndIndex" }, { type: "Uint16", name: "featureIndex" }, { type: "Uint16", name: "numHorizontalGlyphVertices" }, { type: "Uint16", name: "numVerticalGlyphVertices" }, { type: "Uint16", name: "numIconVertices" }, { type: "Uint16", name: "numVerticalIconVertices" }, { type: "Uint16", name: "useRuntimeCollisionCircles" }, { type: "Uint32", name: "crossTileID" }, { type: "Float32", name: "textBoxScale" }, { type: "Float32", components: 2, name: "textOffset" }, { type: "Float32", name: "collisionCircleDiameter" }]), mi([{ type: "Float32", name: "offsetX" }]), mi([{ type: "Int16", name: "x" }, { type: "Int16", name: "y" }, { type: "Int16", name: "tileUnitDistanceFromAnchor" }]);
        const Qo = { "!": "\uFE15", "#": "\uFF03", $: "\uFF04", "%": "\uFF05", "&": "\uFF06", "(": "\uFE35", ")": "\uFE36", "*": "\uFF0A", "+": "\uFF0B", ",": "\uFE10", "-": "\uFE32", ".": "\u30FB", "/": "\uFF0F", ":": "\uFE13", ";": "\uFE14", "<": "\uFE3F", "=": "\uFF1D", ">": "\uFE40", "?": "\uFE16", "@": "\uFF20", "[": "\uFE47", "\\": "\uFF3C", "]": "\uFE48", "^": "\uFF3E", _: "\uFE33", "`": "\uFF40", "{": "\uFE37", "|": "\u2015", "}": "\uFE38", "~": "\uFF5E", "\xA2": "\uFFE0", "\xA3": "\uFFE1", "\xA5": "\uFFE5", "\xA6": "\uFFE4", "\xAC": "\uFFE2", "\xAF": "\uFFE3", "\u2013": "\uFE32", "\u2014": "\uFE31", "\u2018": "\uFE43", "\u2019": "\uFE44", "\u201C": "\uFE41", "\u201D": "\uFE42", "\u2026": "\uFE19", "\u2027": "\u30FB", "\u20A9": "\uFFE6", "\u3001": "\uFE11", "\u3002": "\uFE12", "\u3008": "\uFE3F", "\u3009": "\uFE40", "\u300A": "\uFE3D", "\u300B": "\uFE3E", "\u300C": "\uFE41", "\u300D": "\uFE42", "\u300E": "\uFE43", "\u300F": "\uFE44", "\u3010": "\uFE3B", "\u3011": "\uFE3C", "\u3014": "\uFE39", "\u3015": "\uFE3A", "\u3016": "\uFE17", "\u3017": "\uFE18", "\uFF01": "\uFE15", "\uFF08": "\uFE35", "\uFF09": "\uFE36", "\uFF0C": "\uFE10", "\uFF0D": "\uFE32", "\uFF0E": "\u30FB", "\uFF1A": "\uFE13", "\uFF1B": "\uFE14", "\uFF1C": "\uFE3F", "\uFF1E": "\uFE40", "\uFF1F": "\uFE16", "\uFF3B": "\uFE47", "\uFF3D": "\uFE48", "\uFF3F": "\uFE33", "\uFF5B": "\uFE37", "\uFF5C": "\u2015", "\uFF5D": "\uFE38", "\uFF5F": "\uFE35", "\uFF60": "\uFE36", "\uFF61": "\uFE12", "\uFF62": "\uFE41", "\uFF63": "\uFE42" };
        var tl = 24, el = il, rl = function(t88, e143, r62, n46, i68) {
          var s63, a83, o102 = 8 * i68 - n46 - 1, l30 = (1 << o102) - 1, u21 = l30 >> 1, c23 = -7, h13 = r62 ? i68 - 1 : 0, p18 = r62 ? -1 : 1, f22 = t88[e143 + h13];
          for (h13 += p18, s63 = f22 & (1 << -c23) - 1, f22 >>= -c23, c23 += o102; c23 > 0; s63 = 256 * s63 + t88[e143 + h13], h13 += p18, c23 -= 8)
            ;
          for (a83 = s63 & (1 << -c23) - 1, s63 >>= -c23, c23 += n46; c23 > 0; a83 = 256 * a83 + t88[e143 + h13], h13 += p18, c23 -= 8)
            ;
          if (0 === s63)
            s63 = 1 - u21;
          else {
            if (s63 === l30)
              return a83 ? NaN : 1 / 0 * (f22 ? -1 : 1);
            a83 += Math.pow(2, n46), s63 -= u21;
          }
          return (f22 ? -1 : 1) * a83 * Math.pow(2, s63 - n46);
        }, nl = function(t88, e143, r62, n46, i68, s63) {
          var a83, o102, l30, u21 = 8 * s63 - i68 - 1, c23 = (1 << u21) - 1, h13 = c23 >> 1, p18 = 23 === i68 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f22 = n46 ? 0 : s63 - 1, d11 = n46 ? 1 : -1, y10 = e143 < 0 || 0 === e143 && 1 / e143 < 0 ? 1 : 0;
          for (e143 = Math.abs(e143), isNaN(e143) || e143 === 1 / 0 ? (o102 = isNaN(e143) ? 1 : 0, a83 = c23) : (a83 = Math.floor(Math.log(e143) / Math.LN2), e143 * (l30 = Math.pow(2, -a83)) < 1 && (a83--, l30 *= 2), (e143 += a83 + h13 >= 1 ? p18 / l30 : p18 * Math.pow(2, 1 - h13)) * l30 >= 2 && (a83++, l30 /= 2), a83 + h13 >= c23 ? (o102 = 0, a83 = c23) : a83 + h13 >= 1 ? (o102 = (e143 * l30 - 1) * Math.pow(2, i68), a83 += h13) : (o102 = e143 * Math.pow(2, h13 - 1) * Math.pow(2, i68), a83 = 0)); i68 >= 8; t88[r62 + f22] = 255 & o102, f22 += d11, o102 /= 256, i68 -= 8)
            ;
          for (a83 = a83 << i68 | o102, u21 += i68; u21 > 0; t88[r62 + f22] = 255 & a83, f22 += d11, a83 /= 256, u21 -= 8)
            ;
          t88[r62 + f22 - d11] |= 128 * y10;
        };
        function il(t88) {
          this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t88) ? t88 : new Uint8Array(t88 || 0), this.pos = 0, this.type = 0, this.length = this.buf.length;
        }
        il.Varint = 0, il.Fixed64 = 1, il.Bytes = 2, il.Fixed32 = 5;
        var sl, al = 4294967296, ol = 1 / al, ll = "undefined" == typeof TextDecoder ? null : new TextDecoder("utf8");
        function ul(t88) {
          return t88.type === il.Bytes ? t88.readVarint() + t88.pos : t88.pos + 1;
        }
        function cl(t88, e143, r62) {
          return r62 ? 4294967296 * e143 + (t88 >>> 0) : 4294967296 * (e143 >>> 0) + (t88 >>> 0);
        }
        function hl(t88, e143, r62) {
          var n46 = e143 <= 16383 ? 1 : e143 <= 2097151 ? 2 : e143 <= 268435455 ? 3 : Math.floor(Math.log(e143) / (7 * Math.LN2));
          r62.realloc(n46);
          for (var i68 = r62.pos - 1; i68 >= t88; i68--)
            r62.buf[i68 + n46] = r62.buf[i68];
        }
        function pl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeVarint(t88[r62]);
        }
        function fl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeSVarint(t88[r62]);
        }
        function dl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeFloat(t88[r62]);
        }
        function yl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeDouble(t88[r62]);
        }
        function ml(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeBoolean(t88[r62]);
        }
        function gl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeFixed32(t88[r62]);
        }
        function xl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeSFixed32(t88[r62]);
        }
        function vl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeFixed64(t88[r62]);
        }
        function bl(t88, e143) {
          for (var r62 = 0; r62 < t88.length; r62++)
            e143.writeSFixed64(t88[r62]);
        }
        function wl(t88, e143) {
          return (t88[e143] | t88[e143 + 1] << 8 | t88[e143 + 2] << 16) + 16777216 * t88[e143 + 3];
        }
        function _l(t88, e143, r62) {
          t88[r62] = e143, t88[r62 + 1] = e143 >>> 8, t88[r62 + 2] = e143 >>> 16, t88[r62 + 3] = e143 >>> 24;
        }
        function Al(t88, e143) {
          return (t88[e143] | t88[e143 + 1] << 8 | t88[e143 + 2] << 16) + (t88[e143 + 3] << 24);
        }
        function kl(t88, e143, r62) {
          1 === t88 && r62.readMessage(Sl, e143);
        }
        function Sl(t88, e143, r62) {
          if (3 === t88) {
            const { id: t89, bitmap: n46, width: i68, height: s63, left: a83, top: o102, advance: l30 } = r62.readMessage(zl, {});
            e143.push({ id: t89, bitmap: new ba({ width: i68 + 6, height: s63 + 6 }, n46), metrics: { width: i68, height: s63, left: a83, top: o102, advance: l30 } });
          }
        }
        function zl(t88, e143, r62) {
          1 === t88 ? e143.id = r62.readVarint() : 2 === t88 ? e143.bitmap = r62.readBytes() : 3 === t88 ? e143.width = r62.readVarint() : 4 === t88 ? e143.height = r62.readVarint() : 5 === t88 ? e143.left = r62.readSVarint() : 6 === t88 ? e143.top = r62.readSVarint() : 7 === t88 && (e143.advance = r62.readVarint());
        }
        function Il(t88) {
          let e143 = 0, r62 = 0;
          for (const n47 of t88)
            e143 += n47.w * n47.h, r62 = Math.max(r62, n47.w);
          t88.sort((t89, e144) => e144.h - t89.h);
          const n46 = [{ x: 0, y: 0, w: Math.max(Math.ceil(Math.sqrt(e143 / 0.95)), r62), h: 1 / 0 }];
          let i68 = 0, s63 = 0;
          for (const e144 of t88)
            for (let t89 = n46.length - 1; t89 >= 0; t89--) {
              const r63 = n46[t89];
              if (!(e144.w > r63.w || e144.h > r63.h)) {
                if (e144.x = r63.x, e144.y = r63.y, s63 = Math.max(s63, e144.y + e144.h), i68 = Math.max(i68, e144.x + e144.w), e144.w === r63.w && e144.h === r63.h) {
                  const e145 = n46.pop();
                  t89 < n46.length && (n46[t89] = e145);
                } else
                  e144.h === r63.h ? (r63.x += e144.w, r63.w -= e144.w) : e144.w === r63.w ? (r63.y += e144.h, r63.h -= e144.h) : (n46.push({ x: r63.x + e144.w, y: r63.y, w: r63.w - e144.w, h: e144.h }), r63.y += e144.h, r63.h -= e144.h);
                break;
              }
            }
          return { w: i68, h: s63, fill: e143 / (i68 * s63) || 0 };
        }
        il.prototype = { destroy: function() {
          this.buf = null;
        }, readFields: function(t88, e143, r62) {
          for (r62 = r62 || this.length; this.pos < r62; ) {
            var n46 = this.readVarint(), i68 = n46 >> 3, s63 = this.pos;
            this.type = 7 & n46, t88(i68, e143, this), this.pos === s63 && this.skip(n46);
          }
          return e143;
        }, readMessage: function(t88, e143) {
          return this.readFields(t88, e143, this.readVarint() + this.pos);
        }, readFixed32: function() {
          var t88 = wl(this.buf, this.pos);
          return this.pos += 4, t88;
        }, readSFixed32: function() {
          var t88 = Al(this.buf, this.pos);
          return this.pos += 4, t88;
        }, readFixed64: function() {
          var t88 = wl(this.buf, this.pos) + wl(this.buf, this.pos + 4) * al;
          return this.pos += 8, t88;
        }, readSFixed64: function() {
          var t88 = wl(this.buf, this.pos) + Al(this.buf, this.pos + 4) * al;
          return this.pos += 8, t88;
        }, readFloat: function() {
          var t88 = rl(this.buf, this.pos, true, 23, 4);
          return this.pos += 4, t88;
        }, readDouble: function() {
          var t88 = rl(this.buf, this.pos, true, 52, 8);
          return this.pos += 8, t88;
        }, readVarint: function(t88) {
          var e143, r62, n46 = this.buf;
          return e143 = 127 & (r62 = n46[this.pos++]), r62 < 128 ? e143 : (e143 |= (127 & (r62 = n46[this.pos++])) << 7, r62 < 128 ? e143 : (e143 |= (127 & (r62 = n46[this.pos++])) << 14, r62 < 128 ? e143 : (e143 |= (127 & (r62 = n46[this.pos++])) << 21, r62 < 128 ? e143 : function(t89, e144, r63) {
            var n47, i68, s63 = r63.buf;
            if (n47 = (112 & (i68 = s63[r63.pos++])) >> 4, i68 < 128)
              return cl(t89, n47, e144);
            if (n47 |= (127 & (i68 = s63[r63.pos++])) << 3, i68 < 128)
              return cl(t89, n47, e144);
            if (n47 |= (127 & (i68 = s63[r63.pos++])) << 10, i68 < 128)
              return cl(t89, n47, e144);
            if (n47 |= (127 & (i68 = s63[r63.pos++])) << 17, i68 < 128)
              return cl(t89, n47, e144);
            if (n47 |= (127 & (i68 = s63[r63.pos++])) << 24, i68 < 128)
              return cl(t89, n47, e144);
            if (n47 |= (1 & (i68 = s63[r63.pos++])) << 31, i68 < 128)
              return cl(t89, n47, e144);
            throw new Error("Expected varint not more than 10 bytes");
          }(e143 |= (15 & (r62 = n46[this.pos])) << 28, t88, this))));
        }, readVarint64: function() {
          return this.readVarint(true);
        }, readSVarint: function() {
          var t88 = this.readVarint();
          return t88 % 2 == 1 ? (t88 + 1) / -2 : t88 / 2;
        }, readBoolean: function() {
          return Boolean(this.readVarint());
        }, readString: function() {
          var t88 = this.readVarint() + this.pos, e143 = this.pos;
          return this.pos = t88, t88 - e143 >= 12 && ll ? function(t89, e144, r62) {
            return ll.decode(t89.subarray(e144, r62));
          }(this.buf, e143, t88) : function(t89, e144, r62) {
            for (var n46 = "", i68 = e144; i68 < r62; ) {
              var s63, a83, o102, l30 = t89[i68], u21 = null, c23 = l30 > 239 ? 4 : l30 > 223 ? 3 : l30 > 191 ? 2 : 1;
              if (i68 + c23 > r62)
                break;
              1 === c23 ? l30 < 128 && (u21 = l30) : 2 === c23 ? 128 == (192 & (s63 = t89[i68 + 1])) && (u21 = (31 & l30) << 6 | 63 & s63) <= 127 && (u21 = null) : 3 === c23 ? (a83 = t89[i68 + 2], 128 == (192 & (s63 = t89[i68 + 1])) && 128 == (192 & a83) && ((u21 = (15 & l30) << 12 | (63 & s63) << 6 | 63 & a83) <= 2047 || u21 >= 55296 && u21 <= 57343) && (u21 = null)) : 4 === c23 && (a83 = t89[i68 + 2], o102 = t89[i68 + 3], 128 == (192 & (s63 = t89[i68 + 1])) && 128 == (192 & a83) && 128 == (192 & o102) && ((u21 = (15 & l30) << 18 | (63 & s63) << 12 | (63 & a83) << 6 | 63 & o102) <= 65535 || u21 >= 1114112) && (u21 = null)), null === u21 ? (u21 = 65533, c23 = 1) : u21 > 65535 && (u21 -= 65536, n46 += String.fromCharCode(u21 >>> 10 & 1023 | 55296), u21 = 56320 | 1023 & u21), n46 += String.fromCharCode(u21), i68 += c23;
            }
            return n46;
          }(this.buf, e143, t88);
        }, readBytes: function() {
          var t88 = this.readVarint() + this.pos, e143 = this.buf.subarray(this.pos, t88);
          return this.pos = t88, e143;
        }, readPackedVarint: function(t88, e143) {
          if (this.type !== il.Bytes)
            return t88.push(this.readVarint(e143));
          var r62 = ul(this);
          for (t88 = t88 || []; this.pos < r62; )
            t88.push(this.readVarint(e143));
          return t88;
        }, readPackedSVarint: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readSVarint());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readSVarint());
          return t88;
        }, readPackedBoolean: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readBoolean());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readBoolean());
          return t88;
        }, readPackedFloat: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readFloat());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readFloat());
          return t88;
        }, readPackedDouble: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readDouble());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readDouble());
          return t88;
        }, readPackedFixed32: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readFixed32());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readFixed32());
          return t88;
        }, readPackedSFixed32: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readSFixed32());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readSFixed32());
          return t88;
        }, readPackedFixed64: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readFixed64());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readFixed64());
          return t88;
        }, readPackedSFixed64: function(t88) {
          if (this.type !== il.Bytes)
            return t88.push(this.readSFixed64());
          var e143 = ul(this);
          for (t88 = t88 || []; this.pos < e143; )
            t88.push(this.readSFixed64());
          return t88;
        }, skip: function(t88) {
          var e143 = 7 & t88;
          if (e143 === il.Varint)
            for (; this.buf[this.pos++] > 127; )
              ;
          else if (e143 === il.Bytes)
            this.pos = this.readVarint() + this.pos;
          else if (e143 === il.Fixed32)
            this.pos += 4;
          else {
            if (e143 !== il.Fixed64)
              throw new Error("Unimplemented type: " + e143);
            this.pos += 8;
          }
        }, writeTag: function(t88, e143) {
          this.writeVarint(t88 << 3 | e143);
        }, realloc: function(t88) {
          for (var e143 = this.length || 16; e143 < this.pos + t88; )
            e143 *= 2;
          if (e143 !== this.length) {
            var r62 = new Uint8Array(e143);
            r62.set(this.buf), this.buf = r62, this.length = e143;
          }
        }, finish: function() {
          return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length);
        }, writeFixed32: function(t88) {
          this.realloc(4), _l(this.buf, t88, this.pos), this.pos += 4;
        }, writeSFixed32: function(t88) {
          this.realloc(4), _l(this.buf, t88, this.pos), this.pos += 4;
        }, writeFixed64: function(t88) {
          this.realloc(8), _l(this.buf, -1 & t88, this.pos), _l(this.buf, Math.floor(t88 * ol), this.pos + 4), this.pos += 8;
        }, writeSFixed64: function(t88) {
          this.realloc(8), _l(this.buf, -1 & t88, this.pos), _l(this.buf, Math.floor(t88 * ol), this.pos + 4), this.pos += 8;
        }, writeVarint: function(t88) {
          (t88 = +t88 || 0) > 268435455 || t88 < 0 ? function(t89, e143) {
            var r62, n46;
            if (t89 >= 0 ? (r62 = t89 % 4294967296 | 0, n46 = t89 / 4294967296 | 0) : (n46 = ~(-t89 / 4294967296), 4294967295 ^ (r62 = ~(-t89 % 4294967296)) ? r62 = r62 + 1 | 0 : (r62 = 0, n46 = n46 + 1 | 0)), t89 >= 18446744073709552e3 || t89 < -18446744073709552e3)
              throw new Error("Given varint doesn't fit into 10 bytes");
            e143.realloc(10), function(t90, e144, r63) {
              r63.buf[r63.pos++] = 127 & t90 | 128, t90 >>>= 7, r63.buf[r63.pos++] = 127 & t90 | 128, t90 >>>= 7, r63.buf[r63.pos++] = 127 & t90 | 128, t90 >>>= 7, r63.buf[r63.pos++] = 127 & t90 | 128, r63.buf[r63.pos] = 127 & (t90 >>>= 7);
            }(r62, 0, e143), function(t90, e144) {
              var r63 = (7 & t90) << 4;
              e144.buf[e144.pos++] |= r63 | ((t90 >>>= 3) ? 128 : 0), t90 && (e144.buf[e144.pos++] = 127 & t90 | ((t90 >>>= 7) ? 128 : 0), t90 && (e144.buf[e144.pos++] = 127 & t90 | ((t90 >>>= 7) ? 128 : 0), t90 && (e144.buf[e144.pos++] = 127 & t90 | ((t90 >>>= 7) ? 128 : 0), t90 && (e144.buf[e144.pos++] = 127 & t90 | ((t90 >>>= 7) ? 128 : 0), t90 && (e144.buf[e144.pos++] = 127 & t90)))));
            }(n46, e143);
          }(t88, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t88 | (t88 > 127 ? 128 : 0), t88 <= 127 || (this.buf[this.pos++] = 127 & (t88 >>>= 7) | (t88 > 127 ? 128 : 0), t88 <= 127 || (this.buf[this.pos++] = 127 & (t88 >>>= 7) | (t88 > 127 ? 128 : 0), t88 <= 127 || (this.buf[this.pos++] = t88 >>> 7 & 127))));
        }, writeSVarint: function(t88) {
          this.writeVarint(t88 < 0 ? 2 * -t88 - 1 : 2 * t88);
        }, writeBoolean: function(t88) {
          this.writeVarint(Boolean(t88));
        }, writeString: function(t88) {
          t88 = String(t88), this.realloc(4 * t88.length), this.pos++;
          var e143 = this.pos;
          this.pos = function(t89, e144, r63) {
            for (var n46, i68, s63 = 0; s63 < e144.length; s63++) {
              if ((n46 = e144.charCodeAt(s63)) > 55295 && n46 < 57344) {
                if (!i68) {
                  n46 > 56319 || s63 + 1 === e144.length ? (t89[r63++] = 239, t89[r63++] = 191, t89[r63++] = 189) : i68 = n46;
                  continue;
                }
                if (n46 < 56320) {
                  t89[r63++] = 239, t89[r63++] = 191, t89[r63++] = 189, i68 = n46;
                  continue;
                }
                n46 = i68 - 55296 << 10 | n46 - 56320 | 65536, i68 = null;
              } else
                i68 && (t89[r63++] = 239, t89[r63++] = 191, t89[r63++] = 189, i68 = null);
              n46 < 128 ? t89[r63++] = n46 : (n46 < 2048 ? t89[r63++] = n46 >> 6 | 192 : (n46 < 65536 ? t89[r63++] = n46 >> 12 | 224 : (t89[r63++] = n46 >> 18 | 240, t89[r63++] = n46 >> 12 & 63 | 128), t89[r63++] = n46 >> 6 & 63 | 128), t89[r63++] = 63 & n46 | 128);
            }
            return r63;
          }(this.buf, t88, this.pos);
          var r62 = this.pos - e143;
          r62 >= 128 && hl(e143, r62, this), this.pos = e143 - 1, this.writeVarint(r62), this.pos += r62;
        }, writeFloat: function(t88) {
          this.realloc(4), nl(this.buf, t88, this.pos, true, 23, 4), this.pos += 4;
        }, writeDouble: function(t88) {
          this.realloc(8), nl(this.buf, t88, this.pos, true, 52, 8), this.pos += 8;
        }, writeBytes: function(t88) {
          var e143 = t88.length;
          this.writeVarint(e143), this.realloc(e143);
          for (var r62 = 0; r62 < e143; r62++)
            this.buf[this.pos++] = t88[r62];
        }, writeRawMessage: function(t88, e143) {
          this.pos++;
          var r62 = this.pos;
          t88(e143, this);
          var n46 = this.pos - r62;
          n46 >= 128 && hl(r62, n46, this), this.pos = r62 - 1, this.writeVarint(n46), this.pos += n46;
        }, writeMessage: function(t88, e143, r62) {
          this.writeTag(t88, il.Bytes), this.writeRawMessage(e143, r62);
        }, writePackedVarint: function(t88, e143) {
          e143.length && this.writeMessage(t88, pl, e143);
        }, writePackedSVarint: function(t88, e143) {
          e143.length && this.writeMessage(t88, fl, e143);
        }, writePackedBoolean: function(t88, e143) {
          e143.length && this.writeMessage(t88, ml, e143);
        }, writePackedFloat: function(t88, e143) {
          e143.length && this.writeMessage(t88, dl, e143);
        }, writePackedDouble: function(t88, e143) {
          e143.length && this.writeMessage(t88, yl, e143);
        }, writePackedFixed32: function(t88, e143) {
          e143.length && this.writeMessage(t88, gl, e143);
        }, writePackedSFixed32: function(t88, e143) {
          e143.length && this.writeMessage(t88, xl, e143);
        }, writePackedFixed64: function(t88, e143) {
          e143.length && this.writeMessage(t88, vl, e143);
        }, writePackedSFixed64: function(t88, e143) {
          e143.length && this.writeMessage(t88, bl, e143);
        }, writeBytesField: function(t88, e143) {
          this.writeTag(t88, il.Bytes), this.writeBytes(e143);
        }, writeFixed32Field: function(t88, e143) {
          this.writeTag(t88, il.Fixed32), this.writeFixed32(e143);
        }, writeSFixed32Field: function(t88, e143) {
          this.writeTag(t88, il.Fixed32), this.writeSFixed32(e143);
        }, writeFixed64Field: function(t88, e143) {
          this.writeTag(t88, il.Fixed64), this.writeFixed64(e143);
        }, writeSFixed64Field: function(t88, e143) {
          this.writeTag(t88, il.Fixed64), this.writeSFixed64(e143);
        }, writeVarintField: function(t88, e143) {
          this.writeTag(t88, il.Varint), this.writeVarint(e143);
        }, writeSVarintField: function(t88, e143) {
          this.writeTag(t88, il.Varint), this.writeSVarint(e143);
        }, writeStringField: function(t88, e143) {
          this.writeTag(t88, il.Bytes), this.writeString(e143);
        }, writeFloatField: function(t88, e143) {
          this.writeTag(t88, il.Fixed32), this.writeFloat(e143);
        }, writeDoubleField: function(t88, e143) {
          this.writeTag(t88, il.Fixed64), this.writeDouble(e143);
        }, writeBooleanField: function(t88, e143) {
          this.writeVarintField(t88, Boolean(e143));
        } };
        class Ml {
          constructor(t88, { pixelRatio: e143, version: r62, stretchX: n46, stretchY: i68, content: s63 }) {
            this.paddedRect = t88, this.pixelRatio = e143, this.stretchX = n46, this.stretchY = i68, this.content = s63, this.version = r62;
          }
          get tl() {
            return [this.paddedRect.x + 1, this.paddedRect.y + 1];
          }
          get br() {
            return [this.paddedRect.x + this.paddedRect.w - 1, this.paddedRect.y + this.paddedRect.h - 1];
          }
          get tlbr() {
            return this.tl.concat(this.br);
          }
          get displaySize() {
            return [(this.paddedRect.w - 2) / this.pixelRatio, (this.paddedRect.h - 2) / this.pixelRatio];
          }
        }
        class Bl {
          constructor(t88, e143) {
            const r62 = {}, n46 = {};
            this.haveRenderCallbacks = [];
            const i68 = [];
            this.addImages(t88, r62, i68), this.addImages(e143, n46, i68);
            const { w: s63, h: a83 } = Il(i68), o102 = new wa({ width: s63 || 1, height: a83 || 1 });
            for (const e144 in t88) {
              const n47 = t88[e144], i69 = r62[e144].paddedRect;
              wa.copy(n47.data, o102, { x: 0, y: 0 }, { x: i69.x + 1, y: i69.y + 1 }, n47.data);
            }
            for (const t89 in e143) {
              const r63 = e143[t89], i69 = n46[t89].paddedRect, s64 = i69.x + 1, a84 = i69.y + 1, l30 = r63.data.width, u21 = r63.data.height;
              wa.copy(r63.data, o102, { x: 0, y: 0 }, { x: s64, y: a84 }, r63.data), wa.copy(r63.data, o102, { x: 0, y: u21 - 1 }, { x: s64, y: a84 - 1 }, { width: l30, height: 1 }), wa.copy(r63.data, o102, { x: 0, y: 0 }, { x: s64, y: a84 + u21 }, { width: l30, height: 1 }), wa.copy(r63.data, o102, { x: l30 - 1, y: 0 }, { x: s64 - 1, y: a84 }, { width: 1, height: u21 }), wa.copy(r63.data, o102, { x: 0, y: 0 }, { x: s64 + l30, y: a84 }, { width: 1, height: u21 });
            }
            this.image = o102, this.iconPositions = r62, this.patternPositions = n46;
          }
          addImages(t88, e143, r62) {
            for (const n46 in t88) {
              const i68 = t88[n46], s63 = { x: 0, y: 0, w: i68.data.width + 2, h: i68.data.height + 2 };
              r62.push(s63), e143[n46] = new Ml(s63, i68), i68.hasRenderCallback && this.haveRenderCallbacks.push(n46);
            }
          }
          patchUpdatedImages(t88, e143) {
            t88.dispatchRenderCallbacks(this.haveRenderCallbacks);
            for (const r62 in t88.updatedImages)
              this.patchUpdatedImage(this.iconPositions[r62], t88.getImage(r62), e143), this.patchUpdatedImage(this.patternPositions[r62], t88.getImage(r62), e143);
          }
          patchUpdatedImage(t88, e143, r62) {
            if (!t88 || !e143)
              return;
            if (t88.version === e143.version)
              return;
            t88.version = e143.version;
            const [n46, i68] = t88.tl;
            r62.update(e143.data, void 0, { x: n46, y: i68 });
          }
        }
        kn("ImagePosition", Ml), kn("ImageAtlas", Bl), t87.WritingMode = void 0, (sl = t87.WritingMode || (t87.WritingMode = {}))[sl.none = 0] = "none", sl[sl.horizontal = 1] = "horizontal", sl[sl.vertical = 2] = "vertical", sl[sl.horizontalOnly = 3] = "horizontalOnly";
        const Cl = -17;
        class Pl {
          constructor() {
            this.scale = 1, this.fontStack = "", this.imageName = null;
          }
          static forText(t88, e143) {
            const r62 = new Pl();
            return r62.scale = t88 || 1, r62.fontStack = e143, r62;
          }
          static forImage(t88) {
            const e143 = new Pl();
            return e143.imageName = t88, e143;
          }
        }
        class Vl {
          constructor() {
            this.text = "", this.sectionIndex = [], this.sections = [], this.imageSectionID = null;
          }
          static fromFeature(t88, e143) {
            const r62 = new Vl();
            for (let n46 = 0; n46 < t88.sections.length; n46++) {
              const i68 = t88.sections[n46];
              i68.image ? r62.addImageSection(i68) : r62.addTextSection(i68, e143);
            }
            return r62;
          }
          length() {
            return this.text.length;
          }
          getSection(t88) {
            return this.sections[this.sectionIndex[t88]];
          }
          getSectionIndex(t88) {
            return this.sectionIndex[t88];
          }
          getCharCode(t88) {
            return this.text.charCodeAt(t88);
          }
          verticalizePunctuation() {
            this.text = function(t88) {
              let e143 = "";
              for (let r62 = 0; r62 < t88.length; r62++) {
                const n46 = t88.charCodeAt(r62 + 1) || null, i68 = t88.charCodeAt(r62 - 1) || null;
                e143 += n46 && Fn(n46) && !Qo[t88[r62 + 1]] || i68 && Fn(i68) && !Qo[t88[r62 - 1]] || !Qo[t88[r62]] ? t88[r62] : Qo[t88[r62]];
              }
              return e143;
            }(this.text);
          }
          trim() {
            let t88 = 0;
            for (let e144 = 0; e144 < this.text.length && Fl[this.text.charCodeAt(e144)]; e144++)
              t88++;
            let e143 = this.text.length;
            for (let r62 = this.text.length - 1; r62 >= 0 && r62 >= t88 && Fl[this.text.charCodeAt(r62)]; r62--)
              e143--;
            this.text = this.text.substring(t88, e143), this.sectionIndex = this.sectionIndex.slice(t88, e143);
          }
          substring(t88, e143) {
            const r62 = new Vl();
            return r62.text = this.text.substring(t88, e143), r62.sectionIndex = this.sectionIndex.slice(t88, e143), r62.sections = this.sections, r62;
          }
          toString() {
            return this.text;
          }
          getMaxScale() {
            return this.sectionIndex.reduce((t88, e143) => Math.max(t88, this.sections[e143].scale), 0);
          }
          addTextSection(t88, e143) {
            this.text += t88.text, this.sections.push(Pl.forText(t88.scale, t88.fontStack || e143));
            const r62 = this.sections.length - 1;
            for (let e144 = 0; e144 < t88.text.length; ++e144)
              this.sectionIndex.push(r62);
          }
          addImageSection(t88) {
            const e143 = t88.image ? t88.image.name : "";
            if (0 === e143.length)
              return void d10("Can't add FormattedSection with an empty image.");
            const r62 = this.getNextImageSectionCharCode();
            r62 ? (this.text += String.fromCharCode(r62), this.sections.push(Pl.forImage(e143)), this.sectionIndex.push(this.sections.length - 1)) : d10("Reached maximum number of images 6401");
          }
          getNextImageSectionCharCode() {
            return this.imageSectionID ? this.imageSectionID >= 63743 ? null : ++this.imageSectionID : (this.imageSectionID = 57344, this.imageSectionID);
          }
        }
        function El(e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10, m30) {
          const g15 = Vl.fromFeature(e143, s63);
          let x6;
          p18 === t87.WritingMode.vertical && g15.verticalizePunctuation();
          const { processBidirectionalText: v6, processStyledBidirectionalText: b8 } = Xn;
          if (v6 && 1 === g15.sections.length) {
            x6 = [];
            const t88 = v6(g15.toString(), Ol(g15, c23, a83, r62, i68, d11, y10));
            for (const e144 of t88) {
              const t89 = new Vl();
              t89.text = e144, t89.sections = g15.sections;
              for (let r63 = 0; r63 < e144.length; r63++)
                t89.sectionIndex.push(0);
              x6.push(t89);
            }
          } else if (b8) {
            x6 = [];
            const t88 = b8(g15.text, g15.sectionIndex, Ol(g15, c23, a83, r62, i68, d11, y10));
            for (const e144 of t88) {
              const t89 = new Vl();
              t89.text = e144[0], t89.sectionIndex = e144[1], t89.sections = g15.sections, x6.push(t89);
            }
          } else
            x6 = function(t88, e144) {
              const r63 = [], n47 = t88.text;
              let i69 = 0;
              for (const n48 of e144)
                r63.push(t88.substring(i69, n48)), i69 = n48;
              return i69 < n47.length && r63.push(t88.substring(i69, n47.length)), r63;
            }(g15, Ol(g15, c23, a83, r62, i68, d11, y10));
          const w4 = [], _4 = { positionedLines: w4, text: g15.toString(), top: h13[1], bottom: h13[1], left: h13[0], right: h13[0], writingMode: p18, iconsInText: false, verticalizable: false };
          return function(e144, r63, n47, i69, s64, a84, o103, l31, u22, c24, h14, p19) {
            let f23 = 0, d12 = Cl, y11 = 0, m31 = 0;
            const g16 = "right" === l31 ? 1 : "left" === l31 ? 0 : 0.5;
            let x7 = 0;
            for (const o104 of s64) {
              o104.trim();
              const s65 = o104.getMaxScale(), l32 = (s65 - 1) * tl, b10 = { positionedGlyphs: [], lineOffset: 0 };
              e144.positionedLines[x7] = b10;
              const w6 = b10.positionedGlyphs;
              let _6 = 0;
              if (!o104.length()) {
                d12 += a84, ++x7;
                continue;
              }
              for (let a85 = 0; a85 < o104.length(); a85++) {
                const y12 = o104.getSection(a85), m32 = o104.getSectionIndex(a85), g17 = o104.getCharCode(a85);
                let x8 = 0, b11 = null, A5 = null, k7 = null, S2 = tl;
                const z3 = !(u22 === t87.WritingMode.horizontal || !h14 && !En(g17) || h14 && (Fl[g17] || (v7 = g17, Bn.Arabic(v7) || Bn["Arabic Supplement"](v7) || Bn["Arabic Extended-A"](v7) || Bn["Arabic Presentation Forms-A"](v7) || Bn["Arabic Presentation Forms-B"](v7))));
                if (y12.imageName) {
                  const t88 = i69[y12.imageName];
                  if (!t88)
                    continue;
                  k7 = y12.imageName, e144.iconsInText = e144.iconsInText || true, A5 = t88.paddedRect;
                  const r64 = t88.displaySize;
                  y12.scale = y12.scale * tl / p19, b11 = { width: r64[0], height: r64[1], left: 1, top: -3, advance: z3 ? r64[1] : r64[0] }, x8 = l32 + (tl - r64[1] * y12.scale), S2 = b11.advance;
                  const n48 = z3 ? r64[0] * y12.scale - tl * s65 : r64[1] * y12.scale - tl * s65;
                  n48 > 0 && n48 > _6 && (_6 = n48);
                } else {
                  const t88 = n47[y12.fontStack], e145 = t88 && t88[g17];
                  if (e145 && e145.rect)
                    A5 = e145.rect, b11 = e145.metrics;
                  else {
                    const t89 = r63[y12.fontStack], e146 = t89 && t89[g17];
                    if (!e146)
                      continue;
                    b11 = e146.metrics;
                  }
                  x8 = (s65 - y12.scale) * tl;
                }
                z3 ? (e144.verticalizable = true, w6.push({ glyph: g17, imageName: k7, x: f23, y: d12 + x8, vertical: z3, scale: y12.scale, fontStack: y12.fontStack, sectionIndex: m32, metrics: b11, rect: A5 }), f23 += S2 * y12.scale + c24) : (w6.push({ glyph: g17, imageName: k7, x: f23, y: d12 + x8, vertical: z3, scale: y12.scale, fontStack: y12.fontStack, sectionIndex: m32, metrics: b11, rect: A5 }), f23 += b11.advance * y12.scale + c24);
              }
              0 !== w6.length && (y11 = Math.max(f23 - c24, y11), jl(w6, 0, w6.length - 1, g16, _6)), f23 = 0;
              const A4 = a84 * s65 + _6;
              b10.lineOffset = Math.max(_6, l32), d12 += A4, m31 = Math.max(A4, m31), ++x7;
            }
            var v7;
            const b9 = d12 - Cl, { horizontalAlign: w5, verticalAlign: _5 } = ql(o103);
            (function(t88, e145, r64, n48, i70, s65, a85, o104, l32) {
              const u23 = (e145 - r64) * i70;
              let c25 = 0;
              c25 = s65 !== a85 ? -o104 * n48 - Cl : (-n48 * l32 + 0.5) * a85;
              for (const e146 of t88)
                for (const t89 of e146.positionedGlyphs)
                  t89.x += u23, t89.y += c25;
            })(e144.positionedLines, g16, w5, _5, y11, m31, a84, b9, s64.length), e144.top += -_5 * b9, e144.bottom = e144.top + b9, e144.left += -w5 * y11, e144.right = e144.left + y11;
          }(_4, r62, n46, i68, x6, o102, l30, u21, p18, c23, f22, m30), !function(t88) {
            for (const e144 of t88)
              if (0 !== e144.positionedGlyphs.length)
                return false;
            return true;
          }(w4) && _4;
        }
        const Fl = { 9: true, 10: true, 11: true, 12: true, 13: true, 32: true }, Tl = { 10: true, 32: true, 38: true, 40: true, 41: true, 43: true, 45: true, 47: true, 173: true, 183: true, 8203: true, 8208: true, 8211: true, 8231: true };
        function Ll(t88, e143, r62, n46, i68, s63) {
          if (e143.imageName) {
            const t89 = n46[e143.imageName];
            return t89 ? t89.displaySize[0] * e143.scale * tl / s63 + i68 : 0;
          }
          {
            const n47 = r62[e143.fontStack], s64 = n47 && n47[t88];
            return s64 ? s64.metrics.advance * e143.scale + i68 : 0;
          }
        }
        function Dl(t88, e143, r62, n46) {
          const i68 = Math.pow(t88 - e143, 2);
          return n46 ? t88 < e143 ? i68 / 2 : 2 * i68 : i68 + Math.abs(r62) * r62;
        }
        function $l(t88, e143, r62) {
          let n46 = 0;
          return 10 === t88 && (n46 -= 1e4), r62 && (n46 += 150), 40 !== t88 && 65288 !== t88 || (n46 += 50), 41 !== e143 && 65289 !== e143 || (n46 += 50), n46;
        }
        function Rl(t88, e143, r62, n46, i68, s63) {
          let a83 = null, o102 = Dl(e143, r62, i68, s63);
          for (const t89 of n46) {
            const n47 = Dl(e143 - t89.x, r62, i68, s63) + t89.badness;
            n47 <= o102 && (a83 = t89, o102 = n47);
          }
          return { index: t88, x: e143, priorBreak: a83, badness: o102 };
        }
        function Ul(t88) {
          return t88 ? Ul(t88.priorBreak).concat(t88.index) : [];
        }
        function Ol(t88, e143, r62, n46, i68, s63, a83) {
          if ("point" !== s63)
            return [];
          if (!t88)
            return [];
          const o102 = [], l30 = function(t89, e144, r63, n47, i69, s64) {
            let a84 = 0;
            for (let r64 = 0; r64 < t89.length(); r64++) {
              const o103 = t89.getSection(r64);
              a84 += Ll(t89.getCharCode(r64), o103, n47, i69, e144, s64);
            }
            return a84 / Math.max(1, Math.ceil(a84 / r63));
          }(t88, e143, r62, n46, i68, a83), u21 = t88.text.indexOf("\u200B") >= 0;
          let c23 = 0;
          for (let r63 = 0; r63 < t88.length(); r63++) {
            const s64 = t88.getSection(r63), p18 = t88.getCharCode(r63);
            if (Fl[p18] || (c23 += Ll(p18, s64, n46, i68, e143, a83)), r63 < t88.length() - 1) {
              const e144 = !((h13 = p18) < 11904 || !(Bn["Bopomofo Extended"](h13) || Bn.Bopomofo(h13) || Bn["CJK Compatibility Forms"](h13) || Bn["CJK Compatibility Ideographs"](h13) || Bn["CJK Compatibility"](h13) || Bn["CJK Radicals Supplement"](h13) || Bn["CJK Strokes"](h13) || Bn["CJK Symbols and Punctuation"](h13) || Bn["CJK Unified Ideographs Extension A"](h13) || Bn["CJK Unified Ideographs"](h13) || Bn["Enclosed CJK Letters and Months"](h13) || Bn["Halfwidth and Fullwidth Forms"](h13) || Bn.Hiragana(h13) || Bn["Ideographic Description Characters"](h13) || Bn["Kangxi Radicals"](h13) || Bn["Katakana Phonetic Extensions"](h13) || Bn.Katakana(h13) || Bn["Vertical Forms"](h13) || Bn["Yi Radicals"](h13) || Bn["Yi Syllables"](h13)));
              (Tl[p18] || e144 || s64.imageName) && o102.push(Rl(r63 + 1, c23, l30, o102, $l(p18, t88.getCharCode(r63 + 1), e144 && u21), false));
            }
          }
          var h13;
          return Ul(Rl(t88.length(), c23, l30, o102, 0, true));
        }
        function ql(t88) {
          let e143 = 0.5, r62 = 0.5;
          switch (t88) {
            case "right":
            case "top-right":
            case "bottom-right":
              e143 = 1;
              break;
            case "left":
            case "top-left":
            case "bottom-left":
              e143 = 0;
          }
          switch (t88) {
            case "bottom":
            case "bottom-right":
            case "bottom-left":
              r62 = 1;
              break;
            case "top":
            case "top-right":
            case "top-left":
              r62 = 0;
          }
          return { horizontalAlign: e143, verticalAlign: r62 };
        }
        function jl(t88, e143, r62, n46, i68) {
          if (!n46 && !i68)
            return;
          const s63 = t88[r62], a83 = (t88[r62].x + s63.metrics.advance * s63.scale) * n46;
          for (let n47 = e143; n47 <= r62; n47++)
            t88[n47].x -= a83, t88[n47].y += i68;
        }
        function Nl(t88, e143, r62) {
          const { horizontalAlign: n46, verticalAlign: i68 } = ql(r62), s63 = e143[0] - t88.displaySize[0] * n46, a83 = e143[1] - t88.displaySize[1] * i68;
          return { image: t88, top: a83, bottom: a83 + t88.displaySize[1], left: s63, right: s63 + t88.displaySize[0] };
        }
        function Kl(t88, e143, r62, n46, i68, s63) {
          const a83 = t88.image;
          let o102;
          if (a83.content) {
            const t89 = a83.content, e144 = a83.pixelRatio || 1;
            o102 = [t89[0] / e144, t89[1] / e144, a83.displaySize[0] - t89[2] / e144, a83.displaySize[1] - t89[3] / e144];
          }
          const l30 = e143.left * s63, u21 = e143.right * s63;
          let c23, h13, p18, f22;
          "width" === r62 || "both" === r62 ? (f22 = i68[0] + l30 - n46[3], h13 = i68[0] + u21 + n46[1]) : (f22 = i68[0] + (l30 + u21 - a83.displaySize[0]) / 2, h13 = f22 + a83.displaySize[0]);
          const d11 = e143.top * s63, y10 = e143.bottom * s63;
          return "height" === r62 || "both" === r62 ? (c23 = i68[1] + d11 - n46[0], p18 = i68[1] + y10 + n46[2]) : (c23 = i68[1] + (d11 + y10 - a83.displaySize[1]) / 2, p18 = c23 + a83.displaySize[1]), { image: a83, top: c23, right: h13, bottom: p18, left: f22, collisionPadding: o102 };
        }
        const Zl = 128;
        function Gl(t88, e143) {
          const { expression: r62 } = e143;
          if ("constant" === r62.kind)
            return { kind: "constant", layoutSize: r62.evaluate(new Yn(t88 + 1)) };
          if ("source" === r62.kind)
            return { kind: "source" };
          {
            const { zoomStops: e144, interpolationType: n46 } = r62;
            let i68 = 0;
            for (; i68 < e144.length && e144[i68] <= t88; )
              i68++;
            i68 = Math.max(0, i68 - 1);
            let s63 = i68;
            for (; s63 < e144.length && e144[s63] < t88 + 1; )
              s63++;
            s63 = Math.min(e144.length - 1, s63);
            const a83 = e144[i68], o102 = e144[s63];
            return "composite" === r62.kind ? { kind: "composite", minZoom: a83, maxZoom: o102, interpolationType: n46 } : { kind: "camera", minZoom: a83, maxZoom: o102, minSize: r62.evaluate(new Yn(a83)), maxSize: r62.evaluate(new Yn(o102)), interpolationType: n46 };
          }
        }
        class Jl extends S {
          constructor(t88, e143, r62, n46) {
            super(t88, e143), this.angle = r62, void 0 !== n46 && (this.segment = n46);
          }
          clone() {
            return new Jl(this.x, this.y, this.angle, this.segment);
          }
        }
        function Xl(t88, e143, r62, n46, i68) {
          if (void 0 === e143.segment)
            return true;
          let s63 = e143, a83 = e143.segment + 1, o102 = 0;
          for (; o102 > -r62 / 2; ) {
            if (a83--, a83 < 0)
              return false;
            o102 -= t88[a83].dist(s63), s63 = t88[a83];
          }
          o102 += t88[a83].dist(t88[a83 + 1]), a83++;
          const l30 = [];
          let u21 = 0;
          for (; o102 < r62 / 2; ) {
            const e144 = t88[a83], r63 = t88[a83 + 1];
            if (!r63)
              return false;
            let s64 = t88[a83 - 1].angleTo(e144) - e144.angleTo(r63);
            for (s64 = Math.abs((s64 + 3 * Math.PI) % (2 * Math.PI) - Math.PI), l30.push({ distance: o102, angleDelta: s64 }), u21 += s64; o102 - l30[0].distance > n46; )
              u21 -= l30.shift().angleDelta;
            if (u21 > i68)
              return false;
            a83++, o102 += e144.dist(r63);
          }
          return true;
        }
        function Yl(t88) {
          let e143 = 0;
          for (let r62 = 0; r62 < t88.length - 1; r62++)
            e143 += t88[r62].dist(t88[r62 + 1]);
          return e143;
        }
        function Hl(t88, e143, r62) {
          return t88 ? 0.6 * e143 * r62 : 0;
        }
        function Wl(t88, e143) {
          return Math.max(t88 ? t88.right - t88.left : 0, e143 ? e143.right - e143.left : 0);
        }
        function Ql(t88, e143, r62, n46, i68, s63) {
          const a83 = Hl(r62, i68, s63), o102 = Wl(r62, n46) * s63;
          let l30 = 0;
          const u21 = Yl(t88) / 2;
          for (let r63 = 0; r63 < t88.length - 1; r63++) {
            const n47 = t88[r63], i69 = t88[r63 + 1], s64 = n47.dist(i69);
            if (l30 + s64 > u21) {
              const c23 = (u21 - l30) / s64, h13 = Se(n47.x, i69.x, c23), p18 = Se(n47.y, i69.y, c23), f22 = new Jl(h13, p18, i69.angleTo(n47), r63);
              return f22._round(), !a83 || Xl(t88, f22, o102, a83, e143) ? f22 : void 0;
            }
            l30 += s64;
          }
        }
        function tu(t88, e143, r62, n46, i68, s63, a83, o102, l30) {
          const u21 = Hl(n46, s63, a83), c23 = Wl(n46, i68), h13 = c23 * a83, p18 = 0 === t88[0].x || t88[0].x === l30 || 0 === t88[0].y || t88[0].y === l30;
          return e143 - h13 < e143 / 4 && (e143 = h13 + e143 / 4), eu(t88, p18 ? e143 / 2 * o102 % e143 : (c23 / 2 + 2 * s63) * a83 * o102 % e143, e143, u21, r62, h13, p18, false, l30);
        }
        function eu(t88, e143, r62, n46, i68, s63, a83, o102, l30) {
          const u21 = s63 / 2, c23 = Yl(t88);
          let h13 = 0, p18 = e143 - r62, f22 = [];
          for (let e144 = 0; e144 < t88.length - 1; e144++) {
            const a84 = t88[e144], o103 = t88[e144 + 1], d11 = a84.dist(o103), y10 = o103.angleTo(a84);
            for (; p18 + r62 < h13 + d11; ) {
              p18 += r62;
              const m30 = (p18 - h13) / d11, g15 = Se(a84.x, o103.x, m30), x6 = Se(a84.y, o103.y, m30);
              if (g15 >= 0 && g15 < l30 && x6 >= 0 && x6 < l30 && p18 - u21 >= 0 && p18 + u21 <= c23) {
                const r63 = new Jl(g15, x6, y10, e144);
                r63._round(), n46 && !Xl(t88, r63, s63, n46, i68) || f22.push(r63);
              }
            }
            h13 += d11;
          }
          return o102 || f22.length || a83 || (f22 = eu(t88, h13 / 2, r62, n46, i68, s63, a83, true, l30)), f22;
        }
        function ru(t88, e143, r62, n46, i68) {
          const s63 = [];
          for (let a83 = 0; a83 < t88.length; a83++) {
            const o102 = t88[a83];
            let l30;
            for (let t89 = 0; t89 < o102.length - 1; t89++) {
              let a84 = o102[t89], u21 = o102[t89 + 1];
              a84.x < e143 && u21.x < e143 || (a84.x < e143 ? a84 = new S(e143, a84.y + (e143 - a84.x) / (u21.x - a84.x) * (u21.y - a84.y))._round() : u21.x < e143 && (u21 = new S(e143, a84.y + (e143 - a84.x) / (u21.x - a84.x) * (u21.y - a84.y))._round()), a84.y < r62 && u21.y < r62 || (a84.y < r62 ? a84 = new S(a84.x + (r62 - a84.y) / (u21.y - a84.y) * (u21.x - a84.x), r62)._round() : u21.y < r62 && (u21 = new S(a84.x + (r62 - a84.y) / (u21.y - a84.y) * (u21.x - a84.x), r62)._round()), a84.x >= n46 && u21.x >= n46 || (a84.x >= n46 ? a84 = new S(n46, a84.y + (n46 - a84.x) / (u21.x - a84.x) * (u21.y - a84.y))._round() : u21.x >= n46 && (u21 = new S(n46, a84.y + (n46 - a84.x) / (u21.x - a84.x) * (u21.y - a84.y))._round()), a84.y >= i68 && u21.y >= i68 || (a84.y >= i68 ? a84 = new S(a84.x + (i68 - a84.y) / (u21.y - a84.y) * (u21.x - a84.x), i68)._round() : u21.y >= i68 && (u21 = new S(a84.x + (i68 - a84.y) / (u21.y - a84.y) * (u21.x - a84.x), i68)._round()), l30 && a84.equals(l30[l30.length - 1]) || (l30 = [a84], s63.push(l30)), l30.push(u21)))));
            }
          }
          return s63;
        }
        function nu(t88, e143, r62, n46) {
          const i68 = [], s63 = t88.image, a83 = s63.pixelRatio, o102 = s63.paddedRect.w - 2, l30 = s63.paddedRect.h - 2, u21 = t88.right - t88.left, c23 = t88.bottom - t88.top, h13 = s63.stretchX || [[0, o102]], p18 = s63.stretchY || [[0, l30]], f22 = (t89, e144) => t89 + e144[1] - e144[0], d11 = h13.reduce(f22, 0), y10 = p18.reduce(f22, 0), m30 = o102 - d11, g15 = l30 - y10;
          let x6 = 0, v6 = d11, b8 = 0, w4 = y10, _4 = 0, A4 = m30, k7 = 0, z3 = g15;
          if (s63.content && n46) {
            const t89 = s63.content;
            x6 = iu(h13, 0, t89[0]), b8 = iu(p18, 0, t89[1]), v6 = iu(h13, t89[0], t89[2]), w4 = iu(p18, t89[1], t89[3]), _4 = t89[0] - x6, k7 = t89[1] - b8, A4 = t89[2] - t89[0] - v6, z3 = t89[3] - t89[1] - w4;
          }
          const I3 = (n47, i69, o103, l31) => {
            const h14 = au(n47.stretch - x6, v6, u21, t88.left), p19 = ou(n47.fixed - _4, A4, n47.stretch, d11), f23 = au(i69.stretch - b8, w4, c23, t88.top), m31 = ou(i69.fixed - k7, z3, i69.stretch, y10), g16 = au(o103.stretch - x6, v6, u21, t88.left), I4 = ou(o103.fixed - _4, A4, o103.stretch, d11), M5 = au(l31.stretch - b8, w4, c23, t88.top), B3 = ou(l31.fixed - k7, z3, l31.stretch, y10), C8 = new S(h14, f23), P3 = new S(g16, f23), V3 = new S(g16, M5), E5 = new S(h14, M5), F5 = new S(p19 / a83, m31 / a83), T3 = new S(I4 / a83, B3 / a83), L2 = e143 * Math.PI / 180;
            if (L2) {
              const t89 = Math.sin(L2), e144 = Math.cos(L2), r63 = [e144, -t89, t89, e144];
              C8._matMult(r63), P3._matMult(r63), E5._matMult(r63), V3._matMult(r63);
            }
            const D4 = n47.stretch + n47.fixed, $2 = i69.stretch + i69.fixed;
            return { tl: C8, tr: P3, bl: E5, br: V3, tex: { x: s63.paddedRect.x + 1 + D4, y: s63.paddedRect.y + 1 + $2, w: o103.stretch + o103.fixed - D4, h: l31.stretch + l31.fixed - $2 }, writingMode: void 0, glyphOffset: [0, 0], sectionIndex: 0, pixelOffsetTL: F5, pixelOffsetBR: T3, minFontScaleX: A4 / a83 / u21, minFontScaleY: z3 / a83 / c23, isSDF: r62 };
          };
          if (n46 && (s63.stretchX || s63.stretchY)) {
            const t89 = su(h13, m30, d11), e144 = su(p18, g15, y10);
            for (let r63 = 0; r63 < t89.length - 1; r63++) {
              const n47 = t89[r63], s64 = t89[r63 + 1];
              for (let t90 = 0; t90 < e144.length - 1; t90++)
                i68.push(I3(n47, e144[t90], s64, e144[t90 + 1]));
            }
          } else
            i68.push(I3({ fixed: 0, stretch: -1 }, { fixed: 0, stretch: -1 }, { fixed: 0, stretch: o102 + 1 }, { fixed: 0, stretch: l30 + 1 }));
          return i68;
        }
        function iu(t88, e143, r62) {
          let n46 = 0;
          for (const i68 of t88)
            n46 += Math.max(e143, Math.min(r62, i68[1])) - Math.max(e143, Math.min(r62, i68[0]));
          return n46;
        }
        function su(t88, e143, r62) {
          const n46 = [{ fixed: -1, stretch: 0 }];
          for (const [e144, r63] of t88) {
            const t89 = n46[n46.length - 1];
            n46.push({ fixed: e144 - t89.stretch, stretch: t89.stretch }), n46.push({ fixed: e144 - t89.stretch, stretch: t89.stretch + (r63 - e144) });
          }
          return n46.push({ fixed: e143 + 1, stretch: r62 }), n46;
        }
        function au(t88, e143, r62, n46) {
          return t88 / e143 * r62 + n46;
        }
        function ou(t88, e143, r62, n46) {
          return t88 - e143 * r62 / n46;
        }
        kn("Anchor", Jl);
        class lu {
          constructor(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21) {
            if (this.boxStartIndex = t88.length, l30) {
              let t89 = s63.top, e144 = s63.bottom;
              const r63 = s63.collisionPadding;
              r63 && (t89 -= r63[1], e144 += r63[3]);
              let n47 = e144 - t89;
              n47 > 0 && (n47 = Math.max(10, n47), this.circleDiameter = n47);
            } else {
              let l31 = s63.top * a83 - o102, c23 = s63.bottom * a83 + o102, h13 = s63.left * a83 - o102, p18 = s63.right * a83 + o102;
              const f22 = s63.collisionPadding;
              if (f22 && (h13 -= f22[0] * a83, l31 -= f22[1] * a83, p18 += f22[2] * a83, c23 += f22[3] * a83), u21) {
                const t89 = new S(h13, l31), e144 = new S(p18, l31), r63 = new S(h13, c23), n47 = new S(p18, c23), i69 = u21 * Math.PI / 180;
                t89._rotate(i69), e144._rotate(i69), r63._rotate(i69), n47._rotate(i69), h13 = Math.min(t89.x, e144.x, r63.x, n47.x), p18 = Math.max(t89.x, e144.x, r63.x, n47.x), l31 = Math.min(t89.y, e144.y, r63.y, n47.y), c23 = Math.max(t89.y, e144.y, r63.y, n47.y);
              }
              t88.emplaceBack(e143.x, e143.y, h13, l31, p18, c23, r62, n46, i68);
            }
            this.boxEndIndex = t88.length;
          }
        }
        class uu {
          constructor(t88 = [], e143 = cu) {
            if (this.data = t88, this.length = this.data.length, this.compare = e143, this.length > 0)
              for (let t89 = (this.length >> 1) - 1; t89 >= 0; t89--)
                this._down(t89);
          }
          push(t88) {
            this.data.push(t88), this.length++, this._up(this.length - 1);
          }
          pop() {
            if (0 === this.length)
              return;
            const t88 = this.data[0], e143 = this.data.pop();
            return this.length--, this.length > 0 && (this.data[0] = e143, this._down(0)), t88;
          }
          peek() {
            return this.data[0];
          }
          _up(t88) {
            const { data: e143, compare: r62 } = this, n46 = e143[t88];
            for (; t88 > 0; ) {
              const i68 = t88 - 1 >> 1, s63 = e143[i68];
              if (r62(n46, s63) >= 0)
                break;
              e143[t88] = s63, t88 = i68;
            }
            e143[t88] = n46;
          }
          _down(t88) {
            const { data: e143, compare: r62 } = this, n46 = this.length >> 1, i68 = e143[t88];
            for (; t88 < n46; ) {
              let n47 = 1 + (t88 << 1), s63 = e143[n47];
              const a83 = n47 + 1;
              if (a83 < this.length && r62(e143[a83], s63) < 0 && (n47 = a83, s63 = e143[a83]), r62(s63, i68) >= 0)
                break;
              e143[t88] = s63, t88 = n47;
            }
            e143[t88] = i68;
          }
        }
        function cu(t88, e143) {
          return t88 < e143 ? -1 : t88 > e143 ? 1 : 0;
        }
        function hu(t88, e143 = 1, r62 = false) {
          let n46 = 1 / 0, i68 = 1 / 0, s63 = -1 / 0, a83 = -1 / 0;
          const o102 = t88[0];
          for (let t89 = 0; t89 < o102.length; t89++) {
            const e144 = o102[t89];
            (!t89 || e144.x < n46) && (n46 = e144.x), (!t89 || e144.y < i68) && (i68 = e144.y), (!t89 || e144.x > s63) && (s63 = e144.x), (!t89 || e144.y > a83) && (a83 = e144.y);
          }
          const l30 = Math.min(s63 - n46, a83 - i68);
          let u21 = l30 / 2;
          const c23 = new uu([], pu);
          if (0 === l30)
            return new S(n46, i68);
          for (let e144 = n46; e144 < s63; e144 += l30)
            for (let r63 = i68; r63 < a83; r63 += l30)
              c23.push(new fu(e144 + u21, r63 + u21, u21, t88));
          let h13 = function(t89) {
            let e144 = 0, r63 = 0, n47 = 0;
            const i69 = t89[0];
            for (let t90 = 0, s64 = i69.length, a84 = s64 - 1; t90 < s64; a84 = t90++) {
              const s65 = i69[t90], o103 = i69[a84], l31 = s65.x * o103.y - o103.x * s65.y;
              r63 += (s65.x + o103.x) * l31, n47 += (s65.y + o103.y) * l31, e144 += 3 * l31;
            }
            return new fu(r63 / e144, n47 / e144, 0, t89);
          }(t88), p18 = c23.length;
          for (; c23.length; ) {
            const n47 = c23.pop();
            (n47.d > h13.d || !h13.d) && (h13 = n47, r62 && console.log("found best %d after %d probes", Math.round(1e4 * n47.d) / 1e4, p18)), n47.max - h13.d <= e143 || (u21 = n47.h / 2, c23.push(new fu(n47.p.x - u21, n47.p.y - u21, u21, t88)), c23.push(new fu(n47.p.x + u21, n47.p.y - u21, u21, t88)), c23.push(new fu(n47.p.x - u21, n47.p.y + u21, u21, t88)), c23.push(new fu(n47.p.x + u21, n47.p.y + u21, u21, t88)), p18 += 4);
          }
          return r62 && (console.log(`num probes: ${p18}`), console.log(`best distance: ${h13.d}`)), h13.p;
        }
        function pu(t88, e143) {
          return e143.max - t88.max;
        }
        function fu(t88, e143, r62, n46) {
          this.p = new S(t88, e143), this.h = r62, this.d = function(t89, e144) {
            let r63 = false, n47 = 1 / 0;
            for (let i68 = 0; i68 < e144.length; i68++) {
              const s63 = e144[i68];
              for (let e145 = 0, i69 = s63.length, a83 = i69 - 1; e145 < i69; a83 = e145++) {
                const i70 = s63[e145], o102 = s63[a83];
                i70.y > t89.y != o102.y > t89.y && t89.x < (o102.x - i70.x) * (t89.y - i70.y) / (o102.y - i70.y) + i70.x && (r63 = !r63), n47 = Math.min(n47, Qs(t89, i70, o102));
              }
            }
            return (r63 ? 1 : -1) * Math.sqrt(n47);
          }(this.p, n46), this.max = this.d + this.h * Math.SQRT2;
        }
        const du = Number.POSITIVE_INFINITY;
        function yu(t88, e143) {
          return e143[1] !== du ? function(t89, e144, r62) {
            let n46 = 0, i68 = 0;
            switch (e144 = Math.abs(e144), r62 = Math.abs(r62), t89) {
              case "top-right":
              case "top-left":
              case "top":
                i68 = r62 - 7;
                break;
              case "bottom-right":
              case "bottom-left":
              case "bottom":
                i68 = 7 - r62;
            }
            switch (t89) {
              case "top-right":
              case "bottom-right":
              case "right":
                n46 = -e144;
                break;
              case "top-left":
              case "bottom-left":
              case "left":
                n46 = e144;
            }
            return [n46, i68];
          }(t88, e143[0], e143[1]) : function(t89, e144) {
            let r62 = 0, n46 = 0;
            e144 < 0 && (e144 = 0);
            const i68 = e144 / Math.sqrt(2);
            switch (t89) {
              case "top-right":
              case "top-left":
                n46 = i68 - 7;
                break;
              case "bottom-right":
              case "bottom-left":
                n46 = 7 - i68;
                break;
              case "bottom":
                n46 = 7 - e144;
                break;
              case "top":
                n46 = e144 - 7;
            }
            switch (t89) {
              case "top-right":
              case "bottom-right":
                r62 = -i68;
                break;
              case "top-left":
              case "bottom-left":
                r62 = i68;
                break;
              case "left":
                r62 = e144;
                break;
              case "right":
                r62 = -e144;
            }
            return [r62, n46];
          }(t88, e143[0]);
        }
        function mu(t88) {
          switch (t88) {
            case "right":
            case "top-right":
            case "bottom-right":
              return "right";
            case "left":
            case "top-left":
            case "bottom-left":
              return "left";
          }
          return "center";
        }
        function gu(e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13) {
          let p18 = a83.textMaxSize.evaluate(r62, {});
          void 0 === p18 && (p18 = o102);
          const f22 = e143.layers[0].layout, y10 = f22.get("icon-offset").evaluate(r62, {}, h13), m30 = bu(n46.horizontal), g15 = o102 / 24, x6 = e143.tilePixelRatio * g15, v6 = e143.tilePixelRatio * p18 / 24, b8 = e143.tilePixelRatio * l30, w4 = e143.tilePixelRatio * f22.get("symbol-spacing"), _4 = f22.get("text-padding") * e143.tilePixelRatio, A4 = f22.get("icon-padding") * e143.tilePixelRatio, k7 = f22.get("text-max-angle") / 180 * Math.PI, S2 = "viewport" !== f22.get("text-rotation-alignment") && "point" !== f22.get("symbol-placement"), z3 = "map" === f22.get("icon-rotation-alignment") && "point" !== f22.get("symbol-placement"), I3 = f22.get("symbol-placement"), M5 = w4 / 2, B3 = f22.get("icon-text-fit");
          let C8;
          i68 && "none" !== B3 && (e143.allowVerticalPlacement && n46.vertical && (C8 = Kl(i68, n46.vertical, B3, f22.get("icon-text-fit-padding"), y10, g15)), m30 && (i68 = Kl(i68, m30, B3, f22.get("icon-text-fit-padding"), y10, g15)));
          const P3 = (l31, p19) => {
            p19.x < 0 || p19.x >= Rs || p19.y < 0 || p19.y >= Rs || function(e144, r63, n47, i69, s64, a84, o103, l32, u22, c24, h14, p20, f23, y11, m31, g16, x7, v7, b9, w5, _5, A5, k8, S3, z4) {
              const I4 = e144.addToLineVertexArray(r63, n47);
              let M6, B4, C9, P4, V3 = 0, E5 = 0, F5 = 0, T3 = 0, L2 = -1, D4 = -1;
              const $2 = {};
              let R2 = vs(""), U3 = 0, O3 = 0;
              if (void 0 === l32._unevaluatedLayout.getValue("text-radial-offset") ? [U3, O3] = l32.layout.get("text-offset").evaluate(_5, {}, S3).map((t88) => t88 * tl) : (U3 = l32.layout.get("text-radial-offset").evaluate(_5, {}, S3) * tl, O3 = du), e144.allowVerticalPlacement && i69.vertical) {
                const t88 = l32.layout.get("text-rotate").evaluate(_5, {}, S3) + 90;
                C9 = new lu(u22, r63, c24, h14, p20, i69.vertical, f23, y11, m31, t88), o103 && (P4 = new lu(u22, r63, c24, h14, p20, o103, x7, v7, m31, t88));
              }
              if (s64) {
                const n48 = l32.layout.get("icon-rotate").evaluate(_5, {}), i70 = "none" !== l32.layout.get("icon-text-fit"), a85 = nu(s64, n48, k8, i70), f24 = o103 ? nu(o103, n48, k8, i70) : void 0;
                B4 = new lu(u22, r63, c24, h14, p20, s64, x7, v7, false, n48), V3 = 4 * a85.length;
                const y12 = e144.iconSizeData;
                let m32 = null;
                "source" === y12.kind ? (m32 = [Zl * l32.layout.get("icon-size").evaluate(_5, {})], m32[0] > xu && d10(`${e144.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)) : "composite" === y12.kind && (m32 = [Zl * A5.compositeIconSizes[0].evaluate(_5, {}, S3), Zl * A5.compositeIconSizes[1].evaluate(_5, {}, S3)], (m32[0] > xu || m32[1] > xu) && d10(`${e144.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)), e144.addSymbols(e144.icon, a85, m32, w5, b9, _5, t87.WritingMode.none, r63, I4.lineStartIndex, I4.lineLength, -1, S3), L2 = e144.icon.placedSymbolArray.length - 1, f24 && (E5 = 4 * f24.length, e144.addSymbols(e144.icon, f24, m32, w5, b9, _5, t87.WritingMode.vertical, r63, I4.lineStartIndex, I4.lineLength, -1, S3), D4 = e144.icon.placedSymbolArray.length - 1);
              }
              const q4 = Object.keys(i69.horizontal);
              for (const n48 of q4) {
                const s65 = i69.horizontal[n48];
                if (!M6) {
                  R2 = vs(s65.text);
                  const t88 = l32.layout.get("text-rotate").evaluate(_5, {}, S3);
                  M6 = new lu(u22, r63, c24, h14, p20, s65, f23, y11, m31, t88);
                }
                const o104 = 1 === s65.positionedLines.length;
                if (F5 += vu(e144, r63, s65, a84, l32, m31, _5, g16, I4, i69.vertical ? t87.WritingMode.horizontal : t87.WritingMode.horizontalOnly, o104 ? q4 : [n48], $2, L2, A5, S3), o104)
                  break;
              }
              i69.vertical && (T3 += vu(e144, r63, i69.vertical, a84, l32, m31, _5, g16, I4, t87.WritingMode.vertical, ["vertical"], $2, D4, A5, S3));
              const j8 = M6 ? M6.boxStartIndex : e144.collisionBoxArray.length, N6 = M6 ? M6.boxEndIndex : e144.collisionBoxArray.length, K2 = C9 ? C9.boxStartIndex : e144.collisionBoxArray.length, Z2 = C9 ? C9.boxEndIndex : e144.collisionBoxArray.length, G2 = B4 ? B4.boxStartIndex : e144.collisionBoxArray.length, J2 = B4 ? B4.boxEndIndex : e144.collisionBoxArray.length, X2 = P4 ? P4.boxStartIndex : e144.collisionBoxArray.length, Y2 = P4 ? P4.boxEndIndex : e144.collisionBoxArray.length;
              let H2 = -1;
              const W2 = (t88, e145) => t88 && t88.circleDiameter ? Math.max(t88.circleDiameter, e145) : e145;
              H2 = W2(M6, H2), H2 = W2(C9, H2), H2 = W2(B4, H2), H2 = W2(P4, H2);
              const Q2 = H2 > -1 ? 1 : 0;
              Q2 && (H2 *= z4 / tl), e144.glyphOffsetArray.length >= Bu.MAX_GLYPHS && d10("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"), void 0 !== _5.sortKey && e144.addToSortKeyRanges(e144.symbolInstances.length, _5.sortKey), e144.symbolInstances.emplaceBack(r63.x, r63.y, $2.right >= 0 ? $2.right : -1, $2.center >= 0 ? $2.center : -1, $2.left >= 0 ? $2.left : -1, $2.vertical || -1, L2, D4, R2, j8, N6, K2, Z2, G2, J2, X2, Y2, c24, F5, T3, V3, E5, Q2, 0, f23, U3, O3, H2);
            }(e143, p19, l31, n46, i68, s63, C8, e143.layers[0], e143.collisionBoxArray, r62.index, r62.sourceLayerIndex, e143.index, x6, _4, S2, u21, b8, A4, z3, y10, r62, a83, c23, h13, o102);
          };
          if ("line" === I3)
            for (const t88 of ru(r62.geometry, 0, 0, Rs, Rs)) {
              const r63 = tu(t88, w4, k7, n46.vertical || m30, i68, 24, v6, e143.overscaling, Rs);
              for (const n47 of r63) {
                const r64 = m30;
                r64 && wu(e143, r64.text, M5, n47) || P3(t88, n47);
              }
            }
          else if ("line-center" === I3) {
            for (const t88 of r62.geometry)
              if (t88.length > 1) {
                const e144 = Ql(t88, k7, n46.vertical || m30, i68, 24, v6);
                e144 && P3(t88, e144);
              }
          } else if ("Polygon" === r62.type)
            for (const t88 of io(r62.geometry, 0)) {
              const e144 = hu(t88, 16);
              P3(t88[0], new Jl(e144.x, e144.y, 0));
            }
          else if ("LineString" === r62.type)
            for (const t88 of r62.geometry)
              P3(t88, new Jl(t88[0].x, t88[0].y, 0));
          else if ("Point" === r62.type)
            for (const t88 of r62.geometry)
              for (const e144 of t88)
                P3([e144], new Jl(e144.x, e144.y, 0));
        }
        const xu = 32640;
        function vu(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, y10) {
          const m30 = function(t89, e144, r63, n47, i69, s64, a84, o103) {
            const l31 = n47.layout.get("text-rotate").evaluate(s64, {}) * Math.PI / 180, u22 = [];
            for (const t90 of e144.positionedLines)
              for (const n48 of t90.positionedGlyphs) {
                if (!n48.rect)
                  continue;
                const s65 = n48.rect || {};
                let c24 = 4, h14 = true, p19 = 1, f23 = 0;
                const d11 = (i69 || o103) && n48.vertical, y11 = n48.metrics.advance * n48.scale / 2;
                if (o103 && e144.verticalizable) {
                  const e145 = (n48.scale - 1) * tl, r64 = (tl - n48.metrics.width * n48.scale) / 2;
                  f23 = t90.lineOffset / 2 - (n48.imageName ? -r64 : e145);
                }
                if (n48.imageName) {
                  const t91 = a84[n48.imageName];
                  h14 = t91.sdf, p19 = t91.pixelRatio, c24 = 1 / p19;
                }
                const m31 = i69 ? [n48.x + y11, n48.y] : [0, 0];
                let g16 = i69 ? [0, 0] : [n48.x + y11 + r63[0], n48.y + r63[1] - f23], x7 = [0, 0];
                d11 && (x7 = g16, g16 = [0, 0]);
                const v6 = (n48.metrics.left - c24) * n48.scale - y11 + g16[0], b8 = (-n48.metrics.top - c24) * n48.scale + g16[1], w4 = v6 + s65.w * n48.scale / p19, _4 = b8 + s65.h * n48.scale / p19, A4 = new S(v6, b8), k7 = new S(w4, b8), z3 = new S(v6, _4), I3 = new S(w4, _4);
                if (d11) {
                  const t91 = new S(-y11, y11 - Cl), e145 = -Math.PI / 2, r64 = 12 - y11, i70 = new S(22 - r64, -(n48.imageName ? r64 : 0)), s66 = new S(...x7);
                  A4._rotateAround(e145, t91)._add(i70)._add(s66), k7._rotateAround(e145, t91)._add(i70)._add(s66), z3._rotateAround(e145, t91)._add(i70)._add(s66), I3._rotateAround(e145, t91)._add(i70)._add(s66);
                }
                if (l31) {
                  const t91 = Math.sin(l31), e145 = Math.cos(l31), r64 = [e145, -t91, t91, e145];
                  A4._matMult(r64), k7._matMult(r64), z3._matMult(r64), I3._matMult(r64);
                }
                const M5 = new S(0, 0), B3 = new S(0, 0);
                u22.push({ tl: A4, tr: k7, bl: z3, br: I3, tex: s65, writingMode: e144.writingMode, glyphOffset: m31, sectionIndex: n48.sectionIndex, isSDF: h14, pixelOffsetTL: M5, pixelOffsetBR: B3, minFontScaleX: 0, minFontScaleY: 0 });
              }
            return u22;
          }(0, r62, o102, i68, s63, a83, n46, t88.allowVerticalPlacement), g15 = t88.textSizeData;
          let x6 = null;
          "source" === g15.kind ? (x6 = [Zl * i68.layout.get("text-size").evaluate(a83, {})], x6[0] > xu && d10(`${t88.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)) : "composite" === g15.kind && (x6 = [Zl * f22.compositeTextSizes[0].evaluate(a83, {}, y10), Zl * f22.compositeTextSizes[1].evaluate(a83, {}, y10)], (x6[0] > xu || x6[1] > xu) && d10(`${t88.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)), t88.addSymbols(t88.text, m30, x6, o102, s63, a83, u21, e143, l30.lineStartIndex, l30.lineLength, p18, y10);
          for (const e144 of c23)
            h13[e144] = t88.text.placedSymbolArray.length - 1;
          return 4 * m30.length;
        }
        function bu(t88) {
          for (const e143 in t88)
            return t88[e143];
          return null;
        }
        function wu(t88, e143, r62, n46) {
          const i68 = t88.compareText;
          if (e143 in i68) {
            const t89 = i68[e143];
            for (let e144 = t89.length - 1; e144 >= 0; e144--)
              if (n46.dist(t89[e144]) < r62)
                return true;
          } else
            i68[e143] = [];
          return i68[e143].push(n46), false;
        }
        const _u = fo.VectorTileFeature.types, Au = [{ name: "a_fade_opacity", components: 1, type: "Uint8", offset: 0 }];
        function ku(t88, e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18) {
          const f22 = o102 ? Math.min(xu, Math.round(o102[0])) : 0, d11 = o102 ? Math.min(xu, Math.round(o102[1])) : 0;
          t88.emplaceBack(e143, r62, Math.round(32 * n46), Math.round(32 * i68), s63, a83, (f22 << 1) + (l30 ? 1 : 0), d11, 16 * u21, 16 * c23, 256 * h13, 256 * p18);
        }
        function Su(t88, e143, r62) {
          t88.emplaceBack(e143.x, e143.y, r62), t88.emplaceBack(e143.x, e143.y, r62), t88.emplaceBack(e143.x, e143.y, r62), t88.emplaceBack(e143.x, e143.y, r62);
        }
        function zu(t88) {
          for (const e143 of t88.sections)
            if (Dn(e143.text))
              return true;
          return false;
        }
        class Iu {
          constructor(t88) {
            this.layoutVertexArray = new rs(), this.indexArray = new os(), this.programConfigurations = t88, this.segments = new hs(), this.dynamicLayoutVertexArray = new ns(), this.opacityVertexArray = new is(), this.placedSymbolArray = new ji();
          }
          isEmpty() {
            return 0 === this.layoutVertexArray.length && 0 === this.indexArray.length && 0 === this.dynamicLayoutVertexArray.length && 0 === this.opacityVertexArray.length;
          }
          upload(t88, e143, r62, n46) {
            this.isEmpty() || (r62 && (this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, Go.members), this.indexBuffer = t88.createIndexBuffer(this.indexArray, e143), this.dynamicLayoutVertexBuffer = t88.createVertexBuffer(this.dynamicLayoutVertexArray, Jo.members, true), this.opacityVertexBuffer = t88.createVertexBuffer(this.opacityVertexArray, Au, true), this.opacityVertexBuffer.itemSize = 1), (r62 || n46) && this.programConfigurations.upload(t88));
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.dynamicLayoutVertexBuffer.destroy(), this.opacityVertexBuffer.destroy());
          }
        }
        kn("SymbolBuffers", Iu);
        class Mu {
          constructor(t88, e143, r62) {
            this.layoutVertexArray = new t88(), this.layoutAttributes = e143, this.indexArray = new r62(), this.segments = new hs(), this.collisionVertexArray = new as();
          }
          upload(t88) {
            this.layoutVertexBuffer = t88.createVertexBuffer(this.layoutVertexArray, this.layoutAttributes), this.indexBuffer = t88.createIndexBuffer(this.indexArray), this.collisionVertexBuffer = t88.createVertexBuffer(this.collisionVertexArray, Xo.members, true);
          }
          destroy() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.segments.destroy(), this.collisionVertexBuffer.destroy());
          }
        }
        kn("CollisionBuffers", Mu);
        class Bu {
          constructor(e143) {
            this.collisionBoxArray = e143.collisionBoxArray, this.zoom = e143.zoom, this.overscaling = e143.overscaling, this.layers = e143.layers, this.layerIds = this.layers.map((t88) => t88.id), this.index = e143.index, this.pixelRatio = e143.pixelRatio, this.sourceLayerIndex = e143.sourceLayerIndex, this.hasPattern = false, this.hasRTLText = false, this.sortKeyRanges = [], this.collisionCircleArray = [], this.placementInvProjMatrix = ua([]), this.placementViewportMatrix = ua([]);
            const r62 = this.layers[0]._unevaluatedLayout._values;
            this.textSizeData = Gl(this.zoom, r62["text-size"]), this.iconSizeData = Gl(this.zoom, r62["icon-size"]);
            const n46 = this.layers[0].layout, i68 = n46.get("symbol-sort-key"), s63 = n46.get("symbol-z-order");
            this.canOverlap = "never" !== Fu(n46, "text-overlap", "text-allow-overlap") || "never" !== Fu(n46, "icon-overlap", "icon-allow-overlap") || n46.get("text-ignore-placement") || n46.get("icon-ignore-placement"), this.sortFeaturesByKey = "viewport-y" !== s63 && !i68.isConstant(), this.sortFeaturesByY = ("viewport-y" === s63 || "auto" === s63 && !this.sortFeaturesByKey) && this.canOverlap, "point" === n46.get("symbol-placement") && (this.writingModes = n46.get("text-writing-mode").map((e144) => t87.WritingMode[e144])), this.stateDependentLayerIds = this.layers.filter((t88) => t88.isStateDependent()).map((t88) => t88.id), this.sourceID = e143.sourceID;
          }
          createArrays() {
            this.text = new Iu(new Ls(this.layers, this.zoom, (t88) => /^text/.test(t88))), this.icon = new Iu(new Ls(this.layers, this.zoom, (t88) => /^icon/.test(t88))), this.glyphOffsetArray = new Zi(), this.lineVertexArray = new Gi(), this.symbolInstances = new Ki();
          }
          calculateGlyphDependencies(t88, e143, r62, n46, i68) {
            for (let s63 = 0; s63 < t88.length; s63++)
              if (e143[t88.charCodeAt(s63)] = true, (r62 || n46) && i68) {
                const r63 = Qo[t88.charAt(s63)];
                r63 && (e143[r63.charCodeAt(0)] = true);
              }
          }
          populate(e143, r62, n46) {
            const i68 = this.layers[0], s63 = i68.layout, a83 = s63.get("text-font"), o102 = s63.get("text-field"), l30 = s63.get("icon-image"), u21 = ("constant" !== o102.value.kind || o102.value.value instanceof Lt && !o102.value.value.isEmpty() || o102.value.value.toString().length > 0) && ("constant" !== a83.value.kind || a83.value.value.length > 0), c23 = "constant" !== l30.value.kind || !!l30.value.value || Object.keys(l30.parameters).length > 0, h13 = s63.get("symbol-sort-key");
            if (this.features = [], !u21 && !c23)
              return;
            const p18 = r62.iconDependencies, f22 = r62.glyphDependencies, d11 = r62.availableImages, y10 = new Yn(this.zoom);
            for (const { feature: r63, id: o103, index: l31, sourceLayerIndex: m30 } of e143) {
              const e144 = i68._featureFilter.needGeometry, g15 = js(r63, e144);
              if (!i68._featureFilter.filter(y10, g15, n46))
                continue;
              let x6, v6;
              if (e144 || (g15.geometry = qs(r63)), u21) {
                const t88 = i68.getValueAndResolveTokens("text-field", g15, n46, d11), e145 = Lt.factory(t88);
                zu(e145) && (this.hasRTLText = true), (!this.hasRTLText || "unavailable" === Gn() || this.hasRTLText && Xn.isParsed()) && (x6 = Wo(e145, i68, g15));
              }
              if (c23) {
                const t88 = i68.getValueAndResolveTokens("icon-image", g15, n46, d11);
                v6 = t88 instanceof Dt ? t88 : Dt.fromString(t88);
              }
              if (!x6 && !v6)
                continue;
              const b8 = this.sortFeaturesByKey ? h13.evaluate(g15, {}, n46) : void 0;
              if (this.features.push({ id: o103, text: x6, icon: v6, index: l31, sourceLayerIndex: m30, geometry: g15.geometry, properties: r63.properties, type: _u[r63.type], sortKey: b8 }), v6 && (p18[v6.name] = true), x6) {
                const e145 = a83.evaluate(g15, {}, n46).join(","), r64 = "viewport" !== s63.get("text-rotation-alignment") && "point" !== s63.get("symbol-placement");
                this.allowVerticalPlacement = this.writingModes && this.writingModes.indexOf(t87.WritingMode.vertical) >= 0;
                for (const t88 of x6.sections)
                  if (t88.image)
                    p18[t88.image.name] = true;
                  else {
                    const n47 = Cn(x6.toString()), i69 = t88.fontStack || e145, s64 = f22[i69] = f22[i69] || {};
                    this.calculateGlyphDependencies(t88.text, s64, r64, this.allowVerticalPlacement, n47);
                  }
              }
            }
            "line" === s63.get("symbol-placement") && (this.features = function(t88) {
              const e144 = {}, r63 = {}, n47 = [];
              let i69 = 0;
              function s64(e145) {
                n47.push(t88[e145]), i69++;
              }
              function a84(t89, e145, i70) {
                const s65 = r63[t89];
                return delete r63[t89], r63[e145] = s65, n47[s65].geometry[0].pop(), n47[s65].geometry[0] = n47[s65].geometry[0].concat(i70[0]), s65;
              }
              function o103(t89, r64, i70) {
                const s65 = e144[r64];
                return delete e144[r64], e144[t89] = s65, n47[s65].geometry[0].shift(), n47[s65].geometry[0] = i70[0].concat(n47[s65].geometry[0]), s65;
              }
              function l31(t89, e145, r64) {
                const n48 = r64 ? e145[0][e145[0].length - 1] : e145[0][0];
                return `${t89}:${n48.x}:${n48.y}`;
              }
              for (let u22 = 0; u22 < t88.length; u22++) {
                const c24 = t88[u22], h14 = c24.geometry, p19 = c24.text ? c24.text.toString() : null;
                if (!p19) {
                  s64(u22);
                  continue;
                }
                const f23 = l31(p19, h14), d12 = l31(p19, h14, true);
                if (f23 in r63 && d12 in e144 && r63[f23] !== e144[d12]) {
                  const t89 = o103(f23, d12, h14), i70 = a84(f23, d12, n47[t89].geometry);
                  delete e144[f23], delete r63[d12], r63[l31(p19, n47[i70].geometry, true)] = i70, n47[t89].geometry = null;
                } else
                  f23 in r63 ? a84(f23, d12, h14) : d12 in e144 ? o103(f23, d12, h14) : (s64(u22), e144[f23] = i69 - 1, r63[d12] = i69 - 1);
              }
              return n47.filter((t89) => t89.geometry);
            }(this.features)), this.sortFeaturesByKey && this.features.sort((t88, e144) => t88.sortKey - e144.sortKey);
          }
          update(t88, e143, r62) {
            this.stateDependentLayers.length && (this.text.programConfigurations.updatePaintArrays(t88, e143, this.layers, r62), this.icon.programConfigurations.updatePaintArrays(t88, e143, this.layers, r62));
          }
          isEmpty() {
            return 0 === this.symbolInstances.length && !this.hasRTLText;
          }
          uploadPending() {
            return !this.uploaded || this.text.programConfigurations.needsUpload || this.icon.programConfigurations.needsUpload;
          }
          upload(t88) {
            !this.uploaded && this.hasDebugData() && (this.textCollisionBox.upload(t88), this.iconCollisionBox.upload(t88)), this.text.upload(t88, this.sortFeaturesByY, !this.uploaded, this.text.programConfigurations.needsUpload), this.icon.upload(t88, this.sortFeaturesByY, !this.uploaded, this.icon.programConfigurations.needsUpload), this.uploaded = true;
          }
          destroyDebugData() {
            this.textCollisionBox.destroy(), this.iconCollisionBox.destroy();
          }
          destroy() {
            this.text.destroy(), this.icon.destroy(), this.hasDebugData() && this.destroyDebugData();
          }
          addToLineVertexArray(t88, e143) {
            const r62 = this.lineVertexArray.length;
            if (void 0 !== t88.segment) {
              let r63 = t88.dist(e143[t88.segment + 1]), n46 = t88.dist(e143[t88.segment]);
              const i68 = {};
              for (let n47 = t88.segment + 1; n47 < e143.length; n47++)
                i68[n47] = { x: e143[n47].x, y: e143[n47].y, tileUnitDistanceFromAnchor: r63 }, n47 < e143.length - 1 && (r63 += e143[n47 + 1].dist(e143[n47]));
              for (let r64 = t88.segment || 0; r64 >= 0; r64--)
                i68[r64] = { x: e143[r64].x, y: e143[r64].y, tileUnitDistanceFromAnchor: n46 }, r64 > 0 && (n46 += e143[r64 - 1].dist(e143[r64]));
              for (let t89 = 0; t89 < e143.length; t89++) {
                const e144 = i68[t89];
                this.lineVertexArray.emplaceBack(e144.x, e144.y, e144.tileUnitDistanceFromAnchor);
              }
            }
            return { lineStartIndex: r62, lineLength: this.lineVertexArray.length - r62 };
          }
          addSymbols(e143, r62, n46, i68, s63, a83, o102, l30, u21, c23, h13, p18) {
            const f22 = e143.indexArray, d11 = e143.layoutVertexArray, y10 = e143.segments.prepareSegment(4 * r62.length, d11, f22, this.canOverlap ? a83.sortKey : void 0), m30 = this.glyphOffsetArray.length, g15 = y10.vertexLength, x6 = this.allowVerticalPlacement && o102 === t87.WritingMode.vertical ? Math.PI / 2 : 0, v6 = a83.text && a83.text.sections;
            for (let t88 = 0; t88 < r62.length; t88++) {
              const { tl: i69, tr: s64, bl: o103, br: u22, tex: c24, pixelOffsetTL: h14, pixelOffsetBR: m31, minFontScaleX: g16, minFontScaleY: b8, glyphOffset: w4, isSDF: _4, sectionIndex: A4 } = r62[t88], k7 = y10.vertexLength, S2 = w4[1];
              ku(d11, l30.x, l30.y, i69.x, S2 + i69.y, c24.x, c24.y, n46, _4, h14.x, h14.y, g16, b8), ku(d11, l30.x, l30.y, s64.x, S2 + s64.y, c24.x + c24.w, c24.y, n46, _4, m31.x, h14.y, g16, b8), ku(d11, l30.x, l30.y, o103.x, S2 + o103.y, c24.x, c24.y + c24.h, n46, _4, h14.x, m31.y, g16, b8), ku(d11, l30.x, l30.y, u22.x, S2 + u22.y, c24.x + c24.w, c24.y + c24.h, n46, _4, m31.x, m31.y, g16, b8), Su(e143.dynamicLayoutVertexArray, l30, x6), f22.emplaceBack(k7, k7 + 1, k7 + 2), f22.emplaceBack(k7 + 1, k7 + 2, k7 + 3), y10.vertexLength += 4, y10.primitiveLength += 2, this.glyphOffsetArray.emplaceBack(w4[0]), t88 !== r62.length - 1 && A4 === r62[t88 + 1].sectionIndex || e143.programConfigurations.populatePaintArrays(d11.length, a83, a83.index, {}, p18, v6 && v6[A4]);
            }
            e143.placedSymbolArray.emplaceBack(l30.x, l30.y, m30, this.glyphOffsetArray.length - m30, g15, u21, c23, l30.segment, n46 ? n46[0] : 0, n46 ? n46[1] : 0, i68[0], i68[1], o102, 0, false, 0, h13);
          }
          _addCollisionDebugVertex(t88, e143, r62, n46, i68, s63) {
            return e143.emplaceBack(0, 0), t88.emplaceBack(r62.x, r62.y, n46, i68, Math.round(s63.x), Math.round(s63.y));
          }
          addCollisionDebugVertices(t88, e143, r62, n46, i68, s63, a83) {
            const o102 = i68.segments.prepareSegment(4, i68.layoutVertexArray, i68.indexArray), l30 = o102.vertexLength, u21 = i68.layoutVertexArray, c23 = i68.collisionVertexArray, h13 = a83.anchorX, p18 = a83.anchorY;
            this._addCollisionDebugVertex(u21, c23, s63, h13, p18, new S(t88, e143)), this._addCollisionDebugVertex(u21, c23, s63, h13, p18, new S(r62, e143)), this._addCollisionDebugVertex(u21, c23, s63, h13, p18, new S(r62, n46)), this._addCollisionDebugVertex(u21, c23, s63, h13, p18, new S(t88, n46)), o102.vertexLength += 4;
            const f22 = i68.indexArray;
            f22.emplaceBack(l30, l30 + 1), f22.emplaceBack(l30 + 1, l30 + 2), f22.emplaceBack(l30 + 2, l30 + 3), f22.emplaceBack(l30 + 3, l30), o102.primitiveLength += 4;
          }
          addDebugCollisionBoxes(t88, e143, r62, n46) {
            for (let i68 = t88; i68 < e143; i68++) {
              const t89 = this.collisionBoxArray.get(i68);
              this.addCollisionDebugVertices(t89.x1, t89.y1, t89.x2, t89.y2, n46 ? this.textCollisionBox : this.iconCollisionBox, t89.anchorPoint, r62);
            }
          }
          generateCollisionDebugBuffers() {
            this.hasDebugData() && this.destroyDebugData(), this.textCollisionBox = new Mu(ss, Yo.members, ls), this.iconCollisionBox = new Mu(ss, Yo.members, ls);
            for (let t88 = 0; t88 < this.symbolInstances.length; t88++) {
              const e143 = this.symbolInstances.get(t88);
              this.addDebugCollisionBoxes(e143.textBoxStartIndex, e143.textBoxEndIndex, e143, true), this.addDebugCollisionBoxes(e143.verticalTextBoxStartIndex, e143.verticalTextBoxEndIndex, e143, true), this.addDebugCollisionBoxes(e143.iconBoxStartIndex, e143.iconBoxEndIndex, e143, false), this.addDebugCollisionBoxes(e143.verticalIconBoxStartIndex, e143.verticalIconBoxEndIndex, e143, false);
            }
          }
          _deserializeCollisionBoxesForSymbol(t88, e143, r62, n46, i68, s63, a83, o102, l30) {
            const u21 = {};
            for (let n47 = e143; n47 < r62; n47++) {
              const e144 = t88.get(n47);
              u21.textBox = { x1: e144.x1, y1: e144.y1, x2: e144.x2, y2: e144.y2, anchorPointX: e144.anchorPointX, anchorPointY: e144.anchorPointY }, u21.textFeatureIndex = e144.featureIndex;
              break;
            }
            for (let e144 = n46; e144 < i68; e144++) {
              const r63 = t88.get(e144);
              u21.verticalTextBox = { x1: r63.x1, y1: r63.y1, x2: r63.x2, y2: r63.y2, anchorPointX: r63.anchorPointX, anchorPointY: r63.anchorPointY }, u21.verticalTextFeatureIndex = r63.featureIndex;
              break;
            }
            for (let e144 = s63; e144 < a83; e144++) {
              const r63 = t88.get(e144);
              u21.iconBox = { x1: r63.x1, y1: r63.y1, x2: r63.x2, y2: r63.y2, anchorPointX: r63.anchorPointX, anchorPointY: r63.anchorPointY }, u21.iconFeatureIndex = r63.featureIndex;
              break;
            }
            for (let e144 = o102; e144 < l30; e144++) {
              const r63 = t88.get(e144);
              u21.verticalIconBox = { x1: r63.x1, y1: r63.y1, x2: r63.x2, y2: r63.y2, anchorPointX: r63.anchorPointX, anchorPointY: r63.anchorPointY }, u21.verticalIconFeatureIndex = r63.featureIndex;
              break;
            }
            return u21;
          }
          deserializeCollisionBoxes(t88) {
            this.collisionArrays = [];
            for (let e143 = 0; e143 < this.symbolInstances.length; e143++) {
              const r62 = this.symbolInstances.get(e143);
              this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t88, r62.textBoxStartIndex, r62.textBoxEndIndex, r62.verticalTextBoxStartIndex, r62.verticalTextBoxEndIndex, r62.iconBoxStartIndex, r62.iconBoxEndIndex, r62.verticalIconBoxStartIndex, r62.verticalIconBoxEndIndex));
            }
          }
          hasTextData() {
            return this.text.segments.get().length > 0;
          }
          hasIconData() {
            return this.icon.segments.get().length > 0;
          }
          hasDebugData() {
            return this.textCollisionBox && this.iconCollisionBox;
          }
          hasTextCollisionBoxData() {
            return this.hasDebugData() && this.textCollisionBox.segments.get().length > 0;
          }
          hasIconCollisionBoxData() {
            return this.hasDebugData() && this.iconCollisionBox.segments.get().length > 0;
          }
          addIndicesForPlacedSymbol(t88, e143) {
            const r62 = t88.placedSymbolArray.get(e143), n46 = r62.vertexStartIndex + 4 * r62.numGlyphs;
            for (let e144 = r62.vertexStartIndex; e144 < n46; e144 += 4)
              t88.indexArray.emplaceBack(e144, e144 + 1, e144 + 2), t88.indexArray.emplaceBack(e144 + 1, e144 + 2, e144 + 3);
          }
          getSortedSymbolIndexes(t88) {
            if (this.sortedAngle === t88 && void 0 !== this.symbolInstanceIndexes)
              return this.symbolInstanceIndexes;
            const e143 = Math.sin(t88), r62 = Math.cos(t88), n46 = [], i68 = [], s63 = [];
            for (let t89 = 0; t89 < this.symbolInstances.length; ++t89) {
              s63.push(t89);
              const a83 = this.symbolInstances.get(t89);
              n46.push(0 | Math.round(e143 * a83.anchorX + r62 * a83.anchorY)), i68.push(a83.featureIndex);
            }
            return s63.sort((t89, e144) => n46[t89] - n46[e144] || i68[e144] - i68[t89]), s63;
          }
          addToSortKeyRanges(t88, e143) {
            const r62 = this.sortKeyRanges[this.sortKeyRanges.length - 1];
            r62 && r62.sortKey === e143 ? r62.symbolInstanceEnd = t88 + 1 : this.sortKeyRanges.push({ sortKey: e143, symbolInstanceStart: t88, symbolInstanceEnd: t88 + 1 });
          }
          sortFeatures(t88) {
            if (this.sortFeaturesByY && this.sortedAngle !== t88 && !(this.text.segments.get().length > 1 || this.icon.segments.get().length > 1)) {
              this.symbolInstanceIndexes = this.getSortedSymbolIndexes(t88), this.sortedAngle = t88, this.text.indexArray.clear(), this.icon.indexArray.clear(), this.featureSortOrder = [];
              for (const t89 of this.symbolInstanceIndexes) {
                const e143 = this.symbolInstances.get(t89);
                this.featureSortOrder.push(e143.featureIndex), [e143.rightJustifiedTextSymbolIndex, e143.centerJustifiedTextSymbolIndex, e143.leftJustifiedTextSymbolIndex].forEach((t90, e144, r62) => {
                  t90 >= 0 && r62.indexOf(t90) === e144 && this.addIndicesForPlacedSymbol(this.text, t90);
                }), e143.verticalPlacedTextSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.text, e143.verticalPlacedTextSymbolIndex), e143.placedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, e143.placedIconSymbolIndex), e143.verticalPlacedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, e143.verticalPlacedIconSymbolIndex);
              }
              this.text.indexBuffer && this.text.indexBuffer.updateData(this.text.indexArray), this.icon.indexBuffer && this.icon.indexBuffer.updateData(this.icon.indexArray);
            }
          }
        }
        kn("SymbolBucket", Bu, { omit: ["layers", "collisionBoxArray", "features", "compareText"] }), Bu.MAX_GLYPHS = 65535, Bu.addDynamicAttributes = Su;
        const Cu = new ci({ "symbol-placement": new si(nt.layout_symbol["symbol-placement"]), "symbol-spacing": new si(nt.layout_symbol["symbol-spacing"]), "symbol-avoid-edges": new si(nt.layout_symbol["symbol-avoid-edges"]), "symbol-sort-key": new ai(nt.layout_symbol["symbol-sort-key"]), "symbol-z-order": new si(nt.layout_symbol["symbol-z-order"]), "icon-allow-overlap": new si(nt.layout_symbol["icon-allow-overlap"]), "icon-overlap": new si(nt.layout_symbol["icon-overlap"]), "icon-ignore-placement": new si(nt.layout_symbol["icon-ignore-placement"]), "icon-optional": new si(nt.layout_symbol["icon-optional"]), "icon-rotation-alignment": new si(nt.layout_symbol["icon-rotation-alignment"]), "icon-size": new ai(nt.layout_symbol["icon-size"]), "icon-text-fit": new si(nt.layout_symbol["icon-text-fit"]), "icon-text-fit-padding": new si(nt.layout_symbol["icon-text-fit-padding"]), "icon-image": new ai(nt.layout_symbol["icon-image"]), "icon-rotate": new ai(nt.layout_symbol["icon-rotate"]), "icon-padding": new si(nt.layout_symbol["icon-padding"]), "icon-keep-upright": new si(nt.layout_symbol["icon-keep-upright"]), "icon-offset": new ai(nt.layout_symbol["icon-offset"]), "icon-anchor": new ai(nt.layout_symbol["icon-anchor"]), "icon-pitch-alignment": new si(nt.layout_symbol["icon-pitch-alignment"]), "text-pitch-alignment": new si(nt.layout_symbol["text-pitch-alignment"]), "text-rotation-alignment": new si(nt.layout_symbol["text-rotation-alignment"]), "text-field": new ai(nt.layout_symbol["text-field"]), "text-font": new ai(nt.layout_symbol["text-font"]), "text-size": new ai(nt.layout_symbol["text-size"]), "text-max-width": new ai(nt.layout_symbol["text-max-width"]), "text-line-height": new si(nt.layout_symbol["text-line-height"]), "text-letter-spacing": new ai(nt.layout_symbol["text-letter-spacing"]), "text-justify": new ai(nt.layout_symbol["text-justify"]), "text-radial-offset": new ai(nt.layout_symbol["text-radial-offset"]), "text-variable-anchor": new si(nt.layout_symbol["text-variable-anchor"]), "text-anchor": new ai(nt.layout_symbol["text-anchor"]), "text-max-angle": new si(nt.layout_symbol["text-max-angle"]), "text-writing-mode": new si(nt.layout_symbol["text-writing-mode"]), "text-rotate": new ai(nt.layout_symbol["text-rotate"]), "text-padding": new si(nt.layout_symbol["text-padding"]), "text-keep-upright": new si(nt.layout_symbol["text-keep-upright"]), "text-transform": new ai(nt.layout_symbol["text-transform"]), "text-offset": new ai(nt.layout_symbol["text-offset"]), "text-allow-overlap": new si(nt.layout_symbol["text-allow-overlap"]), "text-overlap": new si(nt.layout_symbol["text-overlap"]), "text-ignore-placement": new si(nt.layout_symbol["text-ignore-placement"]), "text-optional": new si(nt.layout_symbol["text-optional"]) });
        var Pu = { paint: new ci({ "icon-opacity": new ai(nt.paint_symbol["icon-opacity"]), "icon-color": new ai(nt.paint_symbol["icon-color"]), "icon-halo-color": new ai(nt.paint_symbol["icon-halo-color"]), "icon-halo-width": new ai(nt.paint_symbol["icon-halo-width"]), "icon-halo-blur": new ai(nt.paint_symbol["icon-halo-blur"]), "icon-translate": new si(nt.paint_symbol["icon-translate"]), "icon-translate-anchor": new si(nt.paint_symbol["icon-translate-anchor"]), "text-opacity": new ai(nt.paint_symbol["text-opacity"]), "text-color": new ai(nt.paint_symbol["text-color"], { runtimeType: yt, getOverride: (t88) => t88.textColor, hasOverride: (t88) => !!t88.textColor }), "text-halo-color": new ai(nt.paint_symbol["text-halo-color"]), "text-halo-width": new ai(nt.paint_symbol["text-halo-width"]), "text-halo-blur": new ai(nt.paint_symbol["text-halo-blur"]), "text-translate": new si(nt.paint_symbol["text-translate"]), "text-translate-anchor": new si(nt.paint_symbol["text-translate-anchor"]) }), layout: Cu };
        class Vu {
          constructor(t88) {
            this.type = t88.property.overrides ? t88.property.overrides.runtimeType : ht, this.defaultValue = t88;
          }
          evaluate(t88) {
            if (t88.formattedSection) {
              const e143 = this.defaultValue.property.overrides;
              if (e143 && e143.hasOverride(t88.formattedSection))
                return e143.getOverride(t88.formattedSection);
            }
            return t88.feature && t88.featureState ? this.defaultValue.evaluate(t88.feature, t88.featureState) : this.defaultValue.property.specification.default;
          }
          eachChild(t88) {
            this.defaultValue.isConstant() || t88(this.defaultValue.value._styleExpression.expression);
          }
          outputDefined() {
            return false;
          }
          serialize() {
            return null;
          }
        }
        kn("FormatSectionOverride", Vu, { omit: ["defaultValue"] });
        class Eu extends pi {
          constructor(t88) {
            super(t88, Pu);
          }
          recalculate(t88, e143) {
            if (super.recalculate(t88, e143), "auto" === this.layout.get("icon-rotation-alignment") && (this.layout._values["icon-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-rotation-alignment") && (this.layout._values["text-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-pitch-alignment") && (this.layout._values["text-pitch-alignment"] = "map" === this.layout.get("text-rotation-alignment") ? "map" : "viewport"), "auto" === this.layout.get("icon-pitch-alignment") && (this.layout._values["icon-pitch-alignment"] = this.layout.get("icon-rotation-alignment")), "point" === this.layout.get("symbol-placement")) {
              const t89 = this.layout.get("text-writing-mode");
              if (t89) {
                const e144 = [];
                for (const r62 of t89)
                  e144.indexOf(r62) < 0 && e144.push(r62);
                this.layout._values["text-writing-mode"] = e144;
              } else
                this.layout._values["text-writing-mode"] = ["horizontal"];
            }
            this._setPaintOverrides();
          }
          getValueAndResolveTokens(t88, e143, r62, n46) {
            const i68 = this.layout.get(t88).evaluate(e143, {}, r62, n46), s63 = this._unevaluatedLayout._values[t88];
            return s63.isDataDriven() || Pr(s63.value) || !i68 ? i68 : function(t89, e144) {
              return e144.replace(/{([^{}]+)}/g, (e145, r63) => r63 in t89 ? String(t89[r63]) : "");
            }(e143.properties, i68);
          }
          createBucket(t88) {
            return new Bu(t88);
          }
          queryRadius() {
            return 0;
          }
          queryIntersectsFeature() {
            return false;
          }
          _setPaintOverrides() {
            for (const t88 of Pu.paint.overridableProperties) {
              if (!Eu.hasPaintOverride(this.layout, t88))
                continue;
              const e143 = this.paint.get(t88), r62 = new Vu(e143), n46 = new Cr(r62, e143.property.specification);
              let i68 = null;
              i68 = "constant" === e143.value.kind || "source" === e143.value.kind ? new Er("source", n46) : new Fr("composite", n46, e143.value.zoomStops, e143.value._interpolationType), this.paint._values[t88] = new ni(e143.property, i68, e143.parameters);
            }
          }
          _handleOverridablePaintPropertyUpdate(t88, e143, r62) {
            return !(!this.layout || e143.isDataDriven() || r62.isDataDriven()) && Eu.hasPaintOverride(this.layout, t88);
          }
          static hasPaintOverride(t88, e143) {
            const r62 = t88.get("text-field"), n46 = Pu.paint.properties[e143];
            let i68 = false;
            const s63 = (t89) => {
              for (const e144 of t89)
                if (n46.overrides && n46.overrides.hasOverride(e144))
                  return void (i68 = true);
            };
            if ("constant" === r62.value.kind && r62.value.value instanceof Lt)
              s63(r62.value.value.sections);
            else if ("source" === r62.value.kind) {
              const t89 = (e145) => {
                i68 || (e145 instanceof qt && Ut(e145.value) === vt ? s63(e145.value.sections) : e145 instanceof Zt ? s63(e145.sections) : e145.eachChild(t89));
              }, e144 = r62.value;
              e144._styleExpression && t89(e144._styleExpression.expression);
            }
            return i68;
          }
        }
        function Fu(t88, e143, r62) {
          let n46 = "never";
          const i68 = t88.get(e143);
          return i68 ? n46 = i68 : t88.get(r62) && (n46 = "always"), n46;
        }
        var Tu = { paint: new ci({ "background-color": new si(nt.paint_background["background-color"]), "background-pattern": new li(nt.paint_background["background-pattern"]), "background-opacity": new si(nt.paint_background["background-opacity"]) }) }, Lu = { paint: new ci({ "raster-opacity": new si(nt.paint_raster["raster-opacity"]), "raster-hue-rotate": new si(nt.paint_raster["raster-hue-rotate"]), "raster-brightness-min": new si(nt.paint_raster["raster-brightness-min"]), "raster-brightness-max": new si(nt.paint_raster["raster-brightness-max"]), "raster-saturation": new si(nt.paint_raster["raster-saturation"]), "raster-contrast": new si(nt.paint_raster["raster-contrast"]), "raster-resampling": new si(nt.paint_raster["raster-resampling"]), "raster-fade-duration": new si(nt.paint_raster["raster-fade-duration"]) }) };
        class Du extends pi {
          constructor(t88) {
            super(t88, {}), this.onAdd = (t89) => {
              this.implementation.onAdd && this.implementation.onAdd(t89, t89.painter.context.gl);
            }, this.onRemove = (t89) => {
              this.implementation.onRemove && this.implementation.onRemove(t89, t89.painter.context.gl);
            }, this.implementation = t88;
          }
          is3D() {
            return "3d" === this.implementation.renderingMode;
          }
          hasOffscreenPass() {
            return void 0 !== this.implementation.prerender;
          }
          recalculate() {
          }
          updateTransitions() {
          }
          hasTransition() {
            return false;
          }
          serialize() {
          }
        }
        const $u = { circle: class extends pi {
          constructor(t88) {
            super(t88, oa);
          }
          createBucket(t88) {
            return new Ks(t88);
          }
          queryRadius(t88) {
            const e143 = t88;
            return na("circle-radius", this, e143) + na("circle-stroke-width", this, e143) + ia(this.paint.get("circle-translate"));
          }
          queryIntersectsFeature(t88, e143, r62, n46, i68, s63, a83, o102) {
            const l30 = sa(t88, this.paint.get("circle-translate"), this.paint.get("circle-translate-anchor"), s63.angle, a83), u21 = this.paint.get("circle-radius").evaluate(e143, r62) + this.paint.get("circle-stroke-width").evaluate(e143, r62), c23 = "map" === this.paint.get("circle-pitch-alignment"), h13 = c23 ? l30 : function(t89, e144) {
              return t89.map((t90) => da(t90, e144));
            }(l30, o102), p18 = c23 ? u21 * a83 : u21;
            for (const t89 of n46)
              for (const e144 of t89) {
                const t90 = c23 ? e144 : da(e144, o102);
                let r63 = p18;
                const n47 = fa([], [e144.x, e144.y, 0, 1], o102);
                if ("viewport" === this.paint.get("circle-pitch-scale") && "map" === this.paint.get("circle-pitch-alignment") ? r63 *= n47[3] / s63.cameraToCenterDistance : "map" === this.paint.get("circle-pitch-scale") && "viewport" === this.paint.get("circle-pitch-alignment") && (r63 *= s63.cameraToCenterDistance / n47[3]), Gs(h13, t90, r63))
                  return true;
              }
            return false;
          }
        }, heatmap: class extends pi {
          constructor(t88) {
            super(t88, ma), this._updateColorRamp();
          }
          createBucket(t88) {
            return new ya(t88);
          }
          _handleSpecialPaintPropertyUpdate(t88) {
            "heatmap-color" === t88 && this._updateColorRamp();
          }
          _updateColorRamp() {
            this.colorRamp = _a3({ expression: this._transitionablePaint._values["heatmap-color"].value.expression, evaluationKey: "heatmapDensity", image: this.colorRamp }), this.colorRampTexture = null;
          }
          resize() {
            this.heatmapFbo && (this.heatmapFbo.destroy(), this.heatmapFbo = null);
          }
          queryRadius() {
            return 0;
          }
          queryIntersectsFeature() {
            return false;
          }
          hasOffscreenPass() {
            return 0 !== this.paint.get("heatmap-opacity") && "none" !== this.visibility;
          }
        }, hillshade: class extends pi {
          constructor(t88) {
            super(t88, Aa);
          }
          hasOffscreenPass() {
            return 0 !== this.paint.get("hillshade-exaggeration") && "none" !== this.visibility;
          }
        }, fill: class extends pi {
          constructor(t88) {
            super(t88, co);
          }
          recalculate(t88, e143) {
            super.recalculate(t88, e143);
            const r62 = this.paint._values["fill-outline-color"];
            "constant" === r62.value.kind && void 0 === r62.value.value && (this.paint._values["fill-outline-color"] = this.paint._values["fill-color"]);
          }
          createBucket(t88) {
            return new lo(t88);
          }
          queryRadius() {
            return ia(this.paint.get("fill-translate"));
          }
          queryIntersectsFeature(t88, e143, r62, n46, i68, s63, a83) {
            return Js(sa(t88, this.paint.get("fill-translate"), this.paint.get("fill-translate-anchor"), s63.angle, a83), n46);
          }
          isTileClipped() {
            return true;
          }
        }, "fill-extrusion": class extends pi {
          constructor(t88) {
            super(t88, Vo);
          }
          createBucket(t88) {
            return new Bo(t88);
          }
          queryRadius() {
            return ia(this.paint.get("fill-extrusion-translate"));
          }
          is3D() {
            return true;
          }
          queryIntersectsFeature(t88, e143, r62, n46, i68, s63, a83, o102) {
            const l30 = sa(t88, this.paint.get("fill-extrusion-translate"), this.paint.get("fill-extrusion-translate-anchor"), s63.angle, a83), u21 = this.paint.get("fill-extrusion-height").evaluate(e143, r62), c23 = this.paint.get("fill-extrusion-base").evaluate(e143, r62), h13 = function(t89, e144, r63, n47) {
              const i69 = [];
              for (const r64 of t89) {
                const t90 = [r64.x, r64.y, 0, 1];
                fa(t90, t90, e144), i69.push(new S(t90[0] / t90[3], t90[1] / t90[3]));
              }
              return i69;
            }(l30, o102), p18 = function(t89, e144, r63, n47) {
              const i69 = [], s64 = [], a84 = n47[8] * e144, o103 = n47[9] * e144, l31 = n47[10] * e144, u22 = n47[11] * e144, c24 = n47[8] * r63, h14 = n47[9] * r63, p19 = n47[10] * r63, f22 = n47[11] * r63;
              for (const e145 of t89) {
                const t90 = [], r64 = [];
                for (const i70 of e145) {
                  const e146 = i70.x, s65 = i70.y, d11 = n47[0] * e146 + n47[4] * s65 + n47[12], y10 = n47[1] * e146 + n47[5] * s65 + n47[13], m30 = n47[2] * e146 + n47[6] * s65 + n47[14], g15 = n47[3] * e146 + n47[7] * s65 + n47[15], x6 = m30 + l31, v6 = g15 + u22, b8 = d11 + c24, w4 = y10 + h14, _4 = m30 + p19, A4 = g15 + f22, k7 = new S((d11 + a84) / v6, (y10 + o103) / v6);
                  k7.z = x6 / v6, t90.push(k7);
                  const z3 = new S(b8 / A4, w4 / A4);
                  z3.z = _4 / A4, r64.push(z3);
                }
                i69.push(t90), s64.push(r64);
              }
              return [i69, s64];
            }(n46, c23, u21, o102);
            return function(t89, e144, r63) {
              let n47 = 1 / 0;
              Js(r63, e144) && (n47 = Fo(r63, e144[0]));
              for (let i69 = 0; i69 < e144.length; i69++) {
                const s64 = e144[i69], a84 = t89[i69];
                for (let t90 = 0; t90 < s64.length - 1; t90++) {
                  const e145 = s64[t90], i70 = [e145, s64[t90 + 1], a84[t90 + 1], a84[t90], e145];
                  Zs(r63, i70) && (n47 = Math.min(n47, Fo(r63, i70)));
                }
              }
              return n47 !== 1 / 0 && n47;
            }(p18[0], p18[1], h13);
          }
        }, line: class extends pi {
          constructor(t88) {
            super(t88, No), this.gradientVersion = 0;
          }
          _handleSpecialPaintPropertyUpdate(t88) {
            "line-gradient" === t88 && (this.stepInterpolant = this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof ke, this.gradientVersion = (this.gradientVersion + 1) % Number.MAX_SAFE_INTEGER);
          }
          gradientExpression() {
            return this._transitionablePaint._values["line-gradient"].value.expression;
          }
          recalculate(t88, e143) {
            super.recalculate(t88, e143), this.paint._values["line-floorwidth"] = Ko.possiblyEvaluate(this._transitioningPaint._values["line-width"].value, t88);
          }
          createBucket(t88) {
            return new qo(t88);
          }
          queryRadius(t88) {
            const e143 = t88, r62 = Zo(na("line-width", this, e143), na("line-gap-width", this, e143)), n46 = na("line-offset", this, e143);
            return r62 / 2 + Math.abs(n46) + ia(this.paint.get("line-translate"));
          }
          queryIntersectsFeature(t88, e143, r62, n46, i68, s63, a83) {
            const o102 = sa(t88, this.paint.get("line-translate"), this.paint.get("line-translate-anchor"), s63.angle, a83), l30 = a83 / 2 * Zo(this.paint.get("line-width").evaluate(e143, r62), this.paint.get("line-gap-width").evaluate(e143, r62)), u21 = this.paint.get("line-offset").evaluate(e143, r62);
            return u21 && (n46 = function(t89, e144) {
              const r63 = [];
              for (let n47 = 0; n47 < t89.length; n47++) {
                const i69 = t89[n47], s64 = [];
                for (let t90 = 0; t90 < i69.length; t90++) {
                  const r64 = i69[t90 - 1], n48 = i69[t90], a84 = i69[t90 + 1], o103 = 0 === t90 ? new S(0, 0) : n48.sub(r64)._unit()._perp(), l31 = t90 === i69.length - 1 ? new S(0, 0) : a84.sub(n48)._unit()._perp(), u22 = o103._add(l31)._unit(), c23 = u22.x * l31.x + u22.y * l31.y;
                  0 !== c23 && u22._mult(1 / c23), s64.push(u22._mult(e144)._add(n48));
                }
                r63.push(s64);
              }
              return r63;
            }(n46, u21 * a83)), function(t89, e144, r63) {
              for (let n47 = 0; n47 < e144.length; n47++) {
                const i69 = e144[n47];
                if (t89.length >= 3) {
                  for (let e145 = 0; e145 < i69.length; e145++)
                    if (ea(t89, i69[e145]))
                      return true;
                }
                if (Xs(t89, i69, r63))
                  return true;
              }
              return false;
            }(o102, n46, l30);
          }
          isTileClipped() {
            return true;
          }
        }, symbol: Eu, background: class extends pi {
          constructor(t88) {
            super(t88, Tu);
          }
        }, raster: class extends pi {
          constructor(t88) {
            super(t88, Lu);
          }
        } };
        class Ru {
          constructor(t88) {
            this._callback = t88, this._triggered = false, "undefined" != typeof MessageChannel && (this._channel = new MessageChannel(), this._channel.port2.onmessage = () => {
              this._triggered = false, this._callback();
            });
          }
          trigger() {
            this._triggered || (this._triggered = true, this._channel ? this._channel.port1.postMessage(true) : setTimeout(() => {
              this._triggered = false, this._callback();
            }, 0));
          }
          remove() {
            delete this._channel, this._callback = () => {
            };
          }
        }
        const Uu = 63710088e-1;
        class Ou {
          constructor(t88, e143) {
            if (isNaN(t88) || isNaN(e143))
              throw new Error(`Invalid LngLat object: (${t88}, ${e143})`);
            if (this.lng = +t88, this.lat = +e143, this.lat > 90 || this.lat < -90)
              throw new Error("Invalid LngLat latitude value: must be between -90 and 90");
          }
          wrap() {
            return new Ou(a82(this.lng, -180, 180), this.lat);
          }
          toArray() {
            return [this.lng, this.lat];
          }
          toString() {
            return `LngLat(${this.lng}, ${this.lat})`;
          }
          distanceTo(t88) {
            const e143 = Math.PI / 180, r62 = this.lat * e143, n46 = t88.lat * e143, i68 = Math.sin(r62) * Math.sin(n46) + Math.cos(r62) * Math.cos(n46) * Math.cos((t88.lng - this.lng) * e143);
            return Uu * Math.acos(Math.min(i68, 1));
          }
          toBounds(t88 = 0) {
            const e143 = 360 * t88 / 40075017, r62 = e143 / Math.cos(Math.PI / 180 * this.lat);
            return new qu(new Ou(this.lng - r62, this.lat - e143), new Ou(this.lng + r62, this.lat + e143));
          }
          static convert(t88) {
            if (t88 instanceof Ou)
              return t88;
            if (Array.isArray(t88) && (2 === t88.length || 3 === t88.length))
              return new Ou(Number(t88[0]), Number(t88[1]));
            if (!Array.isArray(t88) && "object" == typeof t88 && null !== t88)
              return new Ou(Number("lng" in t88 ? t88.lng : t88.lon), Number(t88.lat));
            throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]");
          }
        }
        class qu {
          constructor(t88, e143) {
            t88 && (e143 ? this.setSouthWest(t88).setNorthEast(e143) : 4 === t88.length ? this.setSouthWest([t88[0], t88[1]]).setNorthEast([t88[2], t88[3]]) : this.setSouthWest(t88[0]).setNorthEast(t88[1]));
          }
          setNorthEast(t88) {
            return this._ne = t88 instanceof Ou ? new Ou(t88.lng, t88.lat) : Ou.convert(t88), this;
          }
          setSouthWest(t88) {
            return this._sw = t88 instanceof Ou ? new Ou(t88.lng, t88.lat) : Ou.convert(t88), this;
          }
          extend(t88) {
            const e143 = this._sw, r62 = this._ne;
            let n46, i68;
            if (t88 instanceof Ou)
              n46 = t88, i68 = t88;
            else {
              if (!(t88 instanceof qu))
                return Array.isArray(t88) ? 4 === t88.length || t88.every(Array.isArray) ? this.extend(qu.convert(t88)) : this.extend(Ou.convert(t88)) : this;
              if (n46 = t88._sw, i68 = t88._ne, !n46 || !i68)
                return this;
            }
            return e143 || r62 ? (e143.lng = Math.min(n46.lng, e143.lng), e143.lat = Math.min(n46.lat, e143.lat), r62.lng = Math.max(i68.lng, r62.lng), r62.lat = Math.max(i68.lat, r62.lat)) : (this._sw = new Ou(n46.lng, n46.lat), this._ne = new Ou(i68.lng, i68.lat)), this;
          }
          getCenter() {
            return new Ou((this._sw.lng + this._ne.lng) / 2, (this._sw.lat + this._ne.lat) / 2);
          }
          getSouthWest() {
            return this._sw;
          }
          getNorthEast() {
            return this._ne;
          }
          getNorthWest() {
            return new Ou(this.getWest(), this.getNorth());
          }
          getSouthEast() {
            return new Ou(this.getEast(), this.getSouth());
          }
          getWest() {
            return this._sw.lng;
          }
          getSouth() {
            return this._sw.lat;
          }
          getEast() {
            return this._ne.lng;
          }
          getNorth() {
            return this._ne.lat;
          }
          toArray() {
            return [this._sw.toArray(), this._ne.toArray()];
          }
          toString() {
            return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`;
          }
          isEmpty() {
            return !(this._sw && this._ne);
          }
          contains(t88) {
            const { lng: e143, lat: r62 } = Ou.convert(t88);
            let n46 = this._sw.lng <= e143 && e143 <= this._ne.lng;
            return this._sw.lng > this._ne.lng && (n46 = this._sw.lng >= e143 && e143 >= this._ne.lng), this._sw.lat <= r62 && r62 <= this._ne.lat && n46;
          }
          static convert(t88) {
            return t88 instanceof qu ? t88 : t88 ? new qu(t88) : t88;
          }
        }
        const ju = 2 * Math.PI * Uu;
        function Nu(t88) {
          return ju * Math.cos(t88 * Math.PI / 180);
        }
        function Ku(t88) {
          return (180 + t88) / 360;
        }
        function Zu(t88) {
          return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t88 * Math.PI / 360))) / 360;
        }
        function Gu(t88, e143) {
          return t88 / Nu(e143);
        }
        function Ju(t88) {
          return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * t88) * Math.PI / 180)) - 90;
        }
        class Xu {
          constructor(t88, e143, r62 = 0) {
            this.x = +t88, this.y = +e143, this.z = +r62;
          }
          static fromLngLat(t88, e143 = 0) {
            const r62 = Ou.convert(t88);
            return new Xu(Ku(r62.lng), Zu(r62.lat), Gu(e143, r62.lat));
          }
          toLngLat() {
            return new Ou(360 * this.x - 180, Ju(this.y));
          }
          toAltitude() {
            return this.z * Nu(Ju(this.y));
          }
          meterInMercatorCoordinateUnits() {
            return 1 / ju * (t88 = Ju(this.y), 1 / Math.cos(t88 * Math.PI / 180));
            var t88;
          }
        }
        function Yu(t88, e143, r62) {
          var n46 = 2 * Math.PI * 6378137 / 256 / Math.pow(2, r62);
          return [t88 * n46 - 2 * Math.PI * 6378137 / 2, e143 * n46 - 2 * Math.PI * 6378137 / 2];
        }
        class Hu {
          constructor(t88, e143, r62) {
            this.z = t88, this.x = e143, this.y = r62, this.key = tc(0, t88, t88, e143, r62);
          }
          equals(t88) {
            return this.z === t88.z && this.x === t88.x && this.y === t88.y;
          }
          url(t88, e143, r62) {
            const n46 = (s63 = this.y, a83 = this.z, o102 = Yu(256 * (i68 = this.x), 256 * (s63 = Math.pow(2, a83) - s63 - 1), a83), l30 = Yu(256 * (i68 + 1), 256 * (s63 + 1), a83), o102[0] + "," + o102[1] + "," + l30[0] + "," + l30[1]);
            var i68, s63, a83, o102, l30;
            const u21 = function(t89, e144, r63) {
              let n47, i69 = "";
              for (let s64 = t89; s64 > 0; s64--)
                n47 = 1 << s64 - 1, i69 += (e144 & n47 ? 1 : 0) + (r63 & n47 ? 2 : 0);
              return i69;
            }(this.z, this.x, this.y);
            return t88[(this.x + this.y) % t88.length].replace(/{prefix}/g, (this.x % 16).toString(16) + (this.y % 16).toString(16)).replace(/{z}/g, String(this.z)).replace(/{x}/g, String(this.x)).replace(/{y}/g, String("tms" === r62 ? Math.pow(2, this.z) - this.y - 1 : this.y)).replace(/{ratio}/g, e143 > 1 ? "@2x" : "").replace(/{quadkey}/g, u21).replace(/{bbox-epsg-3857}/g, n46);
          }
          getTilePoint(t88) {
            const e143 = Math.pow(2, this.z);
            return new S((t88.x * e143 - this.x) * Rs, (t88.y * e143 - this.y) * Rs);
          }
          toString() {
            return `${this.z}/${this.x}/${this.y}`;
          }
        }
        class Wu {
          constructor(t88, e143) {
            this.wrap = t88, this.canonical = e143, this.key = tc(t88, e143.z, e143.z, e143.x, e143.y);
          }
        }
        class Qu {
          constructor(t88, e143, r62, n46, i68) {
            this.overscaledZ = t88, this.wrap = e143, this.canonical = new Hu(r62, +n46, +i68), this.key = tc(e143, t88, r62, n46, i68);
          }
          equals(t88) {
            return this.overscaledZ === t88.overscaledZ && this.wrap === t88.wrap && this.canonical.equals(t88.canonical);
          }
          scaledTo(t88) {
            const e143 = this.canonical.z - t88;
            return t88 > this.canonical.z ? new Qu(t88, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y) : new Qu(t88, this.wrap, t88, this.canonical.x >> e143, this.canonical.y >> e143);
          }
          calculateScaledKey(t88, e143) {
            const r62 = this.canonical.z - t88;
            return t88 > this.canonical.z ? tc(this.wrap * +e143, t88, this.canonical.z, this.canonical.x, this.canonical.y) : tc(this.wrap * +e143, t88, t88, this.canonical.x >> r62, this.canonical.y >> r62);
          }
          isChildOf(t88) {
            if (t88.wrap !== this.wrap)
              return false;
            const e143 = this.canonical.z - t88.canonical.z;
            return 0 === t88.overscaledZ || t88.overscaledZ < this.overscaledZ && t88.canonical.x === this.canonical.x >> e143 && t88.canonical.y === this.canonical.y >> e143;
          }
          children(t88) {
            if (this.overscaledZ >= t88)
              return [new Qu(this.overscaledZ + 1, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)];
            const e143 = this.canonical.z + 1, r62 = 2 * this.canonical.x, n46 = 2 * this.canonical.y;
            return [new Qu(e143, this.wrap, e143, r62, n46), new Qu(e143, this.wrap, e143, r62 + 1, n46), new Qu(e143, this.wrap, e143, r62, n46 + 1), new Qu(e143, this.wrap, e143, r62 + 1, n46 + 1)];
          }
          isLessThan(t88) {
            return this.wrap < t88.wrap || !(this.wrap > t88.wrap) && (this.overscaledZ < t88.overscaledZ || !(this.overscaledZ > t88.overscaledZ) && (this.canonical.x < t88.canonical.x || !(this.canonical.x > t88.canonical.x) && this.canonical.y < t88.canonical.y));
          }
          wrapped() {
            return new Qu(this.overscaledZ, 0, this.canonical.z, this.canonical.x, this.canonical.y);
          }
          unwrapTo(t88) {
            return new Qu(this.overscaledZ, t88, this.canonical.z, this.canonical.x, this.canonical.y);
          }
          overscaleFactor() {
            return Math.pow(2, this.overscaledZ - this.canonical.z);
          }
          toUnwrapped() {
            return new Wu(this.wrap, this.canonical);
          }
          toString() {
            return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`;
          }
          getTilePoint(t88) {
            return this.canonical.getTilePoint(new Xu(t88.x - this.wrap, t88.y));
          }
        }
        function tc(t88, e143, r62, n46, i68) {
          (t88 *= 2) < 0 && (t88 = -1 * t88 - 1);
          const s63 = 1 << r62;
          return (s63 * s63 * t88 + s63 * i68 + n46).toString(36) + r62.toString(36) + e143.toString(36);
        }
        kn("CanonicalTileID", Hu), kn("OverscaledTileID", Qu, { omit: ["posMatrix"] });
        class ec {
          constructor(t88, e143, r62) {
            if (this.uid = t88, e143.height !== e143.width)
              throw new RangeError("DEM tiles must be square");
            if (r62 && "mapbox" !== r62 && "terrarium" !== r62)
              return void d10(`"${r62}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);
            this.stride = e143.height;
            const n46 = this.dim = e143.height - 2;
            this.data = new Uint32Array(e143.data.buffer), this.encoding = r62 || "mapbox";
            for (let t89 = 0; t89 < n46; t89++)
              this.data[this._idx(-1, t89)] = this.data[this._idx(0, t89)], this.data[this._idx(n46, t89)] = this.data[this._idx(n46 - 1, t89)], this.data[this._idx(t89, -1)] = this.data[this._idx(t89, 0)], this.data[this._idx(t89, n46)] = this.data[this._idx(t89, n46 - 1)];
            this.data[this._idx(-1, -1)] = this.data[this._idx(0, 0)], this.data[this._idx(n46, -1)] = this.data[this._idx(n46 - 1, 0)], this.data[this._idx(-1, n46)] = this.data[this._idx(0, n46 - 1)], this.data[this._idx(n46, n46)] = this.data[this._idx(n46 - 1, n46 - 1)];
          }
          get(t88, e143) {
            const r62 = new Uint8Array(this.data.buffer), n46 = 4 * this._idx(t88, e143);
            return ("terrarium" === this.encoding ? this._unpackTerrarium : this._unpackMapbox)(r62[n46], r62[n46 + 1], r62[n46 + 2]);
          }
          getUnpackVector() {
            return "terrarium" === this.encoding ? [256, 1, 1 / 256, 32768] : [6553.6, 25.6, 0.1, 1e4];
          }
          _idx(t88, e143) {
            if (t88 < -1 || t88 >= this.dim + 1 || e143 < -1 || e143 >= this.dim + 1)
              throw new RangeError("out of range source coordinates for DEM data");
            return (e143 + 1) * this.stride + (t88 + 1);
          }
          _unpackMapbox(t88, e143, r62) {
            return (256 * t88 * 256 + 256 * e143 + r62) / 10 - 1e4;
          }
          _unpackTerrarium(t88, e143, r62) {
            return 256 * t88 + e143 + r62 / 256 - 32768;
          }
          getPixels() {
            return new wa({ width: this.stride, height: this.stride }, new Uint8Array(this.data.buffer));
          }
          backfillBorder(t88, e143, r62) {
            if (this.dim !== t88.dim)
              throw new Error("dem dimension mismatch");
            let n46 = e143 * this.dim, i68 = e143 * this.dim + this.dim, s63 = r62 * this.dim, a83 = r62 * this.dim + this.dim;
            switch (e143) {
              case -1:
                n46 = i68 - 1;
                break;
              case 1:
                i68 = n46 + 1;
            }
            switch (r62) {
              case -1:
                s63 = a83 - 1;
                break;
              case 1:
                a83 = s63 + 1;
            }
            const o102 = -e143 * this.dim, l30 = -r62 * this.dim;
            for (let e144 = s63; e144 < a83; e144++)
              for (let r63 = n46; r63 < i68; r63++)
                this.data[this._idx(r63, e144)] = t88.data[this._idx(r63 + o102, e144 + l30)];
          }
        }
        kn("DEMData", ec);
        class rc {
          constructor(t88) {
            this._stringToNumber = {}, this._numberToString = [];
            for (let e143 = 0; e143 < t88.length; e143++) {
              const r62 = t88[e143];
              this._stringToNumber[r62] = e143, this._numberToString[e143] = r62;
            }
          }
          encode(t88) {
            return this._stringToNumber[t88];
          }
          decode(t88) {
            return this._numberToString[t88];
          }
        }
        class nc {
          constructor(t88, e143, r62, n46, i68) {
            this.type = "Feature", this._vectorTileFeature = t88, t88._z = e143, t88._x = r62, t88._y = n46, this.properties = t88.properties, this.id = i68;
          }
          get geometry() {
            return void 0 === this._geometry && (this._geometry = this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x, this._vectorTileFeature._y, this._vectorTileFeature._z).geometry), this._geometry;
          }
          set geometry(t88) {
            this._geometry = t88;
          }
          toJSON() {
            const t88 = { geometry: this.geometry };
            for (const e143 in this)
              "_geometry" !== e143 && "_vectorTileFeature" !== e143 && (t88[e143] = this[e143]);
            return t88;
          }
        }
        class ic {
          constructor(t88, e143) {
            this.tileID = t88, this.x = t88.canonical.x, this.y = t88.canonical.y, this.z = t88.canonical.z, this.grid = new _n(Rs, 16, 0), this.grid3D = new _n(Rs, 16, 0), this.featureIndexArray = new Xi(), this.promoteId = e143;
          }
          insert(t88, e143, r62, n46, i68, s63) {
            const a83 = this.featureIndexArray.length;
            this.featureIndexArray.emplaceBack(r62, n46, i68);
            const o102 = s63 ? this.grid3D : this.grid;
            for (let t89 = 0; t89 < e143.length; t89++) {
              const r63 = e143[t89], n47 = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
              for (let t90 = 0; t90 < r63.length; t90++) {
                const e144 = r63[t90];
                n47[0] = Math.min(n47[0], e144.x), n47[1] = Math.min(n47[1], e144.y), n47[2] = Math.max(n47[2], e144.x), n47[3] = Math.max(n47[3], e144.y);
              }
              n47[0] < Rs && n47[1] < Rs && n47[2] >= 0 && n47[3] >= 0 && o102.insert(a83, n47[0], n47[1], n47[2], n47[3]);
            }
          }
          loadVTLayers() {
            return this.vtLayers || (this.vtLayers = new fo.VectorTile(new el(this.rawTileData)).layers, this.sourceLayerCoder = new rc(this.vtLayers ? Object.keys(this.vtLayers).sort() : ["_geojsonTileLayer"])), this.vtLayers;
          }
          query(t88, e143, r62, n46) {
            this.loadVTLayers();
            const i68 = t88.params || {}, s63 = Rs / t88.tileSize / t88.scale, a83 = Zr(i68.filter), o102 = t88.queryGeometry, l30 = t88.queryPadding * s63, u21 = ac(o102), c23 = this.grid.query(u21.minX - l30, u21.minY - l30, u21.maxX + l30, u21.maxY + l30), h13 = ac(t88.cameraQueryGeometry), p18 = this.grid3D.query(h13.minX - l30, h13.minY - l30, h13.maxX + l30, h13.maxY + l30, (e144, r63, n47, i69) => function(t89, e145, r64, n48, i70) {
              for (const s65 of t89)
                if (e145 <= s65.x && r64 <= s65.y && n48 >= s65.x && i70 >= s65.y)
                  return true;
              const s64 = [new S(e145, r64), new S(e145, i70), new S(n48, i70), new S(n48, r64)];
              if (t89.length > 2) {
                for (const e146 of s64)
                  if (ea(t89, e146))
                    return true;
              }
              for (let e146 = 0; e146 < t89.length - 1; e146++)
                if (ra(t89[e146], t89[e146 + 1], s64))
                  return true;
              return false;
            }(t88.cameraQueryGeometry, e144 - l30, r63 - l30, n47 + l30, i69 + l30));
            for (const t89 of p18)
              c23.push(t89);
            c23.sort(oc);
            const f22 = {};
            let d11;
            for (let l31 = 0; l31 < c23.length; l31++) {
              const u22 = c23[l31];
              if (u22 === d11)
                continue;
              d11 = u22;
              const h14 = this.featureIndexArray.get(u22);
              let p19 = null;
              this.loadMatchingFeature(f22, h14.bucketIndex, h14.sourceLayerIndex, h14.featureIndex, a83, i68.layers, i68.availableImages, e143, r62, n46, (e144, r63, n47) => (p19 || (p19 = qs(e144)), r63.queryIntersectsFeature(o102, e144, n47, p19, this.z, t88.transform, s63, t88.pixelPosMatrix)));
            }
            return f22;
          }
          loadMatchingFeature(t88, e143, r62, n46, i68, s63, a83, l30, u21, c23, h13) {
            const p18 = this.bucketLayerIDs[e143];
            if (s63 && !function(t89, e144) {
              for (let r63 = 0; r63 < t89.length; r63++)
                if (e144.indexOf(t89[r63]) >= 0)
                  return true;
              return false;
            }(s63, p18))
              return;
            const f22 = this.sourceLayerCoder.decode(r62), d11 = this.vtLayers[f22].feature(n46);
            if (i68.needGeometry) {
              const t89 = js(d11, true);
              if (!i68.filter(new Yn(this.tileID.overscaledZ), t89, this.tileID.canonical))
                return;
            } else if (!i68.filter(new Yn(this.tileID.overscaledZ), d11))
              return;
            const y10 = this.getId(d11, f22);
            for (let e144 = 0; e144 < p18.length; e144++) {
              const r63 = p18[e144];
              if (s63 && s63.indexOf(r63) < 0)
                continue;
              const i69 = l30[r63];
              if (!i69)
                continue;
              let f23 = {};
              y10 && c23 && (f23 = c23.getState(i69.sourceLayer || "_geojsonTileLayer", y10));
              const m30 = o101({}, u21[r63]);
              m30.paint = sc(m30.paint, i69.paint, d11, f23, a83), m30.layout = sc(m30.layout, i69.layout, d11, f23, a83);
              const g15 = !h13 || h13(d11, i69, f23);
              if (!g15)
                continue;
              const x6 = new nc(d11, this.z, this.x, this.y, y10);
              x6.layer = m30;
              let v6 = t88[r63];
              void 0 === v6 && (v6 = t88[r63] = []), v6.push({ featureIndex: n46, feature: x6, intersectionZ: g15 });
            }
          }
          lookupSymbolFeatures(t88, e143, r62, n46, i68, s63, a83, o102) {
            const l30 = {};
            this.loadVTLayers();
            const u21 = Zr(i68);
            for (const i69 of t88)
              this.loadMatchingFeature(l30, r62, n46, i69, u21, s63, a83, o102, e143);
            return l30;
          }
          hasLayer(t88) {
            for (const e143 of this.bucketLayerIDs)
              for (const r62 of e143)
                if (t88 === r62)
                  return true;
            return false;
          }
          getId(t88, e143) {
            let r62 = t88.id;
            return this.promoteId && (r62 = t88.properties["string" == typeof this.promoteId ? this.promoteId : this.promoteId[e143]], "boolean" == typeof r62 && (r62 = Number(r62))), r62;
          }
        }
        function sc(t88, e143, r62, n46, i68) {
          return c22(t88, (t89, s63) => {
            const a83 = e143 instanceof ii ? e143.get(s63) : null;
            return a83 && a83.evaluate ? a83.evaluate(r62, n46, i68) : a83;
          });
        }
        function ac(t88) {
          let e143 = 1 / 0, r62 = 1 / 0, n46 = -1 / 0, i68 = -1 / 0;
          for (const s63 of t88)
            e143 = Math.min(e143, s63.x), r62 = Math.min(r62, s63.y), n46 = Math.max(n46, s63.x), i68 = Math.max(i68, s63.y);
          return { minX: e143, minY: r62, maxX: n46, maxY: i68 };
        }
        function oc(t88, e143) {
          return e143 - t88;
        }
        var lc;
        kn("FeatureIndex", ic, { omit: ["rawTileData", "sourceLayerCoder"] }), t87.PerformanceMarkers = void 0, (lc = t87.PerformanceMarkers || (t87.PerformanceMarkers = {})).create = "create", lc.load = "load", lc.fullLoad = "fullLoad";
        let uc = null, cc = [];
        const hc = 1e3 / 30, pc = { mark(t88) {
          performance.mark(t88);
        }, frame(t88) {
          const e143 = t88;
          null != uc && cc.push(e143 - uc), uc = e143;
        }, clearMetrics() {
          uc = null, cc = [], performance.clearMeasures("loadTime"), performance.clearMeasures("fullLoadTime");
          for (const e143 in t87.PerformanceMarkers)
            performance.clearMarks(t87.PerformanceMarkers[e143]);
        }, getPerformanceMetrics() {
          performance.measure("loadTime", t87.PerformanceMarkers.create, t87.PerformanceMarkers.load), performance.measure("fullLoadTime", t87.PerformanceMarkers.create, t87.PerformanceMarkers.fullLoad);
          const e143 = performance.getEntriesByName("loadTime")[0].duration, r62 = performance.getEntriesByName("fullLoadTime")[0].duration, n46 = cc.length, i68 = 1 / (cc.reduce((t88, e144) => t88 + e144, 0) / n46 / 1e3), s63 = cc.filter((t88) => t88 > hc).reduce((t88, e144) => t88 + (e144 - hc) / hc, 0);
          return { loadTime: e143, fullLoadTime: r62, fps: i68, percentDroppedFrames: s63 / (n46 + s63) * 100 };
        } };
        t87.AJAXError = q3, t87.ARRAY_TYPE = la, t87.Actor = class {
          constructor(t88, e143, r62) {
            this.target = t88, this.parent = e143, this.mapId = r62, this.callbacks = {}, this.tasks = {}, this.taskQueue = [], this.cancelCallbacks = {}, u20(["receive", "process"], this), this.invoker = new Ru(this.process), this.target.addEventListener("message", this.receive, false), this.globalScope = g14() ? t88 : window;
          }
          send(t88, e143, r62, n46, i68 = false) {
            const s63 = Math.round(1e18 * Math.random()).toString(36).substring(0, 10);
            r62 && (this.callbacks[s63] = r62);
            const a83 = _3(this.globalScope) ? void 0 : [];
            return this.target.postMessage({ id: s63, type: t88, hasCallback: !!r62, targetMapId: n46, mustQueue: i68, sourceMapId: this.mapId, data: zn(e143, a83) }, a83), { cancel: () => {
              r62 && delete this.callbacks[s63], this.target.postMessage({ id: s63, type: "<cancel>", targetMapId: n46, sourceMapId: this.mapId });
            } };
          }
          receive(t88) {
            const e143 = t88.data, r62 = e143.id;
            if (r62 && (!e143.targetMapId || this.mapId === e143.targetMapId))
              if ("<cancel>" === e143.type) {
                delete this.tasks[r62];
                const t89 = this.cancelCallbacks[r62];
                delete this.cancelCallbacks[r62], t89 && t89();
              } else
                g14() || e143.mustQueue ? (this.tasks[r62] = e143, this.taskQueue.push(r62), this.invoker.trigger()) : this.processTask(r62, e143);
          }
          process() {
            if (!this.taskQueue.length)
              return;
            const t88 = this.taskQueue.shift(), e143 = this.tasks[t88];
            delete this.tasks[t88], this.taskQueue.length && this.invoker.trigger(), e143 && this.processTask(t88, e143);
          }
          processTask(t88, e143) {
            if ("<response>" === e143.type) {
              const r62 = this.callbacks[t88];
              delete this.callbacks[t88], r62 && (e143.error ? r62(In(e143.error)) : r62(null, In(e143.data)));
            } else {
              let r62 = false;
              const n46 = _3(this.globalScope) ? void 0 : [], i68 = e143.hasCallback ? (e144, i69) => {
                r62 = true, delete this.cancelCallbacks[t88], this.target.postMessage({ id: t88, type: "<response>", sourceMapId: this.mapId, error: e144 ? zn(e144) : null, data: zn(i69, n46) }, n46);
              } : (t89) => {
                r62 = true;
              };
              let s63 = null;
              const a83 = In(e143.data);
              if (this.parent[e143.type])
                s63 = this.parent[e143.type](e143.sourceMapId, a83, i68);
              else if (this.parent.getWorkerSource) {
                const t89 = e143.type.split(".");
                s63 = this.parent.getWorkerSource(e143.sourceMapId, t89[0], a83.source)[t89[1]](a83, i68);
              } else
                i68(new Error(`Could not find function ${e143.type}`));
              !r62 && s63 && s63.cancel && (this.cancelCallbacks[t88] = s63.cancel);
            }
          }
          remove() {
            this.invoker.remove(), this.target.removeEventListener("message", this.receive, false);
          }
        }, t87.AlphaImage = ba, t87.CanonicalTileID = Hu, t87.CollisionBoxArray = Oi, t87.CollisionCircleLayoutArray = class extends Bi {
        }, t87.Color = Et, t87.DEMData = ec, t87.DataConstantProperty = si, t87.DictionaryCoder = rc, t87.EXTENT = Rs, t87.ErrorEvent = et, t87.EvaluationParameters = Yn, t87.Event = tt, t87.Evented = rt, t87.FeatureIndex = ic, t87.FillBucket = lo, t87.FillExtrusionBucket = Bo, t87.GeoJSONFeature = nc, t87.ImageAtlas = Bl, t87.ImagePosition = Ml, t87.LineBucket = qo, t87.LineStripIndexArray = class extends $i {
        }, t87.LngLat = Ou, t87.LngLatBounds = qu, t87.MercatorCoordinate = Xu, t87.ONE_EM = tl, t87.OverscaledTileID = Qu, t87.PerformanceUtils = pc, t87.PosArray = class extends xi {
        }, t87.Properties = ci, t87.QuadTriangleArray = class extends Pi {
        }, t87.RGBAImage = wa, t87.RasterBoundsArray = class extends vi {
        }, t87.RequestPerformance = class {
          constructor(t88) {
            this._marks = { start: [t88.url, "start"].join("#"), end: [t88.url, "end"].join("#"), measure: t88.url.toString() }, performance.mark(this._marks.start);
          }
          finish() {
            performance.mark(this._marks.end);
            let t88 = performance.getEntriesByName(this._marks.measure);
            return 0 === t88.length && (performance.measure(this._marks.measure, this._marks.start, this._marks.end), t88 = performance.getEntriesByName(this._marks.measure), performance.clearMarks(this._marks.start), performance.clearMarks(this._marks.end), performance.clearMeasures(this._marks.measure)), t88;
          }
        }, t87.ResourceType = O2, t87.SegmentVector = hs, t87.SymbolBucket = Bu, t87.Transitionable = Qn, t87.TriangleIndexArray = os, t87.Uniform1f = Ss, t87.Uniform1i = class extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = 0;
          }
          set(t88) {
            this.current !== t88 && (this.current = t88, this.gl.uniform1i(this.location, t88));
          }
        }, t87.Uniform2f = class extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = [0, 0];
          }
          set(t88) {
            t88[0] === this.current[0] && t88[1] === this.current[1] || (this.current = t88, this.gl.uniform2f(this.location, t88[0], t88[1]));
          }
        }, t87.Uniform3f = class extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = [0, 0, 0];
          }
          set(t88) {
            t88[0] === this.current[0] && t88[1] === this.current[1] && t88[2] === this.current[2] || (this.current = t88, this.gl.uniform3f(this.location, t88[0], t88[1], t88[2]));
          }
        }, t87.Uniform4f = zs, t87.UniformColor = Is, t87.UniformMatrix4f = class extends ks {
          constructor(t88, e143) {
            super(t88, e143), this.current = Ms;
          }
          set(t88) {
            if (t88[12] !== this.current[12] || t88[0] !== this.current[0])
              return this.current = t88, void this.gl.uniformMatrix4fv(this.location, false, t88);
            for (let e143 = 1; e143 < 16; e143++)
              if (t88[e143] !== this.current[e143]) {
                this.current = t88, this.gl.uniformMatrix4fv(this.location, false, t88);
                break;
              }
          }
        }, t87.UnwrappedTileID = Wu, t87.ValidationError = it, t87.ZoomHistory = Mn, t87.addDynamicAttributes = Su, t87.asyncAll = function(t88, e143, r62) {
          if (!t88.length)
            return r62(null, []);
          let n46 = t88.length;
          const i68 = new Array(t88.length);
          let s63 = null;
          t88.forEach((t89, a83) => {
            e143(t89, (t90, e144) => {
              t90 && (s63 = t90), i68[a83] = e144, 0 == --n46 && r62(s63, i68);
            });
          });
        }, t87.bezier = n45, t87.bindAll = u20, t87.cacheEntryPossiblyAdded = function(t88) {
          F4++, F4 > V2 && (t88.getActor().send("enforceCacheSizeLimit", P2), F4 = 0);
        }, t87.clamp = s62, t87.clearTileCache = function(t88) {
          const e143 = caches.delete(M4);
          t88 && e143.catch(t88).then(() => t88());
        }, t87.clipLine = ru, t87.clone = function(t88) {
          var e143 = new la(16);
          return e143[0] = t88[0], e143[1] = t88[1], e143[2] = t88[2], e143[3] = t88[3], e143[4] = t88[4], e143[5] = t88[5], e143[6] = t88[6], e143[7] = t88[7], e143[8] = t88[8], e143[9] = t88[9], e143[10] = t88[10], e143[11] = t88[11], e143[12] = t88[12], e143[13] = t88[13], e143[14] = t88[14], e143[15] = t88[15], e143;
        }, t87.clone$1 = p17, t87.collisionCircleLayout = Ho, t87.config = I2, t87.create = function() {
          var t88 = new la(16);
          return la != Float32Array && (t88[1] = 0, t88[2] = 0, t88[3] = 0, t88[4] = 0, t88[6] = 0, t88[7] = 0, t88[8] = 0, t88[9] = 0, t88[11] = 0, t88[12] = 0, t88[13] = 0, t88[14] = 0), t88[0] = 1, t88[5] = 1, t88[10] = 1, t88[15] = 1, t88;
        }, t87.createExpression = Vr, t87.createFilter = Zr, t87.createLayout = mi, t87.createStyleLayer = function(t88) {
          return "custom" === t88.type ? new Du(t88) : new $u[t88.type](t88);
        }, t87.dot = function(t88, e143) {
          return t88[0] * e143[0] + t88[1] * e143[1] + t88[2] * e143[2] + t88[3] * e143[3];
        }, t87.ease = i67, t87.emitValidationErrors = wn, t87.enforceCacheSizeLimit = function(t88) {
          E4(), B2 && B2.then((e143) => {
            e143.keys().then((r62) => {
              for (let n46 = 0; n46 < r62.length - t88; n46++)
                e143.delete(r62[n46]);
            });
          });
        }, t87.evaluateSizeForFeature = function(t88, { uSize: e143, uSizeT: r62 }, { lowerSize: n46, upperSize: i68 }) {
          return "source" === t88.kind ? n46 / Zl : "composite" === t88.kind ? Se(n46 / Zl, i68 / Zl, r62) : e143;
        }, t87.evaluateSizeForZoom = function(t88, e143) {
          let r62 = 0, n46 = 0;
          if ("constant" === t88.kind)
            n46 = t88.layoutSize;
          else if ("source" !== t88.kind) {
            const { interpolationType: i68, minZoom: a83, maxZoom: o102 } = t88, l30 = i68 ? s62(Ne.interpolationFactor(i68, e143, a83, o102), 0, 1) : 0;
            "camera" === t88.kind ? n46 = Se(t88.minSize, t88.maxSize, l30) : r62 = l30;
          }
          return { uSizeT: r62, uSize: n46 };
        }, t87.evaluateVariableOffset = yu, t87.evented = Zn, t87.exported = k6, t87.exported$1 = T2, t87.extend = o101, t87.filterObject = h12, t87.getAnchorAlignment = ql, t87.getAnchorJustification = mu, t87.getArrayBuffer = Z, t87.getImage = H, t87.getJSON = function(t88, e143) {
          return K(o101(t88, { type: "json" }), e143);
        }, t87.getOverlapMode = Fu, t87.getRTLTextPluginStatus = Gn, t87.getReferrer = j7, t87.getVideo = function(t88, e143) {
          const r62 = window.document.createElement("video");
          r62.muted = true, r62.onloadstart = function() {
            e143(null, r62);
          };
          for (let e144 = 0; e144 < t88.length; e144++) {
            const n46 = window.document.createElement("source");
            G(t88[e144]) || (r62.crossOrigin = "Anonymous"), n46.src = t88[e144], r62.appendChild(n46);
          }
          return { cancel: () => {
          } };
        }, t87.identity = ua, t87.invert = function(t88, e143) {
          var r62 = e143[0], n46 = e143[1], i68 = e143[2], s63 = e143[3], a83 = e143[4], o102 = e143[5], l30 = e143[6], u21 = e143[7], c23 = e143[8], h13 = e143[9], p18 = e143[10], f22 = e143[11], d11 = e143[12], y10 = e143[13], m30 = e143[14], g15 = e143[15], x6 = r62 * o102 - n46 * a83, v6 = r62 * l30 - i68 * a83, b8 = r62 * u21 - s63 * a83, w4 = n46 * l30 - i68 * o102, _4 = n46 * u21 - s63 * o102, A4 = i68 * u21 - s63 * l30, k7 = c23 * y10 - h13 * d11, S2 = c23 * m30 - p18 * d11, z3 = c23 * g15 - f22 * d11, I3 = h13 * m30 - p18 * y10, M5 = h13 * g15 - f22 * y10, B3 = p18 * g15 - f22 * m30, C8 = x6 * B3 - v6 * M5 + b8 * I3 + w4 * z3 - _4 * S2 + A4 * k7;
          return C8 ? (t88[0] = (o102 * B3 - l30 * M5 + u21 * I3) * (C8 = 1 / C8), t88[1] = (i68 * M5 - n46 * B3 - s63 * I3) * C8, t88[2] = (y10 * A4 - m30 * _4 + g15 * w4) * C8, t88[3] = (p18 * _4 - h13 * A4 - f22 * w4) * C8, t88[4] = (l30 * z3 - a83 * B3 - u21 * S2) * C8, t88[5] = (r62 * B3 - i68 * z3 + s63 * S2) * C8, t88[6] = (m30 * b8 - d11 * A4 - g15 * v6) * C8, t88[7] = (c23 * A4 - p18 * b8 + f22 * v6) * C8, t88[8] = (a83 * M5 - o102 * z3 + u21 * k7) * C8, t88[9] = (n46 * z3 - r62 * M5 - s63 * k7) * C8, t88[10] = (d11 * _4 - y10 * b8 + g15 * x6) * C8, t88[11] = (h13 * b8 - c23 * _4 - f22 * x6) * C8, t88[12] = (o102 * S2 - a83 * I3 - l30 * k7) * C8, t88[13] = (r62 * I3 - n46 * S2 + i68 * k7) * C8, t88[14] = (y10 * v6 - d11 * w4 - m30 * x6) * C8, t88[15] = (c23 * w4 - h13 * v6 + p18 * x6) * C8, t88) : null;
        }, t87.isImageBitmap = A3, t87.isSafari = _3, t87.keysDifference = function(t88, e143) {
          const r62 = [];
          for (const n46 in t88)
            n46 in e143 || r62.push(n46);
          return r62;
        }, t87.lazyLoadRTLTextPlugin = function() {
          Xn.isLoading() || Xn.isLoaded() || "deferred" !== Gn() || Jn();
        }, t87.makeRequest = K, t87.mapObject = c22, t87.mercatorXfromLng = Ku, t87.mercatorYfromLat = Zu, t87.mercatorZfromAltitude = Gu, t87.mul = pa, t87.multiply = ca, t87.nextPowerOfTwo = function(t88) {
          return t88 <= 1 ? 1 : Math.pow(2, Math.ceil(Math.log(t88) / Math.LN2));
        }, t87.number = Se, t87.ortho = function(t88, e143, r62, n46, i68, s63, a83) {
          var o102 = 1 / (e143 - r62), l30 = 1 / (n46 - i68), u21 = 1 / (s63 - a83);
          return t88[0] = -2 * o102, t88[1] = 0, t88[2] = 0, t88[3] = 0, t88[4] = 0, t88[5] = -2 * l30, t88[6] = 0, t88[7] = 0, t88[8] = 0, t88[9] = 0, t88[10] = 2 * u21, t88[11] = 0, t88[12] = (e143 + r62) * o102, t88[13] = (i68 + n46) * l30, t88[14] = (a83 + s63) * u21, t88[15] = 1, t88;
        }, t87.parseCacheControl = x5, t87.parseGlyphPBF = function(t88) {
          return new el(t88).readFields(kl, []);
        }, t87.pbf = el, t87.performSymbolLayout = function(e143, r62, n46, i68, s63, a83, o102) {
          e143.createArrays(), e143.tilePixelRatio = Rs / (512 * e143.overscaling), e143.compareText = {}, e143.iconsNeedLinear = false;
          const l30 = e143.layers[0].layout, u21 = e143.layers[0]._unevaluatedLayout._values, c23 = { layoutIconSize: u21["icon-size"].possiblyEvaluate(new Yn(e143.zoom + 1), o102), layoutTextSize: u21["text-size"].possiblyEvaluate(new Yn(e143.zoom + 1), o102), textMaxSize: u21["text-size"].possiblyEvaluate(new Yn(18)) };
          if ("composite" === e143.textSizeData.kind) {
            const { minZoom: t88, maxZoom: r63 } = e143.textSizeData;
            c23.compositeTextSizes = [u21["text-size"].possiblyEvaluate(new Yn(t88), o102), u21["text-size"].possiblyEvaluate(new Yn(r63), o102)];
          }
          if ("composite" === e143.iconSizeData.kind) {
            const { minZoom: t88, maxZoom: r63 } = e143.iconSizeData;
            c23.compositeIconSizes = [u21["icon-size"].possiblyEvaluate(new Yn(t88), o102), u21["icon-size"].possiblyEvaluate(new Yn(r63), o102)];
          }
          const h13 = l30.get("text-line-height") * tl, p18 = "viewport" !== l30.get("text-rotation-alignment") && "point" !== l30.get("symbol-placement"), f22 = l30.get("text-keep-upright"), y10 = l30.get("text-size");
          for (const a84 of e143.features) {
            const u22 = l30.get("text-font").evaluate(a84, {}, o102).join(","), m30 = y10.evaluate(a84, {}, o102), g15 = c23.layoutTextSize.evaluate(a84, {}, o102), x6 = c23.layoutIconSize.evaluate(a84, {}, o102), v6 = { horizontal: {}, vertical: void 0 }, b8 = a84.text;
            let w4, _4 = [0, 0];
            if (b8) {
              const i69 = b8.toString(), c24 = l30.get("text-letter-spacing").evaluate(a84, {}, o102) * tl, d11 = Pn(i69) ? c24 : 0, y11 = l30.get("text-anchor").evaluate(a84, {}, o102), x7 = l30.get("text-variable-anchor");
              if (!x7) {
                const t88 = l30.get("text-radial-offset").evaluate(a84, {}, o102);
                _4 = t88 ? yu(y11, [t88 * tl, du]) : l30.get("text-offset").evaluate(a84, {}, o102).map((t89) => t89 * tl);
              }
              let w5 = p18 ? "center" : l30.get("text-justify").evaluate(a84, {}, o102);
              const A5 = l30.get("symbol-placement"), k8 = "point" === A5 ? l30.get("text-max-width").evaluate(a84, {}, o102) * tl : 0, S2 = () => {
                e143.allowVerticalPlacement && Cn(i69) && (v6.vertical = El(b8, r62, n46, s63, u22, k8, h13, y11, "left", d11, _4, t87.WritingMode.vertical, true, A5, g15, m30));
              };
              if (!p18 && x7) {
                const e144 = "auto" === w5 ? x7.map((t88) => mu(t88)) : [w5];
                let i70 = false;
                for (let a85 = 0; a85 < e144.length; a85++) {
                  const o103 = e144[a85];
                  if (!v6.horizontal[o103])
                    if (i70)
                      v6.horizontal[o103] = v6.horizontal[0];
                    else {
                      const e145 = El(b8, r62, n46, s63, u22, k8, h13, "center", o103, d11, _4, t87.WritingMode.horizontal, false, A5, g15, m30);
                      e145 && (v6.horizontal[o103] = e145, i70 = 1 === e145.positionedLines.length);
                    }
                }
                S2();
              } else {
                "auto" === w5 && (w5 = mu(y11));
                const e144 = El(b8, r62, n46, s63, u22, k8, h13, y11, w5, d11, _4, t87.WritingMode.horizontal, false, A5, g15, m30);
                e144 && (v6.horizontal[w5] = e144), S2(), Cn(i69) && p18 && f22 && (v6.vertical = El(b8, r62, n46, s63, u22, k8, h13, y11, w5, d11, _4, t87.WritingMode.vertical, false, A5, g15, m30));
              }
            }
            let A4 = false;
            if (a84.icon && a84.icon.name) {
              const t88 = i68[a84.icon.name];
              t88 && (w4 = Nl(s63[a84.icon.name], l30.get("icon-offset").evaluate(a84, {}, o102), l30.get("icon-anchor").evaluate(a84, {}, o102)), A4 = !!t88.sdf, void 0 === e143.sdfIcons ? e143.sdfIcons = A4 : e143.sdfIcons !== A4 && d10("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"), (t88.pixelRatio !== e143.pixelRatio || 0 !== l30.get("icon-rotate").constantOr(1)) && (e143.iconsNeedLinear = true));
            }
            const k7 = bu(v6.horizontal) || v6.vertical;
            e143.iconsInText = !!k7 && k7.iconsInText, (k7 || w4) && gu(e143, a84, v6, w4, i68, c23, g15, x6, _4, A4, o102);
          }
          a83 && e143.generateCollisionDebugBuffers();
        }, t87.perspective = function(t88, e143, r62, n46, i68) {
          var s63, a83 = 1 / Math.tan(e143 / 2);
          return t88[0] = a83 / r62, t88[1] = 0, t88[2] = 0, t88[3] = 0, t88[4] = 0, t88[5] = a83, t88[6] = 0, t88[7] = 0, t88[8] = 0, t88[9] = 0, t88[11] = -1, t88[12] = 0, t88[13] = 0, t88[15] = 0, null != i68 && i68 !== 1 / 0 ? (t88[10] = (i68 + n46) * (s63 = 1 / (n46 - i68)), t88[14] = 2 * i68 * n46 * s63) : (t88[10] = -1, t88[14] = -2 * n46), t88;
        }, t87.pick = function(t88, e143) {
          const r62 = {};
          for (let n46 = 0; n46 < e143.length; n46++) {
            const i68 = e143[n46];
            i68 in t88 && (r62[i68] = t88[i68]);
          }
          return r62;
        }, t87.plugin = Xn, t87.pointGeometry = S, t87.polygonIntersectsPolygon = Zs, t87.potpack = Il, t87.refProperties = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"], t87.register = kn, t87.registerForPluginStateChange = function(t88) {
          return t88({ pluginStatus: qn, pluginURL: jn }), Zn.on("pluginStateChange", t88), t88;
        }, t87.renderColorRamp = _a3, t87.rotateX = function(t88, e143, r62) {
          var n46 = Math.sin(r62), i68 = Math.cos(r62), s63 = e143[4], a83 = e143[5], o102 = e143[6], l30 = e143[7], u21 = e143[8], c23 = e143[9], h13 = e143[10], p18 = e143[11];
          return e143 !== t88 && (t88[0] = e143[0], t88[1] = e143[1], t88[2] = e143[2], t88[3] = e143[3], t88[12] = e143[12], t88[13] = e143[13], t88[14] = e143[14], t88[15] = e143[15]), t88[4] = s63 * i68 + u21 * n46, t88[5] = a83 * i68 + c23 * n46, t88[6] = o102 * i68 + h13 * n46, t88[7] = l30 * i68 + p18 * n46, t88[8] = u21 * i68 - s63 * n46, t88[9] = c23 * i68 - a83 * n46, t88[10] = h13 * i68 - o102 * n46, t88[11] = p18 * i68 - l30 * n46, t88;
        }, t87.rotateZ = function(t88, e143, r62) {
          var n46 = Math.sin(r62), i68 = Math.cos(r62), s63 = e143[0], a83 = e143[1], o102 = e143[2], l30 = e143[3], u21 = e143[4], c23 = e143[5], h13 = e143[6], p18 = e143[7];
          return e143 !== t88 && (t88[8] = e143[8], t88[9] = e143[9], t88[10] = e143[10], t88[11] = e143[11], t88[12] = e143[12], t88[13] = e143[13], t88[14] = e143[14], t88[15] = e143[15]), t88[0] = s63 * i68 + u21 * n46, t88[1] = a83 * i68 + c23 * n46, t88[2] = o102 * i68 + h13 * n46, t88[3] = l30 * i68 + p18 * n46, t88[4] = u21 * i68 - s63 * n46, t88[5] = c23 * i68 - a83 * n46, t88[6] = h13 * i68 - o102 * n46, t88[7] = p18 * i68 - l30 * n46, t88;
        }, t87.scale = function(t88, e143, r62) {
          var n46 = r62[0], i68 = r62[1], s63 = r62[2];
          return t88[0] = e143[0] * n46, t88[1] = e143[1] * n46, t88[2] = e143[2] * n46, t88[3] = e143[3] * n46, t88[4] = e143[4] * i68, t88[5] = e143[5] * i68, t88[6] = e143[6] * i68, t88[7] = e143[7] * i68, t88[8] = e143[8] * s63, t88[9] = e143[9] * s63, t88[10] = e143[10] * s63, t88[11] = e143[11] * s63, t88[12] = e143[12], t88[13] = e143[13], t88[14] = e143[14], t88[15] = e143[15], t88;
        }, t87.scale$1 = function(t88, e143, r62) {
          return t88[0] = e143[0] * r62, t88[1] = e143[1] * r62, t88[2] = e143[2] * r62, t88[3] = e143[3] * r62, t88;
        }, t87.setCacheLimits = function(t88, e143) {
          P2 = t88, V2 = e143;
        }, t87.setRTLTextPlugin = function(t88, e143, r62 = false) {
          if (qn === $n || qn === Rn || qn === Un)
            throw new Error("setRTLTextPlugin cannot be called multiple times.");
          jn = k6.resolveURL(t88), qn = $n, On = e143, Kn(), r62 || Jn();
        }, t87.spec = nt, t87.sphericalToCartesian = function([t88, e143, r62]) {
          return e143 += 90, e143 *= Math.PI / 180, r62 *= Math.PI / 180, { x: t88 * Math.cos(e143) * Math.sin(r62), y: t88 * Math.sin(e143) * Math.sin(r62), z: t88 * Math.cos(r62) };
        }, t87.toEvaluationFeature = js, t87.transformMat4 = fa, t87.translate = function(t88, e143, r62) {
          var n46, i68, s63, a83, o102, l30, u21, c23, h13, p18, f22, d11, y10 = r62[0], m30 = r62[1], g15 = r62[2];
          return e143 === t88 ? (t88[12] = e143[0] * y10 + e143[4] * m30 + e143[8] * g15 + e143[12], t88[13] = e143[1] * y10 + e143[5] * m30 + e143[9] * g15 + e143[13], t88[14] = e143[2] * y10 + e143[6] * m30 + e143[10] * g15 + e143[14], t88[15] = e143[3] * y10 + e143[7] * m30 + e143[11] * g15 + e143[15]) : (i68 = e143[1], s63 = e143[2], a83 = e143[3], o102 = e143[4], l30 = e143[5], u21 = e143[6], c23 = e143[7], h13 = e143[8], p18 = e143[9], f22 = e143[10], d11 = e143[11], t88[0] = n46 = e143[0], t88[1] = i68, t88[2] = s63, t88[3] = a83, t88[4] = o102, t88[5] = l30, t88[6] = u21, t88[7] = c23, t88[8] = h13, t88[9] = p18, t88[10] = f22, t88[11] = d11, t88[12] = n46 * y10 + o102 * m30 + h13 * g15 + e143[12], t88[13] = i68 * y10 + l30 * m30 + p18 * g15 + e143[13], t88[14] = s63 * y10 + u21 * m30 + f22 * g15 + e143[14], t88[15] = a83 * y10 + c23 * m30 + d11 * g15 + e143[15]), t88;
        }, t87.triggerPluginCompletionEvent = Nn, t87.unicodeBlockLookup = Bn, t87.uniqueId = function() {
          return l29++;
        }, t87.validateCustomStyleLayer = function(t88) {
          const e143 = [], r62 = t88.id;
          return void 0 === r62 && e143.push({ message: `layers.${r62}: missing required property "id"` }), void 0 === t88.render && e143.push({ message: `layers.${r62}: missing required method "render"` }), t88.renderingMode && "2d" !== t88.renderingMode && "3d" !== t88.renderingMode && e143.push({ message: `layers.${r62}: property "renderingMode" must be either "2d" or "3d"` }), e143;
        }, t87.validateLight = xn, t87.validateStyle = gn, t87.vectorTile = fo, t87.warnOnce = d10, t87.wrap = a82;
      });
      define2(["./shared"], function(e142) {
        "use strict";
        function t87(e143) {
          const o102 = typeof e143;
          if ("number" === o102 || "boolean" === o102 || "string" === o102 || null == e143)
            return JSON.stringify(e143);
          if (Array.isArray(e143)) {
            let o103 = "[";
            for (const i69 of e143)
              o103 += `${t87(i69)},`;
            return `${o103}]`;
          }
          const i68 = Object.keys(e143).sort();
          let r62 = "{";
          for (let o103 = 0; o103 < i68.length; o103++)
            r62 += `${JSON.stringify(i68[o103])}:${t87(e143[i68[o103]])},`;
          return `${r62}}`;
        }
        function o101(o102) {
          let i68 = "";
          for (const r62 of e142.refProperties)
            i68 += `/${t87(o102[r62])}`;
          return i68;
        }
        class i67 {
          constructor(e143) {
            this.keyCache = {}, e143 && this.replace(e143);
          }
          replace(e143) {
            this._layerConfigs = {}, this._layers = {}, this.update(e143, []);
          }
          update(t88, i68) {
            for (const o102 of t88) {
              this._layerConfigs[o102.id] = o102;
              const t89 = this._layers[o102.id] = e142.createStyleLayer(o102);
              t89._featureFilter = e142.createFilter(t89.filter), this.keyCache[o102.id] && delete this.keyCache[o102.id];
            }
            for (const e143 of i68)
              delete this.keyCache[e143], delete this._layerConfigs[e143], delete this._layers[e143];
            this.familiesBySource = {};
            const r62 = function(e143, t89) {
              const i69 = {};
              for (let r64 = 0; r64 < e143.length; r64++) {
                const n46 = t89 && t89[e143[r64].id] || o101(e143[r64]);
                t89 && (t89[e143[r64].id] = n46);
                let s63 = i69[n46];
                s63 || (s63 = i69[n46] = []), s63.push(e143[r64]);
              }
              const r63 = [];
              for (const e144 in i69)
                r63.push(i69[e144]);
              return r63;
            }(Object.values(this._layerConfigs), this.keyCache);
            for (const e143 of r62) {
              const t89 = e143.map((e144) => this._layers[e144.id]), o102 = t89[0];
              if ("none" === o102.visibility)
                continue;
              const i69 = o102.source || "";
              let r63 = this.familiesBySource[i69];
              r63 || (r63 = this.familiesBySource[i69] = {});
              const n46 = o102.sourceLayer || "_geojsonTileLayer";
              let s63 = r63[n46];
              s63 || (s63 = r63[n46] = []), s63.push(t89);
            }
          }
        }
        class r61 {
          constructor(t88) {
            const o102 = {}, i68 = [];
            for (const e143 in t88) {
              const r63 = t88[e143], n47 = o102[e143] = {};
              for (const e144 in r63) {
                const t89 = r63[+e144];
                if (!t89 || 0 === t89.bitmap.width || 0 === t89.bitmap.height)
                  continue;
                const o103 = { x: 0, y: 0, w: t89.bitmap.width + 2, h: t89.bitmap.height + 2 };
                i68.push(o103), n47[e144] = { rect: o103, metrics: t89.metrics };
              }
            }
            const { w: r62, h: n46 } = e142.potpack(i68), s63 = new e142.AlphaImage({ width: r62 || 1, height: n46 || 1 });
            for (const i69 in t88) {
              const r63 = t88[i69];
              for (const t89 in r63) {
                const n47 = r63[+t89];
                if (!n47 || 0 === n47.bitmap.width || 0 === n47.bitmap.height)
                  continue;
                const a83 = o102[i69][t89].rect;
                e142.AlphaImage.copy(n47.bitmap, s63, { x: 0, y: 0 }, { x: a83.x + 1, y: a83.y + 1 }, n47.bitmap);
              }
            }
            this.image = s63, this.positions = o102;
          }
        }
        e142.register("GlyphAtlas", r61);
        class n45 {
          constructor(t88) {
            this.tileID = new e142.OverscaledTileID(t88.tileID.overscaledZ, t88.tileID.wrap, t88.tileID.canonical.z, t88.tileID.canonical.x, t88.tileID.canonical.y), this.uid = t88.uid, this.zoom = t88.zoom, this.pixelRatio = t88.pixelRatio, this.tileSize = t88.tileSize, this.source = t88.source, this.overscaling = this.tileID.overscaleFactor(), this.showCollisionBoxes = t88.showCollisionBoxes, this.collectResourceTiming = !!t88.collectResourceTiming, this.returnDependencies = !!t88.returnDependencies, this.promoteId = t88.promoteId;
          }
          parse(t88, o102, i68, n46, a83) {
            this.status = "parsing", this.data = t88, this.collisionBoxArray = new e142.CollisionBoxArray();
            const l30 = new e142.DictionaryCoder(Object.keys(t88.layers).sort()), c23 = new e142.FeatureIndex(this.tileID, this.promoteId);
            c23.bucketLayerIDs = [];
            const u21 = {}, h13 = { featureIndex: c23, iconDependencies: {}, patternDependencies: {}, glyphDependencies: {}, availableImages: i68 }, p18 = o102.familiesBySource[this.source];
            for (const o103 in p18) {
              const r62 = t88.layers[o103];
              if (!r62)
                continue;
              1 === r62.version && e142.warnOnce(`Vector tile source "${this.source}" layer "${o103}" does not use vector tile spec v2 and therefore may have some rendering errors.`);
              const n47 = l30.encode(o103), a84 = [];
              for (let e143 = 0; e143 < r62.length; e143++) {
                const t89 = r62.feature(e143), i69 = c23.getId(t89, o103);
                a84.push({ feature: t89, id: i69, index: e143, sourceLayerIndex: n47 });
              }
              for (const e143 of p18[o103]) {
                const t89 = e143[0];
                t89.minzoom && this.zoom < Math.floor(t89.minzoom) || t89.maxzoom && this.zoom >= t89.maxzoom || "none" !== t89.visibility && (s62(e143, this.zoom, i68), (u21[t89.id] = t89.createBucket({ index: c23.bucketLayerIDs.length, layers: e143, zoom: this.zoom, pixelRatio: this.pixelRatio, overscaling: this.overscaling, collisionBoxArray: this.collisionBoxArray, sourceLayerIndex: n47, sourceID: this.source })).populate(a84, h13, this.tileID.canonical), c23.bucketLayerIDs.push(e143.map((e144) => e144.id)));
              }
            }
            let f22, d11, g15, m30;
            const y10 = e142.mapObject(h13.glyphDependencies, (e143) => Object.keys(e143).map(Number));
            Object.keys(y10).length ? n46.send("getGlyphs", { uid: this.uid, stacks: y10 }, (e143, t89) => {
              f22 || (f22 = e143, d11 = t89, w4.call(this));
            }) : d11 = {};
            const v6 = Object.keys(h13.iconDependencies);
            v6.length ? n46.send("getImages", { icons: v6, source: this.source, tileID: this.tileID, type: "icons" }, (e143, t89) => {
              f22 || (f22 = e143, g15 = t89, w4.call(this));
            }) : g15 = {};
            const x6 = Object.keys(h13.patternDependencies);
            function w4() {
              if (f22)
                return a83(f22);
              if (d11 && g15 && m30) {
                const t89 = new r61(d11), o103 = new e142.ImageAtlas(g15, m30);
                for (const r62 in u21) {
                  const n47 = u21[r62];
                  n47 instanceof e142.SymbolBucket ? (s62(n47.layers, this.zoom, i68), e142.performSymbolLayout(n47, d11, t89.positions, g15, o103.iconPositions, this.showCollisionBoxes, this.tileID.canonical)) : n47.hasPattern && (n47 instanceof e142.LineBucket || n47 instanceof e142.FillBucket || n47 instanceof e142.FillExtrusionBucket) && (s62(n47.layers, this.zoom, i68), n47.addFeatures(h13, this.tileID.canonical, o103.patternPositions));
                }
                this.status = "done", a83(null, { buckets: Object.values(u21).filter((e143) => !e143.isEmpty()), featureIndex: c23, collisionBoxArray: this.collisionBoxArray, glyphAtlasImage: t89.image, imageAtlas: o103, glyphMap: this.returnDependencies ? d11 : null, iconMap: this.returnDependencies ? g15 : null, glyphPositions: this.returnDependencies ? t89.positions : null });
              }
            }
            x6.length ? n46.send("getImages", { icons: x6, source: this.source, tileID: this.tileID, type: "patterns" }, (e143, t89) => {
              f22 || (f22 = e143, m30 = t89, w4.call(this));
            }) : m30 = {}, w4.call(this);
          }
        }
        function s62(t88, o102, i68) {
          const r62 = new e142.EvaluationParameters(o102);
          for (const e143 of t88)
            e143.recalculate(r62, i68);
        }
        function a82(t88, o102) {
          const i68 = e142.getArrayBuffer(t88.request, (t89, i69, r62, n46) => {
            t89 ? o102(t89) : i69 && o102(null, { vectorTile: new e142.vectorTile.VectorTile(new e142.pbf(i69)), rawData: i69, cacheControl: r62, expires: n46 });
          });
          return () => {
            i68.cancel(), o102();
          };
        }
        class l29 {
          constructor(e143, t88, o102, i68) {
            this.actor = e143, this.layerIndex = t88, this.availableImages = o102, this.loadVectorData = i68 || a82, this.loading = {}, this.loaded = {};
          }
          loadTile(t88, o102) {
            const i68 = t88.uid;
            this.loading || (this.loading = {});
            const r62 = !!(t88 && t88.request && t88.request.collectResourceTiming) && new e142.RequestPerformance(t88.request), s63 = this.loading[i68] = new n45(t88);
            s63.abort = this.loadVectorData(t88, (t89, n46) => {
              if (delete this.loading[i68], t89 || !n46)
                return s63.status = "done", this.loaded[i68] = s63, o102(t89);
              const a83 = n46.rawData, l30 = {};
              n46.expires && (l30.expires = n46.expires), n46.cacheControl && (l30.cacheControl = n46.cacheControl);
              const c23 = {};
              if (r62) {
                const e143 = r62.finish();
                e143 && (c23.resourceTiming = JSON.parse(JSON.stringify(e143)));
              }
              s63.vectorTile = n46.vectorTile, s63.parse(n46.vectorTile, this.layerIndex, this.availableImages, this.actor, (t90, i69) => {
                if (t90 || !i69)
                  return o102(t90);
                o102(null, e142.extend({ rawTileData: a83.slice(0) }, i69, l30, c23));
              }), this.loaded = this.loaded || {}, this.loaded[i68] = s63;
            });
          }
          reloadTile(e143, t88) {
            const o102 = this.loaded, i68 = e143.uid, r62 = this;
            if (o102 && o102[i68]) {
              const n46 = o102[i68];
              n46.showCollisionBoxes = e143.showCollisionBoxes;
              const s63 = (e144, o103) => {
                const i69 = n46.reloadCallback;
                i69 && (delete n46.reloadCallback, n46.parse(n46.vectorTile, r62.layerIndex, this.availableImages, r62.actor, i69)), t88(e144, o103);
              };
              "parsing" === n46.status ? n46.reloadCallback = s63 : "done" === n46.status && (n46.vectorTile ? n46.parse(n46.vectorTile, this.layerIndex, this.availableImages, this.actor, s63) : s63());
            }
          }
          abortTile(e143, t88) {
            const o102 = this.loading, i68 = e143.uid;
            o102 && o102[i68] && o102[i68].abort && (o102[i68].abort(), delete o102[i68]), t88();
          }
          removeTile(e143, t88) {
            const o102 = this.loaded, i68 = e143.uid;
            o102 && o102[i68] && delete o102[i68], t88();
          }
        }
        class c22 {
          constructor() {
            this.loaded = {};
          }
          loadTile(t88, o102) {
            const { uid: i68, encoding: r62, rawImageData: n46 } = t88, s63 = e142.isImageBitmap(n46) ? this.getImageData(n46) : n46, a83 = new e142.DEMData(i68, s63, r62);
            this.loaded = this.loaded || {}, this.loaded[i68] = a83, o102(null, a83);
          }
          getImageData(t88) {
            this.offscreenCanvas && this.offscreenCanvasContext || (this.offscreenCanvas = new OffscreenCanvas(t88.width, t88.height), this.offscreenCanvasContext = this.offscreenCanvas.getContext("2d")), this.offscreenCanvas.width = t88.width, this.offscreenCanvas.height = t88.height, this.offscreenCanvasContext.drawImage(t88, 0, 0, t88.width, t88.height);
            const o102 = this.offscreenCanvasContext.getImageData(-1, -1, t88.width + 2, t88.height + 2);
            return this.offscreenCanvasContext.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height), new e142.RGBAImage({ width: o102.width, height: o102.height }, o102.data);
          }
          removeTile(e143) {
            const t88 = this.loaded, o102 = e143.uid;
            t88 && t88[o102] && delete t88[o102];
          }
        }
        var u20 = function e143(t88, o102) {
          var i68, r62 = t88 && t88.type;
          if ("FeatureCollection" === r62)
            for (i68 = 0; i68 < t88.features.length; i68++)
              e143(t88.features[i68], o102);
          else if ("GeometryCollection" === r62)
            for (i68 = 0; i68 < t88.geometries.length; i68++)
              e143(t88.geometries[i68], o102);
          else if ("Feature" === r62)
            e143(t88.geometry, o102);
          else if ("Polygon" === r62)
            h12(t88.coordinates, o102);
          else if ("MultiPolygon" === r62)
            for (i68 = 0; i68 < t88.coordinates.length; i68++)
              h12(t88.coordinates[i68], o102);
          return t88;
        };
        function h12(e143, t88) {
          if (0 !== e143.length) {
            p17(e143[0], t88);
            for (var o102 = 1; o102 < e143.length; o102++)
              p17(e143[o102], !t88);
          }
        }
        function p17(e143, t88) {
          for (var o102 = 0, i68 = 0, r62 = 0, n46 = e143.length, s63 = n46 - 1; r62 < n46; s63 = r62++) {
            var a83 = (e143[r62][0] - e143[s63][0]) * (e143[s63][1] + e143[r62][1]), l30 = o102 + a83;
            i68 += Math.abs(o102) >= Math.abs(a83) ? o102 - l30 + a83 : a83 - l30 + o102, o102 = l30;
          }
          o102 + i68 >= 0 != !!t88 && e143.reverse();
        }
        const f21 = e142.vectorTile.VectorTileFeature.prototype.toGeoJSON;
        class d10 {
          constructor(t88) {
            this._feature = t88, this.extent = e142.EXTENT, this.type = t88.type, this.properties = t88.tags, "id" in t88 && !isNaN(t88.id) && (this.id = parseInt(t88.id, 10));
          }
          loadGeometry() {
            if (1 === this._feature.type) {
              const t88 = [];
              for (const o102 of this._feature.geometry)
                t88.push([new e142.pointGeometry(o102[0], o102[1])]);
              return t88;
            }
            {
              const t88 = [];
              for (const o102 of this._feature.geometry) {
                const i68 = [];
                for (const t89 of o102)
                  i68.push(new e142.pointGeometry(t89[0], t89[1]));
                t88.push(i68);
              }
              return t88;
            }
          }
          toGeoJSON(e143, t88, o102) {
            return f21.call(this, e143, t88, o102);
          }
        }
        class g14 {
          constructor(t88) {
            this.layers = { _geojsonTileLayer: this }, this.name = "_geojsonTileLayer", this.extent = e142.EXTENT, this.length = t88.length, this._features = t88;
          }
          feature(e143) {
            return new d10(this._features[e143]);
          }
        }
        var m29 = { exports: {} }, y9 = e142.pointGeometry, v5 = e142.vectorTile.VectorTileFeature, x5 = w3;
        function w3(e143, t88) {
          this.options = t88 || {}, this.features = e143, this.length = e143.length;
        }
        function S(e143, t88) {
          this.id = "number" == typeof e143.id ? e143.id : void 0, this.type = e143.type, this.rawGeometry = 1 === e143.type ? [e143.geometry] : e143.geometry, this.properties = e143.tags, this.extent = t88 || 4096;
        }
        w3.prototype.feature = function(e143) {
          return new S(this.features[e143], this.options.extent);
        }, S.prototype.loadGeometry = function() {
          var e143 = this.rawGeometry;
          this.geometry = [];
          for (var t88 = 0; t88 < e143.length; t88++) {
            for (var o102 = e143[t88], i68 = [], r62 = 0; r62 < o102.length; r62++)
              i68.push(new y9(o102[r62][0], o102[r62][1]));
            this.geometry.push(i68);
          }
          return this.geometry;
        }, S.prototype.bbox = function() {
          this.geometry || this.loadGeometry();
          for (var e143 = this.geometry, t88 = 1 / 0, o102 = -1 / 0, i68 = 1 / 0, r62 = -1 / 0, n46 = 0; n46 < e143.length; n46++)
            for (var s63 = e143[n46], a83 = 0; a83 < s63.length; a83++) {
              var l30 = s63[a83];
              t88 = Math.min(t88, l30.x), o102 = Math.max(o102, l30.x), i68 = Math.min(i68, l30.y), r62 = Math.max(r62, l30.y);
            }
          return [t88, i68, o102, r62];
        }, S.prototype.toGeoJSON = v5.prototype.toGeoJSON;
        var I2 = e142.pbf, M4 = x5;
        function b7(e143) {
          var t88 = new I2();
          return function(e144, t89) {
            for (var o102 in e144.layers)
              t89.writeMessage(3, k6, e144.layers[o102]);
          }(e143, t88), t88.finish();
        }
        function k6(e143, t88) {
          var o102;
          t88.writeVarintField(15, e143.version || 1), t88.writeStringField(1, e143.name || ""), t88.writeVarintField(5, e143.extent || 4096);
          var i68 = { keys: [], values: [], keycache: {}, valuecache: {} };
          for (o102 = 0; o102 < e143.length; o102++)
            i68.feature = e143.feature(o102), t88.writeMessage(2, _3, i68);
          var r62 = i68.keys;
          for (o102 = 0; o102 < r62.length; o102++)
            t88.writeStringField(3, r62[o102]);
          var n46 = i68.values;
          for (o102 = 0; o102 < n46.length; o102++)
            t88.writeMessage(4, L, n46[o102]);
        }
        function _3(e143, t88) {
          var o102 = e143.feature;
          void 0 !== o102.id && t88.writeVarintField(1, o102.id), t88.writeMessage(2, P2, e143), t88.writeVarintField(3, o102.type), t88.writeMessage(4, D3, o102);
        }
        function P2(e143, t88) {
          var o102 = e143.feature, i68 = e143.keys, r62 = e143.values, n46 = e143.keycache, s63 = e143.valuecache;
          for (var a83 in o102.properties) {
            var l30 = o102.properties[a83], c23 = n46[a83];
            if (null !== l30) {
              void 0 === c23 && (i68.push(a83), n46[a83] = c23 = i68.length - 1), t88.writeVarint(c23);
              var u21 = typeof l30;
              "string" !== u21 && "boolean" !== u21 && "number" !== u21 && (l30 = JSON.stringify(l30));
              var h13 = u21 + ":" + l30, p18 = s63[h13];
              void 0 === p18 && (r62.push(l30), s63[h13] = p18 = r62.length - 1), t88.writeVarint(p18);
            }
          }
        }
        function T2(e143, t88) {
          return (t88 << 3) + (7 & e143);
        }
        function C7(e143) {
          return e143 << 1 ^ e143 >> 31;
        }
        function D3(e143, t88) {
          for (var o102 = e143.loadGeometry(), i68 = e143.type, r62 = 0, n46 = 0, s63 = o102.length, a83 = 0; a83 < s63; a83++) {
            var l30 = o102[a83], c23 = 1;
            1 === i68 && (c23 = l30.length), t88.writeVarint(T2(1, c23));
            for (var u21 = 3 === i68 ? l30.length - 1 : l30.length, h13 = 0; h13 < u21; h13++) {
              1 === h13 && 1 !== i68 && t88.writeVarint(T2(2, u21 - 1));
              var p18 = l30[h13].x - r62, f22 = l30[h13].y - n46;
              t88.writeVarint(C7(p18)), t88.writeVarint(C7(f22)), r62 += p18, n46 += f22;
            }
            3 === i68 && t88.writeVarint(T2(7, 1));
          }
        }
        function L(e143, t88) {
          var o102 = typeof e143;
          "string" === o102 ? t88.writeStringField(1, e143) : "boolean" === o102 ? t88.writeBooleanField(7, e143) : "number" === o102 && (e143 % 1 != 0 ? t88.writeDoubleField(3, e143) : e143 < 0 ? t88.writeSVarintField(6, e143) : t88.writeVarintField(5, e143));
        }
        m29.exports = b7, m29.exports.fromVectorTileJs = b7, m29.exports.fromGeojsonVt = function(e143, t88) {
          t88 = t88 || {};
          var o102 = {};
          for (var i68 in e143)
            o102[i68] = new M4(e143[i68].features, t88), o102[i68].name = i68, o102[i68].version = t88.version, o102[i68].extent = t88.extent;
          return b7({ layers: o102 });
        }, m29.exports.GeoJSONWrapper = M4;
        var z2 = m29.exports;
        function O2(e143, t88, o102, i68, r62, n46) {
          if (r62 - i68 <= o102)
            return;
          const s63 = i68 + r62 >> 1;
          E4(e143, t88, s63, i68, r62, n46 % 2), O2(e143, t88, o102, i68, s63 - 1, n46 + 1), O2(e143, t88, o102, s63 + 1, r62, n46 + 1);
        }
        function E4(e143, t88, o102, i68, r62, n46) {
          for (; r62 > i68; ) {
            if (r62 - i68 > 600) {
              const s64 = r62 - i68 + 1, a84 = o102 - i68 + 1, l31 = Math.log(s64), c23 = 0.5 * Math.exp(2 * l31 / 3), u21 = 0.5 * Math.sqrt(l31 * c23 * (s64 - c23) / s64) * (a84 - s64 / 2 < 0 ? -1 : 1);
              E4(e143, t88, o102, Math.max(i68, Math.floor(o102 - a84 * c23 / s64 + u21)), Math.min(r62, Math.floor(o102 + (s64 - a84) * c23 / s64 + u21)), n46);
            }
            const s63 = t88[2 * o102 + n46];
            let a83 = i68, l30 = r62;
            for (F4(e143, t88, i68, o102), t88[2 * r62 + n46] > s63 && F4(e143, t88, i68, r62); a83 < l30; ) {
              for (F4(e143, t88, a83, l30), a83++, l30--; t88[2 * a83 + n46] < s63; )
                a83++;
              for (; t88[2 * l30 + n46] > s63; )
                l30--;
            }
            t88[2 * i68 + n46] === s63 ? F4(e143, t88, i68, l30) : (l30++, F4(e143, t88, l30, r62)), l30 <= o102 && (i68 = l30 + 1), o102 <= l30 && (r62 = l30 - 1);
          }
        }
        function F4(e143, t88, o102, i68) {
          N5(e143, o102, i68), N5(t88, 2 * o102, 2 * i68), N5(t88, 2 * o102 + 1, 2 * i68 + 1);
        }
        function N5(e143, t88, o102) {
          const i68 = e143[t88];
          e143[t88] = e143[o102], e143[o102] = i68;
        }
        function A3(e143, t88, o102, i68) {
          const r62 = e143 - o102, n46 = t88 - i68;
          return r62 * r62 + n46 * n46;
        }
        const G = (e143) => e143[0], J = (e143) => e143[1];
        class Z {
          constructor(e143, t88 = G, o102 = J, i68 = 64, r62 = Float64Array) {
            this.nodeSize = i68, this.points = e143;
            const n46 = e143.length < 65536 ? Uint16Array : Uint32Array, s63 = this.ids = new n46(e143.length), a83 = this.coords = new r62(2 * e143.length);
            for (let i69 = 0; i69 < e143.length; i69++)
              s63[i69] = i69, a83[2 * i69] = t88(e143[i69]), a83[2 * i69 + 1] = o102(e143[i69]);
            O2(s63, a83, i68, 0, s63.length - 1, 0);
          }
          range(e143, t88, o102, i68) {
            return function(e144, t89, o103, i69, r62, n46, s63) {
              const a83 = [0, e144.length - 1, 0], l30 = [];
              let c23, u21;
              for (; a83.length; ) {
                const h13 = a83.pop(), p18 = a83.pop(), f22 = a83.pop();
                if (p18 - f22 <= s63) {
                  for (let s64 = f22; s64 <= p18; s64++)
                    c23 = t89[2 * s64], u21 = t89[2 * s64 + 1], c23 >= o103 && c23 <= r62 && u21 >= i69 && u21 <= n46 && l30.push(e144[s64]);
                  continue;
                }
                const d11 = Math.floor((f22 + p18) / 2);
                c23 = t89[2 * d11], u21 = t89[2 * d11 + 1], c23 >= o103 && c23 <= r62 && u21 >= i69 && u21 <= n46 && l30.push(e144[d11]);
                const g15 = (h13 + 1) % 2;
                (0 === h13 ? o103 <= c23 : i69 <= u21) && (a83.push(f22), a83.push(d11 - 1), a83.push(g15)), (0 === h13 ? r62 >= c23 : n46 >= u21) && (a83.push(d11 + 1), a83.push(p18), a83.push(g15));
              }
              return l30;
            }(this.ids, this.coords, e143, t88, o102, i68, this.nodeSize);
          }
          within(e143, t88, o102) {
            return function(e144, t89, o103, i68, r62, n46) {
              const s63 = [0, e144.length - 1, 0], a83 = [], l30 = r62 * r62;
              for (; s63.length; ) {
                const c23 = s63.pop(), u21 = s63.pop(), h13 = s63.pop();
                if (u21 - h13 <= n46) {
                  for (let r63 = h13; r63 <= u21; r63++)
                    A3(t89[2 * r63], t89[2 * r63 + 1], o103, i68) <= l30 && a83.push(e144[r63]);
                  continue;
                }
                const p18 = Math.floor((h13 + u21) / 2), f22 = t89[2 * p18], d11 = t89[2 * p18 + 1];
                A3(f22, d11, o103, i68) <= l30 && a83.push(e144[p18]);
                const g15 = (c23 + 1) % 2;
                (0 === c23 ? o103 - r62 <= f22 : i68 - r62 <= d11) && (s63.push(h13), s63.push(p18 - 1), s63.push(g15)), (0 === c23 ? o103 + r62 >= f22 : i68 + r62 >= d11) && (s63.push(p18 + 1), s63.push(u21), s63.push(g15));
              }
              return a83;
            }(this.ids, this.coords, e143, t88, o102, this.nodeSize);
          }
        }
        const B2 = { minZoom: 0, maxZoom: 16, minPoints: 2, radius: 40, extent: 512, nodeSize: 64, log: false, generateId: false, reduce: null, map: (e143) => e143 }, j7 = Math.fround || (Y = new Float32Array(1), (e143) => (Y[0] = +e143, Y[0]));
        var Y;
        class V2 {
          constructor(e143) {
            this.options = K(Object.create(B2), e143), this.trees = new Array(this.options.maxZoom + 1);
          }
          load(e143) {
            const { log: t88, minZoom: o102, maxZoom: i68, nodeSize: r62 } = this.options;
            t88 && console.time("total time");
            const n46 = `prepare ${e143.length} points`;
            t88 && console.time(n46), this.points = e143;
            let s63 = [];
            for (let t89 = 0; t89 < e143.length; t89++)
              e143[t89].geometry && s63.push(W(e143[t89], t89));
            this.trees[i68 + 1] = new Z(s63, Q, ee, r62, Float32Array), t88 && console.timeEnd(n46);
            for (let e144 = i68; e144 >= o102; e144--) {
              const o103 = +Date.now();
              s63 = this._cluster(s63, e144), this.trees[e144] = new Z(s63, Q, ee, r62, Float32Array), t88 && console.log("z%d: %d clusters in %dms", e144, s63.length, +Date.now() - o103);
            }
            return t88 && console.timeEnd("total time"), this;
          }
          getClusters(e143, t88) {
            let o102 = ((e143[0] + 180) % 360 + 360) % 360 - 180;
            const i68 = Math.max(-90, Math.min(90, e143[1]));
            let r62 = 180 === e143[2] ? 180 : ((e143[2] + 180) % 360 + 360) % 360 - 180;
            const n46 = Math.max(-90, Math.min(90, e143[3]));
            if (e143[2] - e143[0] >= 360)
              o102 = -180, r62 = 180;
            else if (o102 > r62) {
              const e144 = this.getClusters([o102, i68, 180, n46], t88), s64 = this.getClusters([-180, i68, r62, n46], t88);
              return e144.concat(s64);
            }
            const s63 = this.trees[this._limitZoom(t88)], a83 = s63.range(q3(o102), U2(n46), q3(r62), U2(i68)), l30 = [];
            for (const e144 of a83) {
              const t89 = s63.points[e144];
              l30.push(t89.numPoints ? R(t89) : this.points[t89.index]);
            }
            return l30;
          }
          getChildren(e143) {
            const t88 = this._getOriginId(e143), o102 = this._getOriginZoom(e143), i68 = "No cluster with the specified id.", r62 = this.trees[o102];
            if (!r62)
              throw new Error(i68);
            const n46 = r62.points[t88];
            if (!n46)
              throw new Error(i68);
            const s63 = this.options.radius / (this.options.extent * Math.pow(2, o102 - 1)), a83 = r62.within(n46.x, n46.y, s63), l30 = [];
            for (const t89 of a83) {
              const o103 = r62.points[t89];
              o103.parentId === e143 && l30.push(o103.numPoints ? R(o103) : this.points[o103.index]);
            }
            if (0 === l30.length)
              throw new Error(i68);
            return l30;
          }
          getLeaves(e143, t88, o102) {
            const i68 = [];
            return this._appendLeaves(i68, e143, t88 = t88 || 10, o102 = o102 || 0, 0), i68;
          }
          getTile(e143, t88, o102) {
            const i68 = this.trees[this._limitZoom(e143)], r62 = Math.pow(2, e143), { extent: n46, radius: s63 } = this.options, a83 = s63 / n46, l30 = (o102 - a83) / r62, c23 = (o102 + 1 + a83) / r62, u21 = { features: [] };
            return this._addTileFeatures(i68.range((t88 - a83) / r62, l30, (t88 + 1 + a83) / r62, c23), i68.points, t88, o102, r62, u21), 0 === t88 && this._addTileFeatures(i68.range(1 - a83 / r62, l30, 1, c23), i68.points, r62, o102, r62, u21), t88 === r62 - 1 && this._addTileFeatures(i68.range(0, l30, a83 / r62, c23), i68.points, -1, o102, r62, u21), u21.features.length ? u21 : null;
          }
          getClusterExpansionZoom(e143) {
            let t88 = this._getOriginZoom(e143) - 1;
            for (; t88 <= this.options.maxZoom; ) {
              const o102 = this.getChildren(e143);
              if (t88++, 1 !== o102.length)
                break;
              e143 = o102[0].properties.cluster_id;
            }
            return t88;
          }
          _appendLeaves(e143, t88, o102, i68, r62) {
            const n46 = this.getChildren(t88);
            for (const t89 of n46) {
              const n47 = t89.properties;
              if (n47 && n47.cluster ? r62 + n47.point_count <= i68 ? r62 += n47.point_count : r62 = this._appendLeaves(e143, n47.cluster_id, o102, i68, r62) : r62 < i68 ? r62++ : e143.push(t89), e143.length === o102)
                break;
            }
            return r62;
          }
          _addTileFeatures(e143, t88, o102, i68, r62, n46) {
            for (const s63 of e143) {
              const e144 = t88[s63], a83 = e144.numPoints;
              let l30, c23, u21;
              if (a83)
                l30 = $(e144), c23 = e144.x, u21 = e144.y;
              else {
                const t89 = this.points[e144.index];
                l30 = t89.properties, c23 = q3(t89.geometry.coordinates[0]), u21 = U2(t89.geometry.coordinates[1]);
              }
              const h13 = { type: 1, geometry: [[Math.round(this.options.extent * (c23 * r62 - o102)), Math.round(this.options.extent * (u21 * r62 - i68))]], tags: l30 };
              let p18;
              a83 ? p18 = e144.id : this.options.generateId ? p18 = e144.index : this.points[e144.index].id && (p18 = this.points[e144.index].id), void 0 !== p18 && (h13.id = p18), n46.features.push(h13);
            }
          }
          _limitZoom(e143) {
            return Math.max(this.options.minZoom, Math.min(+e143, this.options.maxZoom + 1));
          }
          _cluster(e143, t88) {
            const o102 = [], { radius: i68, extent: r62, reduce: n46, minPoints: s63 } = this.options, a83 = i68 / (r62 * Math.pow(2, t88));
            for (let i69 = 0; i69 < e143.length; i69++) {
              const r63 = e143[i69];
              if (r63.zoom <= t88)
                continue;
              r63.zoom = t88;
              const l30 = this.trees[t88 + 1], c23 = l30.within(r63.x, r63.y, a83), u21 = r63.numPoints || 1;
              let h13 = u21;
              for (const e144 of c23) {
                const o103 = l30.points[e144];
                o103.zoom > t88 && (h13 += o103.numPoints || 1);
              }
              if (h13 > u21 && h13 >= s63) {
                let e144 = r63.x * u21, s64 = r63.y * u21, a84 = n46 && u21 > 1 ? this._map(r63, true) : null;
                const p18 = (i69 << 5) + (t88 + 1) + this.points.length;
                for (const o103 of c23) {
                  const i70 = l30.points[o103];
                  if (i70.zoom <= t88)
                    continue;
                  i70.zoom = t88;
                  const c24 = i70.numPoints || 1;
                  e144 += i70.x * c24, s64 += i70.y * c24, i70.parentId = p18, n46 && (a84 || (a84 = this._map(r63, true)), n46(a84, this._map(i70)));
                }
                r63.parentId = p18, o102.push(X(e144 / h13, s64 / h13, p18, h13, a84));
              } else if (o102.push(r63), h13 > 1)
                for (const e144 of c23) {
                  const i70 = l30.points[e144];
                  i70.zoom <= t88 || (i70.zoom = t88, o102.push(i70));
                }
            }
            return o102;
          }
          _getOriginId(e143) {
            return e143 - this.points.length >> 5;
          }
          _getOriginZoom(e143) {
            return (e143 - this.points.length) % 32;
          }
          _map(e143, t88) {
            if (e143.numPoints)
              return t88 ? K({}, e143.properties) : e143.properties;
            const o102 = this.points[e143.index].properties, i68 = this.options.map(o102);
            return t88 && i68 === o102 ? K({}, i68) : i68;
          }
        }
        function X(e143, t88, o102, i68, r62) {
          return { x: j7(e143), y: j7(t88), zoom: 1 / 0, id: o102, parentId: -1, numPoints: i68, properties: r62 };
        }
        function W(e143, t88) {
          const [o102, i68] = e143.geometry.coordinates;
          return { x: j7(q3(o102)), y: j7(U2(i68)), zoom: 1 / 0, index: t88, parentId: -1 };
        }
        function R(e143) {
          return { type: "Feature", id: e143.id, properties: $(e143), geometry: { type: "Point", coordinates: [(t88 = e143.x, 360 * (t88 - 0.5)), H(e143.y)] } };
          var t88;
        }
        function $(e143) {
          const t88 = e143.numPoints, o102 = t88 >= 1e4 ? `${Math.round(t88 / 1e3)}k` : t88 >= 1e3 ? Math.round(t88 / 100) / 10 + "k" : t88;
          return K(K({}, e143.properties), { cluster: true, cluster_id: e143.id, point_count: t88, point_count_abbreviated: o102 });
        }
        function q3(e143) {
          return e143 / 360 + 0.5;
        }
        function U2(e143) {
          const t88 = Math.sin(e143 * Math.PI / 180), o102 = 0.5 - 0.25 * Math.log((1 + t88) / (1 - t88)) / Math.PI;
          return o102 < 0 ? 0 : o102 > 1 ? 1 : o102;
        }
        function H(e143) {
          const t88 = (180 - 360 * e143) * Math.PI / 180;
          return 360 * Math.atan(Math.exp(t88)) / Math.PI - 90;
        }
        function K(e143, t88) {
          for (const o102 in t88)
            e143[o102] = t88[o102];
          return e143;
        }
        function Q(e143) {
          return e143.x;
        }
        function ee(e143) {
          return e143.y;
        }
        function te(e143, t88, o102, i68) {
          for (var r62, n46 = i68, s63 = o102 - t88 >> 1, a83 = o102 - t88, l30 = e143[t88], c23 = e143[t88 + 1], u21 = e143[o102], h13 = e143[o102 + 1], p18 = t88 + 3; p18 < o102; p18 += 3) {
            var f22 = oe(e143[p18], e143[p18 + 1], l30, c23, u21, h13);
            if (f22 > n46)
              r62 = p18, n46 = f22;
            else if (f22 === n46) {
              var d11 = Math.abs(p18 - s63);
              d11 < a83 && (r62 = p18, a83 = d11);
            }
          }
          n46 > i68 && (r62 - t88 > 3 && te(e143, t88, r62, i68), e143[r62 + 2] = n46, o102 - r62 > 3 && te(e143, r62, o102, i68));
        }
        function oe(e143, t88, o102, i68, r62, n46) {
          var s63 = r62 - o102, a83 = n46 - i68;
          if (0 !== s63 || 0 !== a83) {
            var l30 = ((e143 - o102) * s63 + (t88 - i68) * a83) / (s63 * s63 + a83 * a83);
            l30 > 1 ? (o102 = r62, i68 = n46) : l30 > 0 && (o102 += s63 * l30, i68 += a83 * l30);
          }
          return (s63 = e143 - o102) * s63 + (a83 = t88 - i68) * a83;
        }
        function ie(e143, t88, o102, i68) {
          var r62 = { id: void 0 === e143 ? null : e143, type: t88, geometry: o102, tags: i68, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
          return function(e144) {
            var t89 = e144.geometry, o103 = e144.type;
            if ("Point" === o103 || "MultiPoint" === o103 || "LineString" === o103)
              re(e144, t89);
            else if ("Polygon" === o103 || "MultiLineString" === o103)
              for (var i69 = 0; i69 < t89.length; i69++)
                re(e144, t89[i69]);
            else if ("MultiPolygon" === o103)
              for (i69 = 0; i69 < t89.length; i69++)
                for (var r63 = 0; r63 < t89[i69].length; r63++)
                  re(e144, t89[i69][r63]);
          }(r62), r62;
        }
        function re(e143, t88) {
          for (var o102 = 0; o102 < t88.length; o102 += 3)
            e143.minX = Math.min(e143.minX, t88[o102]), e143.minY = Math.min(e143.minY, t88[o102 + 1]), e143.maxX = Math.max(e143.maxX, t88[o102]), e143.maxY = Math.max(e143.maxY, t88[o102 + 1]);
        }
        function ne(e143, t88, o102, i68) {
          if (t88.geometry) {
            var r62 = t88.geometry.coordinates, n46 = t88.geometry.type, s63 = Math.pow(o102.tolerance / ((1 << o102.maxZoom) * o102.extent), 2), a83 = [], l30 = t88.id;
            if (o102.promoteId ? l30 = t88.properties[o102.promoteId] : o102.generateId && (l30 = i68 || 0), "Point" === n46)
              se(r62, a83);
            else if ("MultiPoint" === n46)
              for (var c23 = 0; c23 < r62.length; c23++)
                se(r62[c23], a83);
            else if ("LineString" === n46)
              ae(r62, a83, s63, false);
            else if ("MultiLineString" === n46) {
              if (o102.lineMetrics) {
                for (c23 = 0; c23 < r62.length; c23++)
                  ae(r62[c23], a83 = [], s63, false), e143.push(ie(l30, "LineString", a83, t88.properties));
                return;
              }
              le(r62, a83, s63, false);
            } else if ("Polygon" === n46)
              le(r62, a83, s63, true);
            else {
              if ("MultiPolygon" !== n46) {
                if ("GeometryCollection" === n46) {
                  for (c23 = 0; c23 < t88.geometry.geometries.length; c23++)
                    ne(e143, { id: l30, geometry: t88.geometry.geometries[c23], properties: t88.properties }, o102, i68);
                  return;
                }
                throw new Error("Input data is not a valid GeoJSON object.");
              }
              for (c23 = 0; c23 < r62.length; c23++) {
                var u21 = [];
                le(r62[c23], u21, s63, true), a83.push(u21);
              }
            }
            e143.push(ie(l30, n46, a83, t88.properties));
          }
        }
        function se(e143, t88) {
          t88.push(ce(e143[0])), t88.push(ue(e143[1])), t88.push(0);
        }
        function ae(e143, t88, o102, i68) {
          for (var r62, n46, s63 = 0, a83 = 0; a83 < e143.length; a83++) {
            var l30 = ce(e143[a83][0]), c23 = ue(e143[a83][1]);
            t88.push(l30), t88.push(c23), t88.push(0), a83 > 0 && (s63 += i68 ? (r62 * c23 - l30 * n46) / 2 : Math.sqrt(Math.pow(l30 - r62, 2) + Math.pow(c23 - n46, 2))), r62 = l30, n46 = c23;
          }
          var u21 = t88.length - 3;
          t88[2] = 1, te(t88, 0, u21, o102), t88[u21 + 2] = 1, t88.size = Math.abs(s63), t88.start = 0, t88.end = t88.size;
        }
        function le(e143, t88, o102, i68) {
          for (var r62 = 0; r62 < e143.length; r62++) {
            var n46 = [];
            ae(e143[r62], n46, o102, i68), t88.push(n46);
          }
        }
        function ce(e143) {
          return e143 / 360 + 0.5;
        }
        function ue(e143) {
          var t88 = Math.sin(e143 * Math.PI / 180), o102 = 0.5 - 0.25 * Math.log((1 + t88) / (1 - t88)) / Math.PI;
          return o102 < 0 ? 0 : o102 > 1 ? 1 : o102;
        }
        function he(e143, t88, o102, i68, r62, n46, s63, a83) {
          if (i68 /= t88, n46 >= (o102 /= t88) && s63 < i68)
            return e143;
          if (s63 < o102 || n46 >= i68)
            return null;
          for (var l30 = [], c23 = 0; c23 < e143.length; c23++) {
            var u21 = e143[c23], h13 = u21.geometry, p18 = u21.type, f22 = 0 === r62 ? u21.minX : u21.minY, d11 = 0 === r62 ? u21.maxX : u21.maxY;
            if (f22 >= o102 && d11 < i68)
              l30.push(u21);
            else if (!(d11 < o102 || f22 >= i68)) {
              var g15 = [];
              if ("Point" === p18 || "MultiPoint" === p18)
                pe(h13, g15, o102, i68, r62);
              else if ("LineString" === p18)
                fe(h13, g15, o102, i68, r62, false, a83.lineMetrics);
              else if ("MultiLineString" === p18)
                ge(h13, g15, o102, i68, r62, false);
              else if ("Polygon" === p18)
                ge(h13, g15, o102, i68, r62, true);
              else if ("MultiPolygon" === p18)
                for (var m30 = 0; m30 < h13.length; m30++) {
                  var y10 = [];
                  ge(h13[m30], y10, o102, i68, r62, true), y10.length && g15.push(y10);
                }
              if (g15.length) {
                if (a83.lineMetrics && "LineString" === p18) {
                  for (m30 = 0; m30 < g15.length; m30++)
                    l30.push(ie(u21.id, p18, g15[m30], u21.tags));
                  continue;
                }
                "LineString" !== p18 && "MultiLineString" !== p18 || (1 === g15.length ? (p18 = "LineString", g15 = g15[0]) : p18 = "MultiLineString"), "Point" !== p18 && "MultiPoint" !== p18 || (p18 = 3 === g15.length ? "Point" : "MultiPoint"), l30.push(ie(u21.id, p18, g15, u21.tags));
              }
            }
          }
          return l30.length ? l30 : null;
        }
        function pe(e143, t88, o102, i68, r62) {
          for (var n46 = 0; n46 < e143.length; n46 += 3) {
            var s63 = e143[n46 + r62];
            s63 >= o102 && s63 <= i68 && (t88.push(e143[n46]), t88.push(e143[n46 + 1]), t88.push(e143[n46 + 2]));
          }
        }
        function fe(e143, t88, o102, i68, r62, n46, s63) {
          for (var a83, l30, c23 = de(e143), u21 = 0 === r62 ? ye : ve, h13 = e143.start, p18 = 0; p18 < e143.length - 3; p18 += 3) {
            var f22 = e143[p18], d11 = e143[p18 + 1], g15 = e143[p18 + 2], m30 = e143[p18 + 3], y10 = e143[p18 + 4], v6 = 0 === r62 ? f22 : d11, x6 = 0 === r62 ? m30 : y10, w4 = false;
            s63 && (a83 = Math.sqrt(Math.pow(f22 - m30, 2) + Math.pow(d11 - y10, 2))), v6 < o102 ? x6 > o102 && (l30 = u21(c23, f22, d11, m30, y10, o102), s63 && (c23.start = h13 + a83 * l30)) : v6 > i68 ? x6 < i68 && (l30 = u21(c23, f22, d11, m30, y10, i68), s63 && (c23.start = h13 + a83 * l30)) : me(c23, f22, d11, g15), x6 < o102 && v6 >= o102 && (l30 = u21(c23, f22, d11, m30, y10, o102), w4 = true), x6 > i68 && v6 <= i68 && (l30 = u21(c23, f22, d11, m30, y10, i68), w4 = true), !n46 && w4 && (s63 && (c23.end = h13 + a83 * l30), t88.push(c23), c23 = de(e143)), s63 && (h13 += a83);
          }
          var S2 = e143.length - 3;
          f22 = e143[S2], d11 = e143[S2 + 1], g15 = e143[S2 + 2], (v6 = 0 === r62 ? f22 : d11) >= o102 && v6 <= i68 && me(c23, f22, d11, g15), S2 = c23.length - 3, n46 && S2 >= 3 && (c23[S2] !== c23[0] || c23[S2 + 1] !== c23[1]) && me(c23, c23[0], c23[1], c23[2]), c23.length && t88.push(c23);
        }
        function de(e143) {
          var t88 = [];
          return t88.size = e143.size, t88.start = e143.start, t88.end = e143.end, t88;
        }
        function ge(e143, t88, o102, i68, r62, n46) {
          for (var s63 = 0; s63 < e143.length; s63++)
            fe(e143[s63], t88, o102, i68, r62, n46, false);
        }
        function me(e143, t88, o102, i68) {
          e143.push(t88), e143.push(o102), e143.push(i68);
        }
        function ye(e143, t88, o102, i68, r62, n46) {
          var s63 = (n46 - t88) / (i68 - t88);
          return e143.push(n46), e143.push(o102 + (r62 - o102) * s63), e143.push(1), s63;
        }
        function ve(e143, t88, o102, i68, r62, n46) {
          var s63 = (n46 - o102) / (r62 - o102);
          return e143.push(t88 + (i68 - t88) * s63), e143.push(n46), e143.push(1), s63;
        }
        function xe(e143, t88) {
          for (var o102 = [], i68 = 0; i68 < e143.length; i68++) {
            var r62, n46 = e143[i68], s63 = n46.type;
            if ("Point" === s63 || "MultiPoint" === s63 || "LineString" === s63)
              r62 = we(n46.geometry, t88);
            else if ("MultiLineString" === s63 || "Polygon" === s63) {
              r62 = [];
              for (var a83 = 0; a83 < n46.geometry.length; a83++)
                r62.push(we(n46.geometry[a83], t88));
            } else if ("MultiPolygon" === s63)
              for (r62 = [], a83 = 0; a83 < n46.geometry.length; a83++) {
                for (var l30 = [], c23 = 0; c23 < n46.geometry[a83].length; c23++)
                  l30.push(we(n46.geometry[a83][c23], t88));
                r62.push(l30);
              }
            o102.push(ie(n46.id, s63, r62, n46.tags));
          }
          return o102;
        }
        function we(e143, t88) {
          var o102 = [];
          o102.size = e143.size, void 0 !== e143.start && (o102.start = e143.start, o102.end = e143.end);
          for (var i68 = 0; i68 < e143.length; i68 += 3)
            o102.push(e143[i68] + t88, e143[i68 + 1], e143[i68 + 2]);
          return o102;
        }
        function Se(e143, t88) {
          if (e143.transformed)
            return e143;
          var o102, i68, r62, n46 = 1 << e143.z, s63 = e143.x, a83 = e143.y;
          for (o102 = 0; o102 < e143.features.length; o102++) {
            var l30 = e143.features[o102], c23 = l30.geometry, u21 = l30.type;
            if (l30.geometry = [], 1 === u21)
              for (i68 = 0; i68 < c23.length; i68 += 2)
                l30.geometry.push(Ie(c23[i68], c23[i68 + 1], t88, n46, s63, a83));
            else
              for (i68 = 0; i68 < c23.length; i68++) {
                var h13 = [];
                for (r62 = 0; r62 < c23[i68].length; r62 += 2)
                  h13.push(Ie(c23[i68][r62], c23[i68][r62 + 1], t88, n46, s63, a83));
                l30.geometry.push(h13);
              }
          }
          return e143.transformed = true, e143;
        }
        function Ie(e143, t88, o102, i68, r62, n46) {
          return [Math.round(o102 * (e143 * i68 - r62)), Math.round(o102 * (t88 * i68 - n46))];
        }
        function Me(e143, t88, o102, i68, r62) {
          for (var n46 = t88 === r62.maxZoom ? 0 : r62.tolerance / ((1 << t88) * r62.extent), s63 = { features: [], numPoints: 0, numSimplified: 0, numFeatures: 0, source: null, x: o102, y: i68, z: t88, transformed: false, minX: 2, minY: 1, maxX: -1, maxY: 0 }, a83 = 0; a83 < e143.length; a83++) {
            s63.numFeatures++, be(s63, e143[a83], n46, r62);
            var l30 = e143[a83].minX, c23 = e143[a83].minY, u21 = e143[a83].maxX, h13 = e143[a83].maxY;
            l30 < s63.minX && (s63.minX = l30), c23 < s63.minY && (s63.minY = c23), u21 > s63.maxX && (s63.maxX = u21), h13 > s63.maxY && (s63.maxY = h13);
          }
          return s63;
        }
        function be(e143, t88, o102, i68) {
          var r62 = t88.geometry, n46 = t88.type, s63 = [];
          if ("Point" === n46 || "MultiPoint" === n46)
            for (var a83 = 0; a83 < r62.length; a83 += 3)
              s63.push(r62[a83]), s63.push(r62[a83 + 1]), e143.numPoints++, e143.numSimplified++;
          else if ("LineString" === n46)
            ke(s63, r62, e143, o102, false, false);
          else if ("MultiLineString" === n46 || "Polygon" === n46)
            for (a83 = 0; a83 < r62.length; a83++)
              ke(s63, r62[a83], e143, o102, "Polygon" === n46, 0 === a83);
          else if ("MultiPolygon" === n46)
            for (var l30 = 0; l30 < r62.length; l30++) {
              var c23 = r62[l30];
              for (a83 = 0; a83 < c23.length; a83++)
                ke(s63, c23[a83], e143, o102, true, 0 === a83);
            }
          if (s63.length) {
            var u21 = t88.tags || null;
            if ("LineString" === n46 && i68.lineMetrics) {
              for (var h13 in u21 = {}, t88.tags)
                u21[h13] = t88.tags[h13];
              u21.mapbox_clip_start = r62.start / r62.size, u21.mapbox_clip_end = r62.end / r62.size;
            }
            var p18 = { geometry: s63, type: "Polygon" === n46 || "MultiPolygon" === n46 ? 3 : "LineString" === n46 || "MultiLineString" === n46 ? 2 : 1, tags: u21 };
            null !== t88.id && (p18.id = t88.id), e143.features.push(p18);
          }
        }
        function ke(e143, t88, o102, i68, r62, n46) {
          var s63 = i68 * i68;
          if (i68 > 0 && t88.size < (r62 ? s63 : i68))
            o102.numPoints += t88.length / 3;
          else {
            for (var a83 = [], l30 = 0; l30 < t88.length; l30 += 3)
              (0 === i68 || t88[l30 + 2] > s63) && (o102.numSimplified++, a83.push(t88[l30]), a83.push(t88[l30 + 1])), o102.numPoints++;
            r62 && function(e144, t89) {
              for (var o103 = 0, i69 = 0, r63 = e144.length, n47 = r63 - 2; i69 < r63; n47 = i69, i69 += 2)
                o103 += (e144[i69] - e144[n47]) * (e144[i69 + 1] + e144[n47 + 1]);
              if (o103 > 0 === t89)
                for (i69 = 0, r63 = e144.length; i69 < r63 / 2; i69 += 2) {
                  var s64 = e144[i69], a84 = e144[i69 + 1];
                  e144[i69] = e144[r63 - 2 - i69], e144[i69 + 1] = e144[r63 - 1 - i69], e144[r63 - 2 - i69] = s64, e144[r63 - 1 - i69] = a84;
                }
            }(a83, n46), e143.push(a83);
          }
        }
        function _e(e143, t88) {
          var o102 = (t88 = this.options = function(e144, t89) {
            for (var o103 in t89)
              e144[o103] = t89[o103];
            return e144;
          }(Object.create(this.options), t88)).debug;
          if (o102 && console.time("preprocess data"), t88.maxZoom < 0 || t88.maxZoom > 24)
            throw new Error("maxZoom should be in the 0-24 range");
          if (t88.promoteId && t88.generateId)
            throw new Error("promoteId and generateId cannot be used together.");
          var i68 = function(e144, t89) {
            var o103 = [];
            if ("FeatureCollection" === e144.type)
              for (var i69 = 0; i69 < e144.features.length; i69++)
                ne(o103, e144.features[i69], t89, i69);
            else
              ne(o103, "Feature" === e144.type ? e144 : { geometry: e144 }, t89);
            return o103;
          }(e143, t88);
          this.tiles = {}, this.tileCoords = [], o102 && (console.timeEnd("preprocess data"), console.log("index: maxZoom: %d, maxPoints: %d", t88.indexMaxZoom, t88.indexMaxPoints), console.time("generate tiles"), this.stats = {}, this.total = 0), i68 = function(e144, t89) {
            var o103 = t89.buffer / t89.extent, i69 = e144, r62 = he(e144, 1, -1 - o103, o103, 0, -1, 2, t89), n46 = he(e144, 1, 1 - o103, 2 + o103, 0, -1, 2, t89);
            return (r62 || n46) && (i69 = he(e144, 1, -o103, 1 + o103, 0, -1, 2, t89) || [], r62 && (i69 = xe(r62, 1).concat(i69)), n46 && (i69 = i69.concat(xe(n46, -1)))), i69;
          }(i68, t88), i68.length && this.splitTile(i68, 0, 0, 0), o102 && (i68.length && console.log("features: %d, points: %d", this.tiles[0].numFeatures, this.tiles[0].numPoints), console.timeEnd("generate tiles"), console.log("tiles generated:", this.total, JSON.stringify(this.stats)));
        }
        function Pe(e143, t88, o102) {
          return 32 * ((1 << e143) * o102 + t88) + e143;
        }
        function Te(e143, t88) {
          const o102 = e143.tileID.canonical;
          if (!this._geoJSONIndex)
            return t88(null, null);
          const i68 = this._geoJSONIndex.getTile(o102.z, o102.x, o102.y);
          if (!i68)
            return t88(null, null);
          const r62 = new g14(i68.features);
          let n46 = z2(r62);
          0 === n46.byteOffset && n46.byteLength === n46.buffer.byteLength || (n46 = new Uint8Array(n46)), t88(null, { vectorTile: r62, rawData: n46.buffer });
        }
        _e.prototype.options = { maxZoom: 14, indexMaxZoom: 5, indexMaxPoints: 1e5, tolerance: 3, extent: 4096, buffer: 64, lineMetrics: false, promoteId: null, generateId: false, debug: 0 }, _e.prototype.splitTile = function(e143, t88, o102, i68, r62, n46, s63) {
          for (var a83 = [e143, t88, o102, i68], l30 = this.options, c23 = l30.debug; a83.length; ) {
            i68 = a83.pop(), o102 = a83.pop(), t88 = a83.pop(), e143 = a83.pop();
            var u21 = 1 << t88, h13 = Pe(t88, o102, i68), p18 = this.tiles[h13];
            if (!p18 && (c23 > 1 && console.time("creation"), p18 = this.tiles[h13] = Me(e143, t88, o102, i68, l30), this.tileCoords.push({ z: t88, x: o102, y: i68 }), c23)) {
              c23 > 1 && (console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)", t88, o102, i68, p18.numFeatures, p18.numPoints, p18.numSimplified), console.timeEnd("creation"));
              var f22 = "z" + t88;
              this.stats[f22] = (this.stats[f22] || 0) + 1, this.total++;
            }
            if (p18.source = e143, r62) {
              if (t88 === l30.maxZoom || t88 === r62)
                continue;
              var d11 = 1 << r62 - t88;
              if (o102 !== Math.floor(n46 / d11) || i68 !== Math.floor(s63 / d11))
                continue;
            } else if (t88 === l30.indexMaxZoom || p18.numPoints <= l30.indexMaxPoints)
              continue;
            if (p18.source = null, 0 !== e143.length) {
              c23 > 1 && console.time("clipping");
              var g15, m30, y10, v6, x6, w4, S2 = 0.5 * l30.buffer / l30.extent, I3 = 0.5 - S2, M5 = 0.5 + S2, b8 = 1 + S2;
              g15 = m30 = y10 = v6 = null, x6 = he(e143, u21, o102 - S2, o102 + M5, 0, p18.minX, p18.maxX, l30), w4 = he(e143, u21, o102 + I3, o102 + b8, 0, p18.minX, p18.maxX, l30), e143 = null, x6 && (g15 = he(x6, u21, i68 - S2, i68 + M5, 1, p18.minY, p18.maxY, l30), m30 = he(x6, u21, i68 + I3, i68 + b8, 1, p18.minY, p18.maxY, l30), x6 = null), w4 && (y10 = he(w4, u21, i68 - S2, i68 + M5, 1, p18.minY, p18.maxY, l30), v6 = he(w4, u21, i68 + I3, i68 + b8, 1, p18.minY, p18.maxY, l30), w4 = null), c23 > 1 && console.timeEnd("clipping"), a83.push(g15 || [], t88 + 1, 2 * o102, 2 * i68), a83.push(m30 || [], t88 + 1, 2 * o102, 2 * i68 + 1), a83.push(y10 || [], t88 + 1, 2 * o102 + 1, 2 * i68), a83.push(v6 || [], t88 + 1, 2 * o102 + 1, 2 * i68 + 1);
            }
          }
        }, _e.prototype.getTile = function(e143, t88, o102) {
          var i68 = this.options, r62 = i68.extent, n46 = i68.debug;
          if (e143 < 0 || e143 > 24)
            return null;
          var s63 = 1 << e143, a83 = Pe(e143, t88 = (t88 % s63 + s63) % s63, o102);
          if (this.tiles[a83])
            return Se(this.tiles[a83], r62);
          n46 > 1 && console.log("drilling down to z%d-%d-%d", e143, t88, o102);
          for (var l30, c23 = e143, u21 = t88, h13 = o102; !l30 && c23 > 0; )
            c23--, u21 = Math.floor(u21 / 2), h13 = Math.floor(h13 / 2), l30 = this.tiles[Pe(c23, u21, h13)];
          return l30 && l30.source ? (n46 > 1 && console.log("found parent tile z%d-%d-%d", c23, u21, h13), n46 > 1 && console.time("drilling down"), this.splitTile(l30.source, c23, u21, h13, e143, t88, o102), n46 > 1 && console.timeEnd("drilling down"), this.tiles[a83] ? Se(this.tiles[a83], r62) : null) : null;
        };
        class Ce extends l29 {
          constructor(e143, t88, o102, i68) {
            super(e143, t88, o102, Te), i68 && (this.loadGeoJSON = i68);
          }
          loadData(e143, t88) {
            this._pendingCallback && this._pendingCallback(null, { abandoned: true }), this._pendingCallback = t88, this._pendingLoadDataParams = e143, this._state && "Idle" !== this._state ? this._state = "NeedsLoadData" : (this._state = "Coalescing", this._loadData());
          }
          _loadData() {
            if (!this._pendingCallback || !this._pendingLoadDataParams)
              return;
            const t88 = this._pendingCallback, o102 = this._pendingLoadDataParams;
            delete this._pendingCallback, delete this._pendingLoadDataParams;
            const i68 = !!(o102 && o102.request && o102.request.collectResourceTiming) && new e142.RequestPerformance(o102.request);
            this.loadGeoJSON(o102, (r62, n46) => {
              if (r62 || !n46)
                return t88(r62);
              if ("object" != typeof n46)
                return t88(new Error(`Input data given to '${o102.source}' is not a valid GeoJSON object.`));
              {
                u20(n46, true);
                try {
                  if (o102.filter) {
                    const t89 = e142.createExpression(o102.filter, { type: "boolean", "property-type": "data-driven", overridable: false, transition: false });
                    if ("error" === t89.result)
                      throw new Error(t89.value.map((e143) => `${e143.key}: ${e143.message}`).join(", "));
                    const i69 = n46.features.filter((e143) => t89.value.evaluate({ zoom: 0 }, e143));
                    n46 = { type: "FeatureCollection", features: i69 };
                  }
                  this._geoJSONIndex = o102.cluster ? new V2(function({ superclusterOptions: t89, clusterProperties: o103 }) {
                    if (!o103 || !t89)
                      return t89;
                    const i69 = {}, r63 = {}, n47 = { accumulated: null, zoom: 0 }, s64 = { properties: null }, a83 = Object.keys(o103);
                    for (const t90 of a83) {
                      const [n48, s65] = o103[t90], a84 = e142.createExpression(s65), l30 = e142.createExpression("string" == typeof n48 ? [n48, ["accumulated"], ["get", t90]] : n48);
                      i69[t90] = a84.value, r63[t90] = l30.value;
                    }
                    return t89.map = (e143) => {
                      s64.properties = e143;
                      const t90 = {};
                      for (const e144 of a83)
                        t90[e144] = i69[e144].evaluate(n47, s64);
                      return t90;
                    }, t89.reduce = (e143, t90) => {
                      s64.properties = t90;
                      for (const t91 of a83)
                        n47.accumulated = e143[t91], e143[t91] = r63[t91].evaluate(n47, s64);
                    }, t89;
                  }(o102)).load(n46.features) : function(e143, t89) {
                    return new _e(e143, t89);
                  }(n46, o102.geojsonVtOptions);
                } catch (r63) {
                  return t88(r63);
                }
                this.loaded = {};
                const s63 = {};
                if (i68) {
                  const e143 = i68.finish();
                  e143 && (s63.resourceTiming = {}, s63.resourceTiming[o102.source] = JSON.parse(JSON.stringify(e143)));
                }
                t88(null, s63);
              }
            });
          }
          coalesce() {
            "Coalescing" === this._state ? this._state = "Idle" : "NeedsLoadData" === this._state && (this._state = "Coalescing", this._loadData());
          }
          reloadTile(e143, t88) {
            const o102 = this.loaded;
            return o102 && o102[e143.uid] ? super.reloadTile(e143, t88) : this.loadTile(e143, t88);
          }
          loadGeoJSON(t88, o102) {
            if (t88.request)
              e142.getJSON(t88.request, o102);
            else {
              if ("string" != typeof t88.data)
                return o102(new Error(`Input data given to '${t88.source}' is not a valid GeoJSON object.`));
              try {
                return o102(null, JSON.parse(t88.data));
              } catch (e143) {
                return o102(new Error(`Input data given to '${t88.source}' is not a valid GeoJSON object.`));
              }
            }
          }
          removeSource(e143, t88) {
            this._pendingCallback && this._pendingCallback(null, { abandoned: true }), t88();
          }
          getClusterExpansionZoom(e143, t88) {
            try {
              t88(null, this._geoJSONIndex.getClusterExpansionZoom(e143.clusterId));
            } catch (e144) {
              t88(e144);
            }
          }
          getClusterChildren(e143, t88) {
            try {
              t88(null, this._geoJSONIndex.getChildren(e143.clusterId));
            } catch (e144) {
              t88(e144);
            }
          }
          getClusterLeaves(e143, t88) {
            try {
              t88(null, this._geoJSONIndex.getLeaves(e143.clusterId, e143.limit, e143.offset));
            } catch (e144) {
              t88(e144);
            }
          }
        }
        class De {
          constructor(t88) {
            this.self = t88, this.actor = new e142.Actor(t88, this), this.layerIndexes = {}, this.availableImages = {}, this.workerSourceTypes = { vector: l29, geojson: Ce }, this.workerSources = {}, this.demWorkerSources = {}, this.self.registerWorkerSource = (e143, t89) => {
              if (this.workerSourceTypes[e143])
                throw new Error(`Worker source with name "${e143}" already registered.`);
              this.workerSourceTypes[e143] = t89;
            }, this.self.registerRTLTextPlugin = (t89) => {
              if (e142.plugin.isParsed())
                throw new Error("RTL text plugin already registered.");
              e142.plugin.applyArabicShaping = t89.applyArabicShaping, e142.plugin.processBidirectionalText = t89.processBidirectionalText, e142.plugin.processStyledBidirectionalText = t89.processStyledBidirectionalText;
            };
          }
          setReferrer(e143, t88) {
            this.referrer = t88;
          }
          setImages(e143, t88, o102) {
            this.availableImages[e143] = t88;
            for (const o103 in this.workerSources[e143]) {
              const i68 = this.workerSources[e143][o103];
              for (const e144 in i68)
                i68[e144].availableImages = t88;
            }
            o102();
          }
          setLayers(e143, t88, o102) {
            this.getLayerIndex(e143).replace(t88), o102();
          }
          updateLayers(e143, t88, o102) {
            this.getLayerIndex(e143).update(t88.layers, t88.removedIds), o102();
          }
          loadTile(e143, t88, o102) {
            this.getWorkerSource(e143, t88.type, t88.source).loadTile(t88, o102);
          }
          loadDEMTile(e143, t88, o102) {
            this.getDEMWorkerSource(e143, t88.source).loadTile(t88, o102);
          }
          reloadTile(e143, t88, o102) {
            this.getWorkerSource(e143, t88.type, t88.source).reloadTile(t88, o102);
          }
          abortTile(e143, t88, o102) {
            this.getWorkerSource(e143, t88.type, t88.source).abortTile(t88, o102);
          }
          removeTile(e143, t88, o102) {
            this.getWorkerSource(e143, t88.type, t88.source).removeTile(t88, o102);
          }
          removeDEMTile(e143, t88) {
            this.getDEMWorkerSource(e143, t88.source).removeTile(t88);
          }
          removeSource(e143, t88, o102) {
            if (!this.workerSources[e143] || !this.workerSources[e143][t88.type] || !this.workerSources[e143][t88.type][t88.source])
              return;
            const i68 = this.workerSources[e143][t88.type][t88.source];
            delete this.workerSources[e143][t88.type][t88.source], void 0 !== i68.removeSource ? i68.removeSource(t88, o102) : o102();
          }
          loadWorkerSource(e143, t88, o102) {
            try {
              this.self.importScripts(t88.url), o102();
            } catch (e144) {
              o102(e144.toString());
            }
          }
          syncRTLPluginState(t88, o102, i68) {
            try {
              e142.plugin.setState(o102);
              const t89 = e142.plugin.getPluginURL();
              if (e142.plugin.isLoaded() && !e142.plugin.isParsed() && null != t89) {
                this.self.importScripts(t89);
                const o103 = e142.plugin.isParsed();
                i68(o103 ? void 0 : new Error(`RTL Text Plugin failed to import scripts from ${t89}`), o103);
              }
            } catch (e143) {
              i68(e143.toString());
            }
          }
          getAvailableImages(e143) {
            let t88 = this.availableImages[e143];
            return t88 || (t88 = []), t88;
          }
          getLayerIndex(e143) {
            let t88 = this.layerIndexes[e143];
            return t88 || (t88 = this.layerIndexes[e143] = new i67()), t88;
          }
          getWorkerSource(e143, t88, o102) {
            if (this.workerSources[e143] || (this.workerSources[e143] = {}), this.workerSources[e143][t88] || (this.workerSources[e143][t88] = {}), !this.workerSources[e143][t88][o102]) {
              const i68 = { send: (t89, o103, i69) => {
                this.actor.send(t89, o103, i69, e143);
              } };
              this.workerSources[e143][t88][o102] = new this.workerSourceTypes[t88](i68, this.getLayerIndex(e143), this.getAvailableImages(e143));
            }
            return this.workerSources[e143][t88][o102];
          }
          getDEMWorkerSource(e143, t88) {
            return this.demWorkerSources[e143] || (this.demWorkerSources[e143] = {}), this.demWorkerSources[e143][t88] || (this.demWorkerSources[e143][t88] = new c22()), this.demWorkerSources[e143][t88];
          }
          enforceCacheSizeLimit(t88, o102) {
            e142.enforceCacheSizeLimit(o102);
          }
        }
        return "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope && (self.worker = new De(self)), De;
      });
      define2(["./shared"], function(t87) {
        "use strict";
        var e142 = i67;
        function i67(t88) {
          return !function(t89) {
            return "undefined" == typeof window || "undefined" == typeof document ? "not a browser" : Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray ? Function.prototype && Function.prototype.bind ? Object.keys && Object.create && Object.getPrototypeOf && Object.getOwnPropertyNames && Object.isSealed && Object.isFrozen && Object.isExtensible && Object.getOwnPropertyDescriptor && Object.defineProperty && Object.defineProperties && Object.seal && Object.freeze && Object.preventExtensions ? "JSON" in window && "parse" in JSON && "stringify" in JSON ? function() {
              if (!("Worker" in window && "Blob" in window && "URL" in window))
                return false;
              var t90, e144, i68 = new Blob([""], { type: "text/javascript" }), o102 = URL.createObjectURL(i68);
              try {
                e144 = new Worker(o102), t90 = true;
              } catch (e145) {
                t90 = false;
              }
              return e144 && e144.terminate(), URL.revokeObjectURL(o102), t90;
            }() ? "Uint8ClampedArray" in window ? ArrayBuffer.isView ? function() {
              var t90 = document.createElement("canvas");
              t90.width = t90.height = 1;
              var e144 = t90.getContext("2d");
              if (!e144)
                return false;
              var i68 = e144.getImageData(0, 0, 1, 1);
              return i68 && i68.width === t90.width;
            }() ? (void 0 === o101[e143 = t89 && t89.failIfMajorPerformanceCaveat] && (o101[e143] = function(t90) {
              var e144, o102 = function(t91) {
                var e145 = document.createElement("canvas"), o103 = Object.create(i67.webGLContextAttributes);
                return o103.failIfMajorPerformanceCaveat = t91, e145.getContext("webgl", o103) || e145.getContext("experimental-webgl", o103);
              }(t90);
              if (!o102)
                return false;
              try {
                e144 = o102.createShader(o102.VERTEX_SHADER);
              } catch (t91) {
                return false;
              }
              return !(!e144 || o102.isContextLost()) && (o102.shaderSource(e144, "void main() {}"), o102.compileShader(e144), true === o102.getShaderParameter(e144, o102.COMPILE_STATUS));
            }(e143)), o101[e143] ? document.documentMode ? "insufficient ECMAScript 6 support" : void 0 : "insufficient WebGL support") : "insufficient Canvas/getImageData support" : "insufficient ArrayBuffer support" : "insufficient Uint8ClampedArray support" : "insufficient worker support" : "insufficient JSON support" : "insufficient Object support" : "insufficient Function support" : "insufficent Array support";
            var e143;
          }(t88);
        }
        var o101 = {};
        function a82(t88, e143) {
          if (Array.isArray(t88)) {
            if (!Array.isArray(e143) || t88.length !== e143.length)
              return false;
            for (let i68 = 0; i68 < t88.length; i68++)
              if (!a82(t88[i68], e143[i68]))
                return false;
            return true;
          }
          if ("object" == typeof t88 && null !== t88 && null !== e143) {
            if ("object" != typeof e143)
              return false;
            if (Object.keys(t88).length !== Object.keys(e143).length)
              return false;
            for (const i68 in t88)
              if (!a82(t88[i68], e143[i68]))
                return false;
            return true;
          }
          return t88 === e143;
        }
        i67.webGLContextAttributes = { antialias: false, alpha: true, stencil: true, depth: true };
        class s62 {
          static testProp(t88) {
            if (!s62.docStyle)
              return t88[0];
            for (let e143 = 0; e143 < t88.length; e143++)
              if (t88[e143] in s62.docStyle)
                return t88[e143];
            return t88[0];
          }
          static create(t88, e143, i68) {
            const o102 = window.document.createElement(t88);
            return void 0 !== e143 && (o102.className = e143), i68 && i68.appendChild(o102), o102;
          }
          static createNS(t88, e143) {
            return window.document.createElementNS(t88, e143);
          }
          static disableDrag() {
            s62.docStyle && s62.selectProp && (s62.userSelect = s62.docStyle[s62.selectProp], s62.docStyle[s62.selectProp] = "none");
          }
          static enableDrag() {
            s62.docStyle && s62.selectProp && (s62.docStyle[s62.selectProp] = s62.userSelect);
          }
          static setTransform(t88, e143) {
            t88.style[s62.transformProp] = e143;
          }
          static addEventListener(t88, e143, i68, o102 = {}) {
            t88.addEventListener(e143, i68, "passive" in o102 ? o102 : o102.capture);
          }
          static removeEventListener(t88, e143, i68, o102 = {}) {
            t88.removeEventListener(e143, i68, "passive" in o102 ? o102 : o102.capture);
          }
          static suppressClickInternal(t88) {
            t88.preventDefault(), t88.stopPropagation(), window.removeEventListener("click", s62.suppressClickInternal, true);
          }
          static suppressClick() {
            window.addEventListener("click", s62.suppressClickInternal, true), window.setTimeout(() => {
              window.removeEventListener("click", s62.suppressClickInternal, true);
            }, 0);
          }
          static mousePos(e143, i68) {
            const o102 = e143.getBoundingClientRect();
            return new t87.pointGeometry(i68.clientX - o102.left - e143.clientLeft, i68.clientY - o102.top - e143.clientTop);
          }
          static touchPos(e143, i68) {
            const o102 = e143.getBoundingClientRect(), a83 = [];
            for (let s63 = 0; s63 < i68.length; s63++)
              a83.push(new t87.pointGeometry(i68[s63].clientX - o102.left - e143.clientLeft, i68[s63].clientY - o102.top - e143.clientTop));
            return a83;
          }
          static mouseButton(t88) {
            return t88.button;
          }
          static remove(t88) {
            t88.parentNode && t88.parentNode.removeChild(t88);
          }
        }
        s62.docStyle = "undefined" != typeof window && window.document && window.document.documentElement.style, s62.selectProp = s62.testProp(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]), s62.transformProp = s62.testProp(["transform", "WebkitTransform"]);
        class r61 {
          constructor(t88) {
            this._transformRequestFn = t88;
          }
          transformRequest(t88, e143) {
            return this._transformRequestFn && this._transformRequestFn(t88, e143) || { url: t88 };
          }
          normalizeSpriteURL(t88, e143, i68) {
            const o102 = function(t89) {
              const e144 = t89.match(n45);
              if (!e144)
                throw new Error(`Unable to parse URL "${t89}"`);
              return { protocol: e144[1], authority: e144[2], path: e144[3] || "/", params: e144[4] ? e144[4].split("&") : [] };
            }(t88);
            return o102.path += `${e143}${i68}`, function(t89) {
              const e144 = t89.params.length ? `?${t89.params.join("&")}` : "";
              return `${t89.protocol}://${t89.authority}${t89.path}${e144}`;
            }(o102);
          }
          setTransformRequest(t88) {
            this._transformRequestFn = t88;
          }
        }
        const n45 = /^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;
        function l29(e143) {
          var i68 = new t87.ARRAY_TYPE(3);
          return i68[0] = e143[0], i68[1] = e143[1], i68[2] = e143[2], i68;
        }
        var c22, h12 = function(t88, e143, i68) {
          return t88[0] = e143[0] - i68[0], t88[1] = e143[1] - i68[1], t88[2] = e143[2] - i68[2], t88;
        };
        c22 = new t87.ARRAY_TYPE(3), t87.ARRAY_TYPE != Float32Array && (c22[0] = 0, c22[1] = 0, c22[2] = 0);
        var u20 = function(t88) {
          var e143 = t88[0], i68 = t88[1];
          return e143 * e143 + i68 * i68;
        };
        !function() {
          var e143 = new t87.ARRAY_TYPE(2);
          t87.ARRAY_TYPE != Float32Array && (e143[0] = 0, e143[1] = 0);
        }();
        class d10 {
          constructor(t88, e143, i68, o102) {
            this.context = t88, this.format = i68, this.texture = t88.gl.createTexture(), this.update(e143, o102);
          }
          update(e143, i68, o102) {
            const { width: a83, height: s63 } = e143, r62 = !(this.size && this.size[0] === a83 && this.size[1] === s63 || o102), { context: n46 } = this, { gl: l30 } = n46;
            if (this.useMipmap = Boolean(i68 && i68.useMipmap), l30.bindTexture(l30.TEXTURE_2D, this.texture), n46.pixelStoreUnpackFlipY.set(false), n46.pixelStoreUnpack.set(1), n46.pixelStoreUnpackPremultiplyAlpha.set(this.format === l30.RGBA && (!i68 || false !== i68.premultiply)), r62)
              this.size = [a83, s63], e143 instanceof HTMLImageElement || e143 instanceof HTMLCanvasElement || e143 instanceof HTMLVideoElement || e143 instanceof ImageData || t87.isImageBitmap(e143) ? l30.texImage2D(l30.TEXTURE_2D, 0, this.format, this.format, l30.UNSIGNED_BYTE, e143) : l30.texImage2D(l30.TEXTURE_2D, 0, this.format, a83, s63, 0, this.format, l30.UNSIGNED_BYTE, e143.data);
            else {
              const { x: i69, y: r63 } = o102 || { x: 0, y: 0 };
              e143 instanceof HTMLImageElement || e143 instanceof HTMLCanvasElement || e143 instanceof HTMLVideoElement || e143 instanceof ImageData || t87.isImageBitmap(e143) ? l30.texSubImage2D(l30.TEXTURE_2D, 0, i69, r63, l30.RGBA, l30.UNSIGNED_BYTE, e143) : l30.texSubImage2D(l30.TEXTURE_2D, 0, i69, r63, a83, s63, l30.RGBA, l30.UNSIGNED_BYTE, e143.data);
            }
            this.useMipmap && this.isSizePowerOfTwo() && l30.generateMipmap(l30.TEXTURE_2D);
          }
          bind(t88, e143, i68) {
            const { context: o102 } = this, { gl: a83 } = o102;
            a83.bindTexture(a83.TEXTURE_2D, this.texture), i68 !== a83.LINEAR_MIPMAP_NEAREST || this.isSizePowerOfTwo() || (i68 = a83.LINEAR), t88 !== this.filter && (a83.texParameteri(a83.TEXTURE_2D, a83.TEXTURE_MAG_FILTER, t88), a83.texParameteri(a83.TEXTURE_2D, a83.TEXTURE_MIN_FILTER, i68 || t88), this.filter = t88), e143 !== this.wrap && (a83.texParameteri(a83.TEXTURE_2D, a83.TEXTURE_WRAP_S, e143), a83.texParameteri(a83.TEXTURE_2D, a83.TEXTURE_WRAP_T, e143), this.wrap = e143);
          }
          isSizePowerOfTwo() {
            return this.size[0] === this.size[1] && Math.log(this.size[0]) / Math.LN2 % 1 == 0;
          }
          destroy() {
            const { gl: t88 } = this.context;
            t88.deleteTexture(this.texture), this.texture = null;
          }
        }
        function m29(t88) {
          const { userImage: e143 } = t88;
          return !!(e143 && e143.render && e143.render()) && (t88.data.replace(new Uint8Array(e143.data.buffer)), true);
        }
        class _3 extends t87.Evented {
          constructor() {
            super(), this.images = {}, this.updatedImages = {}, this.callbackDispatchedThisFrame = {}, this.loaded = false, this.requestors = [], this.patterns = {}, this.atlasImage = new t87.RGBAImage({ width: 1, height: 1 }), this.dirty = true;
          }
          isLoaded() {
            return this.loaded;
          }
          setLoaded(t88) {
            if (this.loaded !== t88 && (this.loaded = t88, t88)) {
              for (const { ids: t89, callback: e143 } of this.requestors)
                this._notify(t89, e143);
              this.requestors = [];
            }
          }
          getImage(t88) {
            return this.images[t88];
          }
          addImage(t88, e143) {
            this._validate(t88, e143) && (this.images[t88] = e143);
          }
          _validate(e143, i68) {
            let o102 = true;
            return this._validateStretch(i68.stretchX, i68.data && i68.data.width) || (this.fire(new t87.ErrorEvent(new Error(`Image "${e143}" has invalid "stretchX" value`))), o102 = false), this._validateStretch(i68.stretchY, i68.data && i68.data.height) || (this.fire(new t87.ErrorEvent(new Error(`Image "${e143}" has invalid "stretchY" value`))), o102 = false), this._validateContent(i68.content, i68) || (this.fire(new t87.ErrorEvent(new Error(`Image "${e143}" has invalid "content" value`))), o102 = false), o102;
          }
          _validateStretch(t88, e143) {
            if (!t88)
              return true;
            let i68 = 0;
            for (const o102 of t88) {
              if (o102[0] < i68 || o102[1] < o102[0] || e143 < o102[1])
                return false;
              i68 = o102[1];
            }
            return true;
          }
          _validateContent(t88, e143) {
            return !(t88 && (4 !== t88.length || t88[0] < 0 || e143.data.width < t88[0] || t88[1] < 0 || e143.data.height < t88[1] || t88[2] < 0 || e143.data.width < t88[2] || t88[3] < 0 || e143.data.height < t88[3] || t88[2] < t88[0] || t88[3] < t88[1]));
          }
          updateImage(t88, e143) {
            e143.version = this.images[t88].version + 1, this.images[t88] = e143, this.updatedImages[t88] = true;
          }
          removeImage(t88) {
            const e143 = this.images[t88];
            delete this.images[t88], delete this.patterns[t88], e143.userImage && e143.userImage.onRemove && e143.userImage.onRemove();
          }
          listImages() {
            return Object.keys(this.images);
          }
          getImages(t88, e143) {
            let i68 = true;
            if (!this.isLoaded())
              for (const e144 of t88)
                this.images[e144] || (i68 = false);
            this.isLoaded() || i68 ? this._notify(t88, e143) : this.requestors.push({ ids: t88, callback: e143 });
          }
          _notify(e143, i68) {
            const o102 = {};
            for (const i69 of e143) {
              this.images[i69] || this.fire(new t87.Event("styleimagemissing", { id: i69 }));
              const e144 = this.images[i69];
              e144 ? o102[i69] = { data: e144.data.clone(), pixelRatio: e144.pixelRatio, sdf: e144.sdf, version: e144.version, stretchX: e144.stretchX, stretchY: e144.stretchY, content: e144.content, hasRenderCallback: Boolean(e144.userImage && e144.userImage.render) } : t87.warnOnce(`Image "${i69}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`);
            }
            i68(null, o102);
          }
          getPixelSize() {
            const { width: t88, height: e143 } = this.atlasImage;
            return { width: t88, height: e143 };
          }
          getPattern(e143) {
            const i68 = this.patterns[e143], o102 = this.getImage(e143);
            if (!o102)
              return null;
            if (i68 && i68.position.version === o102.version)
              return i68.position;
            if (i68)
              i68.position.version = o102.version;
            else {
              const i69 = { w: o102.data.width + 2, h: o102.data.height + 2, x: 0, y: 0 }, a83 = new t87.ImagePosition(i69, o102);
              this.patterns[e143] = { bin: i69, position: a83 };
            }
            return this._updatePatternAtlas(), this.patterns[e143].position;
          }
          bind(t88) {
            const e143 = t88.gl;
            this.atlasTexture ? this.dirty && (this.atlasTexture.update(this.atlasImage), this.dirty = false) : this.atlasTexture = new d10(t88, this.atlasImage, e143.RGBA), this.atlasTexture.bind(e143.LINEAR, e143.CLAMP_TO_EDGE);
          }
          _updatePatternAtlas() {
            const e143 = [];
            for (const t88 in this.patterns)
              e143.push(this.patterns[t88].bin);
            const { w: i68, h: o102 } = t87.potpack(e143), a83 = this.atlasImage;
            a83.resize({ width: i68 || 1, height: o102 || 1 });
            for (const e144 in this.patterns) {
              const { bin: i69 } = this.patterns[e144], o103 = i69.x + 1, s63 = i69.y + 1, r62 = this.images[e144].data, n46 = r62.width, l30 = r62.height;
              t87.RGBAImage.copy(r62, a83, { x: 0, y: 0 }, { x: o103, y: s63 }, { width: n46, height: l30 }), t87.RGBAImage.copy(r62, a83, { x: 0, y: l30 - 1 }, { x: o103, y: s63 - 1 }, { width: n46, height: 1 }), t87.RGBAImage.copy(r62, a83, { x: 0, y: 0 }, { x: o103, y: s63 + l30 }, { width: n46, height: 1 }), t87.RGBAImage.copy(r62, a83, { x: n46 - 1, y: 0 }, { x: o103 - 1, y: s63 }, { width: 1, height: l30 }), t87.RGBAImage.copy(r62, a83, { x: 0, y: 0 }, { x: o103 + n46, y: s63 }, { width: 1, height: l30 });
            }
            this.dirty = true;
          }
          beginFrame() {
            this.callbackDispatchedThisFrame = {};
          }
          dispatchRenderCallbacks(t88) {
            for (const e143 of t88) {
              if (this.callbackDispatchedThisFrame[e143])
                continue;
              this.callbackDispatchedThisFrame[e143] = true;
              const t89 = this.images[e143];
              m29(t89) && this.updateImage(e143, t89);
            }
          }
        }
        const p17 = 1e20;
        function f21(t88, e143, i68, o102, a83, s63, r62, n46, l30) {
          for (let c23 = e143; c23 < e143 + o102; c23++)
            g14(t88, i68 * s63 + c23, s63, a83, r62, n46, l30);
          for (let c23 = i68; c23 < i68 + a83; c23++)
            g14(t88, c23 * s63 + e143, 1, o102, r62, n46, l30);
        }
        function g14(t88, e143, i68, o102, a83, s63, r62) {
          s63[0] = 0, r62[0] = -p17, r62[1] = p17, a83[0] = t88[e143];
          for (let n46 = 1, l30 = 0, c23 = 0; n46 < o102; n46++) {
            a83[n46] = t88[e143 + n46 * i68];
            const o103 = n46 * n46;
            do {
              const t89 = s63[l30];
              c23 = (a83[n46] - a83[t89] + o103 - t89 * t89) / (n46 - t89) / 2;
            } while (c23 <= r62[l30] && --l30 > -1);
            l30++, s63[l30] = n46, r62[l30] = c23, r62[l30 + 1] = p17;
          }
          for (let n46 = 0, l30 = 0; n46 < o102; n46++) {
            for (; r62[l30 + 1] < n46; )
              l30++;
            const o103 = s63[l30], c23 = n46 - o103;
            t88[e143 + n46 * i68] = a83[o103] + c23 * c23;
          }
        }
        class x5 {
          constructor(t88, e143) {
            this.requestManager = t88, this.localIdeographFontFamily = e143, this.entries = {};
          }
          setURL(t88) {
            this.url = t88;
          }
          getGlyphs(e143, i68) {
            const o102 = [];
            for (const t88 in e143)
              for (const i69 of e143[t88])
                o102.push({ stack: t88, id: i69 });
            t87.asyncAll(o102, ({ stack: t88, id: e144 }, i69) => {
              let o103 = this.entries[t88];
              o103 || (o103 = this.entries[t88] = { glyphs: {}, requests: {}, ranges: {} });
              let a83 = o103.glyphs[e144];
              if (void 0 !== a83)
                return void i69(null, { stack: t88, id: e144, glyph: a83 });
              if (a83 = this._tinySDF(o103, t88, e144), a83)
                return o103.glyphs[e144] = a83, void i69(null, { stack: t88, id: e144, glyph: a83 });
              const s63 = Math.floor(e144 / 256);
              if (256 * s63 > 65535)
                return void i69(new Error("glyphs > 65535 not supported"));
              if (o103.ranges[s63])
                return void i69(null, { stack: t88, id: e144, glyph: a83 });
              let r62 = o103.requests[s63];
              r62 || (r62 = o103.requests[s63] = [], x5.loadGlyphRange(t88, s63, this.url, this.requestManager, (t89, e145) => {
                if (e145) {
                  for (const t90 in e145)
                    this._doesCharSupportLocalGlyph(+t90) || (o103.glyphs[+t90] = e145[+t90]);
                  o103.ranges[s63] = true;
                }
                for (const i70 of r62)
                  i70(t89, e145);
                delete o103.requests[s63];
              })), r62.push((o104, a84) => {
                o104 ? i69(o104) : a84 && i69(null, { stack: t88, id: e144, glyph: a84[e144] || null });
              });
            }, (t88, e144) => {
              if (t88)
                i68(t88);
              else if (e144) {
                const t89 = {};
                for (const { stack: i69, id: o103, glyph: a83 } of e144)
                  (t89[i69] || (t89[i69] = {}))[o103] = a83 && { id: a83.id, bitmap: a83.bitmap.clone(), metrics: a83.metrics };
                i68(null, t89);
              }
            });
          }
          _doesCharSupportLocalGlyph(e143) {
            return !!this.localIdeographFontFamily && (t87.unicodeBlockLookup["CJK Unified Ideographs"](e143) || t87.unicodeBlockLookup["Hangul Syllables"](e143) || t87.unicodeBlockLookup.Hiragana(e143) || t87.unicodeBlockLookup.Katakana(e143));
          }
          _tinySDF(e143, i68, o102) {
            const a83 = this.localIdeographFontFamily;
            if (!a83)
              return;
            if (!this._doesCharSupportLocalGlyph(o102))
              return;
            let s63 = e143.tinySDF;
            if (!s63) {
              let t88 = "400";
              /bold/i.test(i68) ? t88 = "900" : /medium/i.test(i68) ? t88 = "500" : /light/i.test(i68) && (t88 = "200"), s63 = e143.tinySDF = new x5.TinySDF({ fontSize: 24, buffer: 3, radius: 8, cutoff: 0.25, fontFamily: a83, fontWeight: t88 });
            }
            const r62 = s63.draw(String.fromCharCode(o102));
            return { id: o102, bitmap: new t87.AlphaImage({ width: r62.width || 30, height: r62.height || 30 }, r62.data), metrics: { width: r62.glyphWidth || 24, height: r62.glyphHeight || 24, left: r62.glyphLeft || 0, top: r62.glyphTop - 27 || -8, advance: r62.glyphAdvance || 24 } };
          }
        }
        x5.loadGlyphRange = function(e143, i68, o102, a83, s63) {
          const r62 = 256 * i68, n46 = r62 + 255, l30 = a83.transformRequest(o102.replace("{fontstack}", e143).replace("{range}", `${r62}-${n46}`), t87.ResourceType.Glyphs);
          t87.getArrayBuffer(l30, (e144, i69) => {
            if (e144)
              s63(e144);
            else if (i69) {
              const e145 = {};
              for (const o103 of t87.parseGlyphPBF(i69))
                e145[o103.id] = o103;
              s63(null, e145);
            }
          });
        }, x5.TinySDF = class {
          constructor({ fontSize: t88 = 24, buffer: e143 = 3, radius: i68 = 8, cutoff: o102 = 0.25, fontFamily: a83 = "sans-serif", fontWeight: s63 = "normal", fontStyle: r62 = "normal" } = {}) {
            this.buffer = e143, this.cutoff = o102, this.radius = i68;
            const n46 = this.size = t88 + 4 * e143, l30 = this._createCanvas(n46), c23 = this.ctx = l30.getContext("2d", { willReadFrequently: true });
            c23.font = `${r62} ${s63} ${t88}px ${a83}`, c23.textBaseline = "alphabetic", c23.textAlign = "left", c23.fillStyle = "black", this.gridOuter = new Float64Array(n46 * n46), this.gridInner = new Float64Array(n46 * n46), this.f = new Float64Array(n46), this.z = new Float64Array(n46 + 1), this.v = new Uint16Array(n46);
          }
          _createCanvas(t88) {
            const e143 = document.createElement("canvas");
            return e143.width = e143.height = t88, e143;
          }
          draw(t88) {
            const { width: e143, actualBoundingBoxAscent: i68, actualBoundingBoxDescent: o102, actualBoundingBoxLeft: a83, actualBoundingBoxRight: s63 } = this.ctx.measureText(t88), r62 = Math.ceil(i68), n46 = Math.min(this.size - this.buffer, Math.ceil(s63 - a83)), l30 = Math.min(this.size - this.buffer, r62 + Math.ceil(o102)), c23 = n46 + 2 * this.buffer, h13 = l30 + 2 * this.buffer, u21 = Math.max(c23 * h13, 0), d11 = new Uint8ClampedArray(u21), m30 = { data: d11, width: c23, height: h13, glyphWidth: n46, glyphHeight: l30, glyphTop: r62, glyphLeft: 0, glyphAdvance: e143 };
            if (0 === n46 || 0 === l30)
              return m30;
            const { ctx: _4, buffer: g15, gridInner: x6, gridOuter: v6 } = this;
            _4.clearRect(g15, g15, n46, l30), _4.fillText(t88, g15, g15 + r62);
            const y10 = _4.getImageData(g15, g15, n46, l30);
            v6.fill(p17, 0, u21), x6.fill(0, 0, u21);
            for (let t89 = 0; t89 < l30; t89++)
              for (let e144 = 0; e144 < n46; e144++) {
                const i69 = y10.data[4 * (t89 * n46 + e144) + 3] / 255;
                if (0 === i69)
                  continue;
                const o103 = (t89 + g15) * c23 + e144 + g15;
                if (1 === i69)
                  v6[o103] = 0, x6[o103] = p17;
                else {
                  const t90 = 0.5 - i69;
                  v6[o103] = t90 > 0 ? t90 * t90 : 0, x6[o103] = t90 < 0 ? t90 * t90 : 0;
                }
              }
            f21(v6, 0, 0, c23, h13, c23, this.f, this.v, this.z), f21(x6, g15, g15, n46, l30, c23, this.f, this.v, this.z);
            for (let t89 = 0; t89 < u21; t89++) {
              const e144 = Math.sqrt(v6[t89]) - Math.sqrt(x6[t89]);
              d11[t89] = Math.round(255 - 255 * (e144 / this.radius + this.cutoff));
            }
            return m30;
          }
        };
        const v5 = new t87.Properties({ anchor: new t87.DataConstantProperty(t87.spec.light.anchor), position: new class {
          constructor() {
            this.specification = t87.spec.light.position;
          }
          possiblyEvaluate(e143, i68) {
            return t87.sphericalToCartesian(e143.expression.evaluate(i68));
          }
          interpolate(e143, i68, o102) {
            return { x: t87.number(e143.x, i68.x, o102), y: t87.number(e143.y, i68.y, o102), z: t87.number(e143.z, i68.z, o102) };
          }
        }(), color: new t87.DataConstantProperty(t87.spec.light.color), intensity: new t87.DataConstantProperty(t87.spec.light.intensity) }), y9 = "-transition";
        class b7 extends t87.Evented {
          constructor(e143) {
            super(), this._transitionable = new t87.Transitionable(v5), this.setLight(e143), this._transitioning = this._transitionable.untransitioned();
          }
          getLight() {
            return this._transitionable.serialize();
          }
          setLight(e143, i68 = {}) {
            if (!this._validate(t87.validateLight, e143, i68))
              for (const t88 in e143) {
                const i69 = e143[t88];
                t88.endsWith(y9) ? this._transitionable.setTransition(t88.slice(0, -y9.length), i69) : this._transitionable.setValue(t88, i69);
              }
          }
          updateTransitions(t88) {
            this._transitioning = this._transitionable.transitioned(t88, this._transitioning);
          }
          hasTransition() {
            return this._transitioning.hasTransition();
          }
          recalculate(t88) {
            this.properties = this._transitioning.possiblyEvaluate(t88);
          }
          _validate(e143, i68, o102) {
            return (!o102 || false !== o102.validate) && t87.emitValidationErrors(this, e143.call(t87.validateStyle, t87.extend({ value: i68, style: { glyphs: true, sprite: true }, styleSpec: t87.spec })));
          }
        }
        class w3 {
          constructor(t88, e143) {
            this.width = t88, this.height = e143, this.nextRow = 0, this.data = new Uint8Array(this.width * this.height), this.dashEntry = {};
          }
          getDash(t88, e143) {
            const i68 = t88.join(",") + String(e143);
            return this.dashEntry[i68] || (this.dashEntry[i68] = this.addDash(t88, e143)), this.dashEntry[i68];
          }
          getDashRanges(t88, e143, i68) {
            const o102 = [];
            let a83 = t88.length % 2 == 1 ? -t88[t88.length - 1] * i68 : 0, s63 = t88[0] * i68, r62 = true;
            o102.push({ left: a83, right: s63, isDash: r62, zeroLength: 0 === t88[0] });
            let n46 = t88[0];
            for (let e144 = 1; e144 < t88.length; e144++) {
              r62 = !r62;
              const l30 = t88[e144];
              a83 = n46 * i68, n46 += l30, s63 = n46 * i68, o102.push({ left: a83, right: s63, isDash: r62, zeroLength: 0 === l30 });
            }
            return o102;
          }
          addRoundDash(t88, e143, i68) {
            const o102 = e143 / 2;
            for (let e144 = -i68; e144 <= i68; e144++) {
              const a83 = this.width * (this.nextRow + i68 + e144);
              let s63 = 0, r62 = t88[s63];
              for (let n46 = 0; n46 < this.width; n46++) {
                n46 / r62.right > 1 && (r62 = t88[++s63]);
                const l30 = Math.abs(n46 - r62.left), c23 = Math.abs(n46 - r62.right), h13 = Math.min(l30, c23);
                let u21;
                const d11 = e144 / i68 * (o102 + 1);
                if (r62.isDash) {
                  const t89 = o102 - Math.abs(d11);
                  u21 = Math.sqrt(h13 * h13 + t89 * t89);
                } else
                  u21 = o102 - Math.sqrt(h13 * h13 + d11 * d11);
                this.data[a83 + n46] = Math.max(0, Math.min(255, u21 + 128));
              }
            }
          }
          addRegularDash(t88) {
            for (let e144 = t88.length - 1; e144 >= 0; --e144) {
              const i69 = t88[e144], o103 = t88[e144 + 1];
              i69.zeroLength ? t88.splice(e144, 1) : o103 && o103.isDash === i69.isDash && (o103.left = i69.left, t88.splice(e144, 1));
            }
            const e143 = t88[0], i68 = t88[t88.length - 1];
            e143.isDash === i68.isDash && (e143.left = i68.left - this.width, i68.right = e143.right + this.width);
            const o102 = this.width * this.nextRow;
            let a83 = 0, s63 = t88[a83];
            for (let e144 = 0; e144 < this.width; e144++) {
              e144 / s63.right > 1 && (s63 = t88[++a83]);
              const i69 = Math.abs(e144 - s63.left), r62 = Math.abs(e144 - s63.right), n46 = Math.min(i69, r62);
              this.data[o102 + e144] = Math.max(0, Math.min(255, (s63.isDash ? n46 : -n46) + 128));
            }
          }
          addDash(e143, i68) {
            const o102 = i68 ? 7 : 0, a83 = 2 * o102 + 1;
            if (this.nextRow + a83 > this.height)
              return t87.warnOnce("LineAtlas out of space"), null;
            let s63 = 0;
            for (let t88 = 0; t88 < e143.length; t88++)
              s63 += e143[t88];
            if (0 !== s63) {
              const t88 = this.width / s63, a84 = this.getDashRanges(e143, this.width, t88);
              i68 ? this.addRoundDash(a84, t88, o102) : this.addRegularDash(a84);
            }
            const r62 = { y: (this.nextRow + o102 + 0.5) / this.height, height: 2 * o102 / this.height, width: s63 };
            return this.nextRow += a83, this.dirty = true, r62;
          }
          bind(t88) {
            const e143 = t88.gl;
            this.texture ? (e143.bindTexture(e143.TEXTURE_2D, this.texture), this.dirty && (this.dirty = false, e143.texSubImage2D(e143.TEXTURE_2D, 0, 0, 0, this.width, this.height, e143.ALPHA, e143.UNSIGNED_BYTE, this.data))) : (this.texture = e143.createTexture(), e143.bindTexture(e143.TEXTURE_2D, this.texture), e143.texParameteri(e143.TEXTURE_2D, e143.TEXTURE_WRAP_S, e143.REPEAT), e143.texParameteri(e143.TEXTURE_2D, e143.TEXTURE_WRAP_T, e143.REPEAT), e143.texParameteri(e143.TEXTURE_2D, e143.TEXTURE_MIN_FILTER, e143.LINEAR), e143.texParameteri(e143.TEXTURE_2D, e143.TEXTURE_MAG_FILTER, e143.LINEAR), e143.texImage2D(e143.TEXTURE_2D, 0, e143.ALPHA, this.width, this.height, 0, e143.ALPHA, e143.UNSIGNED_BYTE, this.data));
          }
        }
        class T2 {
          constructor(e143, i68) {
            this.workerPool = e143, this.actors = [], this.currentActor = 0, this.id = t87.uniqueId();
            const o102 = this.workerPool.acquire(this.id);
            for (let t88 = 0; t88 < o102.length; t88++) {
              const e144 = new T2.Actor(o102[t88], i68, this.id);
              e144.name = `Worker ${t88}`, this.actors.push(e144);
            }
          }
          broadcast(e143, i68, o102) {
            t87.asyncAll(this.actors, (t88, o103) => {
              t88.send(e143, i68, o103);
            }, o102 = o102 || function() {
            });
          }
          getActor() {
            return this.currentActor = (this.currentActor + 1) % this.actors.length, this.actors[this.currentActor];
          }
          remove() {
            this.actors.forEach((t88) => {
              t88.remove();
            }), this.actors = [], this.workerPool.release(this.id);
          }
        }
        function E4(e143, i68, o102) {
          const a83 = function(i69, a84) {
            if (i69)
              return o102(i69);
            if (a84) {
              const i70 = t87.pick(t87.extend(a84, e143), ["tiles", "minzoom", "maxzoom", "attribution", "bounds", "scheme", "tileSize", "encoding"]);
              a84.vector_layers && (i70.vectorLayers = a84.vector_layers, i70.vectorLayerIds = i70.vectorLayers.map((t88) => t88.id)), o102(null, i70);
            }
          };
          return e143.url ? t87.getJSON(i68.transformRequest(e143.url, t87.ResourceType.Source), a83) : t87.exported.frame(() => a83(null, e143));
        }
        T2.Actor = t87.Actor;
        class I2 {
          constructor(e143, i68, o102) {
            this.bounds = t87.LngLatBounds.convert(this.validateBounds(e143)), this.minzoom = i68 || 0, this.maxzoom = o102 || 24;
          }
          validateBounds(t88) {
            return Array.isArray(t88) && 4 === t88.length ? [Math.max(-180, t88[0]), Math.max(-90, t88[1]), Math.min(180, t88[2]), Math.min(90, t88[3])] : [-180, -90, 180, 90];
          }
          contains(e143) {
            const i68 = Math.pow(2, e143.z), o102 = Math.floor(t87.mercatorXfromLng(this.bounds.getWest()) * i68), a83 = Math.floor(t87.mercatorYfromLat(this.bounds.getNorth()) * i68), s63 = Math.ceil(t87.mercatorXfromLng(this.bounds.getEast()) * i68), r62 = Math.ceil(t87.mercatorYfromLat(this.bounds.getSouth()) * i68);
            return e143.x >= o102 && e143.x < s63 && e143.y >= a83 && e143.y < r62;
          }
        }
        class S extends t87.Evented {
          constructor(e143, i68, o102, a83) {
            if (super(), this.id = e143, this.dispatcher = o102, this.type = "vector", this.minzoom = 0, this.maxzoom = 22, this.scheme = "xyz", this.tileSize = 512, this.reparseOverscaled = true, this.isTileClipped = true, this._loaded = false, t87.extend(this, t87.pick(i68, ["url", "scheme", "tileSize", "promoteId"])), this._options = t87.extend({ type: "vector" }, i68), this._collectResourceTiming = i68.collectResourceTiming, 512 !== this.tileSize)
              throw new Error("vector tile sources must have a tileSize of 512");
            this.setEventedParent(a83);
          }
          load() {
            this._loaded = false, this.fire(new t87.Event("dataloading", { dataType: "source" })), this._tileJSONRequest = E4(this._options, this.map._requestManager, (e143, i68) => {
              this._tileJSONRequest = null, this._loaded = true, this.map.style.sourceCaches[this.id].clearTiles(), e143 ? this.fire(new t87.ErrorEvent(e143)) : i68 && (t87.extend(this, i68), i68.bounds && (this.tileBounds = new I2(i68.bounds, this.minzoom, this.maxzoom)), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "metadata" })), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "content" })));
            });
          }
          loaded() {
            return this._loaded;
          }
          hasTile(t88) {
            return !this.tileBounds || this.tileBounds.contains(t88.canonical);
          }
          onAdd(t88) {
            this.map = t88, this.load();
          }
          setSourceProperty(t88) {
            this._tileJSONRequest && this._tileJSONRequest.cancel(), t88(), this.load();
          }
          setTiles(t88) {
            return this.setSourceProperty(() => {
              this._options.tiles = t88;
            }), this;
          }
          setUrl(t88) {
            return this.setSourceProperty(() => {
              this.url = t88, this._options.url = t88;
            }), this;
          }
          onRemove() {
            this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
          }
          serialize() {
            return t87.extend({}, this._options);
          }
          loadTile(e143, i68) {
            const o102 = e143.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme), a83 = { request: this.map._requestManager.transformRequest(o102, t87.ResourceType.Tile), uid: e143.uid, tileID: e143.tileID, zoom: e143.tileID.overscaledZ, tileSize: this.tileSize * e143.tileID.overscaleFactor(), type: this.type, source: this.id, pixelRatio: this.map.getPixelRatio(), showCollisionBoxes: this.map.showCollisionBoxes, promoteId: this.promoteId };
            function s63(o103, a84) {
              return delete e143.request, e143.aborted ? i68(null) : o103 && 404 !== o103.status ? i68(o103) : (a84 && a84.resourceTiming && (e143.resourceTiming = a84.resourceTiming), this.map._refreshExpiredTiles && a84 && e143.setExpiryData(a84), e143.loadVectorData(a84, this.map.painter), t87.cacheEntryPossiblyAdded(this.dispatcher), i68(null), void (e143.reloadCallback && (this.loadTile(e143, e143.reloadCallback), e143.reloadCallback = null)));
            }
            a83.request.collectResourceTiming = this._collectResourceTiming, e143.actor && "expired" !== e143.state ? "loading" === e143.state ? e143.reloadCallback = i68 : e143.request = e143.actor.send("reloadTile", a83, s63.bind(this)) : (e143.actor = this.dispatcher.getActor(), e143.request = e143.actor.send("loadTile", a83, s63.bind(this)));
          }
          abortTile(t88) {
            t88.request && (t88.request.cancel(), delete t88.request), t88.actor && t88.actor.send("abortTile", { uid: t88.uid, type: this.type, source: this.id }, void 0);
          }
          unloadTile(t88) {
            t88.unloadVectorData(), t88.actor && t88.actor.send("removeTile", { uid: t88.uid, type: this.type, source: this.id }, void 0);
          }
          hasTransition() {
            return false;
          }
        }
        class C7 extends t87.Evented {
          constructor(e143, i68, o102, a83) {
            super(), this.id = e143, this.dispatcher = o102, this.setEventedParent(a83), this.type = "raster", this.minzoom = 0, this.maxzoom = 22, this.roundZoom = true, this.scheme = "xyz", this.tileSize = 512, this._loaded = false, this._options = t87.extend({ type: "raster" }, i68), t87.extend(this, t87.pick(i68, ["url", "scheme", "tileSize"]));
          }
          load() {
            this._loaded = false, this.fire(new t87.Event("dataloading", { dataType: "source" })), this._tileJSONRequest = E4(this._options, this.map._requestManager, (e143, i68) => {
              this._tileJSONRequest = null, this._loaded = true, e143 ? this.fire(new t87.ErrorEvent(e143)) : i68 && (t87.extend(this, i68), i68.bounds && (this.tileBounds = new I2(i68.bounds, this.minzoom, this.maxzoom)), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "metadata" })), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "content" })));
            });
          }
          loaded() {
            return this._loaded;
          }
          onAdd(t88) {
            this.map = t88, this.load();
          }
          onRemove() {
            this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
          }
          serialize() {
            return t87.extend({}, this._options);
          }
          hasTile(t88) {
            return !this.tileBounds || this.tileBounds.contains(t88.canonical);
          }
          loadTile(e143, i68) {
            const o102 = e143.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);
            e143.request = t87.getImage(this.map._requestManager.transformRequest(o102, t87.ResourceType.Tile), (o103, a83, s63) => {
              if (delete e143.request, e143.aborted)
                e143.state = "unloaded", i68(null);
              else if (o103)
                e143.state = "errored", i68(o103);
              else if (a83) {
                this.map._refreshExpiredTiles && e143.setExpiryData(s63);
                const o104 = this.map.painter.context, r62 = o104.gl;
                e143.texture = this.map.painter.getTileTexture(a83.width), e143.texture ? e143.texture.update(a83, { useMipmap: true }) : (e143.texture = new d10(o104, a83, r62.RGBA, { useMipmap: true }), e143.texture.bind(r62.LINEAR, r62.CLAMP_TO_EDGE, r62.LINEAR_MIPMAP_NEAREST), o104.extTextureFilterAnisotropic && r62.texParameterf(r62.TEXTURE_2D, o104.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, o104.extTextureFilterAnisotropicMax)), e143.state = "loaded", t87.cacheEntryPossiblyAdded(this.dispatcher), i68(null);
              }
            });
          }
          abortTile(t88, e143) {
            t88.request && (t88.request.cancel(), delete t88.request), e143();
          }
          unloadTile(t88, e143) {
            t88.texture && this.map.painter.saveTileTexture(t88.texture), e143();
          }
          hasTransition() {
            return false;
          }
        }
        let P2;
        class z2 extends C7 {
          constructor(e143, i68, o102, a83) {
            super(e143, i68, o102, a83), this.type = "raster-dem", this.maxzoom = 22, this._options = t87.extend({ type: "raster-dem" }, i68), this.encoding = i68.encoding || "mapbox";
          }
          serialize() {
            return { type: "raster-dem", url: this.url, tileSize: this.tileSize, tiles: this.tiles, bounds: this.bounds, encoding: this.encoding };
          }
          loadTile(e143, i68) {
            const o102 = e143.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);
            function a83(t88, o103) {
              t88 && (e143.state = "errored", i68(t88)), o103 && (e143.dem = o103, e143.needsHillshadePrepare = true, e143.state = "loaded", i68(null));
            }
            e143.request = t87.getImage(this.map._requestManager.transformRequest(o102, t87.ResourceType.Tile), function(o103, s63) {
              if (delete e143.request, e143.aborted)
                e143.state = "unloaded", i68(null);
              else if (o103)
                e143.state = "errored", i68(o103);
              else if (s63) {
                this.map._refreshExpiredTiles && e143.setExpiryData(s63), delete s63.cacheControl, delete s63.expires;
                const i69 = t87.isImageBitmap(s63) && (null == P2 && (P2 = "undefined" != typeof OffscreenCanvas && new OffscreenCanvas(1, 1).getContext("2d") && "function" == typeof createImageBitmap), P2) ? s63 : t87.exported.getImageData(s63, 1), o104 = { uid: e143.uid, coord: e143.tileID, source: this.id, rawImageData: i69, encoding: this.encoding };
                e143.actor && "expired" !== e143.state || (e143.actor = this.dispatcher.getActor(), e143.actor.send("loadDEMTile", o104, a83.bind(this)));
              }
            }.bind(this)), e143.neighboringTiles = this._getNeighboringTiles(e143.tileID);
          }
          _getNeighboringTiles(e143) {
            const i68 = e143.canonical, o102 = Math.pow(2, i68.z), a83 = (i68.x - 1 + o102) % o102, s63 = 0 === i68.x ? e143.wrap - 1 : e143.wrap, r62 = (i68.x + 1 + o102) % o102, n46 = i68.x + 1 === o102 ? e143.wrap + 1 : e143.wrap, l30 = {};
            return l30[new t87.OverscaledTileID(e143.overscaledZ, s63, i68.z, a83, i68.y).key] = { backfilled: false }, l30[new t87.OverscaledTileID(e143.overscaledZ, n46, i68.z, r62, i68.y).key] = { backfilled: false }, i68.y > 0 && (l30[new t87.OverscaledTileID(e143.overscaledZ, s63, i68.z, a83, i68.y - 1).key] = { backfilled: false }, l30[new t87.OverscaledTileID(e143.overscaledZ, e143.wrap, i68.z, i68.x, i68.y - 1).key] = { backfilled: false }, l30[new t87.OverscaledTileID(e143.overscaledZ, n46, i68.z, r62, i68.y - 1).key] = { backfilled: false }), i68.y + 1 < o102 && (l30[new t87.OverscaledTileID(e143.overscaledZ, s63, i68.z, a83, i68.y + 1).key] = { backfilled: false }, l30[new t87.OverscaledTileID(e143.overscaledZ, e143.wrap, i68.z, i68.x, i68.y + 1).key] = { backfilled: false }, l30[new t87.OverscaledTileID(e143.overscaledZ, n46, i68.z, r62, i68.y + 1).key] = { backfilled: false }), l30;
          }
          unloadTile(t88) {
            t88.demTexture && this.map.painter.saveTileTexture(t88.demTexture), t88.fbo && (t88.fbo.destroy(), delete t88.fbo), t88.dem && delete t88.dem, delete t88.neighboringTiles, t88.state = "unloaded", t88.actor && t88.actor.send("removeDEMTile", { uid: t88.uid, source: this.id });
          }
        }
        class D3 extends t87.Evented {
          constructor(e143, i68, o102, a83) {
            super(), this.id = e143, this.type = "geojson", this.minzoom = 0, this.maxzoom = 18, this.tileSize = 512, this.isTileClipped = true, this.reparseOverscaled = true, this._removed = false, this._pendingLoads = 0, this.actor = o102.getActor(), this.setEventedParent(a83), this._data = i68.data, this._options = t87.extend({}, i68), this._collectResourceTiming = i68.collectResourceTiming, void 0 !== i68.maxzoom && (this.maxzoom = i68.maxzoom), i68.type && (this.type = i68.type), i68.attribution && (this.attribution = i68.attribution), this.promoteId = i68.promoteId;
            const s63 = t87.EXTENT / this.tileSize;
            this.workerOptions = t87.extend({ source: this.id, cluster: i68.cluster || false, geojsonVtOptions: { buffer: (void 0 !== i68.buffer ? i68.buffer : 128) * s63, tolerance: (void 0 !== i68.tolerance ? i68.tolerance : 0.375) * s63, extent: t87.EXTENT, maxZoom: this.maxzoom, lineMetrics: i68.lineMetrics || false, generateId: i68.generateId || false }, superclusterOptions: { maxZoom: void 0 !== i68.clusterMaxZoom ? i68.clusterMaxZoom : this.maxzoom - 1, minPoints: Math.max(2, i68.clusterMinPoints || 2), extent: t87.EXTENT, radius: (i68.clusterRadius || 50) * s63, log: false, generateId: i68.generateId || false }, clusterProperties: i68.clusterProperties, filter: i68.filter }, i68.workerOptions);
          }
          load() {
            this._updateWorkerData("metadata");
          }
          onAdd(t88) {
            this.map = t88, this.load();
          }
          setData(t88) {
            return this._data = t88, this._updateWorkerData("content"), this;
          }
          getClusterExpansionZoom(t88, e143) {
            return this.actor.send("geojson.getClusterExpansionZoom", { clusterId: t88, source: this.id }, e143), this;
          }
          getClusterChildren(t88, e143) {
            return this.actor.send("geojson.getClusterChildren", { clusterId: t88, source: this.id }, e143), this;
          }
          getClusterLeaves(t88, e143, i68, o102) {
            return this.actor.send("geojson.getClusterLeaves", { source: this.id, clusterId: t88, limit: e143, offset: i68 }, o102), this;
          }
          _updateWorkerData(e143) {
            const i68 = t87.extend({}, this.workerOptions), o102 = this._data;
            "string" == typeof o102 ? (i68.request = this.map._requestManager.transformRequest(t87.exported.resolveURL(o102), t87.ResourceType.Source), i68.request.collectResourceTiming = this._collectResourceTiming) : i68.data = JSON.stringify(o102), this._pendingLoads++, this.fire(new t87.Event("dataloading", { dataType: "source" })), this.actor.send(`${this.type}.loadData`, i68, (o103, a83) => {
              if (this._pendingLoads--, this._removed || a83 && a83.abandoned)
                return;
              let s63 = null;
              if (a83 && a83.resourceTiming && a83.resourceTiming[this.id] && (s63 = a83.resourceTiming[this.id].slice(0)), this.actor.send(`${this.type}.coalesce`, { source: i68.source }, null), o103)
                return void this.fire(new t87.ErrorEvent(o103));
              const r62 = { dataType: "source", sourceDataType: e143 };
              this._collectResourceTiming && s63 && s63.length > 0 && t87.extend(r62, { resourceTiming: s63 }), this.fire(new t87.Event("data", r62));
            });
          }
          loaded() {
            return 0 === this._pendingLoads;
          }
          loadTile(t88, e143) {
            const i68 = t88.actor ? "reloadTile" : "loadTile";
            t88.actor = this.actor;
            const o102 = { type: this.type, uid: t88.uid, tileID: t88.tileID, zoom: t88.tileID.overscaledZ, maxZoom: this.maxzoom, tileSize: this.tileSize, source: this.id, pixelRatio: this.map.getPixelRatio(), showCollisionBoxes: this.map.showCollisionBoxes, promoteId: this.promoteId };
            t88.request = this.actor.send(i68, o102, (o103, a83) => (delete t88.request, t88.unloadVectorData(), t88.aborted ? e143(null) : o103 ? e143(o103) : (t88.loadVectorData(a83, this.map.painter, "reloadTile" === i68), e143(null))));
          }
          abortTile(t88) {
            t88.request && (t88.request.cancel(), delete t88.request), t88.aborted = true;
          }
          unloadTile(t88) {
            t88.unloadVectorData(), this.actor.send("removeTile", { uid: t88.uid, type: this.type, source: this.id });
          }
          onRemove() {
            this._removed = true, this.actor.send("removeSource", { type: this.type, source: this.id });
          }
          serialize() {
            return t87.extend({}, this._options, { type: this.type, data: this._data });
          }
          hasTransition() {
            return false;
          }
        }
        var A3 = t87.createLayout([{ name: "a_pos", type: "Int16", components: 2 }, { name: "a_texture_pos", type: "Int16", components: 2 }]);
        class M4 extends t87.Evented {
          constructor(t88, e143, i68, o102) {
            super(), this.id = t88, this.dispatcher = i68, this.coordinates = e143.coordinates, this.type = "image", this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.tiles = {}, this._loaded = false, this.setEventedParent(o102), this.options = e143;
          }
          load(e143, i68) {
            this._loaded = false, this.fire(new t87.Event("dataloading", { dataType: "source" })), this.url = this.options.url, t87.getImage(this.map._requestManager.transformRequest(this.url, t87.ResourceType.Image), (o102, a83) => {
              this._loaded = true, o102 ? this.fire(new t87.ErrorEvent(o102)) : a83 && (this.image = a83, e143 && (this.coordinates = e143), i68 && i68(), this._finishLoading());
            });
          }
          loaded() {
            return this._loaded;
          }
          updateImage(t88) {
            return this.image && t88.url ? (this.options.url = t88.url, this.load(t88.coordinates, () => {
              this.texture = null;
            }), this) : this;
          }
          _finishLoading() {
            this.map && (this.setCoordinates(this.coordinates), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "metadata" })));
          }
          onAdd(t88) {
            this.map = t88, this.load();
          }
          setCoordinates(e143) {
            this.coordinates = e143;
            const i68 = e143.map(t87.MercatorCoordinate.fromLngLat);
            this.tileID = function(e144) {
              let i69 = 1 / 0, o103 = 1 / 0, a83 = -1 / 0, s63 = -1 / 0;
              for (const t88 of e144)
                i69 = Math.min(i69, t88.x), o103 = Math.min(o103, t88.y), a83 = Math.max(a83, t88.x), s63 = Math.max(s63, t88.y);
              const r62 = Math.max(a83 - i69, s63 - o103), n46 = Math.max(0, Math.floor(-Math.log(r62) / Math.LN2)), l30 = Math.pow(2, n46);
              return new t87.CanonicalTileID(n46, Math.floor((i69 + a83) / 2 * l30), Math.floor((o103 + s63) / 2 * l30));
            }(i68), this.minzoom = this.maxzoom = this.tileID.z;
            const o102 = i68.map((t88) => this.tileID.getTilePoint(t88)._round());
            return this._boundsArray = new t87.RasterBoundsArray(), this._boundsArray.emplaceBack(o102[0].x, o102[0].y, 0, 0), this._boundsArray.emplaceBack(o102[1].x, o102[1].y, t87.EXTENT, 0), this._boundsArray.emplaceBack(o102[3].x, o102[3].y, 0, t87.EXTENT), this._boundsArray.emplaceBack(o102[2].x, o102[2].y, t87.EXTENT, t87.EXTENT), this.boundsBuffer && (this.boundsBuffer.destroy(), delete this.boundsBuffer), this.fire(new t87.Event("data", { dataType: "source", sourceDataType: "content" })), this;
          }
          prepare() {
            if (0 === Object.keys(this.tiles).length || !this.image)
              return;
            const e143 = this.map.painter.context, i68 = e143.gl;
            this.boundsBuffer || (this.boundsBuffer = e143.createVertexBuffer(this._boundsArray, A3.members)), this.boundsSegments || (this.boundsSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture || (this.texture = new d10(e143, this.image, i68.RGBA), this.texture.bind(i68.LINEAR, i68.CLAMP_TO_EDGE));
            for (const t88 in this.tiles) {
              const e144 = this.tiles[t88];
              "loaded" !== e144.state && (e144.state = "loaded", e144.texture = this.texture);
            }
          }
          loadTile(t88, e143) {
            this.tileID && this.tileID.equals(t88.tileID.canonical) ? (this.tiles[String(t88.tileID.wrap)] = t88, t88.buckets = {}, e143(null)) : (t88.state = "errored", e143(null));
          }
          serialize() {
            return { type: "image", url: this.options.url, coordinates: this.coordinates };
          }
          hasTransition() {
            return false;
          }
        }
        class L extends M4 {
          constructor(t88, e143, i68, o102) {
            super(t88, e143, i68, o102), this.roundZoom = true, this.type = "video", this.options = e143;
          }
          load() {
            this._loaded = false;
            const e143 = this.options;
            this.urls = [];
            for (const i68 of e143.urls)
              this.urls.push(this.map._requestManager.transformRequest(i68, t87.ResourceType.Source).url);
            t87.getVideo(this.urls, (e144, i68) => {
              this._loaded = true, e144 ? this.fire(new t87.ErrorEvent(e144)) : i68 && (this.video = i68, this.video.loop = true, this.video.addEventListener("playing", () => {
                this.map.triggerRepaint();
              }), this.map && this.video.play(), this._finishLoading());
            });
          }
          pause() {
            this.video && this.video.pause();
          }
          play() {
            this.video && this.video.play();
          }
          seek(e143) {
            if (this.video) {
              const i68 = this.video.seekable;
              e143 < i68.start(0) || e143 > i68.end(0) ? this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${this.id}`, null, `Playback for this video can be set only between the ${i68.start(0)} and ${i68.end(0)}-second mark.`))) : this.video.currentTime = e143;
            }
          }
          getVideo() {
            return this.video;
          }
          onAdd(t88) {
            this.map || (this.map = t88, this.load(), this.video && (this.video.play(), this.setCoordinates(this.coordinates)));
          }
          prepare() {
            if (0 === Object.keys(this.tiles).length || this.video.readyState < 2)
              return;
            const e143 = this.map.painter.context, i68 = e143.gl;
            this.boundsBuffer || (this.boundsBuffer = e143.createVertexBuffer(this._boundsArray, A3.members)), this.boundsSegments || (this.boundsSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? this.video.paused || (this.texture.bind(i68.LINEAR, i68.CLAMP_TO_EDGE), i68.texSubImage2D(i68.TEXTURE_2D, 0, 0, 0, i68.RGBA, i68.UNSIGNED_BYTE, this.video)) : (this.texture = new d10(e143, this.video, i68.RGBA), this.texture.bind(i68.LINEAR, i68.CLAMP_TO_EDGE));
            for (const t88 in this.tiles) {
              const e144 = this.tiles[t88];
              "loaded" !== e144.state && (e144.state = "loaded", e144.texture = this.texture);
            }
          }
          serialize() {
            return { type: "video", urls: this.urls, coordinates: this.coordinates };
          }
          hasTransition() {
            return this.video && !this.video.paused;
          }
        }
        class R extends M4 {
          constructor(e143, i68, o102, a83) {
            super(e143, i68, o102, a83), i68.coordinates ? Array.isArray(i68.coordinates) && 4 === i68.coordinates.length && !i68.coordinates.some((t88) => !Array.isArray(t88) || 2 !== t88.length || t88.some((t89) => "number" != typeof t89)) || this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${e143}`, null, '"coordinates" property must be an array of 4 longitude/latitude array pairs'))) : this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${e143}`, null, 'missing required property "coordinates"'))), i68.animate && "boolean" != typeof i68.animate && this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${e143}`, null, 'optional "animate" property must be a boolean value'))), i68.canvas ? "string" == typeof i68.canvas || i68.canvas instanceof HTMLCanvasElement || this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${e143}`, null, '"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))) : this.fire(new t87.ErrorEvent(new t87.ValidationError(`sources.${e143}`, null, 'missing required property "canvas"'))), this.options = i68, this.animate = void 0 === i68.animate || i68.animate;
          }
          load() {
            this._loaded = true, this.canvas || (this.canvas = this.options.canvas instanceof HTMLCanvasElement ? this.options.canvas : document.getElementById(this.options.canvas)), this.width = this.canvas.width, this.height = this.canvas.height, this._hasInvalidDimensions() ? this.fire(new t87.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))) : (this.play = function() {
              this._playing = true, this.map.triggerRepaint();
            }, this.pause = function() {
              this._playing && (this.prepare(), this._playing = false);
            }, this._finishLoading());
          }
          getCanvas() {
            return this.canvas;
          }
          onAdd(t88) {
            this.map = t88, this.load(), this.canvas && this.animate && this.play();
          }
          onRemove() {
            this.pause();
          }
          prepare() {
            let e143 = false;
            if (this.canvas.width !== this.width && (this.width = this.canvas.width, e143 = true), this.canvas.height !== this.height && (this.height = this.canvas.height, e143 = true), this._hasInvalidDimensions())
              return;
            if (0 === Object.keys(this.tiles).length)
              return;
            const i68 = this.map.painter.context, o102 = i68.gl;
            this.boundsBuffer || (this.boundsBuffer = i68.createVertexBuffer(this._boundsArray, A3.members)), this.boundsSegments || (this.boundsSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? (e143 || this._playing) && this.texture.update(this.canvas, { premultiply: true }) : this.texture = new d10(i68, this.canvas, o102.RGBA, { premultiply: true });
            for (const t88 in this.tiles) {
              const e144 = this.tiles[t88];
              "loaded" !== e144.state && (e144.state = "loaded", e144.texture = this.texture);
            }
          }
          serialize() {
            return { type: "canvas", coordinates: this.coordinates };
          }
          hasTransition() {
            return this._playing;
          }
          _hasInvalidDimensions() {
            for (const t88 of [this.canvas.width, this.canvas.height])
              if (isNaN(t88) || t88 <= 0)
                return true;
            return false;
          }
        }
        const k6 = { vector: S, raster: C7, "raster-dem": z2, geojson: D3, video: L, image: M4, canvas: R };
        function B2(e143, i68) {
          const o102 = t87.create();
          return t87.translate(o102, o102, [1, 1, 0]), t87.scale(o102, o102, [0.5 * e143.width, 0.5 * e143.height, 1]), t87.multiply(o102, o102, e143.calculatePosMatrix(i68.toUnwrapped()));
        }
        function F4(t88, e143, i68, o102, a83, s63) {
          const r62 = function(t89, e144, i69) {
            if (t89)
              for (const o103 of t89) {
                const t90 = e144[o103];
                if (t90 && t90.source === i69 && "fill-extrusion" === t90.type)
                  return true;
              }
            else
              for (const t90 in e144) {
                const o103 = e144[t90];
                if (o103.source === i69 && "fill-extrusion" === o103.type)
                  return true;
              }
            return false;
          }(a83 && a83.layers, e143, t88.id), n46 = s63.maxPitchScaleFactor(), l30 = t88.tilesIn(o102, n46, r62);
          l30.sort(O2);
          const c23 = [];
          for (const o103 of l30)
            c23.push({ wrappedTileID: o103.tileID.wrapped().key, queryResults: o103.tile.queryRenderedFeatures(e143, i68, t88._state, o103.queryGeometry, o103.cameraQueryGeometry, o103.scale, a83, s63, n46, B2(t88.transform, o103.tileID)) });
          const h13 = function(t89) {
            const e144 = {}, i69 = {};
            for (const o103 of t89) {
              const t90 = o103.queryResults, a84 = o103.wrappedTileID, s64 = i69[a84] = i69[a84] || {};
              for (const i70 in t90) {
                const o104 = t90[i70], a85 = s64[i70] = s64[i70] || {}, r63 = e144[i70] = e144[i70] || [];
                for (const t91 of o104)
                  a85[t91.featureIndex] || (a85[t91.featureIndex] = true, r63.push(t91));
              }
            }
            return e144;
          }(c23);
          for (const e144 in h13)
            h13[e144].forEach((e145) => {
              const i69 = e145.feature, o103 = t88.getFeatureState(i69.layer["source-layer"], i69.id);
              i69.source = i69.layer.source, i69.layer["source-layer"] && (i69.sourceLayer = i69.layer["source-layer"]), i69.state = o103;
            });
          return h13;
        }
        function O2(t88, e143) {
          const i68 = t88.tileID, o102 = e143.tileID;
          return i68.overscaledZ - o102.overscaledZ || i68.canonical.y - o102.canonical.y || i68.wrap - o102.wrap || i68.canonical.x - o102.canonical.x;
        }
        class U2 {
          constructor(e143, i68) {
            this.tileID = e143, this.uid = t87.uniqueId(), this.uses = 0, this.tileSize = i68, this.buckets = {}, this.expirationTime = null, this.queryPadding = 0, this.hasSymbolBuckets = false, this.hasRTLText = false, this.dependencies = {}, this.expiredRequestCount = 0, this.state = "loading";
          }
          registerFadeDuration(e143) {
            const i68 = e143 + this.timeAdded;
            i68 < t87.exported.now() || this.fadeEndTime && i68 < this.fadeEndTime || (this.fadeEndTime = i68);
          }
          wasRequested() {
            return "errored" === this.state || "loaded" === this.state || "reloading" === this.state;
          }
          loadVectorData(e143, i68, o102) {
            if (this.hasData() && this.unloadVectorData(), this.state = "loaded", e143) {
              e143.featureIndex && (this.latestFeatureIndex = e143.featureIndex, e143.rawTileData ? (this.latestRawTileData = e143.rawTileData, this.latestFeatureIndex.rawTileData = e143.rawTileData) : this.latestRawTileData && (this.latestFeatureIndex.rawTileData = this.latestRawTileData)), this.collisionBoxArray = e143.collisionBoxArray, this.buckets = function(t88, e144) {
                const i69 = {};
                if (!e144)
                  return i69;
                for (const o103 of t88) {
                  const t89 = o103.layerIds.map((t90) => e144.getLayer(t90)).filter(Boolean);
                  if (0 !== t89.length) {
                    o103.layers = t89, o103.stateDependentLayerIds && (o103.stateDependentLayers = o103.stateDependentLayerIds.map((e145) => t89.filter((t90) => t90.id === e145)[0]));
                    for (const e145 of t89)
                      i69[e145.id] = o103;
                  }
                }
                return i69;
              }(e143.buckets, i68.style), this.hasSymbolBuckets = false;
              for (const e144 in this.buckets) {
                const i69 = this.buckets[e144];
                if (i69 instanceof t87.SymbolBucket) {
                  if (this.hasSymbolBuckets = true, !o102)
                    break;
                  i69.justReloaded = true;
                }
              }
              if (this.hasRTLText = false, this.hasSymbolBuckets)
                for (const e144 in this.buckets) {
                  const i69 = this.buckets[e144];
                  if (i69 instanceof t87.SymbolBucket && i69.hasRTLText) {
                    this.hasRTLText = true, t87.lazyLoadRTLTextPlugin();
                    break;
                  }
                }
              this.queryPadding = 0;
              for (const t88 in this.buckets) {
                const e144 = this.buckets[t88];
                this.queryPadding = Math.max(this.queryPadding, i68.style.getLayer(t88).queryRadius(e144));
              }
              e143.imageAtlas && (this.imageAtlas = e143.imageAtlas), e143.glyphAtlasImage && (this.glyphAtlasImage = e143.glyphAtlasImage);
            } else
              this.collisionBoxArray = new t87.CollisionBoxArray();
          }
          unloadVectorData() {
            for (const t88 in this.buckets)
              this.buckets[t88].destroy();
            this.buckets = {}, this.imageAtlasTexture && this.imageAtlasTexture.destroy(), this.imageAtlas && (this.imageAtlas = null), this.glyphAtlasTexture && this.glyphAtlasTexture.destroy(), this.latestFeatureIndex = null, this.state = "unloaded";
          }
          getBucket(t88) {
            return this.buckets[t88.id];
          }
          upload(t88) {
            for (const e144 in this.buckets) {
              const i68 = this.buckets[e144];
              i68.uploadPending() && i68.upload(t88);
            }
            const e143 = t88.gl;
            this.imageAtlas && !this.imageAtlas.uploaded && (this.imageAtlasTexture = new d10(t88, this.imageAtlas.image, e143.RGBA), this.imageAtlas.uploaded = true), this.glyphAtlasImage && (this.glyphAtlasTexture = new d10(t88, this.glyphAtlasImage, e143.ALPHA), this.glyphAtlasImage = null);
          }
          prepare(t88) {
            this.imageAtlas && this.imageAtlas.patchUpdatedImages(t88, this.imageAtlasTexture);
          }
          queryRenderedFeatures(t88, e143, i68, o102, a83, s63, r62, n46, l30, c23) {
            return this.latestFeatureIndex && this.latestFeatureIndex.rawTileData ? this.latestFeatureIndex.query({ queryGeometry: o102, cameraQueryGeometry: a83, scale: s63, tileSize: this.tileSize, pixelPosMatrix: c23, transform: n46, params: r62, queryPadding: this.queryPadding * l30 }, t88, e143, i68) : {};
          }
          querySourceFeatures(e143, i68) {
            const o102 = this.latestFeatureIndex;
            if (!o102 || !o102.rawTileData)
              return;
            const a83 = o102.loadVTLayers(), s63 = i68 ? i68.sourceLayer : "", r62 = a83._geojsonTileLayer || a83[s63];
            if (!r62)
              return;
            const n46 = t87.createFilter(i68 && i68.filter), { z: l30, x: c23, y: h13 } = this.tileID.canonical, u21 = { z: l30, x: c23, y: h13 };
            for (let i69 = 0; i69 < r62.length; i69++) {
              const a84 = r62.feature(i69);
              if (n46.needGeometry) {
                const e144 = t87.toEvaluationFeature(a84, true);
                if (!n46.filter(new t87.EvaluationParameters(this.tileID.overscaledZ), e144, this.tileID.canonical))
                  continue;
              } else if (!n46.filter(new t87.EvaluationParameters(this.tileID.overscaledZ), a84))
                continue;
              const d11 = o102.getId(a84, s63), m30 = new t87.GeoJSONFeature(a84, l30, c23, h13, d11);
              m30.tile = u21, e143.push(m30);
            }
          }
          hasData() {
            return "loaded" === this.state || "reloading" === this.state || "expired" === this.state;
          }
          patternsLoaded() {
            return this.imageAtlas && !!Object.keys(this.imageAtlas.patternPositions).length;
          }
          setExpiryData(e143) {
            const i68 = this.expirationTime;
            if (e143.cacheControl) {
              const i69 = t87.parseCacheControl(e143.cacheControl);
              i69["max-age"] && (this.expirationTime = Date.now() + 1e3 * i69["max-age"]);
            } else
              e143.expires && (this.expirationTime = new Date(e143.expires).getTime());
            if (this.expirationTime) {
              const t88 = Date.now();
              let e144 = false;
              if (this.expirationTime > t88)
                e144 = false;
              else if (i68)
                if (this.expirationTime < i68)
                  e144 = true;
                else {
                  const o102 = this.expirationTime - i68;
                  o102 ? this.expirationTime = t88 + Math.max(o102, 3e4) : e144 = true;
                }
              else
                e144 = true;
              e144 ? (this.expiredRequestCount++, this.state = "expired") : this.expiredRequestCount = 0;
            }
          }
          getExpiryTimeout() {
            if (this.expirationTime)
              return this.expiredRequestCount ? 1e3 * (1 << Math.min(this.expiredRequestCount - 1, 31)) : Math.min(this.expirationTime - new Date().getTime(), Math.pow(2, 31) - 1);
          }
          setFeatureState(t88, e143) {
            if (!this.latestFeatureIndex || !this.latestFeatureIndex.rawTileData || 0 === Object.keys(t88).length)
              return;
            const i68 = this.latestFeatureIndex.loadVTLayers();
            for (const o102 in this.buckets) {
              if (!e143.style.hasLayer(o102))
                continue;
              const a83 = this.buckets[o102], s63 = a83.layers[0].sourceLayer || "_geojsonTileLayer", r62 = i68[s63], n46 = t88[s63];
              if (!r62 || !n46 || 0 === Object.keys(n46).length)
                continue;
              a83.update(n46, r62, this.imageAtlas && this.imageAtlas.patternPositions || {});
              const l30 = e143 && e143.style && e143.style.getLayer(o102);
              l30 && (this.queryPadding = Math.max(this.queryPadding, l30.queryRadius(a83)));
            }
          }
          holdingForFade() {
            return void 0 !== this.symbolFadeHoldUntil;
          }
          symbolFadeFinished() {
            return !this.symbolFadeHoldUntil || this.symbolFadeHoldUntil < t87.exported.now();
          }
          clearFadeHold() {
            this.symbolFadeHoldUntil = void 0;
          }
          setHoldDuration(e143) {
            this.symbolFadeHoldUntil = t87.exported.now() + e143;
          }
          setDependencies(t88, e143) {
            const i68 = {};
            for (const t89 of e143)
              i68[t89] = true;
            this.dependencies[t88] = i68;
          }
          hasDependency(t88, e143) {
            for (const i68 of t88) {
              const t89 = this.dependencies[i68];
              if (t89) {
                for (const i69 of e143)
                  if (t89[i69])
                    return true;
              }
            }
            return false;
          }
        }
        class N5 {
          constructor(t88, e143) {
            this.max = t88, this.onRemove = e143, this.reset();
          }
          reset() {
            for (const t88 in this.data)
              for (const e143 of this.data[t88])
                e143.timeout && clearTimeout(e143.timeout), this.onRemove(e143.value);
            return this.data = {}, this.order = [], this;
          }
          add(t88, e143, i68) {
            const o102 = t88.wrapped().key;
            void 0 === this.data[o102] && (this.data[o102] = []);
            const a83 = { value: e143, timeout: void 0 };
            if (void 0 !== i68 && (a83.timeout = setTimeout(() => {
              this.remove(t88, a83);
            }, i68)), this.data[o102].push(a83), this.order.push(o102), this.order.length > this.max) {
              const t89 = this._getAndRemoveByKey(this.order[0]);
              t89 && this.onRemove(t89);
            }
            return this;
          }
          has(t88) {
            return t88.wrapped().key in this.data;
          }
          getAndRemove(t88) {
            return this.has(t88) ? this._getAndRemoveByKey(t88.wrapped().key) : null;
          }
          _getAndRemoveByKey(t88) {
            const e143 = this.data[t88].shift();
            return e143.timeout && clearTimeout(e143.timeout), 0 === this.data[t88].length && delete this.data[t88], this.order.splice(this.order.indexOf(t88), 1), e143.value;
          }
          getByKey(t88) {
            const e143 = this.data[t88];
            return e143 ? e143[0].value : null;
          }
          get(t88) {
            return this.has(t88) ? this.data[t88.wrapped().key][0].value : null;
          }
          remove(t88, e143) {
            if (!this.has(t88))
              return this;
            const i68 = t88.wrapped().key, o102 = void 0 === e143 ? 0 : this.data[i68].indexOf(e143), a83 = this.data[i68][o102];
            return this.data[i68].splice(o102, 1), a83.timeout && clearTimeout(a83.timeout), 0 === this.data[i68].length && delete this.data[i68], this.onRemove(a83.value), this.order.splice(this.order.indexOf(i68), 1), this;
          }
          setMaxSize(t88) {
            for (this.max = t88; this.order.length > this.max; ) {
              const t89 = this._getAndRemoveByKey(this.order[0]);
              t89 && this.onRemove(t89);
            }
            return this;
          }
          filter(t88) {
            const e143 = [];
            for (const i68 in this.data)
              for (const o102 of this.data[i68])
                t88(o102.value) || e143.push(o102);
            for (const t89 of e143)
              this.remove(t89.value.tileID, t89);
          }
        }
        class G {
          constructor() {
            this.state = {}, this.stateChanges = {}, this.deletedStates = {};
          }
          updateState(e143, i68, o102) {
            const a83 = String(i68);
            if (this.stateChanges[e143] = this.stateChanges[e143] || {}, this.stateChanges[e143][a83] = this.stateChanges[e143][a83] || {}, t87.extend(this.stateChanges[e143][a83], o102), null === this.deletedStates[e143]) {
              this.deletedStates[e143] = {};
              for (const t88 in this.state[e143])
                t88 !== a83 && (this.deletedStates[e143][t88] = null);
            } else if (this.deletedStates[e143] && null === this.deletedStates[e143][a83]) {
              this.deletedStates[e143][a83] = {};
              for (const t88 in this.state[e143][a83])
                o102[t88] || (this.deletedStates[e143][a83][t88] = null);
            } else
              for (const t88 in o102)
                this.deletedStates[e143] && this.deletedStates[e143][a83] && null === this.deletedStates[e143][a83][t88] && delete this.deletedStates[e143][a83][t88];
          }
          removeFeatureState(t88, e143, i68) {
            if (null === this.deletedStates[t88])
              return;
            const o102 = String(e143);
            if (this.deletedStates[t88] = this.deletedStates[t88] || {}, i68 && void 0 !== e143)
              null !== this.deletedStates[t88][o102] && (this.deletedStates[t88][o102] = this.deletedStates[t88][o102] || {}, this.deletedStates[t88][o102][i68] = null);
            else if (void 0 !== e143)
              if (this.stateChanges[t88] && this.stateChanges[t88][o102])
                for (i68 in this.deletedStates[t88][o102] = {}, this.stateChanges[t88][o102])
                  this.deletedStates[t88][o102][i68] = null;
              else
                this.deletedStates[t88][o102] = null;
            else
              this.deletedStates[t88] = null;
          }
          getState(e143, i68) {
            const o102 = String(i68), a83 = t87.extend({}, (this.state[e143] || {})[o102], (this.stateChanges[e143] || {})[o102]);
            if (null === this.deletedStates[e143])
              return {};
            if (this.deletedStates[e143]) {
              const t88 = this.deletedStates[e143][i68];
              if (null === t88)
                return {};
              for (const e144 in t88)
                delete a83[e144];
            }
            return a83;
          }
          initializeTileState(t88, e143) {
            t88.setFeatureState(this.state, e143);
          }
          coalesceChanges(e143, i68) {
            const o102 = {};
            for (const e144 in this.stateChanges) {
              this.state[e144] = this.state[e144] || {};
              const i69 = {};
              for (const o103 in this.stateChanges[e144])
                this.state[e144][o103] || (this.state[e144][o103] = {}), t87.extend(this.state[e144][o103], this.stateChanges[e144][o103]), i69[o103] = this.state[e144][o103];
              o102[e144] = i69;
            }
            for (const e144 in this.deletedStates) {
              this.state[e144] = this.state[e144] || {};
              const i69 = {};
              if (null === this.deletedStates[e144])
                for (const t88 in this.state[e144])
                  i69[t88] = {}, this.state[e144][t88] = {};
              else
                for (const t88 in this.deletedStates[e144]) {
                  if (null === this.deletedStates[e144][t88])
                    this.state[e144][t88] = {};
                  else
                    for (const i70 of Object.keys(this.deletedStates[e144][t88]))
                      delete this.state[e144][t88][i70];
                  i69[t88] = this.state[e144][t88];
                }
              o102[e144] = o102[e144] || {}, t87.extend(o102[e144], i69);
            }
            if (this.stateChanges = {}, this.deletedStates = {}, 0 !== Object.keys(o102).length)
              for (const t88 in e143)
                e143[t88].setFeatureState(o102, i68);
          }
        }
        class Z extends t87.Evented {
          constructor(e143, i68, o102) {
            super(), this.id = e143, this.dispatcher = o102, this.on("data", (t88) => {
              "source" === t88.dataType && "metadata" === t88.sourceDataType && (this._sourceLoaded = true), this._sourceLoaded && !this._paused && "source" === t88.dataType && "content" === t88.sourceDataType && (this.reload(), this.transform && this.update(this.transform));
            }), this.on("dataloading", () => {
              this._sourceErrored = false;
            }), this.on("error", () => {
              this._sourceErrored = this._source.loaded();
            }), this._source = function(e144, i69, o103, a83) {
              const s63 = new k6[i69.type](e144, i69, o103, a83);
              if (s63.id !== e144)
                throw new Error(`Expected Source id to be ${e144} instead of ${s63.id}`);
              return t87.bindAll(["load", "abort", "unload", "serialize", "prepare"], s63), s63;
            }(e143, i68, o102, this), this._tiles = {}, this._cache = new N5(0, this._unloadTile.bind(this)), this._timers = {}, this._cacheTimers = {}, this._maxTileCacheSize = null, this._loadedParentTiles = {}, this._coveredTiles = {}, this._state = new G();
          }
          onAdd(t88) {
            this.map = t88, this._maxTileCacheSize = t88 ? t88._maxTileCacheSize : null, this._source && this._source.onAdd && this._source.onAdd(t88);
          }
          onRemove(t88) {
            this.clearTiles(), this._source && this._source.onRemove && this._source.onRemove(t88);
          }
          loaded() {
            if (this._sourceErrored)
              return true;
            if (!this._sourceLoaded)
              return false;
            if (!this._source.loaded())
              return false;
            for (const t88 in this._tiles) {
              const e143 = this._tiles[t88];
              if ("loaded" !== e143.state && "errored" !== e143.state)
                return false;
            }
            return true;
          }
          getSource() {
            return this._source;
          }
          pause() {
            this._paused = true;
          }
          resume() {
            if (!this._paused)
              return;
            const t88 = this._shouldReloadOnResume;
            this._paused = false, this._shouldReloadOnResume = false, t88 && this.reload(), this.transform && this.update(this.transform);
          }
          _loadTile(t88, e143) {
            return this._source.loadTile(t88, e143);
          }
          _unloadTile(t88) {
            if (this._source.unloadTile)
              return this._source.unloadTile(t88, () => {
              });
          }
          _abortTile(e143) {
            this._source.abortTile && this._source.abortTile(e143, () => {
            }), this._source.fire(new t87.Event("dataabort", { tile: e143, coord: e143.tileID, dataType: "source" }));
          }
          serialize() {
            return this._source.serialize();
          }
          prepare(t88) {
            this._source.prepare && this._source.prepare(), this._state.coalesceChanges(this._tiles, this.map ? this.map.painter : null);
            for (const e143 in this._tiles) {
              const i68 = this._tiles[e143];
              i68.upload(t88), i68.prepare(this.map.style.imageManager);
            }
          }
          getIds() {
            return Object.values(this._tiles).map((t88) => t88.tileID).sort(q3).map((t88) => t88.key);
          }
          getRenderableIds(e143) {
            const i68 = [];
            for (const t88 in this._tiles)
              this._isIdRenderable(t88, e143) && i68.push(this._tiles[t88]);
            return e143 ? i68.sort((e144, i69) => {
              const o102 = e144.tileID, a83 = i69.tileID, s63 = new t87.pointGeometry(o102.canonical.x, o102.canonical.y)._rotate(this.transform.angle), r62 = new t87.pointGeometry(a83.canonical.x, a83.canonical.y)._rotate(this.transform.angle);
              return o102.overscaledZ - a83.overscaledZ || r62.y - s63.y || r62.x - s63.x;
            }).map((t88) => t88.tileID.key) : i68.map((t88) => t88.tileID).sort(q3).map((t88) => t88.key);
          }
          hasRenderableParent(t88) {
            const e143 = this.findLoadedParent(t88, 0);
            return !!e143 && this._isIdRenderable(e143.tileID.key);
          }
          _isIdRenderable(t88, e143) {
            return this._tiles[t88] && this._tiles[t88].hasData() && !this._coveredTiles[t88] && (e143 || !this._tiles[t88].holdingForFade());
          }
          reload() {
            if (this._paused)
              this._shouldReloadOnResume = true;
            else {
              this._cache.reset();
              for (const t88 in this._tiles)
                "errored" !== this._tiles[t88].state && this._reloadTile(t88, "reloading");
            }
          }
          _reloadTile(t88, e143) {
            const i68 = this._tiles[t88];
            i68 && ("loading" !== i68.state && (i68.state = e143), this._loadTile(i68, this._tileLoaded.bind(this, i68, t88, e143)));
          }
          _tileLoaded(e143, i68, o102, a83) {
            if (a83)
              return e143.state = "errored", void (404 !== a83.status ? this._source.fire(new t87.ErrorEvent(a83, { tile: e143 })) : this.update(this.transform));
            e143.timeAdded = t87.exported.now(), "expired" === o102 && (e143.refreshedUponExpiration = true), this._setTileReloadTimer(i68, e143), "raster-dem" === this.getSource().type && e143.dem && this._backfillDEM(e143), this._state.initializeTileState(e143, this.map ? this.map.painter : null), e143.aborted || this._source.fire(new t87.Event("data", { dataType: "source", tile: e143, coord: e143.tileID }));
          }
          _backfillDEM(t88) {
            const e143 = this.getRenderableIds();
            for (let o102 = 0; o102 < e143.length; o102++) {
              const a83 = e143[o102];
              if (t88.neighboringTiles && t88.neighboringTiles[a83]) {
                const e144 = this.getTileByID(a83);
                i68(t88, e144), i68(e144, t88);
              }
            }
            function i68(t89, e144) {
              t89.needsHillshadePrepare = true;
              let i69 = e144.tileID.canonical.x - t89.tileID.canonical.x;
              const o102 = e144.tileID.canonical.y - t89.tileID.canonical.y, a83 = Math.pow(2, t89.tileID.canonical.z), s63 = e144.tileID.key;
              0 === i69 && 0 === o102 || Math.abs(o102) > 1 || (Math.abs(i69) > 1 && (1 === Math.abs(i69 + a83) ? i69 += a83 : 1 === Math.abs(i69 - a83) && (i69 -= a83)), e144.dem && t89.dem && (t89.dem.backfillBorder(e144.dem, i69, o102), t89.neighboringTiles && t89.neighboringTiles[s63] && (t89.neighboringTiles[s63].backfilled = true)));
            }
          }
          getTile(t88) {
            return this.getTileByID(t88.key);
          }
          getTileByID(t88) {
            return this._tiles[t88];
          }
          _retainLoadedChildren(t88, e143, i68, o102) {
            for (const a83 in this._tiles) {
              let s63 = this._tiles[a83];
              if (o102[a83] || !s63.hasData() || s63.tileID.overscaledZ <= e143 || s63.tileID.overscaledZ > i68)
                continue;
              let r62 = s63.tileID;
              for (; s63 && s63.tileID.overscaledZ > e143 + 1; ) {
                const t89 = s63.tileID.scaledTo(s63.tileID.overscaledZ - 1);
                s63 = this._tiles[t89.key], s63 && s63.hasData() && (r62 = t89);
              }
              let n46 = r62;
              for (; n46.overscaledZ > e143; )
                if (n46 = n46.scaledTo(n46.overscaledZ - 1), t88[n46.key]) {
                  o102[r62.key] = r62;
                  break;
                }
            }
          }
          findLoadedParent(t88, e143) {
            if (t88.key in this._loadedParentTiles) {
              const i68 = this._loadedParentTiles[t88.key];
              return i68 && i68.tileID.overscaledZ >= e143 ? i68 : null;
            }
            for (let i68 = t88.overscaledZ - 1; i68 >= e143; i68--) {
              const e144 = t88.scaledTo(i68), o102 = this._getLoadedTile(e144);
              if (o102)
                return o102;
            }
          }
          _getLoadedTile(t88) {
            const e143 = this._tiles[t88.key];
            return e143 && e143.hasData() ? e143 : this._cache.getByKey(t88.wrapped().key);
          }
          updateCacheSize(t88) {
            const e143 = Math.ceil(t88.width / this._source.tileSize) + 1, i68 = Math.ceil(t88.height / this._source.tileSize) + 1, o102 = Math.floor(e143 * i68 * 5), a83 = "number" == typeof this._maxTileCacheSize ? Math.min(this._maxTileCacheSize, o102) : o102;
            this._cache.setMaxSize(a83);
          }
          handleWrapJump(t88) {
            const e143 = Math.round((t88 - (void 0 === this._prevLng ? t88 : this._prevLng)) / 360);
            if (this._prevLng = t88, e143) {
              const t89 = {};
              for (const i68 in this._tiles) {
                const o102 = this._tiles[i68];
                o102.tileID = o102.tileID.unwrapTo(o102.tileID.wrap + e143), t89[o102.tileID.key] = o102;
              }
              this._tiles = t89;
              for (const t90 in this._timers)
                clearTimeout(this._timers[t90]), delete this._timers[t90];
              for (const t90 in this._tiles)
                this._setTileReloadTimer(t90, this._tiles[t90]);
            }
          }
          update(e143) {
            if (this.transform = e143, !this._sourceLoaded || this._paused)
              return;
            let i68;
            this.updateCacheSize(e143), this.handleWrapJump(this.transform.center.lng), this._coveredTiles = {}, this.used ? this._source.tileID ? i68 = e143.getVisibleUnwrappedCoordinates(this._source.tileID).map((e144) => new t87.OverscaledTileID(e144.canonical.z, e144.wrap, e144.canonical.z, e144.canonical.x, e144.canonical.y)) : (i68 = e143.coveringTiles({ tileSize: this._source.tileSize, minzoom: this._source.minzoom, maxzoom: this._source.maxzoom, roundZoom: this._source.roundZoom, reparseOverscaled: this._source.reparseOverscaled }), this._source.hasTile && (i68 = i68.filter((t88) => this._source.hasTile(t88)))) : i68 = [];
            const o102 = e143.coveringZoomLevel(this._source), a83 = Math.max(o102 - Z.maxOverzooming, this._source.minzoom), s63 = Math.max(o102 + Z.maxUnderzooming, this._source.minzoom), r62 = this._updateRetainedTiles(i68, o102);
            if (V2(this._source.type)) {
              const e144 = {}, i69 = {}, n47 = Object.keys(r62);
              for (const o103 of n47) {
                const s64 = r62[o103], n48 = this._tiles[o103];
                if (!n48 || n48.fadeEndTime && n48.fadeEndTime <= t87.exported.now())
                  continue;
                const l30 = this.findLoadedParent(s64, a83);
                l30 && (this._addTile(l30.tileID), e144[l30.tileID.key] = l30.tileID), i69[o103] = s64;
              }
              this._retainLoadedChildren(i69, o102, s63, r62);
              for (const t88 in e144)
                r62[t88] || (this._coveredTiles[t88] = true, r62[t88] = e144[t88]);
            }
            for (const t88 in r62)
              this._tiles[t88].clearFadeHold();
            const n46 = t87.keysDifference(this._tiles, r62);
            for (const t88 of n46) {
              const e144 = this._tiles[t88];
              e144.hasSymbolBuckets && !e144.holdingForFade() ? e144.setHoldDuration(this.map._fadeDuration) : e144.hasSymbolBuckets && !e144.symbolFadeFinished() || this._removeTile(t88);
            }
            this._updateLoadedParentTileCache();
          }
          releaseSymbolFadeTiles() {
            for (const t88 in this._tiles)
              this._tiles[t88].holdingForFade() && this._removeTile(t88);
          }
          _updateRetainedTiles(t88, e143) {
            const i68 = {}, o102 = {}, a83 = Math.max(e143 - Z.maxOverzooming, this._source.minzoom), s63 = Math.max(e143 + Z.maxUnderzooming, this._source.minzoom), r62 = {};
            for (const o103 of t88) {
              const t89 = this._addTile(o103);
              i68[o103.key] = o103, t89.hasData() || e143 < this._source.maxzoom && (r62[o103.key] = o103);
            }
            this._retainLoadedChildren(r62, e143, s63, i68);
            for (const s64 of t88) {
              let t89 = this._tiles[s64.key];
              if (t89.hasData())
                continue;
              if (e143 + 1 > this._source.maxzoom) {
                const t90 = s64.children(this._source.maxzoom)[0], e144 = this.getTile(t90);
                if (e144 && e144.hasData()) {
                  i68[t90.key] = t90;
                  continue;
                }
              } else {
                const t90 = s64.children(this._source.maxzoom);
                if (i68[t90[0].key] && i68[t90[1].key] && i68[t90[2].key] && i68[t90[3].key])
                  continue;
              }
              let r63 = t89.wasRequested();
              for (let e144 = s64.overscaledZ - 1; e144 >= a83; --e144) {
                const a84 = s64.scaledTo(e144);
                if (o102[a84.key])
                  break;
                if (o102[a84.key] = true, t89 = this.getTile(a84), !t89 && r63 && (t89 = this._addTile(a84)), t89 && (i68[a84.key] = a84, r63 = t89.wasRequested(), t89.hasData()))
                  break;
              }
            }
            return i68;
          }
          _updateLoadedParentTileCache() {
            this._loadedParentTiles = {};
            for (const t88 in this._tiles) {
              const e143 = [];
              let i68, o102 = this._tiles[t88].tileID;
              for (; o102.overscaledZ > 0; ) {
                if (o102.key in this._loadedParentTiles) {
                  i68 = this._loadedParentTiles[o102.key];
                  break;
                }
                e143.push(o102.key);
                const t89 = o102.scaledTo(o102.overscaledZ - 1);
                if (i68 = this._getLoadedTile(t89), i68)
                  break;
                o102 = t89;
              }
              for (const t89 of e143)
                this._loadedParentTiles[t89] = i68;
            }
          }
          _addTile(e143) {
            let i68 = this._tiles[e143.key];
            if (i68)
              return i68;
            i68 = this._cache.getAndRemove(e143), i68 && (this._setTileReloadTimer(e143.key, i68), i68.tileID = e143, this._state.initializeTileState(i68, this.map ? this.map.painter : null), this._cacheTimers[e143.key] && (clearTimeout(this._cacheTimers[e143.key]), delete this._cacheTimers[e143.key], this._setTileReloadTimer(e143.key, i68)));
            const o102 = i68;
            return i68 || (i68 = new U2(e143, this._source.tileSize * e143.overscaleFactor()), this._loadTile(i68, this._tileLoaded.bind(this, i68, e143.key, i68.state))), i68.uses++, this._tiles[e143.key] = i68, o102 || this._source.fire(new t87.Event("dataloading", { tile: i68, coord: i68.tileID, dataType: "source" })), i68;
          }
          _setTileReloadTimer(t88, e143) {
            t88 in this._timers && (clearTimeout(this._timers[t88]), delete this._timers[t88]);
            const i68 = e143.getExpiryTimeout();
            i68 && (this._timers[t88] = setTimeout(() => {
              this._reloadTile(t88, "expired"), delete this._timers[t88];
            }, i68));
          }
          _removeTile(t88) {
            const e143 = this._tiles[t88];
            e143 && (e143.uses--, delete this._tiles[t88], this._timers[t88] && (clearTimeout(this._timers[t88]), delete this._timers[t88]), e143.uses > 0 || (e143.hasData() && "reloading" !== e143.state ? this._cache.add(e143.tileID, e143, e143.getExpiryTimeout()) : (e143.aborted = true, this._abortTile(e143), this._unloadTile(e143))));
          }
          clearTiles() {
            this._shouldReloadOnResume = false, this._paused = false;
            for (const t88 in this._tiles)
              this._removeTile(t88);
            this._cache.reset();
          }
          tilesIn(e143, i68, o102) {
            const a83 = [], s63 = this.transform;
            if (!s63)
              return a83;
            const r62 = o102 ? s63.getCameraQueryGeometry(e143) : e143, n46 = e143.map((t88) => s63.pointCoordinate(t88)), l30 = r62.map((t88) => s63.pointCoordinate(t88)), c23 = this.getIds();
            let h13 = 1 / 0, u21 = 1 / 0, d11 = -1 / 0, m30 = -1 / 0;
            for (const t88 of l30)
              h13 = Math.min(h13, t88.x), u21 = Math.min(u21, t88.y), d11 = Math.max(d11, t88.x), m30 = Math.max(m30, t88.y);
            for (let e144 = 0; e144 < c23.length; e144++) {
              const o103 = this._tiles[c23[e144]];
              if (o103.holdingForFade())
                continue;
              const r63 = o103.tileID, _4 = Math.pow(2, s63.zoom - o103.tileID.overscaledZ), p18 = i68 * o103.queryPadding * t87.EXTENT / o103.tileSize / _4, f22 = [r63.getTilePoint(new t87.MercatorCoordinate(h13, u21)), r63.getTilePoint(new t87.MercatorCoordinate(d11, m30))];
              if (f22[0].x - p18 < t87.EXTENT && f22[0].y - p18 < t87.EXTENT && f22[1].x + p18 >= 0 && f22[1].y + p18 >= 0) {
                const t88 = n46.map((t89) => r63.getTilePoint(t89)), e145 = l30.map((t89) => r63.getTilePoint(t89));
                a83.push({ tile: o103, tileID: r63, queryGeometry: t88, cameraQueryGeometry: e145, scale: _4 });
              }
            }
            return a83;
          }
          getVisibleCoordinates(t88) {
            const e143 = this.getRenderableIds(t88).map((t89) => this._tiles[t89].tileID);
            for (const t89 of e143)
              t89.posMatrix = this.transform.calculatePosMatrix(t89.toUnwrapped());
            return e143;
          }
          hasTransition() {
            if (this._source.hasTransition())
              return true;
            if (V2(this._source.type))
              for (const e143 in this._tiles) {
                const i68 = this._tiles[e143];
                if (void 0 !== i68.fadeEndTime && i68.fadeEndTime >= t87.exported.now())
                  return true;
              }
            return false;
          }
          setFeatureState(t88, e143, i68) {
            this._state.updateState(t88 = t88 || "_geojsonTileLayer", e143, i68);
          }
          removeFeatureState(t88, e143, i68) {
            this._state.removeFeatureState(t88 = t88 || "_geojsonTileLayer", e143, i68);
          }
          getFeatureState(t88, e143) {
            return this._state.getState(t88 = t88 || "_geojsonTileLayer", e143);
          }
          setDependencies(t88, e143, i68) {
            const o102 = this._tiles[t88];
            o102 && o102.setDependencies(e143, i68);
          }
          reloadTilesForDependencies(t88, e143) {
            for (const i68 in this._tiles)
              this._tiles[i68].hasDependency(t88, e143) && this._reloadTile(i68, "reloading");
            this._cache.filter((i68) => !i68.hasDependency(t88, e143));
          }
        }
        function q3(t88, e143) {
          const i68 = Math.abs(2 * t88.wrap) - +(t88.wrap < 0), o102 = Math.abs(2 * e143.wrap) - +(e143.wrap < 0);
          return t88.overscaledZ - e143.overscaledZ || o102 - i68 || e143.canonical.y - t88.canonical.y || e143.canonical.x - t88.canonical.x;
        }
        function V2(t88) {
          return "raster" === t88 || "image" === t88 || "video" === t88;
        }
        Z.maxOverzooming = 10, Z.maxUnderzooming = 3;
        const j7 = "mapboxgl_preloaded_worker_pool";
        class $ {
          constructor() {
            this.active = {};
          }
          acquire(t88) {
            if (!this.workers)
              for (this.workers = []; this.workers.length < $.workerCount; )
                this.workers.push(new Worker(va.workerUrl));
            return this.active[t88] = true, this.workers.slice();
          }
          release(t88) {
            delete this.active[t88], 0 === this.numActive() && (this.workers.forEach((t89) => {
              t89.terminate();
            }), this.workers = null);
          }
          isPreloaded() {
            return !!this.active[j7];
          }
          numActive() {
            return Object.keys(this.active).length;
          }
        }
        const W = Math.floor(t87.exported.hardwareConcurrency / 2);
        let X;
        function H() {
          return X || (X = new $()), X;
        }
        function K(e143, i68) {
          const o102 = {};
          for (const t88 in e143)
            "ref" !== t88 && (o102[t88] = e143[t88]);
          return t87.refProperties.forEach((t88) => {
            t88 in i68 && (o102[t88] = i68[t88]);
          }), o102;
        }
        function Y(t88) {
          t88 = t88.slice();
          const e143 = /* @__PURE__ */ Object.create(null);
          for (let i68 = 0; i68 < t88.length; i68++)
            e143[t88[i68].id] = t88[i68];
          for (let i68 = 0; i68 < t88.length; i68++)
            "ref" in t88[i68] && (t88[i68] = K(t88[i68], e143[t88[i68].ref]));
          return t88;
        }
        $.workerCount = Math.max(Math.min(W, 6), 1);
        const J = { setStyle: "setStyle", addLayer: "addLayer", removeLayer: "removeLayer", setPaintProperty: "setPaintProperty", setLayoutProperty: "setLayoutProperty", setFilter: "setFilter", addSource: "addSource", removeSource: "removeSource", setGeoJSONSourceData: "setGeoJSONSourceData", setLayerZoomRange: "setLayerZoomRange", setLayerProperty: "setLayerProperty", setCenter: "setCenter", setZoom: "setZoom", setBearing: "setBearing", setPitch: "setPitch", setSprite: "setSprite", setGlyphs: "setGlyphs", setTransition: "setTransition", setLight: "setLight" };
        function Q(t88, e143, i68) {
          i68.push({ command: J.addSource, args: [t88, e143[t88]] });
        }
        function tt(t88, e143, i68) {
          e143.push({ command: J.removeSource, args: [t88] }), i68[t88] = true;
        }
        function et(t88, e143, i68, o102) {
          tt(t88, i68, o102), Q(t88, e143, i68);
        }
        function it(t88, e143, i68) {
          let o102;
          for (o102 in t88[i68])
            if (Object.prototype.hasOwnProperty.call(t88[i68], o102) && "data" !== o102 && !a82(t88[i68][o102], e143[i68][o102]))
              return false;
          for (o102 in e143[i68])
            if (Object.prototype.hasOwnProperty.call(e143[i68], o102) && "data" !== o102 && !a82(t88[i68][o102], e143[i68][o102]))
              return false;
          return true;
        }
        function ot(t88, e143, i68, o102, s63, r62) {
          let n46;
          for (n46 in e143 = e143 || {}, t88 = t88 || {})
            Object.prototype.hasOwnProperty.call(t88, n46) && (a82(t88[n46], e143[n46]) || i68.push({ command: r62, args: [o102, n46, e143[n46], s63] }));
          for (n46 in e143)
            Object.prototype.hasOwnProperty.call(e143, n46) && !Object.prototype.hasOwnProperty.call(t88, n46) && (a82(t88[n46], e143[n46]) || i68.push({ command: r62, args: [o102, n46, e143[n46], s63] }));
        }
        function at(t88) {
          return t88.id;
        }
        function st(t88, e143) {
          return t88[e143.id] = e143, t88;
        }
        class rt {
          constructor(t88, e143) {
            this.reset(t88, e143);
          }
          reset(t88, e143) {
            this.points = t88 || [], this._distances = [0];
            for (let t89 = 1; t89 < this.points.length; t89++)
              this._distances[t89] = this._distances[t89 - 1] + this.points[t89].dist(this.points[t89 - 1]);
            this.length = this._distances[this._distances.length - 1], this.padding = Math.min(e143 || 0, 0.5 * this.length), this.paddedLength = this.length - 2 * this.padding;
          }
          lerp(e143) {
            if (1 === this.points.length)
              return this.points[0];
            e143 = t87.clamp(e143, 0, 1);
            let i68 = 1, o102 = this._distances[i68];
            const a83 = e143 * this.paddedLength + this.padding;
            for (; o102 < a83 && i68 < this._distances.length; )
              o102 = this._distances[++i68];
            const s63 = i68 - 1, r62 = this._distances[s63], n46 = o102 - r62, l30 = n46 > 0 ? (a83 - r62) / n46 : 0;
            return this.points[s63].mult(1 - l30).add(this.points[i68].mult(l30));
          }
        }
        function nt(t88, e143) {
          let i68 = true;
          return "always" === t88 || "never" !== t88 && "never" !== e143 || (i68 = false), i68;
        }
        class lt {
          constructor(t88, e143, i68) {
            const o102 = this.boxCells = [], a83 = this.circleCells = [];
            this.xCellCount = Math.ceil(t88 / i68), this.yCellCount = Math.ceil(e143 / i68);
            for (let t89 = 0; t89 < this.xCellCount * this.yCellCount; t89++)
              o102.push([]), a83.push([]);
            this.circleKeys = [], this.boxKeys = [], this.bboxes = [], this.circles = [], this.width = t88, this.height = e143, this.xScale = this.xCellCount / t88, this.yScale = this.yCellCount / e143, this.boxUid = 0, this.circleUid = 0;
          }
          keysLength() {
            return this.boxKeys.length + this.circleKeys.length;
          }
          insert(t88, e143, i68, o102, a83) {
            this._forEachCell(e143, i68, o102, a83, this._insertBoxCell, this.boxUid++), this.boxKeys.push(t88), this.bboxes.push(e143), this.bboxes.push(i68), this.bboxes.push(o102), this.bboxes.push(a83);
          }
          insertCircle(t88, e143, i68, o102) {
            this._forEachCell(e143 - o102, i68 - o102, e143 + o102, i68 + o102, this._insertCircleCell, this.circleUid++), this.circleKeys.push(t88), this.circles.push(e143), this.circles.push(i68), this.circles.push(o102);
          }
          _insertBoxCell(t88, e143, i68, o102, a83, s63) {
            this.boxCells[a83].push(s63);
          }
          _insertCircleCell(t88, e143, i68, o102, a83, s63) {
            this.circleCells[a83].push(s63);
          }
          _query(t88, e143, i68, o102, a83, s63, r62) {
            if (i68 < 0 || t88 > this.width || o102 < 0 || e143 > this.height)
              return [];
            const n46 = [];
            if (t88 <= 0 && e143 <= 0 && this.width <= i68 && this.height <= o102) {
              if (a83)
                return [{ key: null, x1: t88, y1: e143, x2: i68, y2: o102 }];
              for (let t89 = 0; t89 < this.boxKeys.length; t89++)
                n46.push({ key: this.boxKeys[t89], x1: this.bboxes[4 * t89], y1: this.bboxes[4 * t89 + 1], x2: this.bboxes[4 * t89 + 2], y2: this.bboxes[4 * t89 + 3] });
              for (let t89 = 0; t89 < this.circleKeys.length; t89++) {
                const e144 = this.circles[3 * t89], i69 = this.circles[3 * t89 + 1], o103 = this.circles[3 * t89 + 2];
                n46.push({ key: this.circleKeys[t89], x1: e144 - o103, y1: i69 - o103, x2: e144 + o103, y2: i69 + o103 });
              }
            } else
              this._forEachCell(t88, e143, i68, o102, this._queryCell, n46, { hitTest: a83, overlapMode: s63, seenUids: { box: {}, circle: {} } }, r62);
            return n46;
          }
          query(t88, e143, i68, o102) {
            return this._query(t88, e143, i68, o102, false, null);
          }
          hitTest(t88, e143, i68, o102, a83, s63) {
            return this._query(t88, e143, i68, o102, true, a83, s63).length > 0;
          }
          hitTestCircle(t88, e143, i68, o102, a83) {
            const s63 = t88 - i68, r62 = t88 + i68, n46 = e143 - i68, l30 = e143 + i68;
            if (r62 < 0 || s63 > this.width || l30 < 0 || n46 > this.height)
              return false;
            const c23 = [];
            return this._forEachCell(s63, n46, r62, l30, this._queryCellCircle, c23, { hitTest: true, overlapMode: o102, circle: { x: t88, y: e143, radius: i68 }, seenUids: { box: {}, circle: {} } }, a83), c23.length > 0;
          }
          _queryCell(t88, e143, i68, o102, a83, s63, r62, n46) {
            const { seenUids: l30, hitTest: c23, overlapMode: h13 } = r62, u21 = this.boxCells[a83];
            if (null !== u21) {
              const a84 = this.bboxes;
              for (const r63 of u21)
                if (!l30.box[r63]) {
                  l30.box[r63] = true;
                  const u22 = 4 * r63, d12 = this.boxKeys[r63];
                  if (t88 <= a84[u22 + 2] && e143 <= a84[u22 + 3] && i68 >= a84[u22 + 0] && o102 >= a84[u22 + 1] && (!n46 || n46(d12)) && (!c23 || !nt(h13, d12.overlapMode)) && (s63.push({ key: d12, x1: a84[u22], y1: a84[u22 + 1], x2: a84[u22 + 2], y2: a84[u22 + 3] }), c23))
                    return true;
                }
            }
            const d11 = this.circleCells[a83];
            if (null !== d11) {
              const a84 = this.circles;
              for (const r63 of d11)
                if (!l30.circle[r63]) {
                  l30.circle[r63] = true;
                  const u22 = 3 * r63, d12 = this.circleKeys[r63];
                  if (this._circleAndRectCollide(a84[u22], a84[u22 + 1], a84[u22 + 2], t88, e143, i68, o102) && (!n46 || n46(d12)) && (!c23 || !nt(h13, d12.overlapMode))) {
                    const t89 = a84[u22], e144 = a84[u22 + 1], i69 = a84[u22 + 2];
                    if (s63.push({ key: d12, x1: t89 - i69, y1: e144 - i69, x2: t89 + i69, y2: e144 + i69 }), c23)
                      return true;
                  }
                }
            }
            return false;
          }
          _queryCellCircle(t88, e143, i68, o102, a83, s63, r62, n46) {
            const { circle: l30, seenUids: c23, overlapMode: h13 } = r62, u21 = this.boxCells[a83];
            if (null !== u21) {
              const t89 = this.bboxes;
              for (const e144 of u21)
                if (!c23.box[e144]) {
                  c23.box[e144] = true;
                  const i69 = 4 * e144, o103 = this.boxKeys[e144];
                  if (this._circleAndRectCollide(l30.x, l30.y, l30.radius, t89[i69 + 0], t89[i69 + 1], t89[i69 + 2], t89[i69 + 3]) && (!n46 || n46(o103)) && !nt(h13, o103.overlapMode))
                    return s63.push(true), true;
                }
            }
            const d11 = this.circleCells[a83];
            if (null !== d11) {
              const t89 = this.circles;
              for (const e144 of d11)
                if (!c23.circle[e144]) {
                  c23.circle[e144] = true;
                  const i69 = 3 * e144, o103 = this.circleKeys[e144];
                  if (this._circlesCollide(t89[i69], t89[i69 + 1], t89[i69 + 2], l30.x, l30.y, l30.radius) && (!n46 || n46(o103)) && !nt(h13, o103.overlapMode))
                    return s63.push(true), true;
                }
            }
          }
          _forEachCell(t88, e143, i68, o102, a83, s63, r62, n46) {
            const l30 = this._convertToXCellCoord(t88), c23 = this._convertToYCellCoord(e143), h13 = this._convertToXCellCoord(i68), u21 = this._convertToYCellCoord(o102);
            for (let d11 = l30; d11 <= h13; d11++)
              for (let l31 = c23; l31 <= u21; l31++)
                if (a83.call(this, t88, e143, i68, o102, this.xCellCount * l31 + d11, s63, r62, n46))
                  return;
          }
          _convertToXCellCoord(t88) {
            return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(t88 * this.xScale)));
          }
          _convertToYCellCoord(t88) {
            return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(t88 * this.yScale)));
          }
          _circlesCollide(t88, e143, i68, o102, a83, s63) {
            const r62 = o102 - t88, n46 = a83 - e143, l30 = i68 + s63;
            return l30 * l30 > r62 * r62 + n46 * n46;
          }
          _circleAndRectCollide(t88, e143, i68, o102, a83, s63, r62) {
            const n46 = (s63 - o102) / 2, l30 = Math.abs(t88 - (o102 + n46));
            if (l30 > n46 + i68)
              return false;
            const c23 = (r62 - a83) / 2, h13 = Math.abs(e143 - (a83 + c23));
            if (h13 > c23 + i68)
              return false;
            if (l30 <= n46 || h13 <= c23)
              return true;
            const u21 = l30 - n46, d11 = h13 - c23;
            return u21 * u21 + d11 * d11 <= i68 * i68;
          }
        }
        function ct(e143, i68, o102, a83, s63) {
          const r62 = t87.create();
          return i68 ? (t87.scale(r62, r62, [1 / s63, 1 / s63, 1]), o102 || t87.rotateZ(r62, r62, a83.angle)) : t87.multiply(r62, a83.labelPlaneMatrix, e143), r62;
        }
        function ht(e143, i68, o102, a83, s63) {
          if (i68) {
            const i69 = t87.clone(e143);
            return t87.scale(i69, i69, [s63, s63, 1]), o102 || t87.rotateZ(i69, i69, -a83.angle), i69;
          }
          return a83.glCoordMatrix;
        }
        function ut(e143, i68) {
          const o102 = [e143.x, e143.y, 0, 1];
          wt(o102, o102, i68);
          const a83 = o102[3];
          return { point: new t87.pointGeometry(o102[0] / a83, o102[1] / a83), signedDistanceFromCamera: a83 };
        }
        function dt(t88, e143) {
          return 0.5 + t88 / e143 * 0.5;
        }
        function mt(t88, e143) {
          const i68 = t88[0] / t88[3], o102 = t88[1] / t88[3];
          return i68 >= -e143[0] && i68 <= e143[0] && o102 >= -e143[1] && o102 <= e143[1];
        }
        function _t(e143, i68, o102, a83, s63, r62, n46, l30, c23) {
          const h13 = a83 ? e143.textSizeData : e143.iconSizeData, u21 = t87.evaluateSizeForZoom(h13, o102.transform.zoom), d11 = [256 / o102.width * 2 + 1, 256 / o102.height * 2 + 1], m30 = a83 ? e143.text.dynamicLayoutVertexArray : e143.icon.dynamicLayoutVertexArray;
          m30.clear();
          const _4 = e143.lineVertexArray, p18 = a83 ? e143.text.placedSymbolArray : e143.icon.placedSymbolArray, f22 = o102.transform.width / o102.transform.height;
          let g15 = false;
          for (let a84 = 0; a84 < p18.length; a84++) {
            const x6 = p18.get(a84);
            if (x6.hidden || x6.writingMode === t87.WritingMode.vertical && !g15) {
              bt(x6.numGlyphs, m30);
              continue;
            }
            g15 = false;
            const v6 = [x6.anchorX, x6.anchorY, 0, 1];
            if (t87.transformMat4(v6, v6, i68), !mt(v6, d11)) {
              bt(x6.numGlyphs, m30);
              continue;
            }
            const y10 = dt(o102.transform.cameraToCenterDistance, v6[3]), b8 = t87.evaluateSizeForFeature(h13, u21, x6), w4 = n46 ? b8 / y10 : b8 * y10, T3 = new t87.pointGeometry(x6.anchorX, x6.anchorY), E5 = ut(T3, s63).point, I3 = {}, S2 = gt(x6, w4, false, l30, i68, s63, r62, e143.glyphOffsetArray, _4, m30, E5, T3, I3, f22, c23);
            g15 = S2.useVertical, (S2.notEnoughRoom || g15 || S2.needsFlipping && gt(x6, w4, true, l30, i68, s63, r62, e143.glyphOffsetArray, _4, m30, E5, T3, I3, f22, c23).notEnoughRoom) && bt(x6.numGlyphs, m30);
          }
          a83 ? e143.text.dynamicLayoutVertexBuffer.updateData(m30) : e143.icon.dynamicLayoutVertexBuffer.updateData(m30);
        }
        function pt(t88, e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21) {
          const d11 = n46.glyphStartIndex + n46.numGlyphs, m30 = n46.lineStartIndex, _4 = n46.lineStartIndex + n46.lineLength, p18 = e143.getoffsetX(n46.glyphStartIndex), f22 = e143.getoffsetX(d11 - 1), g15 = vt(t88 * p18, i68, o102, a83, s63, r62, n46.segment, m30, _4, l30, c23, h13, u21);
          if (!g15)
            return null;
          const x6 = vt(t88 * f22, i68, o102, a83, s63, r62, n46.segment, m30, _4, l30, c23, h13, u21);
          return x6 ? { first: g15, last: x6 } : null;
        }
        function ft(e143, i68, o102, a83) {
          return e143 === t87.WritingMode.horizontal && Math.abs(o102.y - i68.y) > Math.abs(o102.x - i68.x) * a83 ? { useVertical: true } : (e143 === t87.WritingMode.vertical ? i68.y < o102.y : i68.x > o102.x) ? { needsFlipping: true } : null;
        }
        function gt(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11, m30, _4, p18) {
          const f22 = i68 / 24, g15 = e143.lineOffsetX * f22, x6 = e143.lineOffsetY * f22;
          let v6;
          if (e143.numGlyphs > 1) {
            const t88 = e143.glyphStartIndex + e143.numGlyphs, i69 = e143.lineStartIndex, s64 = e143.lineStartIndex + e143.lineLength, h14 = pt(f22, l30, g15, x6, o102, u21, d11, e143, c23, r62, m30, p18);
            if (!h14)
              return { notEnoughRoom: true };
            const y10 = ut(h14.first.point, n46).point, b8 = ut(h14.last.point, n46).point;
            if (a83 && !o102) {
              const t89 = ft(e143.writingMode, y10, b8, _4);
              if (t89)
                return t89;
            }
            v6 = [h14.first];
            for (let a84 = e143.glyphStartIndex + 1; a84 < t88 - 1; a84++)
              v6.push(vt(f22 * l30.getoffsetX(a84), g15, x6, o102, u21, d11, e143.segment, i69, s64, c23, r62, m30, p18));
            v6.push(h14.last);
          } else {
            if (a83 && !o102) {
              const i70 = ut(d11, s63).point, o103 = e143.lineStartIndex + e143.segment + 1, a84 = new t87.pointGeometry(c23.getx(o103), c23.gety(o103)), r63 = ut(a84, s63), n47 = r63.signedDistanceFromCamera > 0 ? r63.point : xt(d11, a84, i70, 1, s63), l31 = ft(e143.writingMode, i70, n47, _4);
              if (l31)
                return l31;
            }
            const i69 = vt(f22 * l30.getoffsetX(e143.glyphStartIndex), g15, x6, o102, u21, d11, e143.segment, e143.lineStartIndex, e143.lineStartIndex + e143.lineLength, c23, r62, m30, p18);
            if (!i69)
              return { notEnoughRoom: true };
            v6 = [i69];
          }
          for (const e144 of v6)
            t87.addDynamicAttributes(h13, e144.point, e144.angle);
          return {};
        }
        function xt(t88, e143, i68, o102, a83) {
          const s63 = ut(t88.add(t88.sub(e143)._unit()), a83).point, r62 = i68.sub(s63);
          return i68.add(r62._mult(o102 / r62.mag()));
        }
        function vt(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11, m30) {
          const _4 = a83 ? e143 - i68 : e143 + i68;
          let p18 = _4 > 0 ? 1 : -1, f22 = 0;
          a83 && (p18 *= -1, f22 = Math.PI), p18 < 0 && (f22 += Math.PI);
          let g15 = p18 > 0 ? l30 + n46 : l30 + n46 + 1, x6 = s63, v6 = s63, y10 = 0, b8 = 0;
          const w4 = Math.abs(_4), T3 = [];
          for (; y10 + b8 <= w4; ) {
            if (g15 += p18, g15 < l30 || g15 >= c23)
              return null;
            if (v6 = x6, T3.push(x6), x6 = d11[g15], void 0 === x6) {
              const e144 = new t87.pointGeometry(h13.getx(g15), h13.gety(g15)), i69 = ut(e144, u21);
              if (i69.signedDistanceFromCamera > 0)
                x6 = d11[g15] = i69.point;
              else {
                const i70 = g15 - p18;
                x6 = xt(0 === y10 ? r62 : new t87.pointGeometry(h13.getx(i70), h13.gety(i70)), e144, v6, w4 - y10 + 1, u21);
              }
            }
            y10 += b8, b8 = v6.dist(x6);
          }
          const E5 = (w4 - y10) / b8, I3 = x6.sub(v6), S2 = I3.mult(E5)._add(v6);
          S2._add(I3._unit()._perp()._mult(o102 * p18));
          const C8 = f22 + Math.atan2(x6.y - v6.y, x6.x - v6.x);
          return T3.push(S2), { point: S2, angle: m30 ? C8 : 0, path: T3 };
        }
        const yt = new Float32Array([-1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0]);
        function bt(t88, e143) {
          for (let i68 = 0; i68 < t88; i68++) {
            const t89 = e143.length;
            e143.resize(t89 + 4), e143.float32.set(yt, 3 * t89);
          }
        }
        function wt(t88, e143, i68) {
          const o102 = e143[0], a83 = e143[1];
          return t88[0] = i68[0] * o102 + i68[4] * a83 + i68[12], t88[1] = i68[1] * o102 + i68[5] * a83 + i68[13], t88[3] = i68[3] * o102 + i68[7] * a83 + i68[15], t88;
        }
        const Tt = 100;
        class Et {
          constructor(t88, e143 = new lt(t88.width + 200, t88.height + 200, 25), i68 = new lt(t88.width + 200, t88.height + 200, 25)) {
            this.transform = t88, this.grid = e143, this.ignoredGrid = i68, this.pitchfactor = Math.cos(t88._pitch) * t88.cameraToCenterDistance, this.screenRightBoundary = t88.width + Tt, this.screenBottomBoundary = t88.height + Tt, this.gridRightBoundary = t88.width + 200, this.gridBottomBoundary = t88.height + 200;
          }
          placeCollisionBox(t88, e143, i68, o102, a83) {
            const s63 = this.projectAndGetPerspectiveRatio(o102, t88.anchorPointX, t88.anchorPointY), r62 = i68 * s63.perspectiveRatio, n46 = t88.x1 * r62 + s63.point.x, l30 = t88.y1 * r62 + s63.point.y, c23 = t88.x2 * r62 + s63.point.x, h13 = t88.y2 * r62 + s63.point.y;
            return !this.isInsideGrid(n46, l30, c23, h13) || "always" !== e143 && this.grid.hitTest(n46, l30, c23, h13, e143, a83) ? { box: [], offscreen: false } : { box: [n46, l30, c23, h13], offscreen: this.isOffscreen(n46, l30, c23, h13) };
          }
          placeCollisionCircles(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11, m30) {
            const _4 = [], p18 = new t87.pointGeometry(i68.anchorX, i68.anchorY), f22 = ut(p18, r62), g15 = dt(this.transform.cameraToCenterDistance, f22.signedDistanceFromCamera), x6 = (h13 ? s63 / g15 : s63 * g15) / t87.ONE_EM, v6 = ut(p18, n46).point, y10 = pt(x6, a83, i68.lineOffsetX * x6, i68.lineOffsetY * x6, false, v6, p18, i68, o102, n46, {}, false);
            let b8 = false, w4 = false, T3 = true;
            if (y10) {
              const i69 = 0.5 * d11 * g15 + m30, o103 = new t87.pointGeometry(-100, -100), a84 = new t87.pointGeometry(this.screenRightBoundary, this.screenBottomBoundary), s64 = new rt(), r63 = y10.first, n47 = y10.last;
              let h14 = [];
              for (let t88 = r63.path.length - 1; t88 >= 1; t88--)
                h14.push(r63.path[t88]);
              for (let t88 = 1; t88 < n47.path.length; t88++)
                h14.push(n47.path[t88]);
              const p19 = 2.5 * i69;
              if (l30) {
                const t88 = h14.map((t89) => ut(t89, l30));
                h14 = t88.some((t89) => t89.signedDistanceFromCamera <= 0) ? [] : t88.map((t89) => t89.point);
              }
              let f23 = [];
              if (h14.length > 0) {
                const e144 = h14[0].clone(), i70 = h14[0].clone();
                for (let t88 = 1; t88 < h14.length; t88++)
                  e144.x = Math.min(e144.x, h14[t88].x), e144.y = Math.min(e144.y, h14[t88].y), i70.x = Math.max(i70.x, h14[t88].x), i70.y = Math.max(i70.y, h14[t88].y);
                f23 = e144.x >= o103.x && i70.x <= a84.x && e144.y >= o103.y && i70.y <= a84.y ? [h14] : i70.x < o103.x || e144.x > a84.x || i70.y < o103.y || e144.y > a84.y ? [] : t87.clipLine([h14], o103.x, o103.y, a84.x, a84.y);
              }
              for (const t88 of f23) {
                s64.reset(t88, 0.25 * i69);
                let o104 = 0;
                o104 = s64.length <= 0.5 * i69 ? 1 : Math.ceil(s64.paddedLength / p19) + 1;
                for (let t89 = 0; t89 < o104; t89++) {
                  const a85 = t89 / Math.max(o104 - 1, 1), r64 = s64.lerp(a85), n48 = r64.x + Tt, l31 = r64.y + Tt;
                  _4.push(n48, l31, i69, 0);
                  const h15 = n48 - i69, d12 = l31 - i69, m31 = n48 + i69, p20 = l31 + i69;
                  if (T3 = T3 && this.isOffscreen(h15, d12, m31, p20), w4 = w4 || this.isInsideGrid(h15, d12, m31, p20), "always" !== e143 && this.grid.hitTestCircle(n48, l31, i69, e143, u21) && (b8 = true, !c23))
                    return { circles: [], offscreen: false, collisionDetected: b8 };
                }
              }
            }
            return { circles: !c23 && b8 || !w4 ? [] : _4, offscreen: T3, collisionDetected: b8 };
          }
          queryRenderedSymbols(e143) {
            if (0 === e143.length || 0 === this.grid.keysLength() && 0 === this.ignoredGrid.keysLength())
              return {};
            const i68 = [];
            let o102 = 1 / 0, a83 = 1 / 0, s63 = -1 / 0, r62 = -1 / 0;
            for (const n47 of e143) {
              const e144 = new t87.pointGeometry(n47.x + Tt, n47.y + Tt);
              o102 = Math.min(o102, e144.x), a83 = Math.min(a83, e144.y), s63 = Math.max(s63, e144.x), r62 = Math.max(r62, e144.y), i68.push(e144);
            }
            const n46 = this.grid.query(o102, a83, s63, r62).concat(this.ignoredGrid.query(o102, a83, s63, r62)), l30 = {}, c23 = {};
            for (const e144 of n46) {
              const o103 = e144.key;
              if (void 0 === l30[o103.bucketInstanceId] && (l30[o103.bucketInstanceId] = {}), l30[o103.bucketInstanceId][o103.featureIndex])
                continue;
              const a84 = [new t87.pointGeometry(e144.x1, e144.y1), new t87.pointGeometry(e144.x2, e144.y1), new t87.pointGeometry(e144.x2, e144.y2), new t87.pointGeometry(e144.x1, e144.y2)];
              t87.polygonIntersectsPolygon(i68, a84) && (l30[o103.bucketInstanceId][o103.featureIndex] = true, void 0 === c23[o103.bucketInstanceId] && (c23[o103.bucketInstanceId] = []), c23[o103.bucketInstanceId].push(o103.featureIndex));
            }
            return c23;
          }
          insertCollisionBox(t88, e143, i68, o102, a83, s63) {
            (i68 ? this.ignoredGrid : this.grid).insert({ bucketInstanceId: o102, featureIndex: a83, collisionGroupID: s63, overlapMode: e143 }, t88[0], t88[1], t88[2], t88[3]);
          }
          insertCollisionCircles(t88, e143, i68, o102, a83, s63) {
            const r62 = i68 ? this.ignoredGrid : this.grid, n46 = { bucketInstanceId: o102, featureIndex: a83, collisionGroupID: s63, overlapMode: e143 };
            for (let e144 = 0; e144 < t88.length; e144 += 4)
              r62.insertCircle(n46, t88[e144], t88[e144 + 1], t88[e144 + 2]);
          }
          projectAndGetPerspectiveRatio(e143, i68, o102) {
            const a83 = [i68, o102, 0, 1];
            return wt(a83, a83, e143), { point: new t87.pointGeometry((a83[0] / a83[3] + 1) / 2 * this.transform.width + Tt, (-a83[1] / a83[3] + 1) / 2 * this.transform.height + Tt), perspectiveRatio: 0.5 + this.transform.cameraToCenterDistance / a83[3] * 0.5 };
          }
          isOffscreen(t88, e143, i68, o102) {
            return i68 < Tt || t88 >= this.screenRightBoundary || o102 < Tt || e143 > this.screenBottomBoundary;
          }
          isInsideGrid(t88, e143, i68, o102) {
            return i68 >= 0 && t88 < this.gridRightBoundary && o102 >= 0 && e143 < this.gridBottomBoundary;
          }
          getViewportMatrix() {
            const e143 = t87.identity([]);
            return t87.translate(e143, e143, [-100, -100, 0]), e143;
          }
        }
        function It(e143, i68, o102) {
          return i68 * (t87.EXTENT / (e143.tileSize * Math.pow(2, o102 - e143.tileID.overscaledZ)));
        }
        class St {
          constructor(t88, e143, i68, o102) {
            this.opacity = t88 ? Math.max(0, Math.min(1, t88.opacity + (t88.placed ? e143 : -e143))) : o102 && i68 ? 1 : 0, this.placed = i68;
          }
          isHidden() {
            return 0 === this.opacity && !this.placed;
          }
        }
        class Ct {
          constructor(t88, e143, i68, o102, a83) {
            this.text = new St(t88 ? t88.text : null, e143, i68, a83), this.icon = new St(t88 ? t88.icon : null, e143, o102, a83);
          }
          isHidden() {
            return this.text.isHidden() && this.icon.isHidden();
          }
        }
        class Pt {
          constructor(t88, e143, i68) {
            this.text = t88, this.icon = e143, this.skipFade = i68;
          }
        }
        class zt {
          constructor() {
            this.invProjMatrix = t87.create(), this.viewportMatrix = t87.create(), this.circles = [];
          }
        }
        class Dt {
          constructor(t88, e143, i68, o102, a83) {
            this.bucketInstanceId = t88, this.featureIndex = e143, this.sourceLayerIndex = i68, this.bucketIndex = o102, this.tileID = a83;
          }
        }
        class At {
          constructor(t88) {
            this.crossSourceCollisions = t88, this.maxGroupID = 0, this.collisionGroups = {};
          }
          get(t88) {
            if (this.crossSourceCollisions)
              return { ID: 0, predicate: null };
            if (!this.collisionGroups[t88]) {
              const e143 = ++this.maxGroupID;
              this.collisionGroups[t88] = { ID: e143, predicate: (t89) => t89.collisionGroupID === e143 };
            }
            return this.collisionGroups[t88];
          }
        }
        function Mt(e143, i68, o102, a83, s63) {
          const { horizontalAlign: r62, verticalAlign: n46 } = t87.getAnchorAlignment(e143), l30 = -(r62 - 0.5) * i68, c23 = -(n46 - 0.5) * o102, h13 = t87.evaluateVariableOffset(e143, a83);
          return new t87.pointGeometry(l30 + h13[0] * s63, c23 + h13[1] * s63);
        }
        function Lt(e143, i68, o102, a83, s63, r62) {
          const { x1: n46, x2: l30, y1: c23, y2: h13, anchorPointX: u21, anchorPointY: d11 } = e143, m30 = new t87.pointGeometry(i68, o102);
          return a83 && m30._rotate(s63 ? r62 : -r62), { x1: n46 + m30.x, y1: c23 + m30.y, x2: l30 + m30.x, y2: h13 + m30.y, anchorPointX: u21, anchorPointY: d11 };
        }
        class Rt {
          constructor(t88, e143, i68, o102) {
            this.transform = t88.clone(), this.collisionIndex = new Et(this.transform), this.placements = {}, this.opacities = {}, this.variableOffsets = {}, this.stale = false, this.commitTime = 0, this.fadeDuration = e143, this.retainedQueryData = {}, this.collisionGroups = new At(i68), this.collisionCircleArrays = {}, this.prevPlacement = o102, o102 && (o102.prevPlacement = void 0), this.placedOrientations = {};
          }
          getBucketParts(e143, i68, o102, a83) {
            const s63 = o102.getBucket(i68), r62 = o102.latestFeatureIndex;
            if (!s63 || !r62 || i68.id !== s63.layerIds[0])
              return;
            const n46 = o102.collisionBoxArray, l30 = s63.layers[0].layout, c23 = Math.pow(2, this.transform.zoom - o102.tileID.overscaledZ), h13 = o102.tileSize / t87.EXTENT, u21 = this.transform.calculatePosMatrix(o102.tileID.toUnwrapped()), d11 = "map" === l30.get("text-pitch-alignment"), m30 = "map" === l30.get("text-rotation-alignment"), _4 = It(o102, 1, this.transform.zoom), p18 = ct(u21, d11, m30, this.transform, _4);
            let f22 = null;
            if (d11) {
              const e144 = ht(u21, d11, m30, this.transform, _4);
              f22 = t87.multiply([], this.transform.labelPlaneMatrix, e144);
            }
            this.retainedQueryData[s63.bucketInstanceId] = new Dt(s63.bucketInstanceId, r62, s63.sourceLayerIndex, s63.index, o102.tileID);
            const g15 = { bucket: s63, layout: l30, posMatrix: u21, textLabelPlaneMatrix: p18, labelToScreenMatrix: f22, scale: c23, textPixelRatio: h13, holdingForFade: o102.holdingForFade(), collisionBoxArray: n46, partiallyEvaluatedTextSize: t87.evaluateSizeForZoom(s63.textSizeData, this.transform.zoom), collisionGroup: this.collisionGroups.get(s63.sourceID) };
            if (a83)
              for (const t88 of s63.sortKeyRanges) {
                const { sortKey: i69, symbolInstanceStart: o103, symbolInstanceEnd: a84 } = t88;
                e143.push({ sortKey: i69, symbolInstanceStart: o103, symbolInstanceEnd: a84, parameters: g15 });
              }
            else
              e143.push({ symbolInstanceStart: 0, symbolInstanceEnd: s63.symbolInstances.length, parameters: g15 });
          }
          attemptAnchorPlacement(t88, e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11, m30, _4) {
            const p18 = [u21.textOffset0, u21.textOffset1], f22 = Mt(t88, i68, o102, p18, a83), g15 = this.collisionIndex.placeCollisionBox(Lt(e143, f22.x, f22.y, s63, r62, this.transform.angle), h13, n46, l30, c23.predicate);
            if ((!_4 || 0 !== this.collisionIndex.placeCollisionBox(Lt(_4, f22.x, f22.y, s63, r62, this.transform.angle), h13, n46, l30, c23.predicate).box.length) && g15.box.length > 0) {
              let e144;
              return this.prevPlacement && this.prevPlacement.variableOffsets[u21.crossTileID] && this.prevPlacement.placements[u21.crossTileID] && this.prevPlacement.placements[u21.crossTileID].text && (e144 = this.prevPlacement.variableOffsets[u21.crossTileID].anchor), this.variableOffsets[u21.crossTileID] = { textOffset: p18, width: i68, height: o102, anchor: t88, textBoxScale: a83, prevAnchor: e144 }, this.markUsedJustification(d11, t88, u21, m30), d11.allowVerticalPlacement && (this.markUsedOrientation(d11, m30, u21), this.placedOrientations[u21.crossTileID] = m30), { shift: f22, placedGlyphBoxes: g15 };
            }
          }
          placeLayerBucketPart(e143, i68, o102) {
            const { bucket: a83, layout: s63, posMatrix: r62, textLabelPlaneMatrix: n46, labelToScreenMatrix: l30, textPixelRatio: c23, holdingForFade: h13, collisionBoxArray: u21, partiallyEvaluatedTextSize: d11, collisionGroup: m30 } = e143.parameters, _4 = s63.get("text-optional"), p18 = s63.get("icon-optional"), f22 = t87.getOverlapMode(s63, "text-overlap", "text-allow-overlap"), g15 = "always" === f22, x6 = t87.getOverlapMode(s63, "icon-overlap", "icon-allow-overlap"), v6 = "always" === x6, y10 = "map" === s63.get("text-rotation-alignment"), b8 = "map" === s63.get("text-pitch-alignment"), w4 = "none" !== s63.get("icon-text-fit"), T3 = "viewport-y" === s63.get("symbol-z-order"), E5 = g15 && (v6 || !a83.hasIconData() || p18), I3 = v6 && (g15 || !a83.hasTextData() || _4);
            !a83.collisionArrays && u21 && a83.deserializeCollisionBoxes(u21);
            const S2 = (e144, u22) => {
              if (i68[e144.crossTileID])
                return;
              if (h13)
                return void (this.placements[e144.crossTileID] = new Pt(false, false, false));
              let v7 = false, T4 = false, S3 = true, C8 = null, P3 = { box: null, offscreen: null }, z3 = { box: null, offscreen: null }, D4 = null, A4 = null, M5 = null, L2 = 0, R2 = 0, k7 = 0;
              u22.textFeatureIndex ? L2 = u22.textFeatureIndex : e144.useRuntimeCollisionCircles && (L2 = e144.featureIndex), u22.verticalTextFeatureIndex && (R2 = u22.verticalTextFeatureIndex);
              const B3 = u22.textBox;
              if (B3) {
                const i69 = (i70) => {
                  let o104 = t87.WritingMode.horizontal;
                  if (a83.allowVerticalPlacement && !i70 && this.prevPlacement) {
                    const t88 = this.prevPlacement.placedOrientations[e144.crossTileID];
                    t88 && (this.placedOrientations[e144.crossTileID] = t88, o104 = t88, this.markUsedOrientation(a83, o104, e144));
                  }
                  return o104;
                }, o103 = (i70, o104) => {
                  if (a83.allowVerticalPlacement && e144.numVerticalGlyphVertices > 0 && u22.verticalTextBox) {
                    for (const e145 of a83.writingModes)
                      if (e145 === t87.WritingMode.vertical ? (P3 = o104(), z3 = P3) : P3 = i70(), P3 && P3.box && P3.box.length)
                        break;
                  } else
                    P3 = i70();
                };
                if (s63.get("text-variable-anchor")) {
                  let n47 = s63.get("text-variable-anchor");
                  if (this.prevPlacement && this.prevPlacement.variableOffsets[e144.crossTileID]) {
                    const t88 = this.prevPlacement.variableOffsets[e144.crossTileID];
                    n47.indexOf(t88.anchor) > 0 && (n47 = n47.filter((e145) => e145 !== t88.anchor), n47.unshift(t88.anchor));
                  }
                  const l31 = (t88, i70, o104) => {
                    const s64 = t88.x2 - t88.x1, l32 = t88.y2 - t88.y1, h15 = e144.textBoxScale, u23 = w4 && "never" === x6 ? i70 : null;
                    let d12 = { box: [], offscreen: false };
                    const _5 = "never" !== f22 ? 2 * n47.length : n47.length;
                    for (let i71 = 0; i71 < _5; ++i71) {
                      const _6 = this.attemptAnchorPlacement(n47[i71 % n47.length], t88, s64, l32, h15, y10, b8, c23, r62, m30, i71 >= n47.length ? f22 : "never", e144, a83, o104, u23);
                      if (_6 && (d12 = _6.placedGlyphBoxes, d12 && d12.box && d12.box.length)) {
                        v7 = true, C8 = _6.shift;
                        break;
                      }
                    }
                    return d12;
                  };
                  o103(() => l31(B3, u22.iconBox, t87.WritingMode.horizontal), () => {
                    const i70 = u22.verticalTextBox;
                    return a83.allowVerticalPlacement && !(P3 && P3.box && P3.box.length) && e144.numVerticalGlyphVertices > 0 && i70 ? l31(i70, u22.verticalIconBox, t87.WritingMode.vertical) : { box: null, offscreen: null };
                  }), P3 && (v7 = P3.box, S3 = P3.offscreen);
                  const h14 = i69(P3 && P3.box);
                  if (!v7 && this.prevPlacement) {
                    const t88 = this.prevPlacement.variableOffsets[e144.crossTileID];
                    t88 && (this.variableOffsets[e144.crossTileID] = t88, this.markUsedJustification(a83, t88.anchor, e144, h14));
                  }
                } else {
                  const s64 = (t88, i70) => {
                    const o104 = this.collisionIndex.placeCollisionBox(t88, f22, c23, r62, m30.predicate);
                    return o104 && o104.box && o104.box.length && (this.markUsedOrientation(a83, i70, e144), this.placedOrientations[e144.crossTileID] = i70), o104;
                  };
                  o103(() => s64(B3, t87.WritingMode.horizontal), () => {
                    const i70 = u22.verticalTextBox;
                    return a83.allowVerticalPlacement && e144.numVerticalGlyphVertices > 0 && i70 ? s64(i70, t87.WritingMode.vertical) : { box: null, offscreen: null };
                  }), i69(P3 && P3.box && P3.box.length);
                }
              }
              if (D4 = P3, v7 = D4 && D4.box && D4.box.length > 0, S3 = D4 && D4.offscreen, e144.useRuntimeCollisionCircles) {
                const i69 = a83.text.placedSymbolArray.get(e144.centerJustifiedTextSymbolIndex), c24 = t87.evaluateSizeForFeature(a83.textSizeData, d11, i69), h14 = s63.get("text-padding");
                A4 = this.collisionIndex.placeCollisionCircles(f22, i69, a83.lineVertexArray, a83.glyphOffsetArray, c24, r62, n46, l30, o102, b8, m30.predicate, e144.collisionCircleDiameter, h14), v7 = g15 || A4.circles.length > 0 && !A4.collisionDetected, S3 = S3 && A4.offscreen;
              }
              if (u22.iconFeatureIndex && (k7 = u22.iconFeatureIndex), u22.iconBox) {
                const t88 = (t89) => {
                  const e145 = w4 && C8 ? Lt(t89, C8.x, C8.y, y10, b8, this.transform.angle) : t89;
                  return this.collisionIndex.placeCollisionBox(e145, x6, c23, r62, m30.predicate);
                };
                z3 && z3.box && z3.box.length && u22.verticalIconBox ? (M5 = t88(u22.verticalIconBox), T4 = M5.box.length > 0) : (M5 = t88(u22.iconBox), T4 = M5.box.length > 0), S3 = S3 && M5.offscreen;
              }
              const F5 = _4 || 0 === e144.numHorizontalGlyphVertices && 0 === e144.numVerticalGlyphVertices, O3 = p18 || 0 === e144.numIconVertices;
              if (F5 || O3 ? O3 ? F5 || (T4 = T4 && v7) : v7 = T4 && v7 : T4 = v7 = T4 && v7, v7 && D4 && D4.box && this.collisionIndex.insertCollisionBox(D4.box, f22, s63.get("text-ignore-placement"), a83.bucketInstanceId, z3 && z3.box && R2 ? R2 : L2, m30.ID), T4 && M5 && this.collisionIndex.insertCollisionBox(M5.box, x6, s63.get("icon-ignore-placement"), a83.bucketInstanceId, k7, m30.ID), A4 && (v7 && this.collisionIndex.insertCollisionCircles(A4.circles, f22, s63.get("text-ignore-placement"), a83.bucketInstanceId, L2, m30.ID), o102)) {
                const t88 = a83.bucketInstanceId;
                let e145 = this.collisionCircleArrays[t88];
                void 0 === e145 && (e145 = this.collisionCircleArrays[t88] = new zt());
                for (let t89 = 0; t89 < A4.circles.length; t89 += 4)
                  e145.circles.push(A4.circles[t89 + 0]), e145.circles.push(A4.circles[t89 + 1]), e145.circles.push(A4.circles[t89 + 2]), e145.circles.push(A4.collisionDetected ? 1 : 0);
              }
              this.placements[e144.crossTileID] = new Pt(v7 || E5, T4 || I3, S3 || a83.justReloaded), i68[e144.crossTileID] = true;
            };
            if (T3) {
              const t88 = a83.getSortedSymbolIndexes(this.transform.angle);
              for (let e144 = t88.length - 1; e144 >= 0; --e144) {
                const i69 = t88[e144];
                S2(a83.symbolInstances.get(i69), a83.collisionArrays[i69]);
              }
            } else
              for (let t88 = e143.symbolInstanceStart; t88 < e143.symbolInstanceEnd; t88++)
                S2(a83.symbolInstances.get(t88), a83.collisionArrays[t88]);
            if (o102 && a83.bucketInstanceId in this.collisionCircleArrays) {
              const e144 = this.collisionCircleArrays[a83.bucketInstanceId];
              t87.invert(e144.invProjMatrix, r62), e144.viewportMatrix = this.collisionIndex.getViewportMatrix();
            }
            a83.justReloaded = false;
          }
          markUsedJustification(e143, i68, o102, a83) {
            let s63;
            s63 = a83 === t87.WritingMode.vertical ? o102.verticalPlacedTextSymbolIndex : { left: o102.leftJustifiedTextSymbolIndex, center: o102.centerJustifiedTextSymbolIndex, right: o102.rightJustifiedTextSymbolIndex }[t87.getAnchorJustification(i68)];
            const r62 = [o102.leftJustifiedTextSymbolIndex, o102.centerJustifiedTextSymbolIndex, o102.rightJustifiedTextSymbolIndex, o102.verticalPlacedTextSymbolIndex];
            for (const t88 of r62)
              t88 >= 0 && (e143.text.placedSymbolArray.get(t88).crossTileID = s63 >= 0 && t88 !== s63 ? 0 : o102.crossTileID);
          }
          markUsedOrientation(e143, i68, o102) {
            const a83 = i68 === t87.WritingMode.horizontal || i68 === t87.WritingMode.horizontalOnly ? i68 : 0, s63 = i68 === t87.WritingMode.vertical ? i68 : 0, r62 = [o102.leftJustifiedTextSymbolIndex, o102.centerJustifiedTextSymbolIndex, o102.rightJustifiedTextSymbolIndex];
            for (const t88 of r62)
              e143.text.placedSymbolArray.get(t88).placedOrientation = a83;
            o102.verticalPlacedTextSymbolIndex && (e143.text.placedSymbolArray.get(o102.verticalPlacedTextSymbolIndex).placedOrientation = s63);
          }
          commit(t88) {
            this.commitTime = t88, this.zoomAtLastRecencyCheck = this.transform.zoom;
            const e143 = this.prevPlacement;
            let i68 = false;
            this.prevZoomAdjustment = e143 ? e143.zoomAdjustment(this.transform.zoom) : 0;
            const o102 = e143 ? e143.symbolFadeChange(t88) : 1, a83 = e143 ? e143.opacities : {}, s63 = e143 ? e143.variableOffsets : {}, r62 = e143 ? e143.placedOrientations : {};
            for (const t89 in this.placements) {
              const e144 = this.placements[t89], s64 = a83[t89];
              s64 ? (this.opacities[t89] = new Ct(s64, o102, e144.text, e144.icon), i68 = i68 || e144.text !== s64.text.placed || e144.icon !== s64.icon.placed) : (this.opacities[t89] = new Ct(null, o102, e144.text, e144.icon, e144.skipFade), i68 = i68 || e144.text || e144.icon);
            }
            for (const t89 in a83) {
              const e144 = a83[t89];
              if (!this.opacities[t89]) {
                const a84 = new Ct(e144, o102, false, false);
                a84.isHidden() || (this.opacities[t89] = a84, i68 = i68 || e144.text.placed || e144.icon.placed);
              }
            }
            for (const t89 in s63)
              this.variableOffsets[t89] || !this.opacities[t89] || this.opacities[t89].isHidden() || (this.variableOffsets[t89] = s63[t89]);
            for (const t89 in r62)
              this.placedOrientations[t89] || !this.opacities[t89] || this.opacities[t89].isHidden() || (this.placedOrientations[t89] = r62[t89]);
            i68 ? this.lastPlacementChangeTime = t88 : "number" != typeof this.lastPlacementChangeTime && (this.lastPlacementChangeTime = e143 ? e143.lastPlacementChangeTime : t88);
          }
          updateLayerOpacities(t88, e143) {
            const i68 = {};
            for (const o102 of e143) {
              const e144 = o102.getBucket(t88);
              e144 && o102.latestFeatureIndex && t88.id === e144.layerIds[0] && this.updateBucketOpacities(e144, i68, o102.collisionBoxArray);
            }
          }
          updateBucketOpacities(e143, i68, o102) {
            e143.hasTextData() && e143.text.opacityVertexArray.clear(), e143.hasIconData() && e143.icon.opacityVertexArray.clear(), e143.hasIconCollisionBoxData() && e143.iconCollisionBox.collisionVertexArray.clear(), e143.hasTextCollisionBoxData() && e143.textCollisionBox.collisionVertexArray.clear();
            const a83 = e143.layers[0].layout, s63 = new Ct(null, 0, false, false, true), r62 = a83.get("text-allow-overlap"), n46 = a83.get("icon-allow-overlap"), l30 = a83.get("text-variable-anchor"), c23 = "map" === a83.get("text-rotation-alignment"), h13 = "map" === a83.get("text-pitch-alignment"), u21 = "none" !== a83.get("icon-text-fit"), d11 = new Ct(null, 0, r62 && (n46 || !e143.hasIconData() || a83.get("icon-optional")), n46 && (r62 || !e143.hasTextData() || a83.get("text-optional")), true);
            !e143.collisionArrays && o102 && (e143.hasIconCollisionBoxData() || e143.hasTextCollisionBoxData()) && e143.deserializeCollisionBoxes(o102);
            const m30 = (t88, e144, i69) => {
              for (let o103 = 0; o103 < e144 / 4; o103++)
                t88.opacityVertexArray.emplaceBack(i69);
            };
            for (let o103 = 0; o103 < e143.symbolInstances.length; o103++) {
              const a84 = e143.symbolInstances.get(o103), { numHorizontalGlyphVertices: r63, numVerticalGlyphVertices: n47, crossTileID: _4 } = a84;
              let p18 = this.opacities[_4];
              i68[_4] ? p18 = s63 : p18 || (p18 = d11, this.opacities[_4] = p18), i68[_4] = true;
              const f22 = a84.numIconVertices > 0, g15 = this.placedOrientations[a84.crossTileID], x6 = g15 === t87.WritingMode.vertical, v6 = g15 === t87.WritingMode.horizontal || g15 === t87.WritingMode.horizontalOnly;
              if (r63 > 0 || n47 > 0) {
                const t88 = qt(p18.text);
                m30(e143.text, r63, x6 ? Vt : t88), m30(e143.text, n47, v6 ? Vt : t88);
                const i69 = p18.text.isHidden();
                [a84.rightJustifiedTextSymbolIndex, a84.centerJustifiedTextSymbolIndex, a84.leftJustifiedTextSymbolIndex].forEach((t89) => {
                  t89 >= 0 && (e143.text.placedSymbolArray.get(t89).hidden = i69 || x6 ? 1 : 0);
                }), a84.verticalPlacedTextSymbolIndex >= 0 && (e143.text.placedSymbolArray.get(a84.verticalPlacedTextSymbolIndex).hidden = i69 || v6 ? 1 : 0);
                const o104 = this.variableOffsets[a84.crossTileID];
                o104 && this.markUsedJustification(e143, o104.anchor, a84, g15);
                const s64 = this.placedOrientations[a84.crossTileID];
                s64 && (this.markUsedJustification(e143, "left", a84, s64), this.markUsedOrientation(e143, s64, a84));
              }
              if (f22) {
                const t88 = qt(p18.icon), i69 = !(u21 && a84.verticalPlacedIconSymbolIndex && x6);
                a84.placedIconSymbolIndex >= 0 && (m30(e143.icon, a84.numIconVertices, i69 ? t88 : Vt), e143.icon.placedSymbolArray.get(a84.placedIconSymbolIndex).hidden = p18.icon.isHidden()), a84.verticalPlacedIconSymbolIndex >= 0 && (m30(e143.icon, a84.numVerticalIconVertices, i69 ? Vt : t88), e143.icon.placedSymbolArray.get(a84.verticalPlacedIconSymbolIndex).hidden = p18.icon.isHidden());
              }
              if (e143.hasIconCollisionBoxData() || e143.hasTextCollisionBoxData()) {
                const i69 = e143.collisionArrays[o103];
                if (i69) {
                  let o104 = new t87.pointGeometry(0, 0);
                  if (i69.textBox || i69.verticalTextBox) {
                    let t88 = true;
                    if (l30) {
                      const e144 = this.variableOffsets[_4];
                      e144 ? (o104 = Mt(e144.anchor, e144.width, e144.height, e144.textOffset, e144.textBoxScale), c23 && o104._rotate(h13 ? this.transform.angle : -this.transform.angle)) : t88 = false;
                    }
                    i69.textBox && kt(e143.textCollisionBox.collisionVertexArray, p18.text.placed, !t88 || x6, o104.x, o104.y), i69.verticalTextBox && kt(e143.textCollisionBox.collisionVertexArray, p18.text.placed, !t88 || v6, o104.x, o104.y);
                  }
                  const a85 = Boolean(!v6 && i69.verticalIconBox);
                  i69.iconBox && kt(e143.iconCollisionBox.collisionVertexArray, p18.icon.placed, a85, u21 ? o104.x : 0, u21 ? o104.y : 0), i69.verticalIconBox && kt(e143.iconCollisionBox.collisionVertexArray, p18.icon.placed, !a85, u21 ? o104.x : 0, u21 ? o104.y : 0);
                }
              }
            }
            if (e143.sortFeatures(this.transform.angle), this.retainedQueryData[e143.bucketInstanceId] && (this.retainedQueryData[e143.bucketInstanceId].featureSortOrder = e143.featureSortOrder), e143.hasTextData() && e143.text.opacityVertexBuffer && e143.text.opacityVertexBuffer.updateData(e143.text.opacityVertexArray), e143.hasIconData() && e143.icon.opacityVertexBuffer && e143.icon.opacityVertexBuffer.updateData(e143.icon.opacityVertexArray), e143.hasIconCollisionBoxData() && e143.iconCollisionBox.collisionVertexBuffer && e143.iconCollisionBox.collisionVertexBuffer.updateData(e143.iconCollisionBox.collisionVertexArray), e143.hasTextCollisionBoxData() && e143.textCollisionBox.collisionVertexBuffer && e143.textCollisionBox.collisionVertexBuffer.updateData(e143.textCollisionBox.collisionVertexArray), e143.bucketInstanceId in this.collisionCircleArrays) {
              const t88 = this.collisionCircleArrays[e143.bucketInstanceId];
              e143.placementInvProjMatrix = t88.invProjMatrix, e143.placementViewportMatrix = t88.viewportMatrix, e143.collisionCircleArray = t88.circles, delete this.collisionCircleArrays[e143.bucketInstanceId];
            }
          }
          symbolFadeChange(t88) {
            return 0 === this.fadeDuration ? 1 : (t88 - this.commitTime) / this.fadeDuration + this.prevZoomAdjustment;
          }
          zoomAdjustment(t88) {
            return Math.max(0, (this.transform.zoom - t88) / 1.5);
          }
          hasTransitions(t88) {
            return this.stale || t88 - this.lastPlacementChangeTime < this.fadeDuration;
          }
          stillRecent(t88, e143) {
            const i68 = this.zoomAtLastRecencyCheck === e143 ? 1 - this.zoomAdjustment(e143) : 1;
            return this.zoomAtLastRecencyCheck = e143, this.commitTime + this.fadeDuration * i68 > t88;
          }
          setStale() {
            this.stale = true;
          }
        }
        function kt(t88, e143, i68, o102, a83) {
          t88.emplaceBack(e143 ? 1 : 0, i68 ? 1 : 0, o102 || 0, a83 || 0), t88.emplaceBack(e143 ? 1 : 0, i68 ? 1 : 0, o102 || 0, a83 || 0), t88.emplaceBack(e143 ? 1 : 0, i68 ? 1 : 0, o102 || 0, a83 || 0), t88.emplaceBack(e143 ? 1 : 0, i68 ? 1 : 0, o102 || 0, a83 || 0);
        }
        const Bt = Math.pow(2, 25), Ft = Math.pow(2, 24), Ot = Math.pow(2, 17), Ut = Math.pow(2, 16), Nt = Math.pow(2, 9), Gt = Math.pow(2, 8), Zt = Math.pow(2, 1);
        function qt(t88) {
          if (0 === t88.opacity && !t88.placed)
            return 0;
          if (1 === t88.opacity && t88.placed)
            return 4294967295;
          const e143 = t88.placed ? 1 : 0, i68 = Math.floor(127 * t88.opacity);
          return i68 * Bt + e143 * Ft + i68 * Ot + e143 * Ut + i68 * Nt + e143 * Gt + i68 * Zt + e143;
        }
        const Vt = 0;
        class jt {
          constructor(t88) {
            this._sortAcrossTiles = "viewport-y" !== t88.layout.get("symbol-z-order") && !t88.layout.get("symbol-sort-key").isConstant(), this._currentTileIndex = 0, this._currentPartIndex = 0, this._seenCrossTileIDs = {}, this._bucketParts = [];
          }
          continuePlacement(t88, e143, i68, o102, a83) {
            const s63 = this._bucketParts;
            for (; this._currentTileIndex < t88.length; )
              if (e143.getBucketParts(s63, o102, t88[this._currentTileIndex], this._sortAcrossTiles), this._currentTileIndex++, a83())
                return true;
            for (this._sortAcrossTiles && (this._sortAcrossTiles = false, s63.sort((t89, e144) => t89.sortKey - e144.sortKey)); this._currentPartIndex < s63.length; )
              if (e143.placeLayerBucketPart(s63[this._currentPartIndex], this._seenCrossTileIDs, i68), this._currentPartIndex++, a83())
                return true;
            return false;
          }
        }
        class $t {
          constructor(t88, e143, i68, o102, a83, s63, r62) {
            this.placement = new Rt(t88, a83, s63, r62), this._currentPlacementIndex = e143.length - 1, this._forceFullPlacement = i68, this._showCollisionBoxes = o102, this._done = false;
          }
          isDone() {
            return this._done;
          }
          continuePlacement(e143, i68, o102) {
            const a83 = t87.exported.now(), s63 = () => {
              const e144 = t87.exported.now() - a83;
              return !this._forceFullPlacement && e144 > 2;
            };
            for (; this._currentPlacementIndex >= 0; ) {
              const t88 = i68[e143[this._currentPlacementIndex]], a84 = this.placement.collisionIndex.transform.zoom;
              if ("symbol" === t88.type && (!t88.minzoom || t88.minzoom <= a84) && (!t88.maxzoom || t88.maxzoom > a84)) {
                if (this._inProgressLayer || (this._inProgressLayer = new jt(t88)), this._inProgressLayer.continuePlacement(o102[t88.source], this.placement, this._showCollisionBoxes, t88, s63))
                  return;
                delete this._inProgressLayer;
              }
              this._currentPlacementIndex--;
            }
            this._done = true;
          }
          commit(t88) {
            return this.placement.commit(t88), this.placement;
          }
        }
        const Wt = 512 / t87.EXTENT / 2;
        class Xt {
          constructor(t88, e143, i68) {
            this.tileID = t88, this.indexedSymbolInstances = {}, this.bucketInstanceId = i68;
            for (let i69 = 0; i69 < e143.length; i69++) {
              const o102 = e143.get(i69), a83 = o102.key;
              this.indexedSymbolInstances[a83] || (this.indexedSymbolInstances[a83] = []), this.indexedSymbolInstances[a83].push({ crossTileID: o102.crossTileID, coord: this.getScaledCoordinates(o102, t88) });
            }
          }
          getScaledCoordinates(e143, i68) {
            const o102 = Wt / Math.pow(2, i68.canonical.z - this.tileID.canonical.z);
            return { x: Math.floor((i68.canonical.x * t87.EXTENT + e143.anchorX) * o102), y: Math.floor((i68.canonical.y * t87.EXTENT + e143.anchorY) * o102) };
          }
          findMatches(t88, e143, i68) {
            const o102 = this.tileID.canonical.z < e143.canonical.z ? 1 : Math.pow(2, this.tileID.canonical.z - e143.canonical.z);
            for (let a83 = 0; a83 < t88.length; a83++) {
              const s63 = t88.get(a83);
              if (s63.crossTileID)
                continue;
              const r62 = this.indexedSymbolInstances[s63.key];
              if (!r62)
                continue;
              const n46 = this.getScaledCoordinates(s63, e143);
              for (const t89 of r62)
                if (Math.abs(t89.coord.x - n46.x) <= o102 && Math.abs(t89.coord.y - n46.y) <= o102 && !i68[t89.crossTileID]) {
                  i68[t89.crossTileID] = true, s63.crossTileID = t89.crossTileID;
                  break;
                }
            }
          }
        }
        class Ht {
          constructor() {
            this.maxCrossTileID = 0;
          }
          generate() {
            return ++this.maxCrossTileID;
          }
        }
        class Kt {
          constructor() {
            this.indexes = {}, this.usedCrossTileIDs = {}, this.lng = 0;
          }
          handleWrapJump(t88) {
            const e143 = Math.round((t88 - this.lng) / 360);
            if (0 !== e143)
              for (const t89 in this.indexes) {
                const i68 = this.indexes[t89], o102 = {};
                for (const t90 in i68) {
                  const a83 = i68[t90];
                  a83.tileID = a83.tileID.unwrapTo(a83.tileID.wrap + e143), o102[a83.tileID.key] = a83;
                }
                this.indexes[t89] = o102;
              }
            this.lng = t88;
          }
          addBucket(t88, e143, i68) {
            if (this.indexes[t88.overscaledZ] && this.indexes[t88.overscaledZ][t88.key]) {
              if (this.indexes[t88.overscaledZ][t88.key].bucketInstanceId === e143.bucketInstanceId)
                return false;
              this.removeBucketCrossTileIDs(t88.overscaledZ, this.indexes[t88.overscaledZ][t88.key]);
            }
            for (let t89 = 0; t89 < e143.symbolInstances.length; t89++)
              e143.symbolInstances.get(t89).crossTileID = 0;
            this.usedCrossTileIDs[t88.overscaledZ] || (this.usedCrossTileIDs[t88.overscaledZ] = {});
            const o102 = this.usedCrossTileIDs[t88.overscaledZ];
            for (const i69 in this.indexes) {
              const a83 = this.indexes[i69];
              if (Number(i69) > t88.overscaledZ)
                for (const i70 in a83) {
                  const s63 = a83[i70];
                  s63.tileID.isChildOf(t88) && s63.findMatches(e143.symbolInstances, t88, o102);
                }
              else {
                const s63 = a83[t88.scaledTo(Number(i69)).key];
                s63 && s63.findMatches(e143.symbolInstances, t88, o102);
              }
            }
            for (let t89 = 0; t89 < e143.symbolInstances.length; t89++) {
              const a83 = e143.symbolInstances.get(t89);
              a83.crossTileID || (a83.crossTileID = i68.generate(), o102[a83.crossTileID] = true);
            }
            return void 0 === this.indexes[t88.overscaledZ] && (this.indexes[t88.overscaledZ] = {}), this.indexes[t88.overscaledZ][t88.key] = new Xt(t88, e143.symbolInstances, e143.bucketInstanceId), true;
          }
          removeBucketCrossTileIDs(t88, e143) {
            for (const i68 in e143.indexedSymbolInstances)
              for (const o102 of e143.indexedSymbolInstances[i68])
                delete this.usedCrossTileIDs[t88][o102.crossTileID];
          }
          removeStaleBuckets(t88) {
            let e143 = false;
            for (const i68 in this.indexes) {
              const o102 = this.indexes[i68];
              for (const a83 in o102)
                t88[o102[a83].bucketInstanceId] || (this.removeBucketCrossTileIDs(i68, o102[a83]), delete o102[a83], e143 = true);
            }
            return e143;
          }
        }
        class Yt {
          constructor() {
            this.layerIndexes = {}, this.crossTileIDs = new Ht(), this.maxBucketInstanceId = 0, this.bucketsInCurrentPlacement = {};
          }
          addLayer(t88, e143, i68) {
            let o102 = this.layerIndexes[t88.id];
            void 0 === o102 && (o102 = this.layerIndexes[t88.id] = new Kt());
            let a83 = false;
            const s63 = {};
            o102.handleWrapJump(i68);
            for (const i69 of e143) {
              const e144 = i69.getBucket(t88);
              e144 && t88.id === e144.layerIds[0] && (e144.bucketInstanceId || (e144.bucketInstanceId = ++this.maxBucketInstanceId), o102.addBucket(i69.tileID, e144, this.crossTileIDs) && (a83 = true), s63[e144.bucketInstanceId] = true);
            }
            return o102.removeStaleBuckets(s63) && (a83 = true), a83;
          }
          pruneUnusedLayers(t88) {
            const e143 = {};
            t88.forEach((t89) => {
              e143[t89] = true;
            });
            for (const t89 in this.layerIndexes)
              e143[t89] || delete this.layerIndexes[t89];
          }
        }
        const Jt = (e143, i68) => t87.emitValidationErrors(e143, i68 && i68.filter((t88) => "source.canvas" !== t88.identifier)), Qt = t87.pick(J, ["addLayer", "removeLayer", "setPaintProperty", "setLayoutProperty", "setFilter", "addSource", "removeSource", "setLayerZoomRange", "setLight", "setTransition", "setGeoJSONSourceData"]), te = t87.pick(J, ["setCenter", "setZoom", "setBearing", "setPitch"]), ee = function() {
          const e143 = {}, i68 = t87.spec.$version;
          for (const o102 in t87.spec.$root) {
            const a83 = t87.spec.$root[o102];
            if (a83.required) {
              let t88 = null;
              t88 = "version" === o102 ? i68 : "array" === a83.type ? [] : {}, null != t88 && (e143[o102] = t88);
            }
          }
          return e143;
        }();
        class ie extends t87.Evented {
          constructor(e143, i68 = {}) {
            super(), this.map = e143, this.dispatcher = new T2(H(), this), this.imageManager = new _3(), this.imageManager.setEventedParent(this), this.glyphManager = new x5(e143._requestManager, i68.localIdeographFontFamily), this.lineAtlas = new w3(256, 512), this.crossTileSymbolIndex = new Yt(), this._layers = {}, this._serializedLayers = {}, this._order = [], this.sourceCaches = {}, this.zoomHistory = new t87.ZoomHistory(), this._loaded = false, this._availableImages = [], this._resetUpdates(), this.dispatcher.broadcast("setReferrer", t87.getReferrer());
            const o102 = this;
            this._rtlTextPluginCallback = ie.registerForPluginStateChange((e144) => {
              o102.dispatcher.broadcast("syncRTLPluginState", { pluginStatus: e144.pluginStatus, pluginURL: e144.pluginURL }, (e145, i69) => {
                if (t87.triggerPluginCompletionEvent(e145), i69 && i69.every((t88) => t88))
                  for (const t88 in o102.sourceCaches)
                    o102.sourceCaches[t88].reload();
              });
            }), this.on("data", (t88) => {
              if ("source" !== t88.dataType || "metadata" !== t88.sourceDataType)
                return;
              const e144 = this.sourceCaches[t88.sourceId];
              if (!e144)
                return;
              const i69 = e144.getSource();
              if (i69 && i69.vectorLayerIds)
                for (const t89 in this._layers) {
                  const e145 = this._layers[t89];
                  e145.source === i69.id && this._validateLayer(e145);
                }
            });
          }
          loadURL(e143, i68 = {}) {
            this.fire(new t87.Event("dataloading", { dataType: "style" }));
            const o102 = "boolean" != typeof i68.validate || i68.validate, a83 = this.map._requestManager.transformRequest(e143, t87.ResourceType.Style);
            this._request = t87.getJSON(a83, (e144, i69) => {
              this._request = null, e144 ? this.fire(new t87.ErrorEvent(e144)) : i69 && this._load(i69, o102);
            });
          }
          loadJSON(e143, i68 = {}) {
            this.fire(new t87.Event("dataloading", { dataType: "style" })), this._request = t87.exported.frame(() => {
              this._request = null, this._load(e143, false !== i68.validate);
            });
          }
          loadEmpty() {
            this.fire(new t87.Event("dataloading", { dataType: "style" })), this._load(ee, false);
          }
          _load(e143, i68) {
            if (i68 && Jt(this, t87.validateStyle(e143)))
              return;
            this._loaded = true, this.stylesheet = e143;
            for (const t88 in e143.sources)
              this.addSource(t88, e143.sources[t88], { validate: false });
            e143.sprite ? this._loadSprite(e143.sprite) : this.imageManager.setLoaded(true), this.glyphManager.setURL(e143.glyphs);
            const o102 = Y(this.stylesheet.layers);
            this._order = o102.map((t88) => t88.id), this._layers = {}, this._serializedLayers = {};
            for (let e144 of o102)
              e144 = t87.createStyleLayer(e144), e144.setEventedParent(this, { layer: { id: e144.id } }), this._layers[e144.id] = e144, this._serializedLayers[e144.id] = e144.serialize();
            this.dispatcher.broadcast("setLayers", this._serializeLayers(this._order)), this.light = new b7(this.stylesheet.light), this.fire(new t87.Event("data", { dataType: "style" })), this.fire(new t87.Event("style.load"));
          }
          _loadSprite(e143) {
            this._spriteRequest = function(e144, i68, o102, a83) {
              let s63, r62, n46;
              const l30 = o102 > 1 ? "@2x" : "";
              let c23 = t87.getJSON(i68.transformRequest(i68.normalizeSpriteURL(e144, l30, ".json"), t87.ResourceType.SpriteJSON), (t88, e145) => {
                c23 = null, n46 || (n46 = t88, s63 = e145, u21());
              }), h13 = t87.getImage(i68.transformRequest(i68.normalizeSpriteURL(e144, l30, ".png"), t87.ResourceType.SpriteImage), (t88, e145) => {
                h13 = null, n46 || (n46 = t88, r62 = e145, u21());
              });
              function u21() {
                if (n46)
                  a83(n46);
                else if (s63 && r62) {
                  const e145 = t87.exported.getImageData(r62), i69 = {};
                  for (const o103 in s63) {
                    const { width: a84, height: r63, x: n47, y: l31, sdf: c24, pixelRatio: h14, stretchX: u22, stretchY: d11, content: m30 } = s63[o103], _4 = new t87.RGBAImage({ width: a84, height: r63 });
                    t87.RGBAImage.copy(e145, _4, { x: n47, y: l31 }, { x: 0, y: 0 }, { width: a84, height: r63 }), i69[o103] = { data: _4, pixelRatio: h14, sdf: c24, stretchX: u22, stretchY: d11, content: m30 };
                  }
                  a83(null, i69);
                }
              }
              return { cancel() {
                c23 && (c23.cancel(), c23 = null), h13 && (h13.cancel(), h13 = null);
              } };
            }(e143, this.map._requestManager, this.map.getPixelRatio(), (e144, i68) => {
              if (this._spriteRequest = null, e144)
                this.fire(new t87.ErrorEvent(e144));
              else if (i68)
                for (const t88 in i68)
                  this.imageManager.addImage(t88, i68[t88]);
              this.imageManager.setLoaded(true), this._availableImages = this.imageManager.listImages(), this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new t87.Event("data", { dataType: "style" }));
            });
          }
          _validateLayer(e143) {
            const i68 = this.sourceCaches[e143.source];
            if (!i68)
              return;
            const o102 = e143.sourceLayer;
            if (!o102)
              return;
            const a83 = i68.getSource();
            ("geojson" === a83.type || a83.vectorLayerIds && -1 === a83.vectorLayerIds.indexOf(o102)) && this.fire(new t87.ErrorEvent(new Error(`Source layer "${o102}" does not exist on source "${a83.id}" as specified by style layer "${e143.id}".`)));
          }
          loaded() {
            if (!this._loaded)
              return false;
            if (Object.keys(this._updatedSources).length)
              return false;
            for (const t88 in this.sourceCaches)
              if (!this.sourceCaches[t88].loaded())
                return false;
            return !!this.imageManager.isLoaded();
          }
          _serializeLayers(t88) {
            const e143 = [];
            for (const i68 of t88) {
              const t89 = this._layers[i68];
              "custom" !== t89.type && e143.push(t89.serialize());
            }
            return e143;
          }
          hasTransitions() {
            if (this.light && this.light.hasTransition())
              return true;
            for (const t88 in this.sourceCaches)
              if (this.sourceCaches[t88].hasTransition())
                return true;
            for (const t88 in this._layers)
              if (this._layers[t88].hasTransition())
                return true;
            return false;
          }
          _checkLoaded() {
            if (!this._loaded)
              throw new Error("Style is not done loading.");
          }
          update(e143) {
            if (!this._loaded)
              return;
            const i68 = this._changed;
            if (this._changed) {
              const t88 = Object.keys(this._updatedLayers), i69 = Object.keys(this._removedLayers);
              (t88.length || i69.length) && this._updateWorkerLayers(t88, i69);
              for (const t89 in this._updatedSources) {
                const e144 = this._updatedSources[t89];
                "reload" === e144 ? this._reloadSource(t89) : "clear" === e144 && this._clearSource(t89);
              }
              this._updateTilesForChangedImages();
              for (const t89 in this._updatedPaintProps)
                this._layers[t89].updateTransitions(e143);
              this.light.updateTransitions(e143), this._resetUpdates();
            }
            const o102 = {};
            for (const t88 in this.sourceCaches) {
              const e144 = this.sourceCaches[t88];
              o102[t88] = e144.used, e144.used = false;
            }
            for (const t88 of this._order) {
              const i69 = this._layers[t88];
              i69.recalculate(e143, this._availableImages), !i69.isHidden(e143.zoom) && i69.source && (this.sourceCaches[i69.source].used = true);
            }
            for (const e144 in o102) {
              const i69 = this.sourceCaches[e144];
              o102[e144] !== i69.used && i69.fire(new t87.Event("data", { sourceDataType: "visibility", dataType: "source", sourceId: e144 }));
            }
            this.light.recalculate(e143), this.z = e143.zoom, i68 && this.fire(new t87.Event("data", { dataType: "style" }));
          }
          _updateTilesForChangedImages() {
            const t88 = Object.keys(this._changedImages);
            if (t88.length) {
              for (const e143 in this.sourceCaches)
                this.sourceCaches[e143].reloadTilesForDependencies(["icons", "patterns"], t88);
              this._changedImages = {};
            }
          }
          _updateWorkerLayers(t88, e143) {
            this.dispatcher.broadcast("updateLayers", { layers: this._serializeLayers(t88), removedIds: e143 });
          }
          _resetUpdates() {
            this._changed = false, this._updatedLayers = {}, this._removedLayers = {}, this._updatedSources = {}, this._updatedPaintProps = {}, this._changedImages = {};
          }
          setState(e143) {
            if (this._checkLoaded(), Jt(this, t87.validateStyle(e143)))
              return false;
            (e143 = t87.clone$1(e143)).layers = Y(e143.layers);
            const i68 = function(t88, e144) {
              if (!t88)
                return [{ command: J.setStyle, args: [e144] }];
              let i69 = [];
              try {
                if (!a82(t88.version, e144.version))
                  return [{ command: J.setStyle, args: [e144] }];
                a82(t88.center, e144.center) || i69.push({ command: J.setCenter, args: [e144.center] }), a82(t88.zoom, e144.zoom) || i69.push({ command: J.setZoom, args: [e144.zoom] }), a82(t88.bearing, e144.bearing) || i69.push({ command: J.setBearing, args: [e144.bearing] }), a82(t88.pitch, e144.pitch) || i69.push({ command: J.setPitch, args: [e144.pitch] }), a82(t88.sprite, e144.sprite) || i69.push({ command: J.setSprite, args: [e144.sprite] }), a82(t88.glyphs, e144.glyphs) || i69.push({ command: J.setGlyphs, args: [e144.glyphs] }), a82(t88.transition, e144.transition) || i69.push({ command: J.setTransition, args: [e144.transition] }), a82(t88.light, e144.light) || i69.push({ command: J.setLight, args: [e144.light] });
                const o103 = {}, s63 = [];
                !function(t89, e145, i70, o104) {
                  let s64;
                  for (s64 in e145 = e145 || {}, t89 = t89 || {})
                    Object.prototype.hasOwnProperty.call(t89, s64) && (Object.prototype.hasOwnProperty.call(e145, s64) || tt(s64, i70, o104));
                  for (s64 in e145)
                    Object.prototype.hasOwnProperty.call(e145, s64) && (Object.prototype.hasOwnProperty.call(t89, s64) ? a82(t89[s64], e145[s64]) || ("geojson" === t89[s64].type && "geojson" === e145[s64].type && it(t89, e145, s64) ? i70.push({ command: J.setGeoJSONSourceData, args: [s64, e145[s64].data] }) : et(s64, e145, i70, o104)) : Q(s64, e145, i70));
                }(t88.sources, e144.sources, s63, o103);
                const r62 = [];
                t88.layers && t88.layers.forEach((t89) => {
                  o103[t89.source] ? i69.push({ command: J.removeLayer, args: [t89.id] }) : r62.push(t89);
                }), i69 = i69.concat(s63), function(t89, e145, i70) {
                  e145 = e145 || [];
                  const o104 = (t89 = t89 || []).map(at), s64 = e145.map(at), r63 = t89.reduce(st, {}), n46 = e145.reduce(st, {}), l30 = o104.slice(), c23 = /* @__PURE__ */ Object.create(null);
                  let h13, u21, d11, m30, _4, p18, f22;
                  for (h13 = 0, u21 = 0; h13 < o104.length; h13++)
                    d11 = o104[h13], Object.prototype.hasOwnProperty.call(n46, d11) ? u21++ : (i70.push({ command: J.removeLayer, args: [d11] }), l30.splice(l30.indexOf(d11, u21), 1));
                  for (h13 = 0, u21 = 0; h13 < s64.length; h13++)
                    d11 = s64[s64.length - 1 - h13], l30[l30.length - 1 - h13] !== d11 && (Object.prototype.hasOwnProperty.call(r63, d11) ? (i70.push({ command: J.removeLayer, args: [d11] }), l30.splice(l30.lastIndexOf(d11, l30.length - u21), 1)) : u21++, p18 = l30[l30.length - h13], i70.push({ command: J.addLayer, args: [n46[d11], p18] }), l30.splice(l30.length - h13, 0, d11), c23[d11] = true);
                  for (h13 = 0; h13 < s64.length; h13++)
                    if (d11 = s64[h13], m30 = r63[d11], _4 = n46[d11], !c23[d11] && !a82(m30, _4))
                      if (a82(m30.source, _4.source) && a82(m30["source-layer"], _4["source-layer"]) && a82(m30.type, _4.type)) {
                        for (f22 in ot(m30.layout, _4.layout, i70, d11, null, J.setLayoutProperty), ot(m30.paint, _4.paint, i70, d11, null, J.setPaintProperty), a82(m30.filter, _4.filter) || i70.push({ command: J.setFilter, args: [d11, _4.filter] }), a82(m30.minzoom, _4.minzoom) && a82(m30.maxzoom, _4.maxzoom) || i70.push({ command: J.setLayerZoomRange, args: [d11, _4.minzoom, _4.maxzoom] }), m30)
                          Object.prototype.hasOwnProperty.call(m30, f22) && "layout" !== f22 && "paint" !== f22 && "filter" !== f22 && "metadata" !== f22 && "minzoom" !== f22 && "maxzoom" !== f22 && (0 === f22.indexOf("paint.") ? ot(m30[f22], _4[f22], i70, d11, f22.slice(6), J.setPaintProperty) : a82(m30[f22], _4[f22]) || i70.push({ command: J.setLayerProperty, args: [d11, f22, _4[f22]] }));
                        for (f22 in _4)
                          Object.prototype.hasOwnProperty.call(_4, f22) && !Object.prototype.hasOwnProperty.call(m30, f22) && "layout" !== f22 && "paint" !== f22 && "filter" !== f22 && "metadata" !== f22 && "minzoom" !== f22 && "maxzoom" !== f22 && (0 === f22.indexOf("paint.") ? ot(m30[f22], _4[f22], i70, d11, f22.slice(6), J.setPaintProperty) : a82(m30[f22], _4[f22]) || i70.push({ command: J.setLayerProperty, args: [d11, f22, _4[f22]] }));
                      } else
                        i70.push({ command: J.removeLayer, args: [d11] }), p18 = l30[l30.lastIndexOf(d11) + 1], i70.push({ command: J.addLayer, args: [_4, p18] });
                }(r62, e144.layers, i69);
              } catch (t89) {
                console.warn("Unable to compute style diff:", t89), i69 = [{ command: J.setStyle, args: [e144] }];
              }
              return i69;
            }(this.serialize(), e143).filter((t88) => !(t88.command in te));
            if (0 === i68.length)
              return false;
            const o102 = i68.filter((t88) => !(t88.command in Qt));
            if (o102.length > 0)
              throw new Error(`Unimplemented: ${o102.map((t88) => t88.command).join(", ")}.`);
            return i68.forEach((t88) => {
              "setTransition" !== t88.command && this[t88.command].apply(this, t88.args);
            }), this.stylesheet = e143, true;
          }
          addImage(e143, i68) {
            if (this.getImage(e143))
              return this.fire(new t87.ErrorEvent(new Error(`An image named "${e143}" already exists.`)));
            this.imageManager.addImage(e143, i68), this._afterImageUpdated(e143);
          }
          updateImage(t88, e143) {
            this.imageManager.updateImage(t88, e143);
          }
          getImage(t88) {
            return this.imageManager.getImage(t88);
          }
          removeImage(e143) {
            if (!this.getImage(e143))
              return this.fire(new t87.ErrorEvent(new Error(`An image named "${e143}" does not exist.`)));
            this.imageManager.removeImage(e143), this._afterImageUpdated(e143);
          }
          _afterImageUpdated(e143) {
            this._availableImages = this.imageManager.listImages(), this._changedImages[e143] = true, this._changed = true, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new t87.Event("data", { dataType: "style" }));
          }
          listImages() {
            return this._checkLoaded(), this.imageManager.listImages();
          }
          addSource(e143, i68, o102 = {}) {
            if (this._checkLoaded(), void 0 !== this.sourceCaches[e143])
              throw new Error(`Source "${e143}" already exists.`);
            if (!i68.type)
              throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i68).join(", ")}.`);
            if (["vector", "raster", "geojson", "video", "image"].indexOf(i68.type) >= 0 && this._validate(t87.validateStyle.source, `sources.${e143}`, i68, null, o102))
              return;
            this.map && this.map._collectResourceTiming && (i68.collectResourceTiming = true);
            const a83 = this.sourceCaches[e143] = new Z(e143, i68, this.dispatcher);
            a83.style = this, a83.setEventedParent(this, () => ({ isSourceLoaded: this.loaded(), source: a83.serialize(), sourceId: e143 })), a83.onAdd(this.map), this._changed = true;
          }
          removeSource(e143) {
            if (this._checkLoaded(), void 0 === this.sourceCaches[e143])
              throw new Error("There is no source with this ID");
            for (const i69 in this._layers)
              if (this._layers[i69].source === e143)
                return this.fire(new t87.ErrorEvent(new Error(`Source "${e143}" cannot be removed while layer "${i69}" is using it.`)));
            const i68 = this.sourceCaches[e143];
            delete this.sourceCaches[e143], delete this._updatedSources[e143], i68.fire(new t87.Event("data", { sourceDataType: "metadata", dataType: "source", sourceId: e143 })), i68.setEventedParent(null), i68.onRemove(this.map), this._changed = true;
          }
          setGeoJSONSourceData(t88, e143) {
            this._checkLoaded(), this.sourceCaches[t88].getSource().setData(e143), this._changed = true;
          }
          getSource(t88) {
            return this.sourceCaches[t88] && this.sourceCaches[t88].getSource();
          }
          addLayer(e143, i68, o102 = {}) {
            this._checkLoaded();
            const a83 = e143.id;
            if (this.getLayer(a83))
              return void this.fire(new t87.ErrorEvent(new Error(`Layer "${a83}" already exists on this map.`)));
            let s63;
            if ("custom" === e143.type) {
              if (Jt(this, t87.validateCustomStyleLayer(e143)))
                return;
              s63 = t87.createStyleLayer(e143);
            } else {
              if ("object" == typeof e143.source && (this.addSource(a83, e143.source), e143 = t87.clone$1(e143), e143 = t87.extend(e143, { source: a83 })), this._validate(t87.validateStyle.layer, `layers.${a83}`, e143, { arrayIndex: -1 }, o102))
                return;
              s63 = t87.createStyleLayer(e143), this._validateLayer(s63), s63.setEventedParent(this, { layer: { id: a83 } }), this._serializedLayers[s63.id] = s63.serialize();
            }
            const r62 = i68 ? this._order.indexOf(i68) : this._order.length;
            if (i68 && -1 === r62)
              this.fire(new t87.ErrorEvent(new Error(`Cannot add layer "${a83}" before non-existing layer "${i68}".`)));
            else {
              if (this._order.splice(r62, 0, a83), this._layerOrderChanged = true, this._layers[a83] = s63, this._removedLayers[a83] && s63.source && "custom" !== s63.type) {
                const t88 = this._removedLayers[a83];
                delete this._removedLayers[a83], t88.type !== s63.type ? this._updatedSources[s63.source] = "clear" : (this._updatedSources[s63.source] = "reload", this.sourceCaches[s63.source].pause());
              }
              this._updateLayer(s63), s63.onAdd && s63.onAdd(this.map);
            }
          }
          moveLayer(e143, i68) {
            if (this._checkLoaded(), this._changed = true, !this._layers[e143])
              return void this.fire(new t87.ErrorEvent(new Error(`The layer '${e143}' does not exist in the map's style and cannot be moved.`)));
            if (e143 === i68)
              return;
            const o102 = this._order.indexOf(e143);
            this._order.splice(o102, 1);
            const a83 = i68 ? this._order.indexOf(i68) : this._order.length;
            i68 && -1 === a83 ? this.fire(new t87.ErrorEvent(new Error(`Cannot move layer "${e143}" before non-existing layer "${i68}".`))) : (this._order.splice(a83, 0, e143), this._layerOrderChanged = true);
          }
          removeLayer(e143) {
            this._checkLoaded();
            const i68 = this._layers[e143];
            if (!i68)
              return void this.fire(new t87.ErrorEvent(new Error(`Cannot remove non-existing layer "${e143}".`)));
            i68.setEventedParent(null);
            const o102 = this._order.indexOf(e143);
            this._order.splice(o102, 1), this._layerOrderChanged = true, this._changed = true, this._removedLayers[e143] = i68, delete this._layers[e143], delete this._serializedLayers[e143], delete this._updatedLayers[e143], delete this._updatedPaintProps[e143], i68.onRemove && i68.onRemove(this.map);
          }
          getLayer(t88) {
            return this._layers[t88];
          }
          hasLayer(t88) {
            return t88 in this._layers;
          }
          setLayerZoomRange(e143, i68, o102) {
            this._checkLoaded();
            const a83 = this.getLayer(e143);
            a83 ? a83.minzoom === i68 && a83.maxzoom === o102 || (null != i68 && (a83.minzoom = i68), null != o102 && (a83.maxzoom = o102), this._updateLayer(a83)) : this.fire(new t87.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${e143}".`)));
          }
          setFilter(e143, i68, o102 = {}) {
            this._checkLoaded();
            const s63 = this.getLayer(e143);
            if (s63) {
              if (!a82(s63.filter, i68))
                return null == i68 ? (s63.filter = void 0, void this._updateLayer(s63)) : void (this._validate(t87.validateStyle.filter, `layers.${s63.id}.filter`, i68, null, o102) || (s63.filter = t87.clone$1(i68), this._updateLayer(s63)));
            } else
              this.fire(new t87.ErrorEvent(new Error(`Cannot filter non-existing layer "${e143}".`)));
          }
          getFilter(e143) {
            return t87.clone$1(this.getLayer(e143).filter);
          }
          setLayoutProperty(e143, i68, o102, s63 = {}) {
            this._checkLoaded();
            const r62 = this.getLayer(e143);
            r62 ? a82(r62.getLayoutProperty(i68), o102) || (r62.setLayoutProperty(i68, o102, s63), this._updateLayer(r62)) : this.fire(new t87.ErrorEvent(new Error(`Cannot style non-existing layer "${e143}".`)));
          }
          getLayoutProperty(e143, i68) {
            const o102 = this.getLayer(e143);
            if (o102)
              return o102.getLayoutProperty(i68);
            this.fire(new t87.ErrorEvent(new Error(`Cannot get style of non-existing layer "${e143}".`)));
          }
          setPaintProperty(e143, i68, o102, s63 = {}) {
            this._checkLoaded();
            const r62 = this.getLayer(e143);
            r62 ? a82(r62.getPaintProperty(i68), o102) || (r62.setPaintProperty(i68, o102, s63) && this._updateLayer(r62), this._changed = true, this._updatedPaintProps[e143] = true) : this.fire(new t87.ErrorEvent(new Error(`Cannot style non-existing layer "${e143}".`)));
          }
          getPaintProperty(t88, e143) {
            return this.getLayer(t88).getPaintProperty(e143);
          }
          setFeatureState(e143, i68) {
            this._checkLoaded();
            const o102 = e143.source, a83 = e143.sourceLayer, s63 = this.sourceCaches[o102];
            if (void 0 === s63)
              return void this.fire(new t87.ErrorEvent(new Error(`The source '${o102}' does not exist in the map's style.`)));
            const r62 = s63.getSource().type;
            "geojson" === r62 && a83 ? this.fire(new t87.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))) : "vector" !== r62 || a83 ? (void 0 === e143.id && this.fire(new t87.ErrorEvent(new Error("The feature id parameter must be provided."))), s63.setFeatureState(a83, e143.id, i68)) : this.fire(new t87.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
          }
          removeFeatureState(e143, i68) {
            this._checkLoaded();
            const o102 = e143.source, a83 = this.sourceCaches[o102];
            if (void 0 === a83)
              return void this.fire(new t87.ErrorEvent(new Error(`The source '${o102}' does not exist in the map's style.`)));
            const s63 = a83.getSource().type, r62 = "vector" === s63 ? e143.sourceLayer : void 0;
            "vector" !== s63 || r62 ? i68 && "string" != typeof e143.id && "number" != typeof e143.id ? this.fire(new t87.ErrorEvent(new Error("A feature id is required to remove its specific state property."))) : a83.removeFeatureState(r62, e143.id, i68) : this.fire(new t87.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
          }
          getFeatureState(e143) {
            this._checkLoaded();
            const i68 = e143.source, o102 = e143.sourceLayer, a83 = this.sourceCaches[i68];
            if (void 0 !== a83)
              return "vector" !== a83.getSource().type || o102 ? (void 0 === e143.id && this.fire(new t87.ErrorEvent(new Error("The feature id parameter must be provided."))), a83.getFeatureState(o102, e143.id)) : void this.fire(new t87.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
            this.fire(new t87.ErrorEvent(new Error(`The source '${i68}' does not exist in the map's style.`)));
          }
          getTransition() {
            return t87.extend({ duration: 300, delay: 0 }, this.stylesheet && this.stylesheet.transition);
          }
          serialize() {
            return t87.filterObject({ version: this.stylesheet.version, name: this.stylesheet.name, metadata: this.stylesheet.metadata, light: this.stylesheet.light, center: this.stylesheet.center, zoom: this.stylesheet.zoom, bearing: this.stylesheet.bearing, pitch: this.stylesheet.pitch, sprite: this.stylesheet.sprite, glyphs: this.stylesheet.glyphs, transition: this.stylesheet.transition, sources: t87.mapObject(this.sourceCaches, (t88) => t88.serialize()), layers: this._serializeLayers(this._order) }, (t88) => void 0 !== t88);
          }
          _updateLayer(t88) {
            this._updatedLayers[t88.id] = true, t88.source && !this._updatedSources[t88.source] && "raster" !== this.sourceCaches[t88.source].getSource().type && (this._updatedSources[t88.source] = "reload", this.sourceCaches[t88.source].pause()), this._changed = true;
          }
          _flattenAndSortRenderedFeatures(t88) {
            const e143 = (t89) => "fill-extrusion" === this._layers[t89].type, i68 = {}, o102 = [];
            for (let a84 = this._order.length - 1; a84 >= 0; a84--) {
              const s63 = this._order[a84];
              if (e143(s63)) {
                i68[s63] = a84;
                for (const e144 of t88) {
                  const t89 = e144[s63];
                  if (t89)
                    for (const e145 of t89)
                      o102.push(e145);
                }
              }
            }
            o102.sort((t89, e144) => e144.intersectionZ - t89.intersectionZ);
            const a83 = [];
            for (let s63 = this._order.length - 1; s63 >= 0; s63--) {
              const r62 = this._order[s63];
              if (e143(r62))
                for (let t89 = o102.length - 1; t89 >= 0; t89--) {
                  const e144 = o102[t89].feature;
                  if (i68[e144.layer.id] < s63)
                    break;
                  a83.push(e144), o102.pop();
                }
              else
                for (const e144 of t88) {
                  const t89 = e144[r62];
                  if (t89)
                    for (const e145 of t89)
                      a83.push(e145.feature);
                }
            }
            return a83;
          }
          queryRenderedFeatures(e143, i68, o102) {
            i68 && i68.filter && this._validate(t87.validateStyle.filter, "queryRenderedFeatures.filter", i68.filter, null, i68);
            const a83 = {};
            if (i68 && i68.layers) {
              if (!Array.isArray(i68.layers))
                return this.fire(new t87.ErrorEvent(new Error("parameters.layers must be an Array."))), [];
              for (const e144 of i68.layers) {
                const i69 = this._layers[e144];
                if (!i69)
                  return this.fire(new t87.ErrorEvent(new Error(`The layer '${e144}' does not exist in the map's style and cannot be queried for features.`))), [];
                a83[i69.source] = true;
              }
            }
            const s63 = [];
            i68.availableImages = this._availableImages;
            for (const t88 in this.sourceCaches)
              i68.layers && !a83[t88] || s63.push(F4(this.sourceCaches[t88], this._layers, this._serializedLayers, e143, i68, o102));
            return this.placement && s63.push(function(t88, e144, i69, o103, a84, s64, r62) {
              const n46 = {}, l30 = s64.queryRenderedSymbols(o103), c23 = [];
              for (const t89 of Object.keys(l30).map(Number))
                c23.push(r62[t89]);
              c23.sort(O2);
              for (const i70 of c23) {
                const o104 = i70.featureIndex.lookupSymbolFeatures(l30[i70.bucketInstanceId], e144, i70.bucketIndex, i70.sourceLayerIndex, a84.filter, a84.layers, a84.availableImages, t88);
                for (const t89 in o104) {
                  const e145 = n46[t89] = n46[t89] || [], a85 = o104[t89];
                  a85.sort((t90, e146) => {
                    const o105 = i70.featureSortOrder;
                    if (o105) {
                      const i71 = o105.indexOf(t90.featureIndex);
                      return o105.indexOf(e146.featureIndex) - i71;
                    }
                    return e146.featureIndex - t90.featureIndex;
                  });
                  for (const t90 of a85)
                    e145.push(t90);
                }
              }
              for (const e145 in n46)
                n46[e145].forEach((o104) => {
                  const a85 = o104.feature, s65 = i69[t88[e145].source].getFeatureState(a85.layer["source-layer"], a85.id);
                  a85.source = a85.layer.source, a85.layer["source-layer"] && (a85.sourceLayer = a85.layer["source-layer"]), a85.state = s65;
                });
              return n46;
            }(this._layers, this._serializedLayers, this.sourceCaches, e143, i68, this.placement.collisionIndex, this.placement.retainedQueryData)), this._flattenAndSortRenderedFeatures(s63);
          }
          querySourceFeatures(e143, i68) {
            i68 && i68.filter && this._validate(t87.validateStyle.filter, "querySourceFeatures.filter", i68.filter, null, i68);
            const o102 = this.sourceCaches[e143];
            return o102 ? function(t88, e144) {
              const i69 = t88.getRenderableIds().map((e145) => t88.getTileByID(e145)), o103 = [], a83 = {};
              for (let t89 = 0; t89 < i69.length; t89++) {
                const s63 = i69[t89], r62 = s63.tileID.canonical.key;
                a83[r62] || (a83[r62] = true, s63.querySourceFeatures(o103, e144));
              }
              return o103;
            }(o102, i68) : [];
          }
          addSourceType(t88, e143, i68) {
            return ie.getSourceType(t88) ? i68(new Error(`A source type called "${t88}" already exists.`)) : (ie.setSourceType(t88, e143), e143.workerSourceURL ? void this.dispatcher.broadcast("loadWorkerSource", { name: t88, url: e143.workerSourceURL }, i68) : i68(null, null));
          }
          getLight() {
            return this.light.getLight();
          }
          setLight(e143, i68 = {}) {
            this._checkLoaded();
            const o102 = this.light.getLight();
            let s63 = false;
            for (const t88 in e143)
              if (!a82(e143[t88], o102[t88])) {
                s63 = true;
                break;
              }
            if (!s63)
              return;
            const r62 = { now: t87.exported.now(), transition: t87.extend({ duration: 300, delay: 0 }, this.stylesheet.transition) };
            this.light.setLight(e143, i68), this.light.updateTransitions(r62);
          }
          _validate(e143, i68, o102, a83, s63 = {}) {
            return (!s63 || false !== s63.validate) && Jt(this, e143.call(t87.validateStyle, t87.extend({ key: i68, style: this.serialize(), value: o102, styleSpec: t87.spec }, a83)));
          }
          _remove() {
            this._request && (this._request.cancel(), this._request = null), this._spriteRequest && (this._spriteRequest.cancel(), this._spriteRequest = null), t87.evented.off("pluginStateChange", this._rtlTextPluginCallback);
            for (const t88 in this._layers)
              this._layers[t88].setEventedParent(null);
            for (const t88 in this.sourceCaches) {
              const e143 = this.sourceCaches[t88];
              e143.setEventedParent(null), e143.onRemove(this.map);
            }
            this.imageManager.setEventedParent(null), this.setEventedParent(null), this.dispatcher.remove();
          }
          _clearSource(t88) {
            this.sourceCaches[t88].clearTiles();
          }
          _reloadSource(t88) {
            this.sourceCaches[t88].resume(), this.sourceCaches[t88].reload();
          }
          _updateSources(t88) {
            for (const e143 in this.sourceCaches)
              this.sourceCaches[e143].update(t88);
          }
          _generateCollisionBoxes() {
            for (const t88 in this.sourceCaches)
              this._reloadSource(t88);
          }
          _updatePlacement(e143, i68, o102, a83, s63 = false) {
            let r62 = false, n46 = false;
            const l30 = {};
            for (const t88 of this._order) {
              const i69 = this._layers[t88];
              if ("symbol" !== i69.type)
                continue;
              if (!l30[i69.source]) {
                const t89 = this.sourceCaches[i69.source];
                l30[i69.source] = t89.getRenderableIds(true).map((e144) => t89.getTileByID(e144)).sort((t90, e144) => e144.tileID.overscaledZ - t90.tileID.overscaledZ || (t90.tileID.isLessThan(e144.tileID) ? -1 : 1));
              }
              const o103 = this.crossTileSymbolIndex.addLayer(i69, l30[i69.source], e143.center.lng);
              r62 = r62 || o103;
            }
            if (this.crossTileSymbolIndex.pruneUnusedLayers(this._order), ((s63 = s63 || this._layerOrderChanged || 0 === o102) || !this.pauseablePlacement || this.pauseablePlacement.isDone() && !this.placement.stillRecent(t87.exported.now(), e143.zoom)) && (this.pauseablePlacement = new $t(e143, this._order, s63, i68, o102, a83, this.placement), this._layerOrderChanged = false), this.pauseablePlacement.isDone() ? this.placement.setStale() : (this.pauseablePlacement.continuePlacement(this._order, this._layers, l30), this.pauseablePlacement.isDone() && (this.placement = this.pauseablePlacement.commit(t87.exported.now()), n46 = true), r62 && this.pauseablePlacement.placement.setStale()), n46 || r62)
              for (const t88 of this._order) {
                const e144 = this._layers[t88];
                "symbol" === e144.type && this.placement.updateLayerOpacities(e144, l30[e144.source]);
              }
            return !this.pauseablePlacement.isDone() || this.placement.hasTransitions(t87.exported.now());
          }
          _releaseSymbolFadeTiles() {
            for (const t88 in this.sourceCaches)
              this.sourceCaches[t88].releaseSymbolFadeTiles();
          }
          getImages(t88, e143, i68) {
            this.imageManager.getImages(e143.icons, i68), this._updateTilesForChangedImages();
            const o102 = this.sourceCaches[e143.source];
            o102 && o102.setDependencies(e143.tileID.key, e143.type, e143.icons);
          }
          getGlyphs(t88, e143, i68) {
            this.glyphManager.getGlyphs(e143.stacks, i68);
          }
          getResource(e143, i68, o102) {
            return t87.makeRequest(i68, o102);
          }
        }
        ie.getSourceType = function(t88) {
          return k6[t88];
        }, ie.setSourceType = function(t88, e143) {
          k6[t88] = e143;
        }, ie.registerForPluginStateChange = t87.registerForPluginStateChange;
        var oe = t87.createLayout([{ name: "a_pos", type: "Int16", components: 2 }]), ae = { prelude: se("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif", "#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"), background: se("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"), backgroundPattern: se("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"), circle: se("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"), clippingMask: se("void main() {gl_FragColor=vec4(1.0);}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"), heatmap: se("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"), heatmapTexture: se("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"), collisionBox: se("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}", "attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"), collisionCircle: se("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}", "attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"), debug: se("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}", "attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"), fill: se("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"), fillOutline: se("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"), fillOutlinePattern: se("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"), fillPattern: se("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"), fillExtrusion: se("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"), fillExtrusionPattern: se("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"), hillshadePrepare: se("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"), hillshade: se("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"), line: se("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"), lineGradient: se("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"), linePattern: se("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"), lineSDF: se("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"), raster: se("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"), symbolIcon: se("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"), symbolSDF: se("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"), symbolTextAndIcon: se("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}") };
        function se(t88, e143) {
          const i68 = /#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g, o102 = e143.match(/attribute ([\w]+) ([\w]+)/g), a83 = t88.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g), s63 = e143.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g), r62 = s63 ? s63.concat(a83) : a83, n46 = {};
          return { fragmentSource: t88 = t88.replace(i68, (t89, e144, i69, o103, a84) => (n46[a84] = true, "define" === e144 ? `
#ifndef HAS_UNIFORM_u_${a84}
varying ${i69} ${o103} ${a84};
#else
uniform ${i69} ${o103} u_${a84};
#endif
` : `
#ifdef HAS_UNIFORM_u_${a84}
    ${i69} ${o103} ${a84} = u_${a84};
#endif
`)), vertexSource: e143 = e143.replace(i68, (t89, e144, i69, o103, a84) => {
            const s64 = "float" === o103 ? "vec2" : "vec4", r63 = a84.match(/color/) ? "color" : s64;
            return n46[a84] ? "define" === e144 ? `
#ifndef HAS_UNIFORM_u_${a84}
uniform lowp float u_${a84}_t;
attribute ${i69} ${s64} a_${a84};
varying ${i69} ${o103} ${a84};
#else
uniform ${i69} ${o103} u_${a84};
#endif
` : "vec4" === r63 ? `
#ifndef HAS_UNIFORM_u_${a84}
    ${a84} = a_${a84};
#else
    ${i69} ${o103} ${a84} = u_${a84};
#endif
` : `
#ifndef HAS_UNIFORM_u_${a84}
    ${a84} = unpack_mix_${r63}(a_${a84}, u_${a84}_t);
#else
    ${i69} ${o103} ${a84} = u_${a84};
#endif
` : "define" === e144 ? `
#ifndef HAS_UNIFORM_u_${a84}
uniform lowp float u_${a84}_t;
attribute ${i69} ${s64} a_${a84};
#else
uniform ${i69} ${o103} u_${a84};
#endif
` : "vec4" === r63 ? `
#ifndef HAS_UNIFORM_u_${a84}
    ${i69} ${o103} ${a84} = a_${a84};
#else
    ${i69} ${o103} ${a84} = u_${a84};
#endif
` : `
#ifndef HAS_UNIFORM_u_${a84}
    ${i69} ${o103} ${a84} = unpack_mix_${r63}(a_${a84}, u_${a84}_t);
#else
    ${i69} ${o103} ${a84} = u_${a84};
#endif
`;
          }), staticAttributes: o102, staticUniforms: r62 };
        }
        class re {
          constructor() {
            this.boundProgram = null, this.boundLayoutVertexBuffer = null, this.boundPaintVertexBuffers = [], this.boundIndexBuffer = null, this.boundVertexOffset = null, this.boundDynamicVertexBuffer = null, this.vao = null;
          }
          bind(t88, e143, i68, o102, a83, s63, r62, n46) {
            this.context = t88;
            let l30 = this.boundPaintVertexBuffers.length !== o102.length;
            for (let t89 = 0; !l30 && t89 < o102.length; t89++)
              this.boundPaintVertexBuffers[t89] !== o102[t89] && (l30 = true);
            t88.extVertexArrayObject && this.vao && this.boundProgram === e143 && this.boundLayoutVertexBuffer === i68 && !l30 && this.boundIndexBuffer === a83 && this.boundVertexOffset === s63 && this.boundDynamicVertexBuffer === r62 && this.boundDynamicVertexBuffer2 === n46 ? (t88.bindVertexArrayOES.set(this.vao), r62 && r62.bind(), a83 && a83.dynamicDraw && a83.bind(), n46 && n46.bind()) : this.freshBind(e143, i68, o102, a83, s63, r62, n46);
          }
          freshBind(t88, e143, i68, o102, a83, s63, r62) {
            let n46;
            const l30 = t88.numAttributes, c23 = this.context, h13 = c23.gl;
            if (c23.extVertexArrayObject)
              this.vao && this.destroy(), this.vao = c23.extVertexArrayObject.createVertexArrayOES(), c23.bindVertexArrayOES.set(this.vao), n46 = 0, this.boundProgram = t88, this.boundLayoutVertexBuffer = e143, this.boundPaintVertexBuffers = i68, this.boundIndexBuffer = o102, this.boundVertexOffset = a83, this.boundDynamicVertexBuffer = s63, this.boundDynamicVertexBuffer2 = r62;
            else {
              n46 = c23.currentNumAttributes || 0;
              for (let t89 = l30; t89 < n46; t89++)
                h13.disableVertexAttribArray(t89);
            }
            e143.enableAttributes(h13, t88);
            for (const e144 of i68)
              e144.enableAttributes(h13, t88);
            s63 && s63.enableAttributes(h13, t88), r62 && r62.enableAttributes(h13, t88), e143.bind(), e143.setVertexAttribPointers(h13, t88, a83);
            for (const e144 of i68)
              e144.bind(), e144.setVertexAttribPointers(h13, t88, a83);
            s63 && (s63.bind(), s63.setVertexAttribPointers(h13, t88, a83)), o102 && o102.bind(), r62 && (r62.bind(), r62.setVertexAttribPointers(h13, t88, a83)), c23.currentNumAttributes = l30;
          }
          destroy() {
            this.vao && (this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao), this.vao = null);
          }
        }
        function ne(t88) {
          const e143 = [];
          for (let i68 = 0; i68 < t88.length; i68++) {
            if (null === t88[i68])
              continue;
            const o102 = t88[i68].split(" ");
            e143.push(o102.pop());
          }
          return e143;
        }
        class le {
          constructor(t88, e143, i68, o102, a83, s63) {
            const r62 = t88.gl;
            this.program = r62.createProgram();
            const n46 = ne(i68.staticAttributes), l30 = o102 ? o102.getBinderAttributes() : [], c23 = n46.concat(l30), h13 = i68.staticUniforms ? ne(i68.staticUniforms) : [], u21 = o102 ? o102.getBinderUniforms() : [], d11 = h13.concat(u21), m30 = [];
            for (const t89 of d11)
              m30.indexOf(t89) < 0 && m30.push(t89);
            const _4 = o102 ? o102.defines() : [];
            s63 && _4.push("#define OVERDRAW_INSPECTOR;");
            const p18 = _4.concat(ae.prelude.fragmentSource, i68.fragmentSource).join("\n"), f22 = _4.concat(ae.prelude.vertexSource, i68.vertexSource).join("\n"), g15 = r62.createShader(r62.FRAGMENT_SHADER);
            if (r62.isContextLost())
              return void (this.failedToCreate = true);
            r62.shaderSource(g15, p18), r62.compileShader(g15), r62.attachShader(this.program, g15);
            const x6 = r62.createShader(r62.VERTEX_SHADER);
            if (r62.isContextLost())
              return void (this.failedToCreate = true);
            r62.shaderSource(x6, f22), r62.compileShader(x6), r62.attachShader(this.program, x6), this.attributes = {};
            const v6 = {};
            this.numAttributes = c23.length;
            for (let t89 = 0; t89 < this.numAttributes; t89++)
              c23[t89] && (r62.bindAttribLocation(this.program, t89, c23[t89]), this.attributes[c23[t89]] = t89);
            r62.linkProgram(this.program), r62.deleteShader(x6), r62.deleteShader(g15);
            for (let t89 = 0; t89 < m30.length; t89++) {
              const e144 = m30[t89];
              if (e144 && !v6[e144]) {
                const t90 = r62.getUniformLocation(this.program, e144);
                t90 && (v6[e144] = t90);
              }
            }
            this.fixedUniforms = a83(t88, v6), this.binderUniforms = o102 ? o102.getUniforms(t88, v6) : [];
          }
          draw(t88, e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11, m30, _4, p18) {
            const f22 = t88.gl;
            if (this.failedToCreate)
              return;
            t88.program.set(this.program), t88.setDepthMode(i68), t88.setStencilMode(o102), t88.setColorMode(a83), t88.setCullFace(s63);
            for (const t89 in this.fixedUniforms)
              this.fixedUniforms[t89].set(r62[t89]);
            m30 && m30.setUniforms(t88, this.binderUniforms, u21, { zoom: d11 });
            const g15 = { [f22.LINES]: 2, [f22.TRIANGLES]: 3, [f22.LINE_STRIP]: 1 }[e143];
            for (const i69 of h13.get()) {
              const o103 = i69.vaos || (i69.vaos = {});
              (o103[n46] || (o103[n46] = new re())).bind(t88, this, l30, m30 ? m30.getPaintVertexBuffers() : [], c23, i69.vertexOffset, _4, p18), f22.drawElements(e143, i69.primitiveLength * g15, f22.UNSIGNED_SHORT, i69.primitiveOffset * g15 * 2);
            }
          }
        }
        function ce(t88, e143, i68) {
          const o102 = 1 / It(i68, 1, e143.transform.tileZoom), a83 = Math.pow(2, i68.tileID.overscaledZ), s63 = i68.tileSize * Math.pow(2, e143.transform.tileZoom) / a83, r62 = s63 * (i68.tileID.canonical.x + i68.tileID.wrap * a83), n46 = s63 * i68.tileID.canonical.y;
          return { u_image: 0, u_texsize: i68.imageAtlasTexture.size, u_scale: [o102, t88.fromScale, t88.toScale], u_fade: t88.t, u_pixel_coord_upper: [r62 >> 16, n46 >> 16], u_pixel_coord_lower: [65535 & r62, 65535 & n46] };
        }
        const he = (e143, i68, o102, a83) => {
          const s63 = i68.style.light, r62 = s63.properties.get("position"), n46 = [r62.x, r62.y, r62.z], l30 = function() {
            var e144 = new t87.ARRAY_TYPE(9);
            return t87.ARRAY_TYPE != Float32Array && (e144[1] = 0, e144[2] = 0, e144[3] = 0, e144[5] = 0, e144[6] = 0, e144[7] = 0), e144[0] = 1, e144[4] = 1, e144[8] = 1, e144;
          }();
          "viewport" === s63.properties.get("anchor") && function(t88, e144) {
            var i69 = Math.sin(e144), o103 = Math.cos(e144);
            t88[0] = o103, t88[1] = i69, t88[2] = 0, t88[3] = -i69, t88[4] = o103, t88[5] = 0, t88[6] = 0, t88[7] = 0, t88[8] = 1;
          }(l30, -i68.transform.angle), function(t88, e144, i69) {
            var o103 = e144[0], a84 = e144[1], s64 = e144[2];
            t88[0] = o103 * i69[0] + a84 * i69[3] + s64 * i69[6], t88[1] = o103 * i69[1] + a84 * i69[4] + s64 * i69[7], t88[2] = o103 * i69[2] + a84 * i69[5] + s64 * i69[8];
          }(n46, n46, l30);
          const c23 = s63.properties.get("color");
          return { u_matrix: e143, u_lightpos: n46, u_lightintensity: s63.properties.get("intensity"), u_lightcolor: [c23.r, c23.g, c23.b], u_vertical_gradient: +o102, u_opacity: a83 };
        }, ue = (e143, i68, o102, a83, s63, r62, n46) => t87.extend(he(e143, i68, o102, a83), ce(r62, i68, n46), { u_height_factor: -Math.pow(2, s63.overscaledZ) / n46.tileSize / 8 }), de = (t88) => ({ u_matrix: t88 }), me = (e143, i68, o102, a83) => t87.extend(de(e143), ce(o102, i68, a83)), _e = (t88, e143) => ({ u_matrix: t88, u_world: e143 }), pe = (e143, i68, o102, a83, s63) => t87.extend(me(e143, i68, o102, a83), { u_world: s63 }), fe = (t88, e143, i68, o102) => {
          const a83 = t88.transform;
          let s63, r62;
          if ("map" === o102.paint.get("circle-pitch-alignment")) {
            const t89 = It(i68, 1, a83.zoom);
            s63 = true, r62 = [t89, t89];
          } else
            s63 = false, r62 = a83.pixelsToGLUnits;
          return { u_camera_to_center_distance: a83.cameraToCenterDistance, u_scale_with_map: +("map" === o102.paint.get("circle-pitch-scale")), u_matrix: t88.translatePosMatrix(e143.posMatrix, i68, o102.paint.get("circle-translate"), o102.paint.get("circle-translate-anchor")), u_pitch_with_map: +s63, u_device_pixel_ratio: t88.pixelRatio, u_extrude_scale: r62 };
        }, ge = (t88, e143, i68) => {
          const o102 = It(i68, 1, e143.zoom), a83 = Math.pow(2, e143.zoom - i68.tileID.overscaledZ), s63 = i68.tileID.overscaleFactor();
          return { u_matrix: t88, u_camera_to_center_distance: e143.cameraToCenterDistance, u_pixels_to_tile_units: o102, u_extrude_scale: [e143.pixelsToGLUnits[0] / (o102 * a83), e143.pixelsToGLUnits[1] / (o102 * a83)], u_overscale_factor: s63 };
        }, xe = (t88, e143, i68 = 1) => ({ u_matrix: t88, u_color: e143, u_overlay: 0, u_overlay_scale: i68 }), ve = (t88) => ({ u_matrix: t88 }), ye = (t88, e143, i68, o102) => ({ u_matrix: t88, u_extrude_scale: It(e143, 1, i68), u_intensity: o102 });
        function be(e143, i68) {
          const o102 = Math.pow(2, i68.canonical.z), a83 = i68.canonical.y;
          return [new t87.MercatorCoordinate(0, a83 / o102).toLngLat().lat, new t87.MercatorCoordinate(0, (a83 + 1) / o102).toLngLat().lat];
        }
        const we = (t88, e143, i68) => {
          const o102 = t88.transform;
          return { u_matrix: Ce(t88, e143, i68), u_ratio: 1 / It(e143, 1, o102.zoom), u_device_pixel_ratio: t88.pixelRatio, u_units_to_pixels: [1 / o102.pixelsToGLUnits[0], 1 / o102.pixelsToGLUnits[1]] };
        }, Te = (e143, i68, o102, a83) => t87.extend(we(e143, i68, o102), { u_image: 0, u_image_height: a83 }), Ee = (t88, e143, i68, o102) => {
          const a83 = t88.transform, s63 = Se(e143, a83);
          return { u_matrix: Ce(t88, e143, i68), u_texsize: e143.imageAtlasTexture.size, u_ratio: 1 / It(e143, 1, a83.zoom), u_device_pixel_ratio: t88.pixelRatio, u_image: 0, u_scale: [s63, o102.fromScale, o102.toScale], u_fade: o102.t, u_units_to_pixels: [1 / a83.pixelsToGLUnits[0], 1 / a83.pixelsToGLUnits[1]] };
        }, Ie = (e143, i68, o102, a83, s63) => {
          const r62 = e143.lineAtlas, n46 = Se(i68, e143.transform), l30 = "round" === o102.layout.get("line-cap"), c23 = r62.getDash(a83.from, l30), h13 = r62.getDash(a83.to, l30), u21 = c23.width * s63.fromScale, d11 = h13.width * s63.toScale;
          return t87.extend(we(e143, i68, o102), { u_patternscale_a: [n46 / u21, -c23.height / 2], u_patternscale_b: [n46 / d11, -h13.height / 2], u_sdfgamma: r62.width / (256 * Math.min(u21, d11) * e143.pixelRatio) / 2, u_image: 0, u_tex_y_a: c23.y, u_tex_y_b: h13.y, u_mix: s63.t });
        };
        function Se(t88, e143) {
          return 1 / It(t88, 1, e143.tileZoom);
        }
        function Ce(t88, e143, i68) {
          return t88.translatePosMatrix(e143.tileID.posMatrix, e143, i68.paint.get("line-translate"), i68.paint.get("line-translate-anchor"));
        }
        const Pe = (t88, e143, i68, o102, a83) => {
          return { u_matrix: t88, u_tl_parent: e143, u_scale_parent: i68, u_buffer_scale: 1, u_fade_t: o102.mix, u_opacity: o102.opacity * a83.paint.get("raster-opacity"), u_image0: 0, u_image1: 1, u_brightness_low: a83.paint.get("raster-brightness-min"), u_brightness_high: a83.paint.get("raster-brightness-max"), u_saturation_factor: (r62 = a83.paint.get("raster-saturation"), r62 > 0 ? 1 - 1 / (1.001 - r62) : -r62), u_contrast_factor: (s63 = a83.paint.get("raster-contrast"), s63 > 0 ? 1 / (1 - s63) : 1 + s63), u_spin_weights: ze(a83.paint.get("raster-hue-rotate")) };
          var s63, r62;
        };
        function ze(t88) {
          t88 *= Math.PI / 180;
          const e143 = Math.sin(t88), i68 = Math.cos(t88);
          return [(2 * i68 + 1) / 3, (-Math.sqrt(3) * e143 - i68 + 1) / 3, (Math.sqrt(3) * e143 - i68 + 1) / 3];
        }
        const De = (t88, e143, i68, o102, a83, s63, r62, n46, l30, c23) => {
          const h13 = a83.transform;
          return { u_is_size_zoom_constant: +("constant" === t88 || "source" === t88), u_is_size_feature_constant: +("constant" === t88 || "camera" === t88), u_size_t: e143 ? e143.uSizeT : 0, u_size: e143 ? e143.uSize : 0, u_camera_to_center_distance: h13.cameraToCenterDistance, u_pitch: h13.pitch / 360 * 2 * Math.PI, u_rotate_symbol: +i68, u_aspect_ratio: h13.width / h13.height, u_fade_change: a83.options.fadeDuration ? a83.symbolFadeChange : 1, u_matrix: s63, u_label_plane_matrix: r62, u_coord_matrix: n46, u_is_text: +l30, u_pitch_with_map: +o102, u_texsize: c23, u_texture: 0 };
        }, Ae = (e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21) => {
          const d11 = s63.transform;
          return t87.extend(De(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13), { u_gamma_scale: a83 ? Math.cos(d11._pitch) * d11.cameraToCenterDistance : 1, u_device_pixel_ratio: s63.pixelRatio, u_is_halo: +u21 });
        }, Me = (e143, i68, o102, a83, s63, r62, n46, l30, c23, h13) => t87.extend(Ae(e143, i68, o102, a83, s63, r62, n46, l30, true, c23, true), { u_texsize_icon: h13, u_texture_icon: 1 }), Le = (t88, e143, i68) => ({ u_matrix: t88, u_opacity: e143, u_color: i68 }), Re = (e143, i68, o102, a83, s63, r62) => t87.extend(function(t88, e144, i69, o103) {
          const a84 = i69.imageManager.getPattern(t88.from.toString()), s64 = i69.imageManager.getPattern(t88.to.toString()), { width: r63, height: n46 } = i69.imageManager.getPixelSize(), l30 = Math.pow(2, o103.tileID.overscaledZ), c23 = o103.tileSize * Math.pow(2, i69.transform.tileZoom) / l30, h13 = c23 * (o103.tileID.canonical.x + o103.tileID.wrap * l30), u21 = c23 * o103.tileID.canonical.y;
          return { u_image: 0, u_pattern_tl_a: a84.tl, u_pattern_br_a: a84.br, u_pattern_tl_b: s64.tl, u_pattern_br_b: s64.br, u_texsize: [r63, n46], u_mix: e144.t, u_pattern_size_a: a84.displaySize, u_pattern_size_b: s64.displaySize, u_scale_a: e144.fromScale, u_scale_b: e144.toScale, u_tile_units_to_pixels: 1 / It(o103, 1, i69.transform.tileZoom), u_pixel_coord_upper: [h13 >> 16, u21 >> 16], u_pixel_coord_lower: [65535 & h13, 65535 & u21] };
        }(a83, r62, o102, s63), { u_matrix: e143, u_opacity: i68 }), ke = { fillExtrusion: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_lightpos: new t87.Uniform3f(e143, i68.u_lightpos), u_lightintensity: new t87.Uniform1f(e143, i68.u_lightintensity), u_lightcolor: new t87.Uniform3f(e143, i68.u_lightcolor), u_vertical_gradient: new t87.Uniform1f(e143, i68.u_vertical_gradient), u_opacity: new t87.Uniform1f(e143, i68.u_opacity) }), fillExtrusionPattern: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_lightpos: new t87.Uniform3f(e143, i68.u_lightpos), u_lightintensity: new t87.Uniform1f(e143, i68.u_lightintensity), u_lightcolor: new t87.Uniform3f(e143, i68.u_lightcolor), u_vertical_gradient: new t87.Uniform1f(e143, i68.u_vertical_gradient), u_height_factor: new t87.Uniform1f(e143, i68.u_height_factor), u_image: new t87.Uniform1i(e143, i68.u_image), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_pixel_coord_upper: new t87.Uniform2f(e143, i68.u_pixel_coord_upper), u_pixel_coord_lower: new t87.Uniform2f(e143, i68.u_pixel_coord_lower), u_scale: new t87.Uniform3f(e143, i68.u_scale), u_fade: new t87.Uniform1f(e143, i68.u_fade), u_opacity: new t87.Uniform1f(e143, i68.u_opacity) }), fill: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix) }), fillPattern: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_image: new t87.Uniform1i(e143, i68.u_image), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_pixel_coord_upper: new t87.Uniform2f(e143, i68.u_pixel_coord_upper), u_pixel_coord_lower: new t87.Uniform2f(e143, i68.u_pixel_coord_lower), u_scale: new t87.Uniform3f(e143, i68.u_scale), u_fade: new t87.Uniform1f(e143, i68.u_fade) }), fillOutline: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_world: new t87.Uniform2f(e143, i68.u_world) }), fillOutlinePattern: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_world: new t87.Uniform2f(e143, i68.u_world), u_image: new t87.Uniform1i(e143, i68.u_image), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_pixel_coord_upper: new t87.Uniform2f(e143, i68.u_pixel_coord_upper), u_pixel_coord_lower: new t87.Uniform2f(e143, i68.u_pixel_coord_lower), u_scale: new t87.Uniform3f(e143, i68.u_scale), u_fade: new t87.Uniform1f(e143, i68.u_fade) }), circle: (e143, i68) => ({ u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_scale_with_map: new t87.Uniform1i(e143, i68.u_scale_with_map), u_pitch_with_map: new t87.Uniform1i(e143, i68.u_pitch_with_map), u_extrude_scale: new t87.Uniform2f(e143, i68.u_extrude_scale), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix) }), collisionBox: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_pixels_to_tile_units: new t87.Uniform1f(e143, i68.u_pixels_to_tile_units), u_extrude_scale: new t87.Uniform2f(e143, i68.u_extrude_scale), u_overscale_factor: new t87.Uniform1f(e143, i68.u_overscale_factor) }), collisionCircle: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_inv_matrix: new t87.UniformMatrix4f(e143, i68.u_inv_matrix), u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_viewport_size: new t87.Uniform2f(e143, i68.u_viewport_size) }), debug: (e143, i68) => ({ u_color: new t87.UniformColor(e143, i68.u_color), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_overlay: new t87.Uniform1i(e143, i68.u_overlay), u_overlay_scale: new t87.Uniform1f(e143, i68.u_overlay_scale) }), clippingMask: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix) }), heatmap: (e143, i68) => ({ u_extrude_scale: new t87.Uniform1f(e143, i68.u_extrude_scale), u_intensity: new t87.Uniform1f(e143, i68.u_intensity), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix) }), heatmapTexture: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_world: new t87.Uniform2f(e143, i68.u_world), u_image: new t87.Uniform1i(e143, i68.u_image), u_color_ramp: new t87.Uniform1i(e143, i68.u_color_ramp), u_opacity: new t87.Uniform1f(e143, i68.u_opacity) }), hillshade: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_image: new t87.Uniform1i(e143, i68.u_image), u_latrange: new t87.Uniform2f(e143, i68.u_latrange), u_light: new t87.Uniform2f(e143, i68.u_light), u_shadow: new t87.UniformColor(e143, i68.u_shadow), u_highlight: new t87.UniformColor(e143, i68.u_highlight), u_accent: new t87.UniformColor(e143, i68.u_accent) }), hillshadePrepare: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_image: new t87.Uniform1i(e143, i68.u_image), u_dimension: new t87.Uniform2f(e143, i68.u_dimension), u_zoom: new t87.Uniform1f(e143, i68.u_zoom), u_unpack: new t87.Uniform4f(e143, i68.u_unpack) }), line: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_ratio: new t87.Uniform1f(e143, i68.u_ratio), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_units_to_pixels: new t87.Uniform2f(e143, i68.u_units_to_pixels) }), lineGradient: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_ratio: new t87.Uniform1f(e143, i68.u_ratio), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_units_to_pixels: new t87.Uniform2f(e143, i68.u_units_to_pixels), u_image: new t87.Uniform1i(e143, i68.u_image), u_image_height: new t87.Uniform1f(e143, i68.u_image_height) }), linePattern: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_ratio: new t87.Uniform1f(e143, i68.u_ratio), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_image: new t87.Uniform1i(e143, i68.u_image), u_units_to_pixels: new t87.Uniform2f(e143, i68.u_units_to_pixels), u_scale: new t87.Uniform3f(e143, i68.u_scale), u_fade: new t87.Uniform1f(e143, i68.u_fade) }), lineSDF: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_ratio: new t87.Uniform1f(e143, i68.u_ratio), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_units_to_pixels: new t87.Uniform2f(e143, i68.u_units_to_pixels), u_patternscale_a: new t87.Uniform2f(e143, i68.u_patternscale_a), u_patternscale_b: new t87.Uniform2f(e143, i68.u_patternscale_b), u_sdfgamma: new t87.Uniform1f(e143, i68.u_sdfgamma), u_image: new t87.Uniform1i(e143, i68.u_image), u_tex_y_a: new t87.Uniform1f(e143, i68.u_tex_y_a), u_tex_y_b: new t87.Uniform1f(e143, i68.u_tex_y_b), u_mix: new t87.Uniform1f(e143, i68.u_mix) }), raster: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_tl_parent: new t87.Uniform2f(e143, i68.u_tl_parent), u_scale_parent: new t87.Uniform1f(e143, i68.u_scale_parent), u_buffer_scale: new t87.Uniform1f(e143, i68.u_buffer_scale), u_fade_t: new t87.Uniform1f(e143, i68.u_fade_t), u_opacity: new t87.Uniform1f(e143, i68.u_opacity), u_image0: new t87.Uniform1i(e143, i68.u_image0), u_image1: new t87.Uniform1i(e143, i68.u_image1), u_brightness_low: new t87.Uniform1f(e143, i68.u_brightness_low), u_brightness_high: new t87.Uniform1f(e143, i68.u_brightness_high), u_saturation_factor: new t87.Uniform1f(e143, i68.u_saturation_factor), u_contrast_factor: new t87.Uniform1f(e143, i68.u_contrast_factor), u_spin_weights: new t87.Uniform3f(e143, i68.u_spin_weights) }), symbolIcon: (e143, i68) => ({ u_is_size_zoom_constant: new t87.Uniform1i(e143, i68.u_is_size_zoom_constant), u_is_size_feature_constant: new t87.Uniform1i(e143, i68.u_is_size_feature_constant), u_size_t: new t87.Uniform1f(e143, i68.u_size_t), u_size: new t87.Uniform1f(e143, i68.u_size), u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_pitch: new t87.Uniform1f(e143, i68.u_pitch), u_rotate_symbol: new t87.Uniform1i(e143, i68.u_rotate_symbol), u_aspect_ratio: new t87.Uniform1f(e143, i68.u_aspect_ratio), u_fade_change: new t87.Uniform1f(e143, i68.u_fade_change), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_label_plane_matrix: new t87.UniformMatrix4f(e143, i68.u_label_plane_matrix), u_coord_matrix: new t87.UniformMatrix4f(e143, i68.u_coord_matrix), u_is_text: new t87.Uniform1i(e143, i68.u_is_text), u_pitch_with_map: new t87.Uniform1i(e143, i68.u_pitch_with_map), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_texture: new t87.Uniform1i(e143, i68.u_texture) }), symbolSDF: (e143, i68) => ({ u_is_size_zoom_constant: new t87.Uniform1i(e143, i68.u_is_size_zoom_constant), u_is_size_feature_constant: new t87.Uniform1i(e143, i68.u_is_size_feature_constant), u_size_t: new t87.Uniform1f(e143, i68.u_size_t), u_size: new t87.Uniform1f(e143, i68.u_size), u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_pitch: new t87.Uniform1f(e143, i68.u_pitch), u_rotate_symbol: new t87.Uniform1i(e143, i68.u_rotate_symbol), u_aspect_ratio: new t87.Uniform1f(e143, i68.u_aspect_ratio), u_fade_change: new t87.Uniform1f(e143, i68.u_fade_change), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_label_plane_matrix: new t87.UniformMatrix4f(e143, i68.u_label_plane_matrix), u_coord_matrix: new t87.UniformMatrix4f(e143, i68.u_coord_matrix), u_is_text: new t87.Uniform1i(e143, i68.u_is_text), u_pitch_with_map: new t87.Uniform1i(e143, i68.u_pitch_with_map), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_texture: new t87.Uniform1i(e143, i68.u_texture), u_gamma_scale: new t87.Uniform1f(e143, i68.u_gamma_scale), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_is_halo: new t87.Uniform1i(e143, i68.u_is_halo) }), symbolTextAndIcon: (e143, i68) => ({ u_is_size_zoom_constant: new t87.Uniform1i(e143, i68.u_is_size_zoom_constant), u_is_size_feature_constant: new t87.Uniform1i(e143, i68.u_is_size_feature_constant), u_size_t: new t87.Uniform1f(e143, i68.u_size_t), u_size: new t87.Uniform1f(e143, i68.u_size), u_camera_to_center_distance: new t87.Uniform1f(e143, i68.u_camera_to_center_distance), u_pitch: new t87.Uniform1f(e143, i68.u_pitch), u_rotate_symbol: new t87.Uniform1i(e143, i68.u_rotate_symbol), u_aspect_ratio: new t87.Uniform1f(e143, i68.u_aspect_ratio), u_fade_change: new t87.Uniform1f(e143, i68.u_fade_change), u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_label_plane_matrix: new t87.UniformMatrix4f(e143, i68.u_label_plane_matrix), u_coord_matrix: new t87.UniformMatrix4f(e143, i68.u_coord_matrix), u_is_text: new t87.Uniform1i(e143, i68.u_is_text), u_pitch_with_map: new t87.Uniform1i(e143, i68.u_pitch_with_map), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_texsize_icon: new t87.Uniform2f(e143, i68.u_texsize_icon), u_texture: new t87.Uniform1i(e143, i68.u_texture), u_texture_icon: new t87.Uniform1i(e143, i68.u_texture_icon), u_gamma_scale: new t87.Uniform1f(e143, i68.u_gamma_scale), u_device_pixel_ratio: new t87.Uniform1f(e143, i68.u_device_pixel_ratio), u_is_halo: new t87.Uniform1i(e143, i68.u_is_halo) }), background: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_opacity: new t87.Uniform1f(e143, i68.u_opacity), u_color: new t87.UniformColor(e143, i68.u_color) }), backgroundPattern: (e143, i68) => ({ u_matrix: new t87.UniformMatrix4f(e143, i68.u_matrix), u_opacity: new t87.Uniform1f(e143, i68.u_opacity), u_image: new t87.Uniform1i(e143, i68.u_image), u_pattern_tl_a: new t87.Uniform2f(e143, i68.u_pattern_tl_a), u_pattern_br_a: new t87.Uniform2f(e143, i68.u_pattern_br_a), u_pattern_tl_b: new t87.Uniform2f(e143, i68.u_pattern_tl_b), u_pattern_br_b: new t87.Uniform2f(e143, i68.u_pattern_br_b), u_texsize: new t87.Uniform2f(e143, i68.u_texsize), u_mix: new t87.Uniform1f(e143, i68.u_mix), u_pattern_size_a: new t87.Uniform2f(e143, i68.u_pattern_size_a), u_pattern_size_b: new t87.Uniform2f(e143, i68.u_pattern_size_b), u_scale_a: new t87.Uniform1f(e143, i68.u_scale_a), u_scale_b: new t87.Uniform1f(e143, i68.u_scale_b), u_pixel_coord_upper: new t87.Uniform2f(e143, i68.u_pixel_coord_upper), u_pixel_coord_lower: new t87.Uniform2f(e143, i68.u_pixel_coord_lower), u_tile_units_to_pixels: new t87.Uniform1f(e143, i68.u_tile_units_to_pixels) }) };
        class Be {
          constructor(t88, e143, i68) {
            this.context = t88;
            const o102 = t88.gl;
            this.buffer = o102.createBuffer(), this.dynamicDraw = Boolean(i68), this.context.unbindVAO(), t88.bindElementBuffer.set(this.buffer), o102.bufferData(o102.ELEMENT_ARRAY_BUFFER, e143.arrayBuffer, this.dynamicDraw ? o102.DYNAMIC_DRAW : o102.STATIC_DRAW), this.dynamicDraw || delete e143.arrayBuffer;
          }
          bind() {
            this.context.bindElementBuffer.set(this.buffer);
          }
          updateData(t88) {
            const e143 = this.context.gl;
            this.context.unbindVAO(), this.bind(), e143.bufferSubData(e143.ELEMENT_ARRAY_BUFFER, 0, t88.arrayBuffer);
          }
          destroy() {
            this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
          }
        }
        const Fe = { Int8: "BYTE", Uint8: "UNSIGNED_BYTE", Int16: "SHORT", Uint16: "UNSIGNED_SHORT", Int32: "INT", Uint32: "UNSIGNED_INT", Float32: "FLOAT" };
        class Oe {
          constructor(t88, e143, i68, o102) {
            this.length = e143.length, this.attributes = i68, this.itemSize = e143.bytesPerElement, this.dynamicDraw = o102, this.context = t88;
            const a83 = t88.gl;
            this.buffer = a83.createBuffer(), t88.bindVertexBuffer.set(this.buffer), a83.bufferData(a83.ARRAY_BUFFER, e143.arrayBuffer, this.dynamicDraw ? a83.DYNAMIC_DRAW : a83.STATIC_DRAW), this.dynamicDraw || delete e143.arrayBuffer;
          }
          bind() {
            this.context.bindVertexBuffer.set(this.buffer);
          }
          updateData(t88) {
            const e143 = this.context.gl;
            this.bind(), e143.bufferSubData(e143.ARRAY_BUFFER, 0, t88.arrayBuffer);
          }
          enableAttributes(t88, e143) {
            for (let i68 = 0; i68 < this.attributes.length; i68++) {
              const o102 = e143.attributes[this.attributes[i68].name];
              void 0 !== o102 && t88.enableVertexAttribArray(o102);
            }
          }
          setVertexAttribPointers(t88, e143, i68) {
            for (let o102 = 0; o102 < this.attributes.length; o102++) {
              const a83 = this.attributes[o102], s63 = e143.attributes[a83.name];
              void 0 !== s63 && t88.vertexAttribPointer(s63, a83.components, t88[Fe[a83.type]], false, this.itemSize, a83.offset + this.itemSize * (i68 || 0));
            }
          }
          destroy() {
            this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
          }
        }
        class Ue {
          constructor(t88) {
            this.gl = t88.gl, this.default = this.getDefault(), this.current = this.default, this.dirty = false;
          }
          get() {
            return this.current;
          }
          set(t88) {
          }
          getDefault() {
            return this.default;
          }
          setDefault() {
            this.set(this.default);
          }
        }
        class Ne extends Ue {
          getDefault() {
            return t87.Color.transparent;
          }
          set(t88) {
            const e143 = this.current;
            (t88.r !== e143.r || t88.g !== e143.g || t88.b !== e143.b || t88.a !== e143.a || this.dirty) && (this.gl.clearColor(t88.r, t88.g, t88.b, t88.a), this.current = t88, this.dirty = false);
          }
        }
        class Ge extends Ue {
          getDefault() {
            return 1;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.clearDepth(t88), this.current = t88, this.dirty = false);
          }
        }
        class Ze extends Ue {
          getDefault() {
            return 0;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.clearStencil(t88), this.current = t88, this.dirty = false);
          }
        }
        class qe extends Ue {
          getDefault() {
            return [true, true, true, true];
          }
          set(t88) {
            const e143 = this.current;
            (t88[0] !== e143[0] || t88[1] !== e143[1] || t88[2] !== e143[2] || t88[3] !== e143[3] || this.dirty) && (this.gl.colorMask(t88[0], t88[1], t88[2], t88[3]), this.current = t88, this.dirty = false);
          }
        }
        class Ve extends Ue {
          getDefault() {
            return true;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.depthMask(t88), this.current = t88, this.dirty = false);
          }
        }
        class je extends Ue {
          getDefault() {
            return 255;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.stencilMask(t88), this.current = t88, this.dirty = false);
          }
        }
        class $e extends Ue {
          getDefault() {
            return { func: this.gl.ALWAYS, ref: 0, mask: 255 };
          }
          set(t88) {
            const e143 = this.current;
            (t88.func !== e143.func || t88.ref !== e143.ref || t88.mask !== e143.mask || this.dirty) && (this.gl.stencilFunc(t88.func, t88.ref, t88.mask), this.current = t88, this.dirty = false);
          }
        }
        class We extends Ue {
          getDefault() {
            const t88 = this.gl;
            return [t88.KEEP, t88.KEEP, t88.KEEP];
          }
          set(t88) {
            const e143 = this.current;
            (t88[0] !== e143[0] || t88[1] !== e143[1] || t88[2] !== e143[2] || this.dirty) && (this.gl.stencilOp(t88[0], t88[1], t88[2]), this.current = t88, this.dirty = false);
          }
        }
        class Xe extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            t88 ? e143.enable(e143.STENCIL_TEST) : e143.disable(e143.STENCIL_TEST), this.current = t88, this.dirty = false;
          }
        }
        class He extends Ue {
          getDefault() {
            return [0, 1];
          }
          set(t88) {
            const e143 = this.current;
            (t88[0] !== e143[0] || t88[1] !== e143[1] || this.dirty) && (this.gl.depthRange(t88[0], t88[1]), this.current = t88, this.dirty = false);
          }
        }
        class Ke extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            t88 ? e143.enable(e143.DEPTH_TEST) : e143.disable(e143.DEPTH_TEST), this.current = t88, this.dirty = false;
          }
        }
        class Ye extends Ue {
          getDefault() {
            return this.gl.LESS;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.depthFunc(t88), this.current = t88, this.dirty = false);
          }
        }
        class Je extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            t88 ? e143.enable(e143.BLEND) : e143.disable(e143.BLEND), this.current = t88, this.dirty = false;
          }
        }
        class Qe extends Ue {
          getDefault() {
            const t88 = this.gl;
            return [t88.ONE, t88.ZERO];
          }
          set(t88) {
            const e143 = this.current;
            (t88[0] !== e143[0] || t88[1] !== e143[1] || this.dirty) && (this.gl.blendFunc(t88[0], t88[1]), this.current = t88, this.dirty = false);
          }
        }
        class ti extends Ue {
          getDefault() {
            return t87.Color.transparent;
          }
          set(t88) {
            const e143 = this.current;
            (t88.r !== e143.r || t88.g !== e143.g || t88.b !== e143.b || t88.a !== e143.a || this.dirty) && (this.gl.blendColor(t88.r, t88.g, t88.b, t88.a), this.current = t88, this.dirty = false);
          }
        }
        class ei extends Ue {
          getDefault() {
            return this.gl.FUNC_ADD;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.blendEquation(t88), this.current = t88, this.dirty = false);
          }
        }
        class ii extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            t88 ? e143.enable(e143.CULL_FACE) : e143.disable(e143.CULL_FACE), this.current = t88, this.dirty = false;
          }
        }
        class oi extends Ue {
          getDefault() {
            return this.gl.BACK;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.cullFace(t88), this.current = t88, this.dirty = false);
          }
        }
        class ai extends Ue {
          getDefault() {
            return this.gl.CCW;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.frontFace(t88), this.current = t88, this.dirty = false);
          }
        }
        class si extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.useProgram(t88), this.current = t88, this.dirty = false);
          }
        }
        class ri extends Ue {
          getDefault() {
            return this.gl.TEXTURE0;
          }
          set(t88) {
            (t88 !== this.current || this.dirty) && (this.gl.activeTexture(t88), this.current = t88, this.dirty = false);
          }
        }
        class ni extends Ue {
          getDefault() {
            const t88 = this.gl;
            return [0, 0, t88.drawingBufferWidth, t88.drawingBufferHeight];
          }
          set(t88) {
            const e143 = this.current;
            (t88[0] !== e143[0] || t88[1] !== e143[1] || t88[2] !== e143[2] || t88[3] !== e143[3] || this.dirty) && (this.gl.viewport(t88[0], t88[1], t88[2], t88[3]), this.current = t88, this.dirty = false);
          }
        }
        class li extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.bindFramebuffer(e143.FRAMEBUFFER, t88), this.current = t88, this.dirty = false;
          }
        }
        class ci extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.bindRenderbuffer(e143.RENDERBUFFER, t88), this.current = t88, this.dirty = false;
          }
        }
        class hi extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.bindTexture(e143.TEXTURE_2D, t88), this.current = t88, this.dirty = false;
          }
        }
        class ui extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.bindBuffer(e143.ARRAY_BUFFER, t88), this.current = t88, this.dirty = false;
          }
        }
        class di extends Ue {
          getDefault() {
            return null;
          }
          set(t88) {
            const e143 = this.gl;
            e143.bindBuffer(e143.ELEMENT_ARRAY_BUFFER, t88), this.current = t88, this.dirty = false;
          }
        }
        class mi extends Ue {
          constructor(t88) {
            super(t88), this.vao = t88.extVertexArrayObject;
          }
          getDefault() {
            return null;
          }
          set(t88) {
            this.vao && (t88 !== this.current || this.dirty) && (this.vao.bindVertexArrayOES(t88), this.current = t88, this.dirty = false);
          }
        }
        class _i extends Ue {
          getDefault() {
            return 4;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.pixelStorei(e143.UNPACK_ALIGNMENT, t88), this.current = t88, this.dirty = false;
          }
        }
        class pi extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.pixelStorei(e143.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t88), this.current = t88, this.dirty = false;
          }
        }
        class fi extends Ue {
          getDefault() {
            return false;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            const e143 = this.gl;
            e143.pixelStorei(e143.UNPACK_FLIP_Y_WEBGL, t88), this.current = t88, this.dirty = false;
          }
        }
        class gi extends Ue {
          constructor(t88, e143) {
            super(t88), this.context = t88, this.parent = e143;
          }
          getDefault() {
            return null;
          }
        }
        class xi extends gi {
          setDirty() {
            this.dirty = true;
          }
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            this.context.bindFramebuffer.set(this.parent);
            const e143 = this.gl;
            e143.framebufferTexture2D(e143.FRAMEBUFFER, e143.COLOR_ATTACHMENT0, e143.TEXTURE_2D, t88, 0), this.current = t88, this.dirty = false;
          }
        }
        class vi extends gi {
          set(t88) {
            if (t88 === this.current && !this.dirty)
              return;
            this.context.bindFramebuffer.set(this.parent);
            const e143 = this.gl;
            e143.framebufferRenderbuffer(e143.FRAMEBUFFER, e143.DEPTH_ATTACHMENT, e143.RENDERBUFFER, t88), this.current = t88, this.dirty = false;
          }
        }
        class yi {
          constructor(t88, e143, i68, o102) {
            this.context = t88, this.width = e143, this.height = i68;
            const a83 = this.framebuffer = t88.gl.createFramebuffer();
            this.colorAttachment = new xi(t88, a83), o102 && (this.depthAttachment = new vi(t88, a83));
          }
          destroy() {
            const t88 = this.context.gl, e143 = this.colorAttachment.get();
            if (e143 && t88.deleteTexture(e143), this.depthAttachment) {
              const e144 = this.depthAttachment.get();
              e144 && t88.deleteRenderbuffer(e144);
            }
            t88.deleteFramebuffer(this.framebuffer);
          }
        }
        class bi {
          constructor(t88, e143, i68) {
            this.blendFunction = t88, this.blendColor = e143, this.mask = i68;
          }
        }
        bi.Replace = [1, 0], bi.disabled = new bi(bi.Replace, t87.Color.transparent, [false, false, false, false]), bi.unblended = new bi(bi.Replace, t87.Color.transparent, [true, true, true, true]), bi.alphaBlended = new bi([1, 771], t87.Color.transparent, [true, true, true, true]);
        class wi {
          constructor(t88) {
            this.gl = t88, this.extVertexArrayObject = this.gl.getExtension("OES_vertex_array_object"), this.clearColor = new Ne(this), this.clearDepth = new Ge(this), this.clearStencil = new Ze(this), this.colorMask = new qe(this), this.depthMask = new Ve(this), this.stencilMask = new je(this), this.stencilFunc = new $e(this), this.stencilOp = new We(this), this.stencilTest = new Xe(this), this.depthRange = new He(this), this.depthTest = new Ke(this), this.depthFunc = new Ye(this), this.blend = new Je(this), this.blendFunc = new Qe(this), this.blendColor = new ti(this), this.blendEquation = new ei(this), this.cullFace = new ii(this), this.cullFaceSide = new oi(this), this.frontFace = new ai(this), this.program = new si(this), this.activeTexture = new ri(this), this.viewport = new ni(this), this.bindFramebuffer = new li(this), this.bindRenderbuffer = new ci(this), this.bindTexture = new hi(this), this.bindVertexBuffer = new ui(this), this.bindElementBuffer = new di(this), this.bindVertexArrayOES = this.extVertexArrayObject && new mi(this), this.pixelStoreUnpack = new _i(this), this.pixelStoreUnpackPremultiplyAlpha = new pi(this), this.pixelStoreUnpackFlipY = new fi(this), this.extTextureFilterAnisotropic = t88.getExtension("EXT_texture_filter_anisotropic") || t88.getExtension("MOZ_EXT_texture_filter_anisotropic") || t88.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.extTextureFilterAnisotropic && (this.extTextureFilterAnisotropicMax = t88.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)), this.extTextureHalfFloat = t88.getExtension("OES_texture_half_float"), this.extTextureHalfFloat && (t88.getExtension("OES_texture_half_float_linear"), this.extRenderToTextureHalfFloat = t88.getExtension("EXT_color_buffer_half_float")), this.extTimerQuery = t88.getExtension("EXT_disjoint_timer_query"), this.maxTextureSize = t88.getParameter(t88.MAX_TEXTURE_SIZE);
          }
          setDefault() {
            this.unbindVAO(), this.clearColor.setDefault(), this.clearDepth.setDefault(), this.clearStencil.setDefault(), this.colorMask.setDefault(), this.depthMask.setDefault(), this.stencilMask.setDefault(), this.stencilFunc.setDefault(), this.stencilOp.setDefault(), this.stencilTest.setDefault(), this.depthRange.setDefault(), this.depthTest.setDefault(), this.depthFunc.setDefault(), this.blend.setDefault(), this.blendFunc.setDefault(), this.blendColor.setDefault(), this.blendEquation.setDefault(), this.cullFace.setDefault(), this.cullFaceSide.setDefault(), this.frontFace.setDefault(), this.program.setDefault(), this.activeTexture.setDefault(), this.bindFramebuffer.setDefault(), this.pixelStoreUnpack.setDefault(), this.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.pixelStoreUnpackFlipY.setDefault();
          }
          setDirty() {
            this.clearColor.dirty = true, this.clearDepth.dirty = true, this.clearStencil.dirty = true, this.colorMask.dirty = true, this.depthMask.dirty = true, this.stencilMask.dirty = true, this.stencilFunc.dirty = true, this.stencilOp.dirty = true, this.stencilTest.dirty = true, this.depthRange.dirty = true, this.depthTest.dirty = true, this.depthFunc.dirty = true, this.blend.dirty = true, this.blendFunc.dirty = true, this.blendColor.dirty = true, this.blendEquation.dirty = true, this.cullFace.dirty = true, this.cullFaceSide.dirty = true, this.frontFace.dirty = true, this.program.dirty = true, this.activeTexture.dirty = true, this.viewport.dirty = true, this.bindFramebuffer.dirty = true, this.bindRenderbuffer.dirty = true, this.bindTexture.dirty = true, this.bindVertexBuffer.dirty = true, this.bindElementBuffer.dirty = true, this.extVertexArrayObject && (this.bindVertexArrayOES.dirty = true), this.pixelStoreUnpack.dirty = true, this.pixelStoreUnpackPremultiplyAlpha.dirty = true, this.pixelStoreUnpackFlipY.dirty = true;
          }
          createIndexBuffer(t88, e143) {
            return new Be(this, t88, e143);
          }
          createVertexBuffer(t88, e143, i68) {
            return new Oe(this, t88, e143, i68);
          }
          createRenderbuffer(t88, e143, i68) {
            const o102 = this.gl, a83 = o102.createRenderbuffer();
            return this.bindRenderbuffer.set(a83), o102.renderbufferStorage(o102.RENDERBUFFER, t88, e143, i68), this.bindRenderbuffer.set(null), a83;
          }
          createFramebuffer(t88, e143, i68) {
            return new yi(this, t88, e143, i68);
          }
          clear({ color: t88, depth: e143 }) {
            const i68 = this.gl;
            let o102 = 0;
            t88 && (o102 |= i68.COLOR_BUFFER_BIT, this.clearColor.set(t88), this.colorMask.set([true, true, true, true])), void 0 !== e143 && (o102 |= i68.DEPTH_BUFFER_BIT, this.depthRange.set([0, 1]), this.clearDepth.set(e143), this.depthMask.set(true)), i68.clear(o102);
          }
          setCullFace(t88) {
            false === t88.enable ? this.cullFace.set(false) : (this.cullFace.set(true), this.cullFaceSide.set(t88.mode), this.frontFace.set(t88.frontFace));
          }
          setDepthMode(t88) {
            t88.func !== this.gl.ALWAYS || t88.mask ? (this.depthTest.set(true), this.depthFunc.set(t88.func), this.depthMask.set(t88.mask), this.depthRange.set(t88.range)) : this.depthTest.set(false);
          }
          setStencilMode(t88) {
            t88.test.func !== this.gl.ALWAYS || t88.mask ? (this.stencilTest.set(true), this.stencilMask.set(t88.mask), this.stencilOp.set([t88.fail, t88.depthFail, t88.pass]), this.stencilFunc.set({ func: t88.test.func, ref: t88.ref, mask: t88.test.mask })) : this.stencilTest.set(false);
          }
          setColorMode(t88) {
            a82(t88.blendFunction, bi.Replace) ? this.blend.set(false) : (this.blend.set(true), this.blendFunc.set(t88.blendFunction), this.blendColor.set(t88.blendColor)), this.colorMask.set(t88.mask);
          }
          unbindVAO() {
            this.extVertexArrayObject && this.bindVertexArrayOES.set(null);
          }
        }
        class Ti {
          constructor(t88, e143, i68) {
            this.func = t88, this.mask = e143, this.range = i68;
          }
        }
        Ti.ReadOnly = false, Ti.ReadWrite = true, Ti.disabled = new Ti(519, Ti.ReadOnly, [0, 1]);
        const Ei = 7680;
        class Ii {
          constructor(t88, e143, i68, o102, a83, s63) {
            this.test = t88, this.ref = e143, this.mask = i68, this.fail = o102, this.depthFail = a83, this.pass = s63;
          }
        }
        Ii.disabled = new Ii({ func: 519, mask: 0 }, 0, 0, Ei, Ei, Ei);
        class Si {
          constructor(t88, e143, i68) {
            this.enable = t88, this.mode = e143, this.frontFace = i68;
          }
        }
        let Ci;
        function Pi(e143, i68, o102, a83, s63, r62, n46) {
          const l30 = e143.context, c23 = l30.gl, h13 = e143.useProgram("collisionBox"), u21 = [];
          let d11 = 0, m30 = 0;
          for (let _5 = 0; _5 < a83.length; _5++) {
            const p19 = a83[_5], f23 = i68.getTile(p19), g16 = f23.getBucket(o102);
            if (!g16)
              continue;
            let x7 = p19.posMatrix;
            0 === s63[0] && 0 === s63[1] || (x7 = e143.translatePosMatrix(p19.posMatrix, f23, s63, r62));
            const v7 = n46 ? g16.textCollisionBox : g16.iconCollisionBox, y10 = g16.collisionCircleArray;
            if (y10.length > 0) {
              const i69 = t87.create(), o103 = x7;
              t87.mul(i69, g16.placementInvProjMatrix, e143.transform.glCoordMatrix), t87.mul(i69, i69, g16.placementViewportMatrix), u21.push({ circleArray: y10, circleOffset: m30, transform: o103, invTransform: i69 }), d11 += y10.length / 4, m30 = d11;
            }
            v7 && h13.draw(l30, c23.LINES, Ti.disabled, Ii.disabled, e143.colorModeForRenderPass(), Si.disabled, ge(x7, e143.transform, f23), o102.id, v7.layoutVertexBuffer, v7.indexBuffer, v7.segments, null, e143.transform.zoom, null, null, v7.collisionVertexBuffer);
          }
          if (!n46 || !u21.length)
            return;
          const _4 = e143.useProgram("collisionCircle"), p18 = new t87.CollisionCircleLayoutArray();
          p18.resize(4 * d11), p18._trim();
          let f22 = 0;
          for (const t88 of u21)
            for (let e144 = 0; e144 < t88.circleArray.length / 4; e144++) {
              const i69 = 4 * e144, o103 = t88.circleArray[i69 + 0], a84 = t88.circleArray[i69 + 1], s64 = t88.circleArray[i69 + 2], r63 = t88.circleArray[i69 + 3];
              p18.emplace(f22++, o103, a84, s64, r63, 0), p18.emplace(f22++, o103, a84, s64, r63, 1), p18.emplace(f22++, o103, a84, s64, r63, 2), p18.emplace(f22++, o103, a84, s64, r63, 3);
            }
          (!Ci || Ci.length < 2 * d11) && (Ci = function(e144) {
            const i69 = 2 * e144, o103 = new t87.QuadTriangleArray();
            o103.resize(i69), o103._trim();
            for (let t88 = 0; t88 < i69; t88++) {
              const e145 = 6 * t88;
              o103.uint16[e145 + 0] = 4 * t88 + 0, o103.uint16[e145 + 1] = 4 * t88 + 1, o103.uint16[e145 + 2] = 4 * t88 + 2, o103.uint16[e145 + 3] = 4 * t88 + 2, o103.uint16[e145 + 4] = 4 * t88 + 3, o103.uint16[e145 + 5] = 4 * t88 + 0;
            }
            return o103;
          }(d11));
          const g15 = l30.createIndexBuffer(Ci, true), x6 = l30.createVertexBuffer(p18, t87.collisionCircleLayout.members, true);
          for (const i69 of u21) {
            const a84 = { u_matrix: i69.transform, u_inv_matrix: i69.invTransform, u_camera_to_center_distance: (v6 = e143.transform).cameraToCenterDistance, u_viewport_size: [v6.width, v6.height] };
            _4.draw(l30, c23.TRIANGLES, Ti.disabled, Ii.disabled, e143.colorModeForRenderPass(), Si.disabled, a84, o102.id, x6, g15, t87.SegmentVector.simpleSegment(0, 2 * i69.circleOffset, i69.circleArray.length, i69.circleArray.length / 2), null, e143.transform.zoom, null, null, null);
          }
          var v6;
          x6.destroy(), g15.destroy();
        }
        Si.disabled = new Si(false, 1029, 2305), Si.backCCW = new Si(true, 1029, 2305);
        const zi = t87.identity(new Float32Array(16));
        function Di(e143, i68, o102, a83, s63, r62) {
          const { horizontalAlign: n46, verticalAlign: l30 } = t87.getAnchorAlignment(e143), c23 = -(n46 - 0.5) * i68, h13 = -(l30 - 0.5) * o102, u21 = t87.evaluateVariableOffset(e143, a83);
          return new t87.pointGeometry((c23 / s63 + u21[0]) * r62, (h13 / s63 + u21[1]) * r62);
        }
        function Ai(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13) {
          const u21 = e143.text.placedSymbolArray, d11 = e143.text.dynamicLayoutVertexArray, m30 = e143.icon.dynamicLayoutVertexArray, _4 = {};
          d11.clear();
          for (let m31 = 0; m31 < u21.length; m31++) {
            const p18 = u21.get(m31), f22 = e143.allowVerticalPlacement && !p18.placedOrientation, g15 = p18.hidden || !p18.crossTileID || f22 ? null : a83[p18.crossTileID];
            if (g15) {
              const a84 = new t87.pointGeometry(p18.anchorX, p18.anchorY), u22 = ut(a84, o102 ? n46 : r62), m32 = dt(s63.cameraToCenterDistance, u22.signedDistanceFromCamera);
              let f23 = t87.evaluateSizeForFeature(e143.textSizeData, c23, p18) * m32 / t87.ONE_EM;
              o102 && (f23 *= e143.tilePixelRatio / l30);
              const { width: x6, height: v6, anchor: y10, textOffset: b8, textBoxScale: w4 } = g15, T3 = Di(y10, x6, v6, b8, w4, f23), E5 = o102 ? ut(a84.add(T3), r62).point : u22.point.add(i68 ? T3.rotate(-s63.angle) : T3), I3 = e143.allowVerticalPlacement && p18.placedOrientation === t87.WritingMode.vertical ? Math.PI / 2 : 0;
              for (let e144 = 0; e144 < p18.numGlyphs; e144++)
                t87.addDynamicAttributes(d11, E5, I3);
              h13 && p18.associatedIconIndex >= 0 && (_4[p18.associatedIconIndex] = { shiftedAnchor: E5, angle: I3 });
            } else
              bt(p18.numGlyphs, d11);
          }
          if (h13) {
            m30.clear();
            const i69 = e143.icon.placedSymbolArray;
            for (let e144 = 0; e144 < i69.length; e144++) {
              const o103 = i69.get(e144);
              if (o103.hidden)
                bt(o103.numGlyphs, m30);
              else {
                const i70 = _4[e144];
                if (i70)
                  for (let e145 = 0; e145 < o103.numGlyphs; e145++)
                    t87.addDynamicAttributes(m30, i70.shiftedAnchor, i70.angle);
                else
                  bt(o103.numGlyphs, m30);
              }
            }
            e143.icon.dynamicLayoutVertexBuffer.updateData(m30);
          }
          e143.text.dynamicLayoutVertexBuffer.updateData(d11);
        }
        function Mi(t88, e143, i68) {
          return i68.iconsInText && e143 ? "symbolTextAndIcon" : t88 ? "symbolSDF" : "symbolIcon";
        }
        function Li(e143, i68, o102, a83, s63, r62, n46, l30, c23, h13, u21, d11) {
          const m30 = e143.context, _4 = m30.gl, p18 = e143.transform, f22 = "map" === l30, g15 = "map" === c23, x6 = "viewport" !== l30 && "point" !== o102.layout.get("symbol-placement"), v6 = f22 && !g15 && !x6, y10 = !o102.layout.get("symbol-sort-key").isConstant();
          let b8 = false;
          const w4 = e143.depthModeForSublayer(0, Ti.ReadOnly), T3 = o102.layout.get("text-variable-anchor"), E5 = [];
          for (const l31 of a83) {
            const a84 = i68.getTile(l31), c24 = a84.getBucket(o102);
            if (!c24)
              continue;
            const u22 = s63 ? c24.text : c24.icon;
            if (!u22 || !u22.segments.get().length)
              continue;
            const d12 = u22.programConfigurations.get(o102.id), m31 = s63 || c24.sdfIcons, w5 = s63 ? c24.textSizeData : c24.iconSizeData, I3 = g15 || 0 !== p18.pitch, S2 = e143.useProgram(Mi(m31, s63, c24), d12), C8 = t87.evaluateSizeForZoom(w5, p18.zoom);
            let P3, z3, D4, A4, M5 = [0, 0], L2 = null;
            if (s63) {
              if (z3 = a84.glyphAtlasTexture, D4 = _4.LINEAR, P3 = a84.glyphAtlasTexture.size, c24.iconsInText) {
                M5 = a84.imageAtlasTexture.size, L2 = a84.imageAtlasTexture;
                const t88 = "composite" === w5.kind || "camera" === w5.kind;
                A4 = I3 || e143.options.rotating || e143.options.zooming || t88 ? _4.LINEAR : _4.NEAREST;
              }
            } else {
              const t88 = 1 !== o102.layout.get("icon-size").constantOr(0) || c24.iconsNeedLinear;
              z3 = a84.imageAtlasTexture, D4 = m31 || e143.options.rotating || e143.options.zooming || t88 || I3 ? _4.LINEAR : _4.NEAREST, P3 = a84.imageAtlasTexture.size;
            }
            const R2 = It(a84, 1, e143.transform.zoom), k7 = ct(l31.posMatrix, g15, f22, e143.transform, R2), B3 = ht(l31.posMatrix, g15, f22, e143.transform, R2), F5 = T3 && c24.hasTextData(), O3 = "none" !== o102.layout.get("icon-text-fit") && F5 && c24.hasIconData();
            if (x6) {
              const t88 = "map" === o102.layout.get("text-rotation-alignment");
              _t(c24, l31.posMatrix, e143, s63, k7, B3, g15, h13, t88);
            }
            const U3 = e143.translatePosMatrix(l31.posMatrix, a84, r62, n46), N6 = x6 || s63 && T3 || O3 ? zi : k7, G2 = e143.translatePosMatrix(B3, a84, r62, n46, true), Z2 = m31 && 0 !== o102.paint.get(s63 ? "text-halo-width" : "icon-halo-width").constantOr(1);
            let q4;
            q4 = m31 ? c24.iconsInText ? Me(w5.kind, C8, v6, g15, e143, U3, N6, G2, P3, M5) : Ae(w5.kind, C8, v6, g15, e143, U3, N6, G2, s63, P3, true) : De(w5.kind, C8, v6, g15, e143, U3, N6, G2, s63, P3);
            const V3 = { program: S2, buffers: u22, uniformValues: q4, atlasTexture: z3, atlasTextureIcon: L2, atlasInterpolation: D4, atlasInterpolationIcon: A4, isSDF: m31, hasHalo: Z2 };
            if (y10 && c24.canOverlap) {
              b8 = true;
              const e144 = u22.segments.get();
              for (const i69 of e144)
                E5.push({ segments: new t87.SegmentVector([i69]), sortKey: i69.sortKey, state: V3 });
            } else
              E5.push({ segments: u22.segments, sortKey: 0, state: V3 });
          }
          b8 && E5.sort((t88, e144) => t88.sortKey - e144.sortKey);
          for (const t88 of E5) {
            const i69 = t88.state;
            if (m30.activeTexture.set(_4.TEXTURE0), i69.atlasTexture.bind(i69.atlasInterpolation, _4.CLAMP_TO_EDGE), i69.atlasTextureIcon && (m30.activeTexture.set(_4.TEXTURE1), i69.atlasTextureIcon && i69.atlasTextureIcon.bind(i69.atlasInterpolationIcon, _4.CLAMP_TO_EDGE)), i69.isSDF) {
              const a84 = i69.uniformValues;
              i69.hasHalo && (a84.u_is_halo = 1, Ri(i69.buffers, t88.segments, o102, e143, i69.program, w4, u21, d11, a84)), a84.u_is_halo = 0;
            }
            Ri(i69.buffers, t88.segments, o102, e143, i69.program, w4, u21, d11, i69.uniformValues);
          }
        }
        function Ri(t88, e143, i68, o102, a83, s63, r62, n46, l30) {
          const c23 = o102.context;
          a83.draw(c23, c23.gl.TRIANGLES, s63, r62, n46, Si.disabled, l30, i68.id, t88.layoutVertexBuffer, t88.indexBuffer, e143, i68.paint, o102.transform.zoom, t88.programConfigurations.get(i68.id), t88.dynamicLayoutVertexBuffer, t88.opacityVertexBuffer);
        }
        function ki(t88, e143, i68, o102, a83, s63, r62) {
          const n46 = t88.context.gl, l30 = i68.paint.get("fill-pattern"), c23 = l30 && l30.constantOr(1), h13 = i68.getCrossfadeParameters();
          let u21, d11, m30, _4, p18;
          r62 ? (d11 = c23 && !i68.getPaintProperty("fill-outline-color") ? "fillOutlinePattern" : "fillOutline", u21 = n46.LINES) : (d11 = c23 ? "fillPattern" : "fill", u21 = n46.TRIANGLES);
          for (const f22 of o102) {
            const o103 = e143.getTile(f22);
            if (c23 && !o103.patternsLoaded())
              continue;
            const g15 = o103.getBucket(i68);
            if (!g15)
              continue;
            const x6 = g15.programConfigurations.get(i68.id), v6 = t88.useProgram(d11, x6);
            c23 && (t88.context.activeTexture.set(n46.TEXTURE0), o103.imageAtlasTexture.bind(n46.LINEAR, n46.CLAMP_TO_EDGE), x6.updatePaintBuffers(h13));
            const y10 = l30.constantOr(null);
            if (y10 && o103.imageAtlas) {
              const t89 = o103.imageAtlas, e144 = t89.patternPositions[y10.to.toString()], i69 = t89.patternPositions[y10.from.toString()];
              e144 && i69 && x6.setConstantPatternPositions(e144, i69);
            }
            const b8 = t88.translatePosMatrix(f22.posMatrix, o103, i68.paint.get("fill-translate"), i68.paint.get("fill-translate-anchor"));
            if (r62) {
              _4 = g15.indexBuffer2, p18 = g15.segments2;
              const e144 = [n46.drawingBufferWidth, n46.drawingBufferHeight];
              m30 = "fillOutlinePattern" === d11 && c23 ? pe(b8, t88, h13, o103, e144) : _e(b8, e144);
            } else
              _4 = g15.indexBuffer, p18 = g15.segments, m30 = c23 ? me(b8, t88, h13, o103) : de(b8);
            v6.draw(t88.context, u21, a83, t88.stencilModeForClipping(f22), s63, Si.disabled, m30, i68.id, g15.layoutVertexBuffer, _4, p18, i68.paint, t88.transform.zoom, x6);
          }
        }
        function Bi(t88, e143, i68, o102, a83, s63, r62) {
          const n46 = t88.context, l30 = n46.gl, c23 = i68.paint.get("fill-extrusion-pattern"), h13 = c23.constantOr(1), u21 = i68.getCrossfadeParameters(), d11 = i68.paint.get("fill-extrusion-opacity");
          for (const m30 of o102) {
            const o103 = e143.getTile(m30), _4 = o103.getBucket(i68);
            if (!_4)
              continue;
            const p18 = _4.programConfigurations.get(i68.id), f22 = t88.useProgram(h13 ? "fillExtrusionPattern" : "fillExtrusion", p18);
            h13 && (t88.context.activeTexture.set(l30.TEXTURE0), o103.imageAtlasTexture.bind(l30.LINEAR, l30.CLAMP_TO_EDGE), p18.updatePaintBuffers(u21));
            const g15 = c23.constantOr(null);
            if (g15 && o103.imageAtlas) {
              const t89 = o103.imageAtlas, e144 = t89.patternPositions[g15.to.toString()], i69 = t89.patternPositions[g15.from.toString()];
              e144 && i69 && p18.setConstantPatternPositions(e144, i69);
            }
            const x6 = t88.translatePosMatrix(m30.posMatrix, o103, i68.paint.get("fill-extrusion-translate"), i68.paint.get("fill-extrusion-translate-anchor")), v6 = i68.paint.get("fill-extrusion-vertical-gradient"), y10 = h13 ? ue(x6, t88, v6, d11, m30, u21, o103) : he(x6, t88, v6, d11);
            f22.draw(n46, n46.gl.TRIANGLES, a83, s63, r62, Si.backCCW, y10, i68.id, _4.layoutVertexBuffer, _4.indexBuffer, _4.segments, i68.paint, t88.transform.zoom, p18);
          }
        }
        function Fi(t88, e143, i68, o102, a83, s63) {
          const r62 = t88.context, n46 = r62.gl, l30 = e143.fbo;
          if (!l30)
            return;
          const c23 = t88.useProgram("hillshade");
          r62.activeTexture.set(n46.TEXTURE0), n46.bindTexture(n46.TEXTURE_2D, l30.colorAttachment.get());
          const h13 = ((t89, e144, i69) => {
            const o103 = i69.paint.get("hillshade-shadow-color"), a84 = i69.paint.get("hillshade-highlight-color"), s64 = i69.paint.get("hillshade-accent-color");
            let r63 = i69.paint.get("hillshade-illumination-direction") * (Math.PI / 180);
            "viewport" === i69.paint.get("hillshade-illumination-anchor") && (r63 -= t89.transform.angle);
            const n47 = !t89.options.moving;
            return { u_matrix: t89.transform.calculatePosMatrix(e144.tileID.toUnwrapped(), n47), u_image: 0, u_latrange: be(0, e144.tileID), u_light: [i69.paint.get("hillshade-exaggeration"), r63], u_shadow: o103, u_highlight: a84, u_accent: s64 };
          })(t88, e143, i68);
          c23.draw(r62, n46.TRIANGLES, o102, a83, s63, Si.disabled, h13, i68.id, t88.rasterBoundsBuffer, t88.quadTriangleIndexBuffer, t88.rasterBoundsSegments);
        }
        function Oi(e143, i68, o102, a83, s63, r62) {
          const n46 = e143.context, l30 = n46.gl, c23 = i68.dem;
          if (c23 && c23.data) {
            const h13 = c23.dim, u21 = c23.stride, m30 = c23.getPixels();
            if (n46.activeTexture.set(l30.TEXTURE1), n46.pixelStoreUnpackPremultiplyAlpha.set(false), i68.demTexture = i68.demTexture || e143.getTileTexture(u21), i68.demTexture) {
              const t88 = i68.demTexture;
              t88.update(m30, { premultiply: false }), t88.bind(l30.NEAREST, l30.CLAMP_TO_EDGE);
            } else
              i68.demTexture = new d10(n46, m30, l30.RGBA, { premultiply: false }), i68.demTexture.bind(l30.NEAREST, l30.CLAMP_TO_EDGE);
            n46.activeTexture.set(l30.TEXTURE0);
            let _4 = i68.fbo;
            if (!_4) {
              const t88 = new d10(n46, { width: h13, height: h13, data: null }, l30.RGBA);
              t88.bind(l30.LINEAR, l30.CLAMP_TO_EDGE), _4 = i68.fbo = n46.createFramebuffer(h13, h13, true), _4.colorAttachment.set(t88.texture);
            }
            n46.bindFramebuffer.set(_4.framebuffer), n46.viewport.set([0, 0, h13, h13]), e143.useProgram("hillshadePrepare").draw(n46, l30.TRIANGLES, a83, s63, r62, Si.disabled, ((e144, i69) => {
              const o103 = i69.stride, a84 = t87.create();
              return t87.ortho(a84, 0, t87.EXTENT, -t87.EXTENT, 0, 0, 1), t87.translate(a84, a84, [0, -t87.EXTENT, 0]), { u_matrix: a84, u_image: 1, u_dimension: [o103, o103], u_zoom: e144.overscaledZ, u_unpack: i69.getUnpackVector() };
            })(i68.tileID, c23), o102.id, e143.rasterBoundsBuffer, e143.quadTriangleIndexBuffer, e143.rasterBoundsSegments), i68.needsHillshadePrepare = false;
          }
        }
        function Ui(e143, i68, o102, a83, s63) {
          const r62 = a83.paint.get("raster-fade-duration");
          if (r62 > 0) {
            const a84 = t87.exported.now(), n46 = (a84 - e143.timeAdded) / r62, l30 = i68 ? (a84 - i68.timeAdded) / r62 : -1, c23 = o102.getSource(), h13 = s63.coveringZoomLevel({ tileSize: c23.tileSize, roundZoom: c23.roundZoom }), u21 = !i68 || Math.abs(i68.tileID.overscaledZ - h13) > Math.abs(e143.tileID.overscaledZ - h13), d11 = u21 && e143.refreshedUponExpiration ? 1 : t87.clamp(u21 ? n46 : 1 - l30, 0, 1);
            return e143.refreshedUponExpiration && n46 >= 1 && (e143.refreshedUponExpiration = false), i68 ? { opacity: 1, mix: 1 - d11 } : { opacity: d11, mix: 0 };
          }
          return { opacity: 1, mix: 0 };
        }
        const Ni = new t87.Color(1, 0, 0, 1), Gi = new t87.Color(0, 1, 0, 1), Zi = new t87.Color(0, 0, 1, 1), qi = new t87.Color(1, 0, 1, 1), Vi = new t87.Color(0, 1, 1, 1);
        function ji(t88, e143, i68, o102) {
          Wi(t88, 0, e143 + i68 / 2, t88.transform.width, i68, o102);
        }
        function $i(t88, e143, i68, o102) {
          Wi(t88, e143 - i68 / 2, 0, i68, t88.transform.height, o102);
        }
        function Wi(t88, e143, i68, o102, a83, s63) {
          const r62 = t88.context, n46 = r62.gl;
          n46.enable(n46.SCISSOR_TEST), n46.scissor(e143 * t88.pixelRatio, i68 * t88.pixelRatio, o102 * t88.pixelRatio, a83 * t88.pixelRatio), r62.clear({ color: s63 }), n46.disable(n46.SCISSOR_TEST);
        }
        function Xi(e143, i68, o102) {
          const a83 = e143.context, s63 = a83.gl, r62 = o102.posMatrix, n46 = e143.useProgram("debug"), l30 = Ti.disabled, c23 = Ii.disabled, h13 = e143.colorModeForRenderPass(), u21 = "$debug";
          a83.activeTexture.set(s63.TEXTURE0), e143.emptyTexture.bind(s63.LINEAR, s63.CLAMP_TO_EDGE), n46.draw(a83, s63.LINE_STRIP, l30, c23, h13, Si.disabled, xe(r62, t87.Color.red), u21, e143.debugBuffer, e143.tileBorderIndexBuffer, e143.debugSegments);
          const d11 = i68.getTileByID(o102.key).latestRawTileData, m30 = Math.floor((d11 && d11.byteLength || 0) / 1024), _4 = i68.getTile(o102).tileSize, p18 = 512 / Math.min(_4, 512) * (o102.overscaledZ / e143.transform.zoom) * 0.5;
          let f22 = o102.canonical.toString();
          o102.overscaledZ !== o102.canonical.z && (f22 += ` => ${o102.overscaledZ}`), function(t88, e144) {
            t88.initDebugOverlayCanvas();
            const i69 = t88.debugOverlayCanvas, o103 = t88.context.gl, a84 = t88.debugOverlayCanvas.getContext("2d");
            a84.clearRect(0, 0, i69.width, i69.height), a84.shadowColor = "white", a84.shadowBlur = 2, a84.lineWidth = 1.5, a84.strokeStyle = "white", a84.textBaseline = "top", a84.font = "bold 36px Open Sans, sans-serif", a84.fillText(e144, 5, 5), a84.strokeText(e144, 5, 5), t88.debugOverlayTexture.update(i69), t88.debugOverlayTexture.bind(o103.LINEAR, o103.CLAMP_TO_EDGE);
          }(e143, `${f22} ${m30}kb`), n46.draw(a83, s63.TRIANGLES, l30, c23, bi.alphaBlended, Si.disabled, xe(r62, t87.Color.transparent, p18), u21, e143.debugBuffer, e143.quadTriangleIndexBuffer, e143.debugSegments);
        }
        const Hi = { symbol: function(e143, i68, o102, a83, s63) {
          if ("translucent" !== e143.renderPass)
            return;
          const r62 = Ii.disabled, n46 = e143.colorModeForRenderPass();
          o102.layout.get("text-variable-anchor") && function(e144, i69, o103, a84, s64, r63, n47) {
            const l30 = i69.transform, c23 = "map" === s64, h13 = "map" === r63;
            for (const s65 of e144) {
              const e145 = a84.getTile(s65), r64 = e145.getBucket(o103);
              if (!r64 || !r64.text || !r64.text.segments.get().length)
                continue;
              const u21 = t87.evaluateSizeForZoom(r64.textSizeData, l30.zoom), d11 = It(e145, 1, i69.transform.zoom), m30 = ct(s65.posMatrix, h13, c23, i69.transform, d11), _4 = "none" !== o103.layout.get("icon-text-fit") && r64.hasIconData();
              if (u21) {
                const t88 = Math.pow(2, l30.zoom - e145.tileID.overscaledZ);
                Ai(r64, c23, h13, n47, l30, m30, s65.posMatrix, t88, u21, _4);
              }
            }
          }(a83, e143, o102, i68, o102.layout.get("text-rotation-alignment"), o102.layout.get("text-pitch-alignment"), s63), 0 !== o102.paint.get("icon-opacity").constantOr(1) && Li(e143, i68, o102, a83, false, o102.paint.get("icon-translate"), o102.paint.get("icon-translate-anchor"), o102.layout.get("icon-rotation-alignment"), o102.layout.get("icon-pitch-alignment"), o102.layout.get("icon-keep-upright"), r62, n46), 0 !== o102.paint.get("text-opacity").constantOr(1) && Li(e143, i68, o102, a83, true, o102.paint.get("text-translate"), o102.paint.get("text-translate-anchor"), o102.layout.get("text-rotation-alignment"), o102.layout.get("text-pitch-alignment"), o102.layout.get("text-keep-upright"), r62, n46), i68.map.showCollisionBoxes && (Pi(e143, i68, o102, a83, o102.paint.get("text-translate"), o102.paint.get("text-translate-anchor"), true), Pi(e143, i68, o102, a83, o102.paint.get("icon-translate"), o102.paint.get("icon-translate-anchor"), false));
        }, circle: function(e143, i68, o102, a83) {
          if ("translucent" !== e143.renderPass)
            return;
          const s63 = o102.paint.get("circle-opacity"), r62 = o102.paint.get("circle-stroke-width"), n46 = o102.paint.get("circle-stroke-opacity"), l30 = !o102.layout.get("circle-sort-key").isConstant();
          if (0 === s63.constantOr(1) && (0 === r62.constantOr(1) || 0 === n46.constantOr(1)))
            return;
          const c23 = e143.context, h13 = c23.gl, u21 = e143.depthModeForSublayer(0, Ti.ReadOnly), d11 = Ii.disabled, m30 = e143.colorModeForRenderPass(), _4 = [];
          for (let s64 = 0; s64 < a83.length; s64++) {
            const r63 = a83[s64], n47 = i68.getTile(r63), c24 = n47.getBucket(o102);
            if (!c24)
              continue;
            const h14 = c24.programConfigurations.get(o102.id), u22 = { programConfiguration: h14, program: e143.useProgram("circle", h14), layoutVertexBuffer: c24.layoutVertexBuffer, indexBuffer: c24.indexBuffer, uniformValues: fe(e143, r63, n47, o102) };
            if (l30) {
              const e144 = c24.segments.get();
              for (const i69 of e144)
                _4.push({ segments: new t87.SegmentVector([i69]), sortKey: i69.sortKey, state: u22 });
            } else
              _4.push({ segments: c24.segments, sortKey: 0, state: u22 });
          }
          l30 && _4.sort((t88, e144) => t88.sortKey - e144.sortKey);
          for (const t88 of _4) {
            const { programConfiguration: i69, program: a84, layoutVertexBuffer: s64, indexBuffer: r63, uniformValues: n47 } = t88.state;
            a84.draw(c23, h13.TRIANGLES, u21, d11, m30, Si.disabled, n47, o102.id, s64, r63, t88.segments, o102.paint, e143.transform.zoom, i69);
          }
        }, heatmap: function(e143, i68, o102, a83) {
          if (0 !== o102.paint.get("heatmap-opacity"))
            if ("offscreen" === e143.renderPass) {
              const s63 = e143.context, r62 = s63.gl, n46 = Ii.disabled, l30 = new bi([r62.ONE, r62.ONE], t87.Color.transparent, [true, true, true, true]);
              !function(t88, e144, i69) {
                const o103 = t88.gl;
                t88.activeTexture.set(o103.TEXTURE1), t88.viewport.set([0, 0, e144.width / 4, e144.height / 4]);
                let a84 = i69.heatmapFbo;
                if (a84)
                  o103.bindTexture(o103.TEXTURE_2D, a84.colorAttachment.get()), t88.bindFramebuffer.set(a84.framebuffer);
                else {
                  const s64 = o103.createTexture();
                  o103.bindTexture(o103.TEXTURE_2D, s64), o103.texParameteri(o103.TEXTURE_2D, o103.TEXTURE_WRAP_S, o103.CLAMP_TO_EDGE), o103.texParameteri(o103.TEXTURE_2D, o103.TEXTURE_WRAP_T, o103.CLAMP_TO_EDGE), o103.texParameteri(o103.TEXTURE_2D, o103.TEXTURE_MIN_FILTER, o103.LINEAR), o103.texParameteri(o103.TEXTURE_2D, o103.TEXTURE_MAG_FILTER, o103.LINEAR), a84 = i69.heatmapFbo = t88.createFramebuffer(e144.width / 4, e144.height / 4, false), function(t89, e145, i70, o104) {
                    const a85 = t89.gl;
                    a85.texImage2D(a85.TEXTURE_2D, 0, a85.RGBA, e145.width / 4, e145.height / 4, 0, a85.RGBA, t89.extRenderToTextureHalfFloat ? t89.extTextureHalfFloat.HALF_FLOAT_OES : a85.UNSIGNED_BYTE, null), o104.colorAttachment.set(i70);
                  }(t88, e144, s64, a84);
                }
              }(s63, e143, o102), s63.clear({ color: t87.Color.transparent });
              for (let t88 = 0; t88 < a83.length; t88++) {
                const c23 = a83[t88];
                if (i68.hasRenderableParent(c23))
                  continue;
                const h13 = i68.getTile(c23), u21 = h13.getBucket(o102);
                if (!u21)
                  continue;
                const d11 = u21.programConfigurations.get(o102.id), m30 = e143.useProgram("heatmap", d11), { zoom: _4 } = e143.transform;
                m30.draw(s63, r62.TRIANGLES, Ti.disabled, n46, l30, Si.disabled, ye(c23.posMatrix, h13, _4, o102.paint.get("heatmap-intensity")), o102.id, u21.layoutVertexBuffer, u21.indexBuffer, u21.segments, o102.paint, e143.transform.zoom, d11);
              }
              s63.viewport.set([0, 0, e143.width, e143.height]);
            } else
              "translucent" === e143.renderPass && (e143.context.setColorMode(e143.colorModeForRenderPass()), function(e144, i69) {
                const o103 = e144.context, a84 = o103.gl, s63 = i69.heatmapFbo;
                if (!s63)
                  return;
                o103.activeTexture.set(a84.TEXTURE0), a84.bindTexture(a84.TEXTURE_2D, s63.colorAttachment.get()), o103.activeTexture.set(a84.TEXTURE1);
                let r62 = i69.colorRampTexture;
                r62 || (r62 = i69.colorRampTexture = new d10(o103, i69.colorRamp, a84.RGBA)), r62.bind(a84.LINEAR, a84.CLAMP_TO_EDGE), e144.useProgram("heatmapTexture").draw(o103, a84.TRIANGLES, Ti.disabled, Ii.disabled, e144.colorModeForRenderPass(), Si.disabled, ((e145, i70, o104, a85) => {
                  const s64 = t87.create();
                  t87.ortho(s64, 0, e145.width, e145.height, 0, 0, 1);
                  const r63 = e145.context.gl;
                  return { u_matrix: s64, u_world: [r63.drawingBufferWidth, r63.drawingBufferHeight], u_image: 0, u_color_ramp: 1, u_opacity: i70.paint.get("heatmap-opacity") };
                })(e144, i69), i69.id, e144.viewportBuffer, e144.quadTriangleIndexBuffer, e144.viewportSegments, i69.paint, e144.transform.zoom);
              }(e143, o102));
        }, line: function(e143, i68, o102, a83) {
          if ("translucent" !== e143.renderPass)
            return;
          const s63 = o102.paint.get("line-opacity"), r62 = o102.paint.get("line-width");
          if (0 === s63.constantOr(1) || 0 === r62.constantOr(1))
            return;
          const n46 = e143.depthModeForSublayer(0, Ti.ReadOnly), l30 = e143.colorModeForRenderPass(), c23 = o102.paint.get("line-dasharray"), h13 = o102.paint.get("line-pattern"), u21 = h13.constantOr(1), m30 = o102.paint.get("line-gradient"), _4 = o102.getCrossfadeParameters(), p18 = u21 ? "linePattern" : c23 ? "lineSDF" : m30 ? "lineGradient" : "line", f22 = e143.context, g15 = f22.gl;
          let x6 = true;
          for (const s64 of a83) {
            const a84 = i68.getTile(s64);
            if (u21 && !a84.patternsLoaded())
              continue;
            const r63 = a84.getBucket(o102);
            if (!r63)
              continue;
            const v6 = r63.programConfigurations.get(o102.id), y10 = e143.context.program.get(), b8 = e143.useProgram(p18, v6), w4 = x6 || b8.program !== y10, T3 = h13.constantOr(null);
            if (T3 && a84.imageAtlas) {
              const t88 = a84.imageAtlas, e144 = t88.patternPositions[T3.to.toString()], i69 = t88.patternPositions[T3.from.toString()];
              e144 && i69 && v6.setConstantPatternPositions(e144, i69);
            }
            const E5 = u21 ? Ee(e143, a84, o102, _4) : c23 ? Ie(e143, a84, o102, c23, _4) : m30 ? Te(e143, a84, o102, r63.lineClipsArray.length) : we(e143, a84, o102);
            if (u21)
              f22.activeTexture.set(g15.TEXTURE0), a84.imageAtlasTexture.bind(g15.LINEAR, g15.CLAMP_TO_EDGE), v6.updatePaintBuffers(_4);
            else if (c23 && (w4 || e143.lineAtlas.dirty))
              f22.activeTexture.set(g15.TEXTURE0), e143.lineAtlas.bind(f22);
            else if (m30) {
              const a85 = r63.gradients[o102.id];
              let n47 = a85.texture;
              if (o102.gradientVersion !== a85.version) {
                let l31 = 256;
                if (o102.stepInterpolant) {
                  const o103 = i68.getSource().maxzoom, a86 = s64.canonical.z === o103 ? Math.ceil(1 << e143.transform.maxZoom - s64.canonical.z) : 1;
                  l31 = t87.clamp(t87.nextPowerOfTwo(r63.maxLineLength / t87.EXTENT * 1024 * a86), 256, f22.maxTextureSize);
                }
                a85.gradient = t87.renderColorRamp({ expression: o102.gradientExpression(), evaluationKey: "lineProgress", resolution: l31, image: a85.gradient || void 0, clips: r63.lineClipsArray }), a85.texture ? a85.texture.update(a85.gradient) : a85.texture = new d10(f22, a85.gradient, g15.RGBA), a85.version = o102.gradientVersion, n47 = a85.texture;
              }
              f22.activeTexture.set(g15.TEXTURE0), n47.bind(o102.stepInterpolant ? g15.NEAREST : g15.LINEAR, g15.CLAMP_TO_EDGE);
            }
            b8.draw(f22, g15.TRIANGLES, n46, e143.stencilModeForClipping(s64), l30, Si.disabled, E5, o102.id, r63.layoutVertexBuffer, r63.indexBuffer, r63.segments, o102.paint, e143.transform.zoom, v6, r63.layoutVertexBuffer2), x6 = false;
          }
        }, fill: function(e143, i68, o102, a83) {
          const s63 = o102.paint.get("fill-color"), r62 = o102.paint.get("fill-opacity");
          if (0 === r62.constantOr(1))
            return;
          const n46 = e143.colorModeForRenderPass(), l30 = o102.paint.get("fill-pattern"), c23 = e143.opaquePassEnabledForLayer() && !l30.constantOr(1) && 1 === s63.constantOr(t87.Color.transparent).a && 1 === r62.constantOr(0) ? "opaque" : "translucent";
          if (e143.renderPass === c23) {
            const t88 = e143.depthModeForSublayer(1, "opaque" === e143.renderPass ? Ti.ReadWrite : Ti.ReadOnly);
            ki(e143, i68, o102, a83, t88, n46, false);
          }
          if ("translucent" === e143.renderPass && o102.paint.get("fill-antialias")) {
            const t88 = e143.depthModeForSublayer(o102.getPaintProperty("fill-outline-color") ? 2 : 0, Ti.ReadOnly);
            ki(e143, i68, o102, a83, t88, n46, true);
          }
        }, "fill-extrusion": function(t88, e143, i68, o102) {
          const a83 = i68.paint.get("fill-extrusion-opacity");
          if (0 !== a83 && "translucent" === t88.renderPass) {
            const s63 = new Ti(t88.context.gl.LEQUAL, Ti.ReadWrite, t88.depthRangeFor3D);
            if (1 !== a83 || i68.paint.get("fill-extrusion-pattern").constantOr(1))
              Bi(t88, e143, i68, o102, s63, Ii.disabled, bi.disabled), Bi(t88, e143, i68, o102, s63, t88.stencilModeFor3D(), t88.colorModeForRenderPass());
            else {
              const a84 = t88.colorModeForRenderPass();
              Bi(t88, e143, i68, o102, s63, Ii.disabled, a84);
            }
          }
        }, hillshade: function(t88, e143, i68, o102) {
          if ("offscreen" !== t88.renderPass && "translucent" !== t88.renderPass)
            return;
          const a83 = t88.context, s63 = t88.depthModeForSublayer(0, Ti.ReadOnly), r62 = t88.colorModeForRenderPass(), [n46, l30] = "translucent" === t88.renderPass ? t88.stencilConfigForOverlap(o102) : [{}, o102];
          for (const o103 of l30) {
            const a84 = e143.getTile(o103);
            a84.needsHillshadePrepare && "offscreen" === t88.renderPass ? Oi(t88, a84, i68, s63, Ii.disabled, r62) : "translucent" === t88.renderPass && Fi(t88, a84, i68, s63, n46[o103.overscaledZ], r62);
          }
          a83.viewport.set([0, 0, t88.width, t88.height]);
        }, raster: function(t88, e143, i68, o102) {
          if ("translucent" !== t88.renderPass)
            return;
          if (0 === i68.paint.get("raster-opacity"))
            return;
          if (!o102.length)
            return;
          const a83 = t88.context, s63 = a83.gl, r62 = e143.getSource(), n46 = t88.useProgram("raster"), l30 = t88.colorModeForRenderPass(), [c23, h13] = r62 instanceof M4 ? [{}, o102] : t88.stencilConfigForOverlap(o102), u21 = h13[h13.length - 1].overscaledZ, d11 = !t88.options.moving;
          for (const o103 of h13) {
            const h14 = t88.depthModeForSublayer(o103.overscaledZ - u21, 1 === i68.paint.get("raster-opacity") ? Ti.ReadWrite : Ti.ReadOnly, s63.LESS), m30 = e143.getTile(o103), _4 = t88.transform.calculatePosMatrix(o103.toUnwrapped(), d11);
            m30.registerFadeDuration(i68.paint.get("raster-fade-duration"));
            const p18 = e143.findLoadedParent(o103, 0), f22 = Ui(m30, p18, e143, i68, t88.transform);
            let g15, x6;
            const v6 = "nearest" === i68.paint.get("raster-resampling") ? s63.NEAREST : s63.LINEAR;
            a83.activeTexture.set(s63.TEXTURE0), m30.texture.bind(v6, s63.CLAMP_TO_EDGE, s63.LINEAR_MIPMAP_NEAREST), a83.activeTexture.set(s63.TEXTURE1), p18 ? (p18.texture.bind(v6, s63.CLAMP_TO_EDGE, s63.LINEAR_MIPMAP_NEAREST), g15 = Math.pow(2, p18.tileID.overscaledZ - m30.tileID.overscaledZ), x6 = [m30.tileID.canonical.x * g15 % 1, m30.tileID.canonical.y * g15 % 1]) : m30.texture.bind(v6, s63.CLAMP_TO_EDGE, s63.LINEAR_MIPMAP_NEAREST);
            const y10 = Pe(_4, x6 || [0, 0], g15 || 1, f22, i68);
            r62 instanceof M4 ? n46.draw(a83, s63.TRIANGLES, h14, Ii.disabled, l30, Si.disabled, y10, i68.id, r62.boundsBuffer, t88.quadTriangleIndexBuffer, r62.boundsSegments) : n46.draw(a83, s63.TRIANGLES, h14, c23[o103.overscaledZ], l30, Si.disabled, y10, i68.id, t88.rasterBoundsBuffer, t88.quadTriangleIndexBuffer, t88.rasterBoundsSegments);
          }
        }, background: function(t88, e143, i68) {
          const o102 = i68.paint.get("background-color"), a83 = i68.paint.get("background-opacity");
          if (0 === a83)
            return;
          const s63 = t88.context, r62 = s63.gl, n46 = t88.transform, l30 = n46.tileSize, c23 = i68.paint.get("background-pattern");
          if (t88.isPatternMissing(c23))
            return;
          const h13 = !c23 && 1 === o102.a && 1 === a83 && t88.opaquePassEnabledForLayer() ? "opaque" : "translucent";
          if (t88.renderPass !== h13)
            return;
          const u21 = Ii.disabled, d11 = t88.depthModeForSublayer(0, "opaque" === h13 ? Ti.ReadWrite : Ti.ReadOnly), m30 = t88.colorModeForRenderPass(), _4 = t88.useProgram(c23 ? "backgroundPattern" : "background"), p18 = n46.coveringTiles({ tileSize: l30 });
          c23 && (s63.activeTexture.set(r62.TEXTURE0), t88.imageManager.bind(t88.context));
          const f22 = i68.getCrossfadeParameters();
          for (const e144 of p18) {
            const n47 = t88.transform.calculatePosMatrix(e144.toUnwrapped()), h14 = c23 ? Re(n47, a83, t88, c23, { tileID: e144, tileSize: l30 }, f22) : Le(n47, a83, o102);
            _4.draw(s63, r62.TRIANGLES, d11, u21, m30, Si.disabled, h14, i68.id, t88.tileExtentBuffer, t88.quadTriangleIndexBuffer, t88.tileExtentSegments);
          }
        }, debug: function(t88, e143, i68) {
          for (let o102 = 0; o102 < i68.length; o102++)
            Xi(t88, e143, i68[o102]);
        }, custom: function(t88, e143, i68) {
          const o102 = t88.context, a83 = i68.implementation;
          if ("offscreen" === t88.renderPass) {
            const e144 = a83.prerender;
            e144 && (t88.setCustomLayerDefaults(), o102.setColorMode(t88.colorModeForRenderPass()), e144.call(a83, o102.gl, t88.transform.customLayerMatrix()), o102.setDirty(), t88.setBaseState());
          } else if ("translucent" === t88.renderPass) {
            t88.setCustomLayerDefaults(), o102.setColorMode(t88.colorModeForRenderPass()), o102.setStencilMode(Ii.disabled);
            const e144 = "3d" === a83.renderingMode ? new Ti(t88.context.gl.LEQUAL, Ti.ReadWrite, t88.depthRangeFor3D) : t88.depthModeForSublayer(0, Ti.ReadOnly);
            o102.setDepthMode(e144), a83.render(o102.gl, t88.transform.customLayerMatrix()), o102.setDirty(), t88.setBaseState(), o102.bindFramebuffer.set(null);
          }
        } };
        class Ki {
          constructor(t88, e143) {
            this.context = new wi(t88), this.transform = e143, this._tileTextures = {}, this.setup(), this.numSublayers = Z.maxUnderzooming + Z.maxOverzooming + 1, this.depthEpsilon = 1 / Math.pow(2, 16), this.crossTileSymbolIndex = new Yt(), this.gpuTimers = {};
          }
          resize(t88, e143, i68) {
            if (this.width = t88 * i68, this.height = e143 * i68, this.pixelRatio = i68, this.context.viewport.set([0, 0, this.width, this.height]), this.style)
              for (const t89 of this.style._order)
                this.style._layers[t89].resize();
          }
          setup() {
            const e143 = this.context, i68 = new t87.PosArray();
            i68.emplaceBack(0, 0), i68.emplaceBack(t87.EXTENT, 0), i68.emplaceBack(0, t87.EXTENT), i68.emplaceBack(t87.EXTENT, t87.EXTENT), this.tileExtentBuffer = e143.createVertexBuffer(i68, oe.members), this.tileExtentSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2);
            const o102 = new t87.PosArray();
            o102.emplaceBack(0, 0), o102.emplaceBack(t87.EXTENT, 0), o102.emplaceBack(0, t87.EXTENT), o102.emplaceBack(t87.EXTENT, t87.EXTENT), this.debugBuffer = e143.createVertexBuffer(o102, oe.members), this.debugSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 5);
            const a83 = new t87.RasterBoundsArray();
            a83.emplaceBack(0, 0, 0, 0), a83.emplaceBack(t87.EXTENT, 0, t87.EXTENT, 0), a83.emplaceBack(0, t87.EXTENT, 0, t87.EXTENT), a83.emplaceBack(t87.EXTENT, t87.EXTENT, t87.EXTENT, t87.EXTENT), this.rasterBoundsBuffer = e143.createVertexBuffer(a83, A3.members), this.rasterBoundsSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2);
            const s63 = new t87.PosArray();
            s63.emplaceBack(0, 0), s63.emplaceBack(1, 0), s63.emplaceBack(0, 1), s63.emplaceBack(1, 1), this.viewportBuffer = e143.createVertexBuffer(s63, oe.members), this.viewportSegments = t87.SegmentVector.simpleSegment(0, 0, 4, 2);
            const r62 = new t87.LineStripIndexArray();
            r62.emplaceBack(0), r62.emplaceBack(1), r62.emplaceBack(3), r62.emplaceBack(2), r62.emplaceBack(0), this.tileBorderIndexBuffer = e143.createIndexBuffer(r62);
            const n46 = new t87.TriangleIndexArray();
            n46.emplaceBack(0, 1, 2), n46.emplaceBack(2, 1, 3), this.quadTriangleIndexBuffer = e143.createIndexBuffer(n46), this.emptyTexture = new d10(e143, { width: 1, height: 1, data: new Uint8Array([0, 0, 0, 0]) }, e143.gl.RGBA);
            const l30 = this.context.gl;
            this.stencilClearMode = new Ii({ func: l30.ALWAYS, mask: 0 }, 0, 255, l30.ZERO, l30.ZERO, l30.ZERO);
          }
          clearStencil() {
            const e143 = this.context, i68 = e143.gl;
            this.nextStencilID = 1, this.currentStencilSource = void 0;
            const o102 = t87.create();
            t87.ortho(o102, 0, this.width, this.height, 0, 0, 1), t87.scale(o102, o102, [i68.drawingBufferWidth, i68.drawingBufferHeight, 0]), this.useProgram("clippingMask").draw(e143, i68.TRIANGLES, Ti.disabled, this.stencilClearMode, bi.disabled, Si.disabled, ve(o102), "$clipping", this.viewportBuffer, this.quadTriangleIndexBuffer, this.viewportSegments);
          }
          _renderTileClippingMasks(t88, e143) {
            if (this.currentStencilSource === t88.source || !t88.isTileClipped() || !e143 || !e143.length)
              return;
            this.currentStencilSource = t88.source;
            const i68 = this.context, o102 = i68.gl;
            this.nextStencilID + e143.length > 256 && this.clearStencil(), i68.setColorMode(bi.disabled), i68.setDepthMode(Ti.disabled);
            const a83 = this.useProgram("clippingMask");
            this._tileClippingMaskIDs = {};
            for (const t89 of e143) {
              const e144 = this._tileClippingMaskIDs[t89.key] = this.nextStencilID++;
              a83.draw(i68, o102.TRIANGLES, Ti.disabled, new Ii({ func: o102.ALWAYS, mask: 0 }, e144, 255, o102.KEEP, o102.KEEP, o102.REPLACE), bi.disabled, Si.disabled, ve(t89.posMatrix), "$clipping", this.tileExtentBuffer, this.quadTriangleIndexBuffer, this.tileExtentSegments);
            }
          }
          stencilModeFor3D() {
            this.currentStencilSource = void 0, this.nextStencilID + 1 > 256 && this.clearStencil();
            const t88 = this.nextStencilID++, e143 = this.context.gl;
            return new Ii({ func: e143.NOTEQUAL, mask: 255 }, t88, 255, e143.KEEP, e143.KEEP, e143.REPLACE);
          }
          stencilModeForClipping(t88) {
            const e143 = this.context.gl;
            return new Ii({ func: e143.EQUAL, mask: 255 }, this._tileClippingMaskIDs[t88.key], 0, e143.KEEP, e143.KEEP, e143.REPLACE);
          }
          stencilConfigForOverlap(t88) {
            const e143 = this.context.gl, i68 = t88.sort((t89, e144) => e144.overscaledZ - t89.overscaledZ), o102 = i68[i68.length - 1].overscaledZ, a83 = i68[0].overscaledZ - o102 + 1;
            if (a83 > 1) {
              this.currentStencilSource = void 0, this.nextStencilID + a83 > 256 && this.clearStencil();
              const t89 = {};
              for (let i69 = 0; i69 < a83; i69++)
                t89[i69 + o102] = new Ii({ func: e143.GEQUAL, mask: 255 }, i69 + this.nextStencilID, 255, e143.KEEP, e143.KEEP, e143.REPLACE);
              return this.nextStencilID += a83, [t89, i68];
            }
            return [{ [o102]: Ii.disabled }, i68];
          }
          colorModeForRenderPass() {
            const e143 = this.context.gl;
            if (this._showOverdrawInspector) {
              const i68 = 1 / 8;
              return new bi([e143.CONSTANT_COLOR, e143.ONE], new t87.Color(i68, i68, i68, 0), [true, true, true, true]);
            }
            return "opaque" === this.renderPass ? bi.unblended : bi.alphaBlended;
          }
          depthModeForSublayer(t88, e143, i68) {
            if (!this.opaquePassEnabledForLayer())
              return Ti.disabled;
            const o102 = 1 - ((1 + this.currentLayer) * this.numSublayers + t88) * this.depthEpsilon;
            return new Ti(i68 || this.context.gl.LEQUAL, e143, [o102, o102]);
          }
          opaquePassEnabledForLayer() {
            return this.currentLayer < this.opaquePassCutoff;
          }
          render(e143, i68) {
            this.style = e143, this.options = i68, this.lineAtlas = e143.lineAtlas, this.imageManager = e143.imageManager, this.glyphManager = e143.glyphManager, this.symbolFadeChange = e143.placement.symbolFadeChange(t87.exported.now()), this.imageManager.beginFrame();
            const o102 = this.style._order, a83 = this.style.sourceCaches;
            for (const t88 in a83) {
              const e144 = a83[t88];
              e144.used && e144.prepare(this.context);
            }
            const s63 = {}, r62 = {}, n46 = {};
            for (const t88 in a83) {
              const e144 = a83[t88];
              s63[t88] = e144.getVisibleCoordinates(), r62[t88] = s63[t88].slice().reverse(), n46[t88] = e144.getVisibleCoordinates(true).reverse();
            }
            this.opaquePassCutoff = 1 / 0;
            for (let t88 = 0; t88 < o102.length; t88++)
              if (this.style._layers[o102[t88]].is3D()) {
                this.opaquePassCutoff = t88;
                break;
              }
            this.renderPass = "offscreen";
            for (const t88 of o102) {
              const e144 = this.style._layers[t88];
              if (!e144.hasOffscreenPass() || e144.isHidden(this.transform.zoom))
                continue;
              const i69 = r62[e144.source];
              ("custom" === e144.type || i69.length) && this.renderLayer(this, a83[e144.source], e144, i69);
            }
            for (this.context.bindFramebuffer.set(null), this.context.clear({ color: i68.showOverdrawInspector ? t87.Color.black : t87.Color.transparent, depth: 1 }), this.clearStencil(), this._showOverdrawInspector = i68.showOverdrawInspector, this.depthRangeFor3D = [0, 1 - (e143._order.length + 2) * this.numSublayers * this.depthEpsilon], this.renderPass = "opaque", this.currentLayer = o102.length - 1; this.currentLayer >= 0; this.currentLayer--) {
              const t88 = this.style._layers[o102[this.currentLayer]], e144 = a83[t88.source], i69 = s63[t88.source];
              this._renderTileClippingMasks(t88, i69), this.renderLayer(this, e144, t88, i69);
            }
            for (this.renderPass = "translucent", this.currentLayer = 0; this.currentLayer < o102.length; this.currentLayer++) {
              const t88 = this.style._layers[o102[this.currentLayer]], e144 = a83[t88.source], i69 = ("symbol" === t88.type ? n46 : r62)[t88.source];
              this._renderTileClippingMasks(t88, s63[t88.source]), this.renderLayer(this, e144, t88, i69);
            }
            if (this.options.showTileBoundaries) {
              let t88, e144;
              Object.values(this.style._layers).forEach((i69) => {
                i69.source && !i69.isHidden(this.transform.zoom) && (i69.source !== (e144 && e144.id) && (e144 = this.style.sourceCaches[i69.source]), (!t88 || t88.getSource().maxzoom < e144.getSource().maxzoom) && (t88 = e144));
              }), t88 && Hi.debug(this, t88, t88.getVisibleCoordinates());
            }
            this.options.showPadding && function(t88) {
              const e144 = t88.transform.padding;
              ji(t88, t88.transform.height - (e144.top || 0), 3, Ni), ji(t88, e144.bottom || 0, 3, Gi), $i(t88, e144.left || 0, 3, Zi), $i(t88, t88.transform.width - (e144.right || 0), 3, qi);
              const i69 = t88.transform.centerPoint;
              !function(t89, e145, i70, o103) {
                Wi(t89, e145 - 1, i70 - 10, 2, 20, o103), Wi(t89, e145 - 10, i70 - 1, 20, 2, o103);
              }(t88, i69.x, t88.transform.height - i69.y, Vi);
            }(this), this.context.setDefault();
          }
          renderLayer(t88, e143, i68, o102) {
            i68.isHidden(this.transform.zoom) || ("background" === i68.type || "custom" === i68.type || o102.length) && (this.id = i68.id, this.gpuTimingStart(i68), Hi[i68.type](t88, e143, i68, o102, this.style.placement.variableOffsets), this.gpuTimingEnd());
          }
          gpuTimingStart(t88) {
            if (!this.options.gpuTiming)
              return;
            const e143 = this.context.extTimerQuery;
            let i68 = this.gpuTimers[t88.id];
            i68 || (i68 = this.gpuTimers[t88.id] = { calls: 0, cpuTime: 0, query: e143.createQueryEXT() }), i68.calls++, e143.beginQueryEXT(e143.TIME_ELAPSED_EXT, i68.query);
          }
          gpuTimingEnd() {
            if (!this.options.gpuTiming)
              return;
            const t88 = this.context.extTimerQuery;
            t88.endQueryEXT(t88.TIME_ELAPSED_EXT);
          }
          collectGpuTimers() {
            const t88 = this.gpuTimers;
            return this.gpuTimers = {}, t88;
          }
          queryGpuTimers(t88) {
            const e143 = {};
            for (const i68 in t88) {
              const o102 = t88[i68], a83 = this.context.extTimerQuery, s63 = a83.getQueryObjectEXT(o102.query, a83.QUERY_RESULT_EXT) / 1e6;
              a83.deleteQueryEXT(o102.query), e143[i68] = s63;
            }
            return e143;
          }
          translatePosMatrix(e143, i68, o102, a83, s63) {
            if (!o102[0] && !o102[1])
              return e143;
            const r62 = s63 ? "map" === a83 ? this.transform.angle : 0 : "viewport" === a83 ? -this.transform.angle : 0;
            if (r62) {
              const t88 = Math.sin(r62), e144 = Math.cos(r62);
              o102 = [o102[0] * e144 - o102[1] * t88, o102[0] * t88 + o102[1] * e144];
            }
            const n46 = [s63 ? o102[0] : It(i68, o102[0], this.transform.zoom), s63 ? o102[1] : It(i68, o102[1], this.transform.zoom), 0], l30 = new Float32Array(16);
            return t87.translate(l30, e143, n46), l30;
          }
          saveTileTexture(t88) {
            const e143 = this._tileTextures[t88.size[0]];
            e143 ? e143.push(t88) : this._tileTextures[t88.size[0]] = [t88];
          }
          getTileTexture(t88) {
            const e143 = this._tileTextures[t88];
            return e143 && e143.length > 0 ? e143.pop() : null;
          }
          isPatternMissing(t88) {
            if (!t88)
              return false;
            if (!t88.from || !t88.to)
              return true;
            const e143 = this.imageManager.getPattern(t88.from.toString()), i68 = this.imageManager.getPattern(t88.to.toString());
            return !e143 || !i68;
          }
          useProgram(t88, e143) {
            this.cache = this.cache || {};
            const i68 = `${t88}${e143 ? e143.cacheKey : ""}${this._showOverdrawInspector ? "/overdraw" : ""}`;
            return this.cache[i68] || (this.cache[i68] = new le(this.context, t88, ae[t88], e143, ke[t88], this._showOverdrawInspector)), this.cache[i68];
          }
          setCustomLayerDefaults() {
            this.context.unbindVAO(), this.context.cullFace.setDefault(), this.context.activeTexture.setDefault(), this.context.pixelStoreUnpack.setDefault(), this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.context.pixelStoreUnpackFlipY.setDefault();
          }
          setBaseState() {
            const t88 = this.context.gl;
            this.context.cullFace.set(false), this.context.viewport.set([0, 0, this.width, this.height]), this.context.blendEquation.set(t88.FUNC_ADD);
          }
          initDebugOverlayCanvas() {
            null == this.debugOverlayCanvas && (this.debugOverlayCanvas = document.createElement("canvas"), this.debugOverlayCanvas.width = 512, this.debugOverlayCanvas.height = 512, this.debugOverlayTexture = new d10(this.context, this.debugOverlayCanvas, this.context.gl.RGBA));
          }
          destroy() {
            this.emptyTexture.destroy(), this.debugOverlayTexture && this.debugOverlayTexture.destroy();
          }
        }
        class Yi {
          constructor(t88, e143) {
            this.points = t88, this.planes = e143;
          }
          static fromInvProjectionMatrix(e143, i68, o102) {
            const a83 = Math.pow(2, o102), s63 = [[-1, 1, -1, 1], [1, 1, -1, 1], [1, -1, -1, 1], [-1, -1, -1, 1], [-1, 1, 1, 1], [1, 1, 1, 1], [1, -1, 1, 1], [-1, -1, 1, 1]].map((i69) => t87.transformMat4([], i69, e143)).map((e144) => t87.scale$1([], e144, 1 / e144[3] / i68 * a83)), r62 = [[0, 1, 2], [6, 5, 4], [0, 3, 7], [2, 1, 5], [3, 2, 6], [0, 4, 5]].map((t88) => {
              const e144 = function(t89, e145) {
                var i70 = e145[0], o104 = e145[1], a85 = e145[2], s64 = i70 * i70 + o104 * o104 + a85 * a85;
                return s64 > 0 && (s64 = 1 / Math.sqrt(s64)), t89[0] = e145[0] * s64, t89[1] = e145[1] * s64, t89[2] = e145[2] * s64, t89;
              }([], function(t89, e145, i70) {
                var o104 = e145[0], a85 = e145[1], s64 = e145[2], r63 = i70[0], n46 = i70[1], l30 = i70[2];
                return t89[0] = a85 * l30 - s64 * n46, t89[1] = s64 * r63 - o104 * l30, t89[2] = o104 * n46 - a85 * r63, t89;
              }([], h12([], s63[t88[0]], s63[t88[1]]), h12([], s63[t88[2]], s63[t88[1]]))), i69 = -((o103 = e144)[0] * (a84 = s63[t88[1]])[0] + o103[1] * a84[1] + o103[2] * a84[2]);
              var o103, a84;
              return e144.concat(i69);
            });
            return new Yi(s63, r62);
          }
        }
        class Ji {
          constructor(t88, e143) {
            this.min = t88, this.max = e143, this.center = function(t89, e144, i68) {
              return t89[0] = 0.5 * e144[0], t89[1] = 0.5 * e144[1], t89[2] = 0.5 * e144[2], t89;
            }([], function(t89, e144, i68) {
              return t89[0] = e144[0] + i68[0], t89[1] = e144[1] + i68[1], t89[2] = e144[2] + i68[2], t89;
            }([], this.min, this.max));
          }
          quadrant(t88) {
            const e143 = [t88 % 2 == 0, t88 < 2], i68 = l29(this.min), o102 = l29(this.max);
            for (let t89 = 0; t89 < e143.length; t89++)
              i68[t89] = e143[t89] ? this.min[t89] : this.center[t89], o102[t89] = e143[t89] ? this.center[t89] : this.max[t89];
            return o102[2] = this.max[2], new Ji(i68, o102);
          }
          distanceX(t88) {
            return Math.max(Math.min(this.max[0], t88[0]), this.min[0]) - t88[0];
          }
          distanceY(t88) {
            return Math.max(Math.min(this.max[1], t88[1]), this.min[1]) - t88[1];
          }
          intersects(e143) {
            const i68 = [[this.min[0], this.min[1], 0, 1], [this.max[0], this.min[1], 0, 1], [this.max[0], this.max[1], 0, 1], [this.min[0], this.max[1], 0, 1]];
            let o102 = true;
            for (let a83 = 0; a83 < e143.planes.length; a83++) {
              const s63 = e143.planes[a83];
              let r62 = 0;
              for (let e144 = 0; e144 < i68.length; e144++)
                t87.dot(s63, i68[e144]) >= 0 && r62++;
              if (0 === r62)
                return 0;
              r62 !== i68.length && (o102 = false);
            }
            if (o102)
              return 2;
            for (let t88 = 0; t88 < 3; t88++) {
              let i69 = Number.MAX_VALUE, o103 = -Number.MAX_VALUE;
              for (let a83 = 0; a83 < e143.points.length; a83++) {
                const s63 = e143.points[a83][t88] - this.min[t88];
                i69 = Math.min(i69, s63), o103 = Math.max(o103, s63);
              }
              if (o103 < 0 || i69 > this.max[t88] - this.min[t88])
                return 0;
            }
            return 1;
          }
        }
        class Qi {
          constructor(t88 = 0, e143 = 0, i68 = 0, o102 = 0) {
            if (isNaN(t88) || t88 < 0 || isNaN(e143) || e143 < 0 || isNaN(i68) || i68 < 0 || isNaN(o102) || o102 < 0)
              throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");
            this.top = t88, this.bottom = e143, this.left = i68, this.right = o102;
          }
          interpolate(e143, i68, o102) {
            return null != i68.top && null != e143.top && (this.top = t87.number(e143.top, i68.top, o102)), null != i68.bottom && null != e143.bottom && (this.bottom = t87.number(e143.bottom, i68.bottom, o102)), null != i68.left && null != e143.left && (this.left = t87.number(e143.left, i68.left, o102)), null != i68.right && null != e143.right && (this.right = t87.number(e143.right, i68.right, o102)), this;
          }
          getCenter(e143, i68) {
            const o102 = t87.clamp((this.left + e143 - this.right) / 2, 0, e143), a83 = t87.clamp((this.top + i68 - this.bottom) / 2, 0, i68);
            return new t87.pointGeometry(o102, a83);
          }
          equals(t88) {
            return this.top === t88.top && this.bottom === t88.bottom && this.left === t88.left && this.right === t88.right;
          }
          clone() {
            return new Qi(this.top, this.bottom, this.left, this.right);
          }
          toJSON() {
            return { top: this.top, bottom: this.bottom, left: this.left, right: this.right };
          }
        }
        class to {
          constructor(e143, i68, o102, a83, s63) {
            this.tileSize = 512, this.maxValidLatitude = 85.051129, this._renderWorldCopies = void 0 === s63 || !!s63, this._minZoom = e143 || 0, this._maxZoom = i68 || 22, this._minPitch = null == o102 ? 0 : o102, this._maxPitch = null == a83 ? 60 : a83, this.setMaxBounds(), this.width = 0, this.height = 0, this._center = new t87.LngLat(0, 0), this.zoom = 0, this.angle = 0, this._fov = 0.6435011087932844, this._pitch = 0, this._unmodified = true, this._edgeInsets = new Qi(), this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
          }
          clone() {
            const t88 = new to(this._minZoom, this._maxZoom, this._minPitch, this.maxPitch, this._renderWorldCopies);
            return t88.tileSize = this.tileSize, t88.latRange = this.latRange, t88.width = this.width, t88.height = this.height, t88._center = this._center, t88.zoom = this.zoom, t88.angle = this.angle, t88._fov = this._fov, t88._pitch = this._pitch, t88._unmodified = this._unmodified, t88._edgeInsets = this._edgeInsets.clone(), t88._calcMatrices(), t88;
          }
          get minZoom() {
            return this._minZoom;
          }
          set minZoom(t88) {
            this._minZoom !== t88 && (this._minZoom = t88, this.zoom = Math.max(this.zoom, t88));
          }
          get maxZoom() {
            return this._maxZoom;
          }
          set maxZoom(t88) {
            this._maxZoom !== t88 && (this._maxZoom = t88, this.zoom = Math.min(this.zoom, t88));
          }
          get minPitch() {
            return this._minPitch;
          }
          set minPitch(t88) {
            this._minPitch !== t88 && (this._minPitch = t88, this.pitch = Math.max(this.pitch, t88));
          }
          get maxPitch() {
            return this._maxPitch;
          }
          set maxPitch(t88) {
            this._maxPitch !== t88 && (this._maxPitch = t88, this.pitch = Math.min(this.pitch, t88));
          }
          get renderWorldCopies() {
            return this._renderWorldCopies;
          }
          set renderWorldCopies(t88) {
            void 0 === t88 ? t88 = true : null === t88 && (t88 = false), this._renderWorldCopies = t88;
          }
          get worldSize() {
            return this.tileSize * this.scale;
          }
          get centerOffset() {
            return this.centerPoint._sub(this.size._div(2));
          }
          get size() {
            return new t87.pointGeometry(this.width, this.height);
          }
          get bearing() {
            return -this.angle / Math.PI * 180;
          }
          set bearing(e143) {
            const i68 = -t87.wrap(e143, -180, 180) * Math.PI / 180;
            this.angle !== i68 && (this._unmodified = false, this.angle = i68, this._calcMatrices(), this.rotationMatrix = function() {
              var e144 = new t87.ARRAY_TYPE(4);
              return t87.ARRAY_TYPE != Float32Array && (e144[1] = 0, e144[2] = 0), e144[0] = 1, e144[3] = 1, e144;
            }(), function(t88, e144, i69) {
              var o102 = e144[0], a83 = e144[1], s63 = e144[2], r62 = e144[3], n46 = Math.sin(i69), l30 = Math.cos(i69);
              t88[0] = o102 * l30 + s63 * n46, t88[1] = a83 * l30 + r62 * n46, t88[2] = o102 * -n46 + s63 * l30, t88[3] = a83 * -n46 + r62 * l30;
            }(this.rotationMatrix, this.rotationMatrix, this.angle));
          }
          get pitch() {
            return this._pitch / Math.PI * 180;
          }
          set pitch(e143) {
            const i68 = t87.clamp(e143, this.minPitch, this.maxPitch) / 180 * Math.PI;
            this._pitch !== i68 && (this._unmodified = false, this._pitch = i68, this._calcMatrices());
          }
          get fov() {
            return this._fov / Math.PI * 180;
          }
          set fov(t88) {
            t88 = Math.max(0.01, Math.min(60, t88)), this._fov !== t88 && (this._unmodified = false, this._fov = t88 / 180 * Math.PI, this._calcMatrices());
          }
          get zoom() {
            return this._zoom;
          }
          set zoom(t88) {
            const e143 = Math.min(Math.max(t88, this.minZoom), this.maxZoom);
            this._zoom !== e143 && (this._unmodified = false, this._zoom = e143, this.scale = this.zoomScale(e143), this.tileZoom = Math.floor(e143), this.zoomFraction = e143 - this.tileZoom, this._constrain(), this._calcMatrices());
          }
          get center() {
            return this._center;
          }
          set center(t88) {
            t88.lat === this._center.lat && t88.lng === this._center.lng || (this._unmodified = false, this._center = t88, this._constrain(), this._calcMatrices());
          }
          get padding() {
            return this._edgeInsets.toJSON();
          }
          set padding(t88) {
            this._edgeInsets.equals(t88) || (this._unmodified = false, this._edgeInsets.interpolate(this._edgeInsets, t88, 1), this._calcMatrices());
          }
          get centerPoint() {
            return this._edgeInsets.getCenter(this.width, this.height);
          }
          isPaddingEqual(t88) {
            return this._edgeInsets.equals(t88);
          }
          interpolatePadding(t88, e143, i68) {
            this._unmodified = false, this._edgeInsets.interpolate(t88, e143, i68), this._constrain(), this._calcMatrices();
          }
          coveringZoomLevel(t88) {
            const e143 = (t88.roundZoom ? Math.round : Math.floor)(this.zoom + this.scaleZoom(this.tileSize / t88.tileSize));
            return Math.max(0, e143);
          }
          getVisibleUnwrappedCoordinates(e143) {
            const i68 = [new t87.UnwrappedTileID(0, e143)];
            if (this._renderWorldCopies) {
              const o102 = this.pointCoordinate(new t87.pointGeometry(0, 0)), a83 = this.pointCoordinate(new t87.pointGeometry(this.width, 0)), s63 = this.pointCoordinate(new t87.pointGeometry(this.width, this.height)), r62 = this.pointCoordinate(new t87.pointGeometry(0, this.height)), n46 = Math.floor(Math.min(o102.x, a83.x, s63.x, r62.x)), l30 = Math.floor(Math.max(o102.x, a83.x, s63.x, r62.x)), c23 = 1;
              for (let o103 = n46 - c23; o103 <= l30 + c23; o103++)
                0 !== o103 && i68.push(new t87.UnwrappedTileID(o103, e143));
            }
            return i68;
          }
          coveringTiles(e143) {
            let i68 = this.coveringZoomLevel(e143);
            const o102 = i68;
            if (void 0 !== e143.minzoom && i68 < e143.minzoom)
              return [];
            void 0 !== e143.maxzoom && i68 > e143.maxzoom && (i68 = e143.maxzoom);
            const a83 = t87.MercatorCoordinate.fromLngLat(this.center), s63 = Math.pow(2, i68), r62 = [s63 * a83.x, s63 * a83.y, 0], n46 = Yi.fromInvProjectionMatrix(this.invProjMatrix, this.worldSize, i68);
            let l30 = e143.minzoom || 0;
            this.pitch <= 60 && this._edgeInsets.top < 0.1 && (l30 = i68);
            const c23 = (t88) => ({ aabb: new Ji([t88 * s63, 0, 0], [(t88 + 1) * s63, s63, 0]), zoom: 0, x: 0, y: 0, wrap: t88, fullyVisible: false }), h13 = [], d11 = [], m30 = i68, _4 = e143.reparseOverscaled ? o102 : i68;
            if (this._renderWorldCopies)
              for (let t88 = 1; t88 <= 3; t88++)
                h13.push(c23(-t88)), h13.push(c23(t88));
            for (h13.push(c23(0)); h13.length > 0; ) {
              const e144 = h13.pop(), i69 = e144.x, o103 = e144.y;
              let a84 = e144.fullyVisible;
              if (!a84) {
                const t88 = e144.aabb.intersects(n46);
                if (0 === t88)
                  continue;
                a84 = 2 === t88;
              }
              const s64 = e144.aabb.distanceX(r62), c24 = e144.aabb.distanceY(r62), p18 = Math.max(Math.abs(s64), Math.abs(c24)), f22 = 3 + (1 << m30 - e144.zoom) - 2;
              if (e144.zoom === m30 || p18 > f22 && e144.zoom >= l30)
                d11.push({ tileID: new t87.OverscaledTileID(e144.zoom === m30 ? _4 : e144.zoom, e144.wrap, e144.zoom, i69, o103), distanceSq: u20([r62[0] - 0.5 - i69, r62[1] - 0.5 - o103]) });
              else
                for (let t88 = 0; t88 < 4; t88++) {
                  const s65 = (i69 << 1) + t88 % 2, r63 = (o103 << 1) + (t88 >> 1);
                  h13.push({ aabb: e144.aabb.quadrant(t88), zoom: e144.zoom + 1, x: s65, y: r63, wrap: e144.wrap, fullyVisible: a84 });
                }
            }
            return d11.sort((t88, e144) => t88.distanceSq - e144.distanceSq).map((t88) => t88.tileID);
          }
          resize(t88, e143) {
            this.width = t88, this.height = e143, this.pixelsToGLUnits = [2 / t88, -2 / e143], this._constrain(), this._calcMatrices();
          }
          get unmodified() {
            return this._unmodified;
          }
          zoomScale(t88) {
            return Math.pow(2, t88);
          }
          scaleZoom(t88) {
            return Math.log(t88) / Math.LN2;
          }
          project(e143) {
            const i68 = t87.clamp(e143.lat, -this.maxValidLatitude, this.maxValidLatitude);
            return new t87.pointGeometry(t87.mercatorXfromLng(e143.lng) * this.worldSize, t87.mercatorYfromLat(i68) * this.worldSize);
          }
          unproject(e143) {
            return new t87.MercatorCoordinate(e143.x / this.worldSize, e143.y / this.worldSize).toLngLat();
          }
          get point() {
            return this.project(this.center);
          }
          setLocationAtPoint(e143, i68) {
            const o102 = this.pointCoordinate(i68), a83 = this.pointCoordinate(this.centerPoint), s63 = this.locationCoordinate(e143), r62 = new t87.MercatorCoordinate(s63.x - (o102.x - a83.x), s63.y - (o102.y - a83.y));
            this.center = this.coordinateLocation(r62), this._renderWorldCopies && (this.center = this.center.wrap());
          }
          locationPoint(t88) {
            return this.coordinatePoint(this.locationCoordinate(t88));
          }
          pointLocation(t88) {
            return this.coordinateLocation(this.pointCoordinate(t88));
          }
          locationCoordinate(e143) {
            return t87.MercatorCoordinate.fromLngLat(e143);
          }
          coordinateLocation(t88) {
            return t88.toLngLat();
          }
          pointCoordinate(e143) {
            const i68 = [e143.x, e143.y, 0, 1], o102 = [e143.x, e143.y, 1, 1];
            t87.transformMat4(i68, i68, this.pixelMatrixInverse), t87.transformMat4(o102, o102, this.pixelMatrixInverse);
            const a83 = i68[3], s63 = o102[3], r62 = i68[1] / a83, n46 = o102[1] / s63, l30 = i68[2] / a83, c23 = o102[2] / s63, h13 = l30 === c23 ? 0 : (0 - l30) / (c23 - l30);
            return new t87.MercatorCoordinate(t87.number(i68[0] / a83, o102[0] / s63, h13) / this.worldSize, t87.number(r62, n46, h13) / this.worldSize);
          }
          coordinatePoint(e143) {
            const i68 = [e143.x * this.worldSize, e143.y * this.worldSize, 0, 1];
            return t87.transformMat4(i68, i68, this.pixelMatrix), new t87.pointGeometry(i68[0] / i68[3], i68[1] / i68[3]);
          }
          getBounds() {
            return new t87.LngLatBounds().extend(this.pointLocation(new t87.pointGeometry(0, 0))).extend(this.pointLocation(new t87.pointGeometry(this.width, 0))).extend(this.pointLocation(new t87.pointGeometry(this.width, this.height))).extend(this.pointLocation(new t87.pointGeometry(0, this.height)));
          }
          getMaxBounds() {
            return this.latRange && 2 === this.latRange.length && this.lngRange && 2 === this.lngRange.length ? new t87.LngLatBounds([this.lngRange[0], this.latRange[0]], [this.lngRange[1], this.latRange[1]]) : null;
          }
          setMaxBounds(t88) {
            t88 ? (this.lngRange = [t88.getWest(), t88.getEast()], this.latRange = [t88.getSouth(), t88.getNorth()], this._constrain()) : (this.lngRange = null, this.latRange = [-this.maxValidLatitude, this.maxValidLatitude]);
          }
          calculatePosMatrix(e143, i68 = false) {
            const o102 = e143.key, a83 = i68 ? this._alignedPosMatrixCache : this._posMatrixCache;
            if (a83[o102])
              return a83[o102];
            const s63 = e143.canonical, r62 = this.worldSize / this.zoomScale(s63.z), n46 = s63.x + Math.pow(2, s63.z) * e143.wrap, l30 = t87.identity(new Float64Array(16));
            return t87.translate(l30, l30, [n46 * r62, s63.y * r62, 0]), t87.scale(l30, l30, [r62 / t87.EXTENT, r62 / t87.EXTENT, 1]), t87.multiply(l30, i68 ? this.alignedProjMatrix : this.projMatrix, l30), a83[o102] = new Float32Array(l30), a83[o102];
          }
          customLayerMatrix() {
            return this.mercatorMatrix.slice();
          }
          _constrain() {
            if (!this.center || !this.width || !this.height || this._constraining)
              return;
            this._constraining = true;
            let e143, i68, o102, a83, s63 = -90, r62 = 90, n46 = -180, l30 = 180;
            const c23 = this.size, h13 = this._unmodified;
            if (this.latRange) {
              const i69 = this.latRange;
              s63 = t87.mercatorYfromLat(i69[1]) * this.worldSize, r62 = t87.mercatorYfromLat(i69[0]) * this.worldSize, e143 = r62 - s63 < c23.y ? c23.y / (r62 - s63) : 0;
            }
            if (this.lngRange) {
              const e144 = this.lngRange;
              n46 = t87.mercatorXfromLng(e144[0]) * this.worldSize, l30 = t87.mercatorXfromLng(e144[1]) * this.worldSize, i68 = l30 - n46 < c23.x ? c23.x / (l30 - n46) : 0;
            }
            const u21 = this.point, d11 = Math.max(i68 || 0, e143 || 0);
            if (d11)
              return this.center = this.unproject(new t87.pointGeometry(i68 ? (l30 + n46) / 2 : u21.x, e143 ? (r62 + s63) / 2 : u21.y)), this.zoom += this.scaleZoom(d11), this._unmodified = h13, void (this._constraining = false);
            if (this.latRange) {
              const t88 = u21.y, e144 = c23.y / 2;
              t88 - e144 < s63 && (a83 = s63 + e144), t88 + e144 > r62 && (a83 = r62 - e144);
            }
            if (this.lngRange) {
              const t88 = u21.x, e144 = c23.x / 2;
              t88 - e144 < n46 && (o102 = n46 + e144), t88 + e144 > l30 && (o102 = l30 - e144);
            }
            void 0 === o102 && void 0 === a83 || (this.center = this.unproject(new t87.pointGeometry(void 0 !== o102 ? o102 : u21.x, void 0 !== a83 ? a83 : u21.y))), this._unmodified = h13, this._constraining = false;
          }
          _calcMatrices() {
            if (!this.height)
              return;
            const e143 = this.centerOffset;
            this.cameraToCenterDistance = 0.5 / Math.tan(this._fov / 2) * this.height;
            const i68 = Math.PI / 2 + this._pitch, o102 = this._fov * (0.5 + e143.y / this.height), a83 = Math.sin(o102) * this.cameraToCenterDistance / Math.sin(t87.clamp(Math.PI - i68 - o102, 0.01, Math.PI - 0.01)), s63 = this.point, r62 = s63.x, n46 = s63.y, l30 = 1.01 * (Math.cos(Math.PI / 2 - this._pitch) * a83 + this.cameraToCenterDistance), c23 = this.height / 50;
            let h13 = new Float64Array(16);
            t87.perspective(h13, this._fov, this.width / this.height, c23, l30), h13[8] = 2 * -e143.x / this.width, h13[9] = 2 * e143.y / this.height, t87.scale(h13, h13, [1, -1, 1]), t87.translate(h13, h13, [0, 0, -this.cameraToCenterDistance]), t87.rotateX(h13, h13, this._pitch), t87.rotateZ(h13, h13, this.angle), t87.translate(h13, h13, [-r62, -n46, 0]), this.mercatorMatrix = t87.scale([], h13, [this.worldSize, this.worldSize, this.worldSize]), t87.scale(h13, h13, [1, 1, t87.mercatorZfromAltitude(1, this.center.lat) * this.worldSize]), this.projMatrix = h13, this.invProjMatrix = t87.invert([], this.projMatrix);
            const u21 = this.width % 2 / 2, d11 = this.height % 2 / 2, m30 = Math.cos(this.angle), _4 = Math.sin(this.angle), p18 = r62 - Math.round(r62) + m30 * u21 + _4 * d11, f22 = n46 - Math.round(n46) + m30 * d11 + _4 * u21, g15 = new Float64Array(h13);
            if (t87.translate(g15, g15, [p18 > 0.5 ? p18 - 1 : p18, f22 > 0.5 ? f22 - 1 : f22, 0]), this.alignedProjMatrix = g15, h13 = t87.create(), t87.scale(h13, h13, [this.width / 2, -this.height / 2, 1]), t87.translate(h13, h13, [1, -1, 0]), this.labelPlaneMatrix = h13, h13 = t87.create(), t87.scale(h13, h13, [1, -1, 1]), t87.translate(h13, h13, [-1, -1, 0]), t87.scale(h13, h13, [2 / this.width, 2 / this.height, 1]), this.glCoordMatrix = h13, this.pixelMatrix = t87.multiply(new Float64Array(16), this.labelPlaneMatrix, this.projMatrix), h13 = t87.invert(new Float64Array(16), this.pixelMatrix), !h13)
              throw new Error("failed to invert matrix");
            this.pixelMatrixInverse = h13, this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
          }
          maxPitchScaleFactor() {
            if (!this.pixelMatrixInverse)
              return 1;
            const e143 = this.pointCoordinate(new t87.pointGeometry(0, 0)), i68 = [e143.x * this.worldSize, e143.y * this.worldSize, 0, 1];
            return t87.transformMat4(i68, i68, this.pixelMatrix)[3] / this.cameraToCenterDistance;
          }
          getCameraPoint() {
            const e143 = Math.tan(this._pitch) * (this.cameraToCenterDistance || 1);
            return this.centerPoint.add(new t87.pointGeometry(0, e143));
          }
          getCameraQueryGeometry(e143) {
            const i68 = this.getCameraPoint();
            if (1 === e143.length)
              return [e143[0], i68];
            {
              let o102 = i68.x, a83 = i68.y, s63 = i68.x, r62 = i68.y;
              for (const t88 of e143)
                o102 = Math.min(o102, t88.x), a83 = Math.min(a83, t88.y), s63 = Math.max(s63, t88.x), r62 = Math.max(r62, t88.y);
              return [new t87.pointGeometry(o102, a83), new t87.pointGeometry(s63, a83), new t87.pointGeometry(s63, r62), new t87.pointGeometry(o102, r62), new t87.pointGeometry(o102, a83)];
            }
          }
        }
        class eo {
          constructor(e143) {
            this._hashName = e143 && encodeURIComponent(e143), t87.bindAll(["_getCurrentHash", "_onHashChange", "_updateHash"], this), this._updateHash = function(t88, e144) {
              let i68 = false, o102 = null;
              const a83 = () => {
                o102 = null, i68 && (t88(), o102 = setTimeout(a83, 300), i68 = false);
              };
              return () => (i68 = true, o102 || a83(), o102);
            }(this._updateHashUnthrottled.bind(this));
          }
          addTo(t88) {
            return this._map = t88, addEventListener("hashchange", this._onHashChange, false), this._map.on("moveend", this._updateHash), this;
          }
          remove() {
            return removeEventListener("hashchange", this._onHashChange, false), this._map.off("moveend", this._updateHash), clearTimeout(this._updateHash()), delete this._map, this;
          }
          getHashString(t88) {
            const e143 = this._map.getCenter(), i68 = Math.round(100 * this._map.getZoom()) / 100, o102 = Math.ceil((i68 * Math.LN2 + Math.log(512 / 360 / 0.5)) / Math.LN10), a83 = Math.pow(10, o102), s63 = Math.round(e143.lng * a83) / a83, r62 = Math.round(e143.lat * a83) / a83, n46 = this._map.getBearing(), l30 = this._map.getPitch();
            let c23 = "";
            if (c23 += t88 ? `/${s63}/${r62}/${i68}` : `${i68}/${r62}/${s63}`, (n46 || l30) && (c23 += "/" + Math.round(10 * n46) / 10), l30 && (c23 += `/${Math.round(l30)}`), this._hashName) {
              const t89 = this._hashName;
              let e144 = false;
              const i69 = window.location.hash.slice(1).split("&").map((i70) => {
                const o103 = i70.split("=")[0];
                return o103 === t89 ? (e144 = true, `${o103}=${c23}`) : i70;
              }).filter((t90) => t90);
              return e144 || i69.push(`${t89}=${c23}`), `#${i69.join("&")}`;
            }
            return `#${c23}`;
          }
          _getCurrentHash() {
            const t88 = window.location.hash.replace("#", "");
            if (this._hashName) {
              let e143;
              return t88.split("&").map((t89) => t89.split("=")).forEach((t89) => {
                t89[0] === this._hashName && (e143 = t89);
              }), (e143 && e143[1] || "").split("/");
            }
            return t88.split("/");
          }
          _onHashChange() {
            const t88 = this._getCurrentHash();
            if (t88.length >= 3 && !t88.some((t89) => isNaN(t89))) {
              const e143 = this._map.dragRotate.isEnabled() && this._map.touchZoomRotate.isEnabled() ? +(t88[3] || 0) : this._map.getBearing();
              return this._map.jumpTo({ center: [+t88[2], +t88[1]], zoom: +t88[0], bearing: e143, pitch: +(t88[4] || 0) }), true;
            }
            return false;
          }
          _updateHashUnthrottled() {
            const t88 = window.location.href.replace(/(#.+)?$/, this.getHashString());
            try {
              window.history.replaceState(window.history.state, null, t88);
            } catch (t89) {
            }
          }
        }
        const io = { linearity: 0.3, easing: t87.bezier(0, 0, 0.3, 1) }, oo = t87.extend({ deceleration: 2500, maxSpeed: 1400 }, io), ao = t87.extend({ deceleration: 20, maxSpeed: 1400 }, io), so = t87.extend({ deceleration: 1e3, maxSpeed: 360 }, io), ro = t87.extend({ deceleration: 1e3, maxSpeed: 90 }, io);
        class no {
          constructor(t88) {
            this._map = t88, this.clear();
          }
          clear() {
            this._inertiaBuffer = [];
          }
          record(e143) {
            this._drainInertiaBuffer(), this._inertiaBuffer.push({ time: t87.exported.now(), settings: e143 });
          }
          _drainInertiaBuffer() {
            const e143 = this._inertiaBuffer, i68 = t87.exported.now();
            for (; e143.length > 0 && i68 - e143[0].time > 160; )
              e143.shift();
          }
          _onMoveEnd(e143) {
            if (this._drainInertiaBuffer(), this._inertiaBuffer.length < 2)
              return;
            const i68 = { zoom: 0, bearing: 0, pitch: 0, pan: new t87.pointGeometry(0, 0), pinchAround: void 0, around: void 0 };
            for (const { settings: t88 } of this._inertiaBuffer)
              i68.zoom += t88.zoomDelta || 0, i68.bearing += t88.bearingDelta || 0, i68.pitch += t88.pitchDelta || 0, t88.panDelta && i68.pan._add(t88.panDelta), t88.around && (i68.around = t88.around), t88.pinchAround && (i68.pinchAround = t88.pinchAround);
            const o102 = this._inertiaBuffer[this._inertiaBuffer.length - 1].time - this._inertiaBuffer[0].time, a83 = {};
            if (i68.pan.mag()) {
              const s63 = co(i68.pan.mag(), o102, t87.extend({}, oo, e143 || {}));
              a83.offset = i68.pan.mult(s63.amount / i68.pan.mag()), a83.center = this._map.transform.center, lo(a83, s63);
            }
            if (i68.zoom) {
              const t88 = co(i68.zoom, o102, ao);
              a83.zoom = this._map.transform.zoom + t88.amount, lo(a83, t88);
            }
            if (i68.bearing) {
              const e144 = co(i68.bearing, o102, so);
              a83.bearing = this._map.transform.bearing + t87.clamp(e144.amount, -179, 179), lo(a83, e144);
            }
            if (i68.pitch) {
              const t88 = co(i68.pitch, o102, ro);
              a83.pitch = this._map.transform.pitch + t88.amount, lo(a83, t88);
            }
            if (a83.zoom || a83.bearing) {
              const t88 = void 0 === i68.pinchAround ? i68.around : i68.pinchAround;
              a83.around = t88 ? this._map.unproject(t88) : this._map.getCenter();
            }
            return this.clear(), t87.extend(a83, { noMoveStart: true });
          }
        }
        function lo(t88, e143) {
          (!t88.duration || t88.duration < e143.duration) && (t88.duration = e143.duration, t88.easing = e143.easing);
        }
        function co(e143, i68, o102) {
          const { maxSpeed: a83, linearity: s63, deceleration: r62 } = o102, n46 = t87.clamp(e143 * s63 / (i68 / 1e3), -a83, a83), l30 = Math.abs(n46) / (r62 * s63);
          return { easing: o102.easing, duration: 1e3 * l30, amount: n46 * (l30 / 2) };
        }
        class ho extends t87.Event {
          constructor(e143, i68, o102, a83 = {}) {
            const r62 = s62.mousePos(i68.getCanvasContainer(), o102), n46 = i68.unproject(r62);
            super(e143, t87.extend({ point: r62, lngLat: n46, originalEvent: o102 }, a83)), this._defaultPrevented = false, this.target = i68;
          }
          preventDefault() {
            this._defaultPrevented = true;
          }
          get defaultPrevented() {
            return this._defaultPrevented;
          }
        }
        class uo extends t87.Event {
          constructor(e143, i68, o102) {
            const a83 = "touchend" === e143 ? o102.changedTouches : o102.touches, r62 = s62.touchPos(i68.getCanvasContainer(), a83), n46 = r62.map((t88) => i68.unproject(t88)), l30 = r62.reduce((t88, e144, i69, o103) => t88.add(e144.div(o103.length)), new t87.pointGeometry(0, 0));
            super(e143, { points: r62, point: l30, lngLats: n46, lngLat: i68.unproject(l30), originalEvent: o102 }), this._defaultPrevented = false;
          }
          preventDefault() {
            this._defaultPrevented = true;
          }
          get defaultPrevented() {
            return this._defaultPrevented;
          }
        }
        class mo extends t87.Event {
          constructor(t88, e143, i68) {
            super(t88, { originalEvent: i68 }), this._defaultPrevented = false;
          }
          preventDefault() {
            this._defaultPrevented = true;
          }
          get defaultPrevented() {
            return this._defaultPrevented;
          }
        }
        class _o {
          constructor(t88, e143) {
            this._map = t88, this._clickTolerance = e143.clickTolerance;
          }
          reset() {
            delete this._mousedownPos;
          }
          wheel(t88) {
            return this._firePreventable(new mo(t88.type, this._map, t88));
          }
          mousedown(t88, e143) {
            return this._mousedownPos = e143, this._firePreventable(new ho(t88.type, this._map, t88));
          }
          mouseup(t88) {
            this._map.fire(new ho(t88.type, this._map, t88));
          }
          click(t88, e143) {
            this._mousedownPos && this._mousedownPos.dist(e143) >= this._clickTolerance || this._map.fire(new ho(t88.type, this._map, t88));
          }
          dblclick(t88) {
            return this._firePreventable(new ho(t88.type, this._map, t88));
          }
          mouseover(t88) {
            this._map.fire(new ho(t88.type, this._map, t88));
          }
          mouseout(t88) {
            this._map.fire(new ho(t88.type, this._map, t88));
          }
          touchstart(t88) {
            return this._firePreventable(new uo(t88.type, this._map, t88));
          }
          touchmove(t88) {
            this._map.fire(new uo(t88.type, this._map, t88));
          }
          touchend(t88) {
            this._map.fire(new uo(t88.type, this._map, t88));
          }
          touchcancel(t88) {
            this._map.fire(new uo(t88.type, this._map, t88));
          }
          _firePreventable(t88) {
            if (this._map.fire(t88), t88.defaultPrevented)
              return {};
          }
          isEnabled() {
            return true;
          }
          isActive() {
            return false;
          }
          enable() {
          }
          disable() {
          }
        }
        class po {
          constructor(t88) {
            this._map = t88;
          }
          reset() {
            this._delayContextMenu = false, delete this._contextMenuEvent;
          }
          mousemove(t88) {
            this._map.fire(new ho(t88.type, this._map, t88));
          }
          mousedown() {
            this._delayContextMenu = true;
          }
          mouseup() {
            this._delayContextMenu = false, this._contextMenuEvent && (this._map.fire(new ho("contextmenu", this._map, this._contextMenuEvent)), delete this._contextMenuEvent);
          }
          contextmenu(t88) {
            this._delayContextMenu ? this._contextMenuEvent = t88 : this._map.fire(new ho(t88.type, this._map, t88)), this._map.listens("contextmenu") && t88.preventDefault();
          }
          isEnabled() {
            return true;
          }
          isActive() {
            return false;
          }
          enable() {
          }
          disable() {
          }
        }
        class fo {
          constructor(t88, e143) {
            this._map = t88, this._el = t88.getCanvasContainer(), this._container = t88.getContainer(), this._clickTolerance = e143.clickTolerance || 1;
          }
          isEnabled() {
            return !!this._enabled;
          }
          isActive() {
            return !!this._active;
          }
          enable() {
            this.isEnabled() || (this._enabled = true);
          }
          disable() {
            this.isEnabled() && (this._enabled = false);
          }
          mousedown(t88, e143) {
            this.isEnabled() && t88.shiftKey && 0 === t88.button && (s62.disableDrag(), this._startPos = this._lastPos = e143, this._active = true);
          }
          mousemoveWindow(t88, e143) {
            if (!this._active)
              return;
            const i68 = e143;
            if (this._lastPos.equals(i68) || !this._box && i68.dist(this._startPos) < this._clickTolerance)
              return;
            const o102 = this._startPos;
            this._lastPos = i68, this._box || (this._box = s62.create("div", "maplibregl-boxzoom mapboxgl-boxzoom", this._container), this._container.classList.add("maplibregl-crosshair", "mapboxgl-crosshair"), this._fireEvent("boxzoomstart", t88));
            const a83 = Math.min(o102.x, i68.x), r62 = Math.max(o102.x, i68.x), n46 = Math.min(o102.y, i68.y), l30 = Math.max(o102.y, i68.y);
            s62.setTransform(this._box, `translate(${a83}px,${n46}px)`), this._box.style.width = r62 - a83 + "px", this._box.style.height = l30 - n46 + "px";
          }
          mouseupWindow(e143, i68) {
            if (!this._active)
              return;
            if (0 !== e143.button)
              return;
            const o102 = this._startPos, a83 = i68;
            if (this.reset(), s62.suppressClick(), o102.x !== a83.x || o102.y !== a83.y)
              return this._map.fire(new t87.Event("boxzoomend", { originalEvent: e143 })), { cameraAnimation: (t88) => t88.fitScreenCoordinates(o102, a83, this._map.getBearing(), { linear: true }) };
            this._fireEvent("boxzoomcancel", e143);
          }
          keydown(t88) {
            this._active && 27 === t88.keyCode && (this.reset(), this._fireEvent("boxzoomcancel", t88));
          }
          reset() {
            this._active = false, this._container.classList.remove("maplibregl-crosshair", "mapboxgl-crosshair"), this._box && (s62.remove(this._box), this._box = null), s62.enableDrag(), delete this._startPos, delete this._lastPos;
          }
          _fireEvent(e143, i68) {
            return this._map.fire(new t87.Event(e143, { originalEvent: i68 }));
          }
        }
        function go(t88, e143) {
          const i68 = {};
          for (let o102 = 0; o102 < t88.length; o102++)
            i68[t88[o102].identifier] = e143[o102];
          return i68;
        }
        class xo {
          constructor(t88) {
            this.reset(), this.numTouches = t88.numTouches;
          }
          reset() {
            delete this.centroid, delete this.startTime, delete this.touches, this.aborted = false;
          }
          touchstart(e143, i68, o102) {
            (this.centroid || o102.length > this.numTouches) && (this.aborted = true), this.aborted || (void 0 === this.startTime && (this.startTime = e143.timeStamp), o102.length === this.numTouches && (this.centroid = function(e144) {
              const i69 = new t87.pointGeometry(0, 0);
              for (const t88 of e144)
                i69._add(t88);
              return i69.div(e144.length);
            }(i68), this.touches = go(o102, i68)));
          }
          touchmove(t88, e143, i68) {
            if (this.aborted || !this.centroid)
              return;
            const o102 = go(i68, e143);
            for (const t89 in this.touches) {
              const e144 = this.touches[t89], i69 = o102[t89];
              (!i69 || i69.dist(e144) > 30) && (this.aborted = true);
            }
          }
          touchend(t88, e143, i68) {
            if ((!this.centroid || t88.timeStamp - this.startTime > 500) && (this.aborted = true), 0 === i68.length) {
              const t89 = !this.aborted && this.centroid;
              if (this.reset(), t89)
                return t89;
            }
          }
        }
        class vo {
          constructor(t88) {
            this.singleTap = new xo(t88), this.numTaps = t88.numTaps, this.reset();
          }
          reset() {
            this.lastTime = 1 / 0, delete this.lastTap, this.count = 0, this.singleTap.reset();
          }
          touchstart(t88, e143, i68) {
            this.singleTap.touchstart(t88, e143, i68);
          }
          touchmove(t88, e143, i68) {
            this.singleTap.touchmove(t88, e143, i68);
          }
          touchend(t88, e143, i68) {
            const o102 = this.singleTap.touchend(t88, e143, i68);
            if (o102) {
              const e144 = t88.timeStamp - this.lastTime < 500, i69 = !this.lastTap || this.lastTap.dist(o102) < 30;
              if (e144 && i69 || this.reset(), this.count++, this.lastTime = t88.timeStamp, this.lastTap = o102, this.count === this.numTaps)
                return this.reset(), o102;
            }
          }
        }
        class yo {
          constructor() {
            this._zoomIn = new vo({ numTouches: 1, numTaps: 2 }), this._zoomOut = new vo({ numTouches: 2, numTaps: 1 }), this.reset();
          }
          reset() {
            this._active = false, this._zoomIn.reset(), this._zoomOut.reset();
          }
          touchstart(t88, e143, i68) {
            this._zoomIn.touchstart(t88, e143, i68), this._zoomOut.touchstart(t88, e143, i68);
          }
          touchmove(t88, e143, i68) {
            this._zoomIn.touchmove(t88, e143, i68), this._zoomOut.touchmove(t88, e143, i68);
          }
          touchend(t88, e143, i68) {
            const o102 = this._zoomIn.touchend(t88, e143, i68), a83 = this._zoomOut.touchend(t88, e143, i68);
            return o102 ? (this._active = true, t88.preventDefault(), setTimeout(() => this.reset(), 0), { cameraAnimation: (e144) => e144.easeTo({ duration: 300, zoom: e144.getZoom() + 1, around: e144.unproject(o102) }, { originalEvent: t88 }) }) : a83 ? (this._active = true, t88.preventDefault(), setTimeout(() => this.reset(), 0), { cameraAnimation: (e144) => e144.easeTo({ duration: 300, zoom: e144.getZoom() - 1, around: e144.unproject(a83) }, { originalEvent: t88 }) }) : void 0;
          }
          touchcancel() {
            this.reset();
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        const bo = { 0: 1, 2: 2 };
        class wo {
          constructor(t88) {
            this.reset(), this._clickTolerance = t88.clickTolerance || 1;
          }
          reset() {
            this._active = false, this._moved = false, delete this._lastPoint, delete this._eventButton;
          }
          _correctButton(t88, e143) {
            return false;
          }
          _move(t88, e143) {
            return {};
          }
          mousedown(t88, e143) {
            if (this._lastPoint)
              return;
            const i68 = s62.mouseButton(t88);
            this._correctButton(t88, i68) && (this._lastPoint = e143, this._eventButton = i68);
          }
          mousemoveWindow(t88, e143) {
            const i68 = this._lastPoint;
            if (i68) {
              if (t88.preventDefault(), function(t89, e144) {
                const i69 = bo[e144];
                return void 0 === t89.buttons || (t89.buttons & i69) !== i69;
              }(t88, this._eventButton))
                this.reset();
              else if (this._moved || !(e143.dist(i68) < this._clickTolerance))
                return this._moved = true, this._lastPoint = e143, this._move(i68, e143);
            }
          }
          mouseupWindow(t88) {
            this._lastPoint && s62.mouseButton(t88) === this._eventButton && (this._moved && s62.suppressClick(), this.reset());
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        class To extends wo {
          mousedown(t88, e143) {
            super.mousedown(t88, e143), this._lastPoint && (this._active = true);
          }
          _correctButton(t88, e143) {
            return 0 === e143 && !t88.ctrlKey;
          }
          _move(t88, e143) {
            return { around: e143, panDelta: e143.sub(t88) };
          }
        }
        class Eo extends wo {
          _correctButton(t88, e143) {
            return 0 === e143 && t88.ctrlKey || 2 === e143;
          }
          _move(t88, e143) {
            const i68 = 0.8 * (e143.x - t88.x);
            if (i68)
              return this._active = true, { bearingDelta: i68 };
          }
          contextmenu(t88) {
            t88.preventDefault();
          }
        }
        class Io extends wo {
          _correctButton(t88, e143) {
            return 0 === e143 && t88.ctrlKey || 2 === e143;
          }
          _move(t88, e143) {
            const i68 = -0.5 * (e143.y - t88.y);
            if (i68)
              return this._active = true, { pitchDelta: i68 };
          }
          contextmenu(t88) {
            t88.preventDefault();
          }
        }
        class So {
          constructor(t88) {
            this._minTouches = 1, this._clickTolerance = t88.clickTolerance || 1, this.reset();
          }
          reset() {
            this._active = false, this._touches = {}, this._sum = new t87.pointGeometry(0, 0);
          }
          touchstart(t88, e143, i68) {
            return this._calculateTransform(t88, e143, i68);
          }
          touchmove(t88, e143, i68) {
            if (this._active && !(i68.length < this._minTouches))
              return t88.preventDefault(), this._calculateTransform(t88, e143, i68);
          }
          touchend(t88, e143, i68) {
            this._calculateTransform(t88, e143, i68), this._active && i68.length < this._minTouches && this.reset();
          }
          touchcancel() {
            this.reset();
          }
          _calculateTransform(e143, i68, o102) {
            o102.length > 0 && (this._active = true);
            const a83 = go(o102, i68), s63 = new t87.pointGeometry(0, 0), r62 = new t87.pointGeometry(0, 0);
            let n46 = 0;
            for (const t88 in a83) {
              const e144 = a83[t88], i69 = this._touches[t88];
              i69 && (s63._add(e144), r62._add(e144.sub(i69)), n46++, a83[t88] = e144);
            }
            if (this._touches = a83, n46 < this._minTouches || !r62.mag())
              return;
            const l30 = r62.div(n46);
            return this._sum._add(l30), this._sum.mag() < this._clickTolerance ? void 0 : { around: s63.div(n46), panDelta: l30 };
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        class Co {
          constructor() {
            this.reset();
          }
          reset() {
            this._active = false, delete this._firstTwoTouches;
          }
          _start(t88) {
          }
          _move(t88, e143, i68) {
            return {};
          }
          touchstart(t88, e143, i68) {
            this._firstTwoTouches || i68.length < 2 || (this._firstTwoTouches = [i68[0].identifier, i68[1].identifier], this._start([e143[0], e143[1]]));
          }
          touchmove(t88, e143, i68) {
            if (!this._firstTwoTouches)
              return;
            t88.preventDefault();
            const [o102, a83] = this._firstTwoTouches, s63 = Po(i68, e143, o102), r62 = Po(i68, e143, a83);
            if (!s63 || !r62)
              return;
            const n46 = this._aroundCenter ? null : s63.add(r62).div(2);
            return this._move([s63, r62], n46, t88);
          }
          touchend(t88, e143, i68) {
            if (!this._firstTwoTouches)
              return;
            const [o102, a83] = this._firstTwoTouches, r62 = Po(i68, e143, o102), n46 = Po(i68, e143, a83);
            r62 && n46 || (this._active && s62.suppressClick(), this.reset());
          }
          touchcancel() {
            this.reset();
          }
          enable(t88) {
            this._enabled = true, this._aroundCenter = !!t88 && "center" === t88.around;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        function Po(t88, e143, i68) {
          for (let o102 = 0; o102 < t88.length; o102++)
            if (t88[o102].identifier === i68)
              return e143[o102];
        }
        function zo(t88, e143) {
          return Math.log(t88 / e143) / Math.LN2;
        }
        class Do extends Co {
          reset() {
            super.reset(), delete this._distance, delete this._startDistance;
          }
          _start(t88) {
            this._startDistance = this._distance = t88[0].dist(t88[1]);
          }
          _move(t88, e143) {
            const i68 = this._distance;
            if (this._distance = t88[0].dist(t88[1]), this._active || !(Math.abs(zo(this._distance, this._startDistance)) < 0.1))
              return this._active = true, { zoomDelta: zo(this._distance, i68), pinchAround: e143 };
          }
        }
        function Ao(t88, e143) {
          return 180 * t88.angleWith(e143) / Math.PI;
        }
        class Mo extends Co {
          reset() {
            super.reset(), delete this._minDiameter, delete this._startVector, delete this._vector;
          }
          _start(t88) {
            this._startVector = this._vector = t88[0].sub(t88[1]), this._minDiameter = t88[0].dist(t88[1]);
          }
          _move(t88, e143) {
            const i68 = this._vector;
            if (this._vector = t88[0].sub(t88[1]), this._active || !this._isBelowThreshold(this._vector))
              return this._active = true, { bearingDelta: Ao(this._vector, i68), pinchAround: e143 };
          }
          _isBelowThreshold(t88) {
            this._minDiameter = Math.min(this._minDiameter, t88.mag());
            const e143 = 25 / (Math.PI * this._minDiameter) * 360, i68 = Ao(t88, this._startVector);
            return Math.abs(i68) < e143;
          }
        }
        function Lo(t88) {
          return Math.abs(t88.y) > Math.abs(t88.x);
        }
        class Ro extends Co {
          reset() {
            super.reset(), this._valid = void 0, delete this._firstMove, delete this._lastPoints;
          }
          _start(t88) {
            this._lastPoints = t88, Lo(t88[0].sub(t88[1])) && (this._valid = false);
          }
          _move(t88, e143, i68) {
            const o102 = t88[0].sub(this._lastPoints[0]), a83 = t88[1].sub(this._lastPoints[1]);
            if (this._valid = this.gestureBeginsVertically(o102, a83, i68.timeStamp), this._valid)
              return this._lastPoints = t88, this._active = true, { pitchDelta: (o102.y + a83.y) / 2 * -0.5 };
          }
          gestureBeginsVertically(t88, e143, i68) {
            if (void 0 !== this._valid)
              return this._valid;
            const o102 = t88.mag() >= 2, a83 = e143.mag() >= 2;
            if (!o102 && !a83)
              return;
            if (!o102 || !a83)
              return void 0 === this._firstMove && (this._firstMove = i68), i68 - this._firstMove < 100 && void 0;
            const s63 = t88.y > 0 == e143.y > 0;
            return Lo(t88) && Lo(e143) && s63;
          }
        }
        const ko = { panStep: 100, bearingStep: 15, pitchStep: 10 };
        class Bo {
          constructor() {
            const t88 = ko;
            this._panStep = t88.panStep, this._bearingStep = t88.bearingStep, this._pitchStep = t88.pitchStep, this._rotationDisabled = false;
          }
          reset() {
            this._active = false;
          }
          keydown(t88) {
            if (t88.altKey || t88.ctrlKey || t88.metaKey)
              return;
            let e143 = 0, i68 = 0, o102 = 0, a83 = 0, s63 = 0;
            switch (t88.keyCode) {
              case 61:
              case 107:
              case 171:
              case 187:
                e143 = 1;
                break;
              case 189:
              case 109:
              case 173:
                e143 = -1;
                break;
              case 37:
                t88.shiftKey ? i68 = -1 : (t88.preventDefault(), a83 = -1);
                break;
              case 39:
                t88.shiftKey ? i68 = 1 : (t88.preventDefault(), a83 = 1);
                break;
              case 38:
                t88.shiftKey ? o102 = 1 : (t88.preventDefault(), s63 = -1);
                break;
              case 40:
                t88.shiftKey ? o102 = -1 : (t88.preventDefault(), s63 = 1);
                break;
              default:
                return;
            }
            return this._rotationDisabled && (i68 = 0, o102 = 0), { cameraAnimation: (r62) => {
              const n46 = r62.getZoom();
              r62.easeTo({ duration: 300, easeId: "keyboardHandler", easing: Fo, zoom: e143 ? Math.round(n46) + e143 * (t88.shiftKey ? 2 : 1) : n46, bearing: r62.getBearing() + i68 * this._bearingStep, pitch: r62.getPitch() + o102 * this._pitchStep, offset: [-a83 * this._panStep, -s63 * this._panStep], center: r62.getCenter() }, { originalEvent: t88 });
            } };
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
          disableRotation() {
            this._rotationDisabled = true;
          }
          enableRotation() {
            this._rotationDisabled = false;
          }
        }
        function Fo(t88) {
          return t88 * (2 - t88);
        }
        const Oo = 4.000244140625;
        class Uo {
          constructor(e143, i68) {
            this._map = e143, this._el = e143.getCanvasContainer(), this._handler = i68, this._delta = 0, this._defaultZoomRate = 0.01, this._wheelZoomRate = 0.0022222222222222222, t87.bindAll(["_onTimeout"], this);
          }
          setZoomRate(t88) {
            this._defaultZoomRate = t88;
          }
          setWheelZoomRate(t88) {
            this._wheelZoomRate = t88;
          }
          isEnabled() {
            return !!this._enabled;
          }
          isActive() {
            return !!this._active || void 0 !== this._finishTimeout;
          }
          isZooming() {
            return !!this._zooming;
          }
          enable(t88) {
            this.isEnabled() || (this._enabled = true, this._aroundCenter = t88 && "center" === t88.around);
          }
          disable() {
            this.isEnabled() && (this._enabled = false);
          }
          wheel(e143) {
            if (!this.isEnabled())
              return;
            let i68 = e143.deltaMode === WheelEvent.DOM_DELTA_LINE ? 40 * e143.deltaY : e143.deltaY;
            const o102 = t87.exported.now(), a83 = o102 - (this._lastWheelEventTime || 0);
            this._lastWheelEventTime = o102, 0 !== i68 && i68 % Oo == 0 ? this._type = "wheel" : 0 !== i68 && Math.abs(i68) < 4 ? this._type = "trackpad" : a83 > 400 ? (this._type = null, this._lastValue = i68, this._timeout = setTimeout(this._onTimeout, 40, e143)) : this._type || (this._type = Math.abs(a83 * i68) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, i68 += this._lastValue)), e143.shiftKey && i68 && (i68 /= 4), this._type && (this._lastWheelEvent = e143, this._delta -= i68, this._active || this._start(e143)), e143.preventDefault();
          }
          _onTimeout(t88) {
            this._type = "wheel", this._delta -= this._lastValue, this._active || this._start(t88);
          }
          _start(e143) {
            if (!this._delta)
              return;
            this._frameId && (this._frameId = null), this._active = true, this.isZooming() || (this._zooming = true), this._finishTimeout && (clearTimeout(this._finishTimeout), delete this._finishTimeout);
            const i68 = s62.mousePos(this._el, e143);
            this._around = t87.LngLat.convert(this._aroundCenter ? this._map.getCenter() : this._map.unproject(i68)), this._aroundPoint = this._map.transform.locationPoint(this._around), this._frameId || (this._frameId = true, this._handler._triggerRenderFrame());
          }
          renderFrame() {
            if (!this._frameId)
              return;
            if (this._frameId = null, !this.isActive())
              return;
            const e143 = this._map.transform;
            if (0 !== this._delta) {
              const t88 = "wheel" === this._type && Math.abs(this._delta) > Oo ? this._wheelZoomRate : this._defaultZoomRate;
              let i69 = 2 / (1 + Math.exp(-Math.abs(this._delta * t88)));
              this._delta < 0 && 0 !== i69 && (i69 = 1 / i69);
              const o103 = "number" == typeof this._targetZoom ? e143.zoomScale(this._targetZoom) : e143.scale;
              this._targetZoom = Math.min(e143.maxZoom, Math.max(e143.minZoom, e143.scaleZoom(o103 * i69))), "wheel" === this._type && (this._startZoom = e143.zoom, this._easing = this._smoothOutEasing(200)), this._delta = 0;
            }
            const i68 = "number" == typeof this._targetZoom ? this._targetZoom : e143.zoom, o102 = this._startZoom, a83 = this._easing;
            let s63, r62 = false;
            if ("wheel" === this._type && o102 && a83) {
              const e144 = Math.min((t87.exported.now() - this._lastWheelEventTime) / 200, 1), n46 = a83(e144);
              s63 = t87.number(o102, i68, n46), e144 < 1 ? this._frameId || (this._frameId = true) : r62 = true;
            } else
              s63 = i68, r62 = true;
            return this._active = true, r62 && (this._active = false, this._finishTimeout = setTimeout(() => {
              this._zooming = false, this._handler._triggerRenderFrame(), delete this._targetZoom, delete this._finishTimeout;
            }, 200)), { noInertia: true, needsRenderFrame: !r62, zoomDelta: s63 - e143.zoom, around: this._aroundPoint, originalEvent: this._lastWheelEvent };
          }
          _smoothOutEasing(e143) {
            let i68 = t87.ease;
            if (this._prevEase) {
              const e144 = this._prevEase, o102 = (t87.exported.now() - e144.start) / e144.duration, a83 = e144.easing(o102 + 0.01) - e144.easing(o102), s63 = 0.27 / Math.sqrt(a83 * a83 + 1e-4) * 0.01, r62 = Math.sqrt(0.0729 - s63 * s63);
              i68 = t87.bezier(s63, r62, 0.25, 1);
            }
            return this._prevEase = { start: t87.exported.now(), duration: e143, easing: i68 }, i68;
          }
          reset() {
            this._active = false;
          }
        }
        class No {
          constructor(t88, e143) {
            this._clickZoom = t88, this._tapZoom = e143;
          }
          enable() {
            this._clickZoom.enable(), this._tapZoom.enable();
          }
          disable() {
            this._clickZoom.disable(), this._tapZoom.disable();
          }
          isEnabled() {
            return this._clickZoom.isEnabled() && this._tapZoom.isEnabled();
          }
          isActive() {
            return this._clickZoom.isActive() || this._tapZoom.isActive();
          }
        }
        class Go {
          constructor() {
            this.reset();
          }
          reset() {
            this._active = false;
          }
          dblclick(t88, e143) {
            return t88.preventDefault(), { cameraAnimation: (i68) => {
              i68.easeTo({ duration: 300, zoom: i68.getZoom() + (t88.shiftKey ? -1 : 1), around: i68.unproject(e143) }, { originalEvent: t88 });
            } };
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        class Zo {
          constructor() {
            this._tap = new vo({ numTouches: 1, numTaps: 1 }), this.reset();
          }
          reset() {
            this._active = false, delete this._swipePoint, delete this._swipeTouch, delete this._tapTime, this._tap.reset();
          }
          touchstart(t88, e143, i68) {
            this._swipePoint || (this._tapTime && t88.timeStamp - this._tapTime > 500 && this.reset(), this._tapTime ? i68.length > 0 && (this._swipePoint = e143[0], this._swipeTouch = i68[0].identifier) : this._tap.touchstart(t88, e143, i68));
          }
          touchmove(t88, e143, i68) {
            if (this._tapTime) {
              if (this._swipePoint) {
                if (i68[0].identifier !== this._swipeTouch)
                  return;
                const o102 = e143[0], a83 = o102.y - this._swipePoint.y;
                return this._swipePoint = o102, t88.preventDefault(), this._active = true, { zoomDelta: a83 / 128 };
              }
            } else
              this._tap.touchmove(t88, e143, i68);
          }
          touchend(t88, e143, i68) {
            this._tapTime ? this._swipePoint && 0 === i68.length && this.reset() : this._tap.touchend(t88, e143, i68) && (this._tapTime = t88.timeStamp);
          }
          touchcancel() {
            this.reset();
          }
          enable() {
            this._enabled = true;
          }
          disable() {
            this._enabled = false, this.reset();
          }
          isEnabled() {
            return this._enabled;
          }
          isActive() {
            return this._active;
          }
        }
        class qo {
          constructor(t88, e143, i68) {
            this._el = t88, this._mousePan = e143, this._touchPan = i68;
          }
          enable(t88) {
            this._inertiaOptions = t88 || {}, this._mousePan.enable(), this._touchPan.enable(), this._el.classList.add("maplibregl-touch-drag-pan", "mapboxgl-touch-drag-pan");
          }
          disable() {
            this._mousePan.disable(), this._touchPan.disable(), this._el.classList.remove("maplibregl-touch-drag-pan", "mapboxgl-touch-drag-pan");
          }
          isEnabled() {
            return this._mousePan.isEnabled() && this._touchPan.isEnabled();
          }
          isActive() {
            return this._mousePan.isActive() || this._touchPan.isActive();
          }
        }
        class Vo {
          constructor(t88, e143, i68) {
            this._pitchWithRotate = t88.pitchWithRotate, this._mouseRotate = e143, this._mousePitch = i68;
          }
          enable() {
            this._mouseRotate.enable(), this._pitchWithRotate && this._mousePitch.enable();
          }
          disable() {
            this._mouseRotate.disable(), this._mousePitch.disable();
          }
          isEnabled() {
            return this._mouseRotate.isEnabled() && (!this._pitchWithRotate || this._mousePitch.isEnabled());
          }
          isActive() {
            return this._mouseRotate.isActive() || this._mousePitch.isActive();
          }
        }
        class jo {
          constructor(t88, e143, i68, o102) {
            this._el = t88, this._touchZoom = e143, this._touchRotate = i68, this._tapDragZoom = o102, this._rotationDisabled = false, this._enabled = true;
          }
          enable(t88) {
            this._touchZoom.enable(t88), this._rotationDisabled || this._touchRotate.enable(t88), this._tapDragZoom.enable(), this._el.classList.add("maplibregl-touch-zoom-rotate", "mapboxgl-touch-zoom-rotate");
          }
          disable() {
            this._touchZoom.disable(), this._touchRotate.disable(), this._tapDragZoom.disable(), this._el.classList.remove("maplibregl-touch-zoom-rotate", "mapboxgl-touch-zoom-rotate");
          }
          isEnabled() {
            return this._touchZoom.isEnabled() && (this._rotationDisabled || this._touchRotate.isEnabled()) && this._tapDragZoom.isEnabled();
          }
          isActive() {
            return this._touchZoom.isActive() || this._touchRotate.isActive() || this._tapDragZoom.isActive();
          }
          disableRotation() {
            this._rotationDisabled = true, this._touchRotate.disable();
          }
          enableRotation() {
            this._rotationDisabled = false, this._touchZoom.isEnabled() && this._touchRotate.enable();
          }
        }
        const $o = (t88) => t88.zoom || t88.drag || t88.pitch || t88.rotate;
        class Wo extends t87.Event {
        }
        function Xo(t88) {
          return t88.panDelta && t88.panDelta.mag() || t88.zoomDelta || t88.bearingDelta || t88.pitchDelta;
        }
        class Ho {
          constructor(e143, i68) {
            this._map = e143, this._el = this._map.getCanvasContainer(), this._handlers = [], this._handlersById = {}, this._changes = [], this._inertia = new no(e143), this._bearingSnap = i68.bearingSnap, this._previousActiveHandlers = {}, this._eventsInProgress = {}, this._addDefaultHandlers(i68), t87.bindAll(["handleEvent", "handleWindowEvent"], this);
            const o102 = this._el;
            this._listeners = [[o102, "touchstart", { passive: true }], [o102, "touchmove", { passive: false }], [o102, "touchend", void 0], [o102, "touchcancel", void 0], [o102, "mousedown", void 0], [o102, "mousemove", void 0], [o102, "mouseup", void 0], [document, "mousemove", { capture: true }], [document, "mouseup", void 0], [o102, "mouseover", void 0], [o102, "mouseout", void 0], [o102, "dblclick", void 0], [o102, "click", void 0], [o102, "keydown", { capture: false }], [o102, "keyup", void 0], [o102, "wheel", { passive: false }], [o102, "contextmenu", void 0], [window, "blur", void 0]];
            for (const [t88, e144, i69] of this._listeners)
              s62.addEventListener(t88, e144, t88 === document ? this.handleWindowEvent : this.handleEvent, i69);
          }
          destroy() {
            for (const [t88, e143, i68] of this._listeners)
              s62.removeEventListener(t88, e143, t88 === document ? this.handleWindowEvent : this.handleEvent, i68);
          }
          _addDefaultHandlers(t88) {
            const e143 = this._map, i68 = e143.getCanvasContainer();
            this._add("mapEvent", new _o(e143, t88));
            const o102 = e143.boxZoom = new fo(e143, t88);
            this._add("boxZoom", o102);
            const a83 = new yo(), s63 = new Go();
            e143.doubleClickZoom = new No(s63, a83), this._add("tapZoom", a83), this._add("clickZoom", s63);
            const r62 = new Zo();
            this._add("tapDragZoom", r62);
            const n46 = e143.touchPitch = new Ro();
            this._add("touchPitch", n46);
            const l30 = new Eo(t88), c23 = new Io(t88);
            e143.dragRotate = new Vo(t88, l30, c23), this._add("mouseRotate", l30, ["mousePitch"]), this._add("mousePitch", c23, ["mouseRotate"]);
            const h13 = new To(t88), u21 = new So(t88);
            e143.dragPan = new qo(i68, h13, u21), this._add("mousePan", h13), this._add("touchPan", u21, ["touchZoom", "touchRotate"]);
            const d11 = new Mo(), m30 = new Do();
            e143.touchZoomRotate = new jo(i68, m30, d11, r62), this._add("touchRotate", d11, ["touchPan", "touchZoom"]), this._add("touchZoom", m30, ["touchPan", "touchRotate"]);
            const _4 = e143.scrollZoom = new Uo(e143, this);
            this._add("scrollZoom", _4, ["mousePan"]);
            const p18 = e143.keyboard = new Bo();
            this._add("keyboard", p18), this._add("blockableMapEvent", new po(e143));
            for (const i69 of ["boxZoom", "doubleClickZoom", "tapDragZoom", "touchPitch", "dragRotate", "dragPan", "touchZoomRotate", "scrollZoom", "keyboard"])
              t88.interactive && t88[i69] && e143[i69].enable(t88[i69]);
          }
          _add(t88, e143, i68) {
            this._handlers.push({ handlerName: t88, handler: e143, allowed: i68 }), this._handlersById[t88] = e143;
          }
          stop(t88) {
            if (!this._updatingCamera) {
              for (const { handler: t89 } of this._handlers)
                t89.reset();
              this._inertia.clear(), this._fireEvents({}, {}, t88), this._changes = [];
            }
          }
          isActive() {
            for (const { handler: t88 } of this._handlers)
              if (t88.isActive())
                return true;
            return false;
          }
          isZooming() {
            return !!this._eventsInProgress.zoom || this._map.scrollZoom.isZooming();
          }
          isRotating() {
            return !!this._eventsInProgress.rotate;
          }
          isMoving() {
            return Boolean($o(this._eventsInProgress)) || this.isZooming();
          }
          _blockedByActive(t88, e143, i68) {
            for (const o102 in t88)
              if (o102 !== i68 && (!e143 || e143.indexOf(o102) < 0))
                return true;
            return false;
          }
          handleWindowEvent(t88) {
            this.handleEvent(t88, `${t88.type}Window`);
          }
          _getMapTouches(t88) {
            const e143 = [];
            for (const i68 of t88)
              this._el.contains(i68.target) && e143.push(i68);
            return e143;
          }
          handleEvent(t88, e143) {
            if ("blur" === t88.type)
              return void this.stop(true);
            this._updatingCamera = true;
            const i68 = "renderFrame" === t88.type ? void 0 : t88, o102 = { needsRenderFrame: false }, a83 = {}, r62 = {}, n46 = t88.touches, l30 = n46 ? this._getMapTouches(n46) : void 0, c23 = l30 ? s62.touchPos(this._el, l30) : s62.mousePos(this._el, t88);
            for (const { handlerName: s63, handler: n47, allowed: h14 } of this._handlers) {
              if (!n47.isEnabled())
                continue;
              let u22;
              this._blockedByActive(r62, h14, s63) ? n47.reset() : n47[e143 || t88.type] && (u22 = n47[e143 || t88.type](t88, c23, l30), this.mergeHandlerResult(o102, a83, u22, s63, i68), u22 && u22.needsRenderFrame && this._triggerRenderFrame()), (u22 || n47.isActive()) && (r62[s63] = n47);
            }
            const h13 = {};
            for (const t89 in this._previousActiveHandlers)
              r62[t89] || (h13[t89] = i68);
            this._previousActiveHandlers = r62, (Object.keys(h13).length || Xo(o102)) && (this._changes.push([o102, a83, h13]), this._triggerRenderFrame()), (Object.keys(r62).length || Xo(o102)) && this._map._stop(true), this._updatingCamera = false;
            const { cameraAnimation: u21 } = o102;
            u21 && (this._inertia.clear(), this._fireEvents({}, {}, true), this._changes = [], u21(this._map));
          }
          mergeHandlerResult(e143, i68, o102, a83, s63) {
            if (!o102)
              return;
            t87.extend(e143, o102);
            const r62 = { handlerName: a83, originalEvent: o102.originalEvent || s63 };
            void 0 !== o102.zoomDelta && (i68.zoom = r62), void 0 !== o102.panDelta && (i68.drag = r62), void 0 !== o102.pitchDelta && (i68.pitch = r62), void 0 !== o102.bearingDelta && (i68.rotate = r62);
          }
          _applyChanges() {
            const e143 = {}, i68 = {}, o102 = {};
            for (const [a83, s63, r62] of this._changes)
              a83.panDelta && (e143.panDelta = (e143.panDelta || new t87.pointGeometry(0, 0))._add(a83.panDelta)), a83.zoomDelta && (e143.zoomDelta = (e143.zoomDelta || 0) + a83.zoomDelta), a83.bearingDelta && (e143.bearingDelta = (e143.bearingDelta || 0) + a83.bearingDelta), a83.pitchDelta && (e143.pitchDelta = (e143.pitchDelta || 0) + a83.pitchDelta), void 0 !== a83.around && (e143.around = a83.around), void 0 !== a83.pinchAround && (e143.pinchAround = a83.pinchAround), a83.noInertia && (e143.noInertia = a83.noInertia), t87.extend(i68, s63), t87.extend(o102, r62);
            this._updateMapTransform(e143, i68, o102), this._changes = [];
          }
          _updateMapTransform(t88, e143, i68) {
            const o102 = this._map, a83 = o102.transform;
            if (!Xo(t88))
              return this._fireEvents(e143, i68, true);
            let { panDelta: s63, zoomDelta: r62, bearingDelta: n46, pitchDelta: l30, around: c23, pinchAround: h13 } = t88;
            void 0 !== h13 && (c23 = h13), o102._stop(true), c23 = c23 || o102.transform.centerPoint;
            const u21 = a83.pointLocation(s63 ? c23.sub(s63) : c23);
            n46 && (a83.bearing += n46), l30 && (a83.pitch += l30), r62 && (a83.zoom += r62), a83.setLocationAtPoint(u21, c23), this._map._update(), t88.noInertia || this._inertia.record(t88), this._fireEvents(e143, i68, true);
          }
          _fireEvents(e143, i68, o102) {
            const a83 = $o(this._eventsInProgress), s63 = $o(e143), r62 = {};
            for (const t88 in e143) {
              const { originalEvent: i69 } = e143[t88];
              this._eventsInProgress[t88] || (r62[`${t88}start`] = i69), this._eventsInProgress[t88] = e143[t88];
            }
            !a83 && s63 && this._fireEvent("movestart", s63.originalEvent);
            for (const t88 in r62)
              this._fireEvent(t88, r62[t88]);
            s63 && this._fireEvent("move", s63.originalEvent);
            for (const t88 in e143) {
              const { originalEvent: i69 } = e143[t88];
              this._fireEvent(t88, i69);
            }
            const n46 = {};
            let l30;
            for (const t88 in this._eventsInProgress) {
              const { handlerName: e144, originalEvent: o103 } = this._eventsInProgress[t88];
              this._handlersById[e144].isActive() || (delete this._eventsInProgress[t88], l30 = i68[e144] || o103, n46[`${t88}end`] = l30);
            }
            for (const t88 in n46)
              this._fireEvent(t88, n46[t88]);
            const c23 = $o(this._eventsInProgress);
            if (o102 && (a83 || s63) && !c23) {
              this._updatingCamera = true;
              const e144 = this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions), i69 = (t88) => 0 !== t88 && -this._bearingSnap < t88 && t88 < this._bearingSnap;
              e144 ? (i69(e144.bearing || this._map.getBearing()) && (e144.bearing = 0), this._map.easeTo(e144, { originalEvent: l30 })) : (this._map.fire(new t87.Event("moveend", { originalEvent: l30 })), i69(this._map.getBearing()) && this._map.resetNorth()), this._updatingCamera = false;
            }
          }
          _fireEvent(e143, i68) {
            this._map.fire(new t87.Event(e143, i68 ? { originalEvent: i68 } : {}));
          }
          _requestFrame() {
            return this._map.triggerRepaint(), this._map._renderTaskQueue.add((t88) => {
              delete this._frameId, this.handleEvent(new Wo("renderFrame", { timeStamp: t88 })), this._applyChanges();
            });
          }
          _triggerRenderFrame() {
            void 0 === this._frameId && (this._frameId = this._requestFrame());
          }
        }
        const Ko = { extend: (e143, ...i68) => t87.extend(e143, ...i68), run(t88) {
          t88();
        }, logToElement(t88, e143 = false, i68 = "log") {
          const o102 = window.document.getElementById(i68);
          o102 && (e143 && (o102.innerHTML = ""), o102.innerHTML += `<br>${t88}`);
        } };
        class Yo extends t87.Evented {
          constructor(e143, i68) {
            super(), this._moving = false, this._zooming = false, this.transform = e143, this._bearingSnap = i68.bearingSnap, t87.bindAll(["_renderFrameCallback"], this);
          }
          getCenter() {
            return new t87.LngLat(this.transform.center.lng, this.transform.center.lat);
          }
          setCenter(t88, e143) {
            return this.jumpTo({ center: t88 }, e143);
          }
          panBy(e143, i68, o102) {
            return e143 = t87.pointGeometry.convert(e143).mult(-1), this.panTo(this.transform.center, t87.extend({ offset: e143 }, i68), o102);
          }
          panTo(e143, i68, o102) {
            return this.easeTo(t87.extend({ center: e143 }, i68), o102);
          }
          getZoom() {
            return this.transform.zoom;
          }
          setZoom(t88, e143) {
            return this.jumpTo({ zoom: t88 }, e143), this;
          }
          zoomTo(e143, i68, o102) {
            return this.easeTo(t87.extend({ zoom: e143 }, i68), o102);
          }
          zoomIn(t88, e143) {
            return this.zoomTo(this.getZoom() + 1, t88, e143), this;
          }
          zoomOut(t88, e143) {
            return this.zoomTo(this.getZoom() - 1, t88, e143), this;
          }
          getBearing() {
            return this.transform.bearing;
          }
          setBearing(t88, e143) {
            return this.jumpTo({ bearing: t88 }, e143), this;
          }
          getPadding() {
            return this.transform.padding;
          }
          setPadding(t88, e143) {
            return this.jumpTo({ padding: t88 }, e143), this;
          }
          rotateTo(e143, i68, o102) {
            return this.easeTo(t87.extend({ bearing: e143 }, i68), o102);
          }
          resetNorth(e143, i68) {
            return this.rotateTo(0, t87.extend({ duration: 1e3 }, e143), i68), this;
          }
          resetNorthPitch(e143, i68) {
            return this.easeTo(t87.extend({ bearing: 0, pitch: 0, duration: 1e3 }, e143), i68), this;
          }
          snapToNorth(t88, e143) {
            return Math.abs(this.getBearing()) < this._bearingSnap ? this.resetNorth(t88, e143) : this;
          }
          getPitch() {
            return this.transform.pitch;
          }
          setPitch(t88, e143) {
            return this.jumpTo({ pitch: t88 }, e143), this;
          }
          cameraForBounds(e143, i68) {
            e143 = t87.LngLatBounds.convert(e143);
            const o102 = i68 && i68.bearing || 0;
            return this._cameraForBoxAndBearing(e143.getNorthWest(), e143.getSouthEast(), o102, i68);
          }
          _cameraForBoxAndBearing(e143, i68, o102, a83) {
            const s63 = { top: 0, bottom: 0, right: 0, left: 0 };
            if ("number" == typeof (a83 = t87.extend({ padding: s63, offset: [0, 0], maxZoom: this.transform.maxZoom }, a83)).padding) {
              const t88 = a83.padding;
              a83.padding = { top: t88, bottom: t88, right: t88, left: t88 };
            }
            a83.padding = t87.extend(s63, a83.padding);
            const r62 = this.transform, n46 = r62.padding, l30 = r62.project(t87.LngLat.convert(e143)), c23 = r62.project(t87.LngLat.convert(i68)), h13 = l30.rotate(-o102 * Math.PI / 180), u21 = c23.rotate(-o102 * Math.PI / 180), d11 = new t87.pointGeometry(Math.max(h13.x, u21.x), Math.max(h13.y, u21.y)), m30 = new t87.pointGeometry(Math.min(h13.x, u21.x), Math.min(h13.y, u21.y)), _4 = d11.sub(m30), p18 = (r62.width - (n46.left + n46.right + a83.padding.left + a83.padding.right)) / _4.x, f22 = (r62.height - (n46.top + n46.bottom + a83.padding.top + a83.padding.bottom)) / _4.y;
            if (f22 < 0 || p18 < 0)
              return void t87.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");
            const g15 = Math.min(r62.scaleZoom(r62.scale * Math.min(p18, f22)), a83.maxZoom), x6 = t87.pointGeometry.convert(a83.offset), v6 = new t87.pointGeometry((a83.padding.left - a83.padding.right) / 2, (a83.padding.top - a83.padding.bottom) / 2).rotate(o102 * Math.PI / 180), y10 = x6.add(v6).mult(r62.scale / r62.zoomScale(g15));
            return { center: r62.unproject(l30.add(c23).div(2).sub(y10)), zoom: g15, bearing: o102 };
          }
          fitBounds(t88, e143, i68) {
            return this._fitInternal(this.cameraForBounds(t88, e143), e143, i68);
          }
          fitScreenCoordinates(e143, i68, o102, a83, s63) {
            return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t87.pointGeometry.convert(e143)), this.transform.pointLocation(t87.pointGeometry.convert(i68)), o102, a83), a83, s63);
          }
          _fitInternal(e143, i68, o102) {
            return e143 ? (delete (i68 = t87.extend(e143, i68)).padding, i68.linear ? this.easeTo(i68, o102) : this.flyTo(i68, o102)) : this;
          }
          jumpTo(e143, i68) {
            this.stop();
            const o102 = this.transform;
            let a83 = false, s63 = false, r62 = false;
            return "zoom" in e143 && o102.zoom !== +e143.zoom && (a83 = true, o102.zoom = +e143.zoom), void 0 !== e143.center && (o102.center = t87.LngLat.convert(e143.center)), "bearing" in e143 && o102.bearing !== +e143.bearing && (s63 = true, o102.bearing = +e143.bearing), "pitch" in e143 && o102.pitch !== +e143.pitch && (r62 = true, o102.pitch = +e143.pitch), null == e143.padding || o102.isPaddingEqual(e143.padding) || (o102.padding = e143.padding), this.fire(new t87.Event("movestart", i68)).fire(new t87.Event("move", i68)), a83 && this.fire(new t87.Event("zoomstart", i68)).fire(new t87.Event("zoom", i68)).fire(new t87.Event("zoomend", i68)), s63 && this.fire(new t87.Event("rotatestart", i68)).fire(new t87.Event("rotate", i68)).fire(new t87.Event("rotateend", i68)), r62 && this.fire(new t87.Event("pitchstart", i68)).fire(new t87.Event("pitch", i68)).fire(new t87.Event("pitchend", i68)), this.fire(new t87.Event("moveend", i68));
          }
          easeTo(e143, i68) {
            this._stop(false, e143.easeId), (false === (e143 = t87.extend({ offset: [0, 0], duration: 500, easing: t87.ease }, e143)).animate || !e143.essential && t87.exported.prefersReducedMotion) && (e143.duration = 0);
            const o102 = this.transform, a83 = this.getZoom(), s63 = this.getBearing(), r62 = this.getPitch(), n46 = this.getPadding(), l30 = "zoom" in e143 ? +e143.zoom : a83, c23 = "bearing" in e143 ? this._normalizeBearing(e143.bearing, s63) : s63, h13 = "pitch" in e143 ? +e143.pitch : r62, u21 = "padding" in e143 ? e143.padding : o102.padding, d11 = t87.pointGeometry.convert(e143.offset);
            let m30 = o102.centerPoint.add(d11);
            const _4 = o102.pointLocation(m30), p18 = t87.LngLat.convert(e143.center || _4);
            this._normalizeCenter(p18);
            const f22 = o102.project(_4), g15 = o102.project(p18).sub(f22), x6 = o102.zoomScale(l30 - a83);
            let v6, y10;
            e143.around && (v6 = t87.LngLat.convert(e143.around), y10 = o102.locationPoint(v6));
            const b8 = { moving: this._moving, zooming: this._zooming, rotating: this._rotating, pitching: this._pitching };
            return this._zooming = this._zooming || l30 !== a83, this._rotating = this._rotating || s63 !== c23, this._pitching = this._pitching || h13 !== r62, this._padding = !o102.isPaddingEqual(u21), this._easeId = e143.easeId, this._prepareEase(i68, e143.noMoveStart, b8), this._ease((e144) => {
              if (this._zooming && (o102.zoom = t87.number(a83, l30, e144)), this._rotating && (o102.bearing = t87.number(s63, c23, e144)), this._pitching && (o102.pitch = t87.number(r62, h13, e144)), this._padding && (o102.interpolatePadding(n46, u21, e144), m30 = o102.centerPoint.add(d11)), v6)
                o102.setLocationAtPoint(v6, y10);
              else {
                const t88 = o102.zoomScale(o102.zoom - a83), i69 = l30 > a83 ? Math.min(2, x6) : Math.max(0.5, x6), s64 = Math.pow(i69, 1 - e144), r63 = o102.unproject(f22.add(g15.mult(e144 * s64)).mult(t88));
                o102.setLocationAtPoint(o102.renderWorldCopies ? r63.wrap() : r63, m30);
              }
              this._fireMoveEvents(i68);
            }, (t88) => {
              this._afterEase(i68, t88);
            }, e143), this;
          }
          _prepareEase(e143, i68, o102 = {}) {
            this._moving = true, i68 || o102.moving || this.fire(new t87.Event("movestart", e143)), this._zooming && !o102.zooming && this.fire(new t87.Event("zoomstart", e143)), this._rotating && !o102.rotating && this.fire(new t87.Event("rotatestart", e143)), this._pitching && !o102.pitching && this.fire(new t87.Event("pitchstart", e143));
          }
          _fireMoveEvents(e143) {
            this.fire(new t87.Event("move", e143)), this._zooming && this.fire(new t87.Event("zoom", e143)), this._rotating && this.fire(new t87.Event("rotate", e143)), this._pitching && this.fire(new t87.Event("pitch", e143));
          }
          _afterEase(e143, i68) {
            if (this._easeId && i68 && this._easeId === i68)
              return;
            delete this._easeId;
            const o102 = this._zooming, a83 = this._rotating, s63 = this._pitching;
            this._moving = false, this._zooming = false, this._rotating = false, this._pitching = false, this._padding = false, o102 && this.fire(new t87.Event("zoomend", e143)), a83 && this.fire(new t87.Event("rotateend", e143)), s63 && this.fire(new t87.Event("pitchend", e143)), this.fire(new t87.Event("moveend", e143));
          }
          flyTo(e143, i68) {
            if (!e143.essential && t87.exported.prefersReducedMotion) {
              const o103 = t87.pick(e143, ["center", "zoom", "bearing", "pitch", "around"]);
              return this.jumpTo(o103, i68);
            }
            this.stop(), e143 = t87.extend({ offset: [0, 0], speed: 1.2, curve: 1.42, easing: t87.ease }, e143);
            const o102 = this.transform, a83 = this.getZoom(), s63 = this.getBearing(), r62 = this.getPitch(), n46 = this.getPadding(), l30 = "zoom" in e143 ? t87.clamp(+e143.zoom, o102.minZoom, o102.maxZoom) : a83, c23 = "bearing" in e143 ? this._normalizeBearing(e143.bearing, s63) : s63, h13 = "pitch" in e143 ? +e143.pitch : r62, u21 = "padding" in e143 ? e143.padding : o102.padding, d11 = o102.zoomScale(l30 - a83), m30 = t87.pointGeometry.convert(e143.offset);
            let _4 = o102.centerPoint.add(m30);
            const p18 = o102.pointLocation(_4), f22 = t87.LngLat.convert(e143.center || p18);
            this._normalizeCenter(f22);
            const g15 = o102.project(p18), x6 = o102.project(f22).sub(g15);
            let v6 = e143.curve;
            const y10 = Math.max(o102.width, o102.height), b8 = y10 / d11, w4 = x6.mag();
            if ("minZoom" in e143) {
              const i69 = t87.clamp(Math.min(e143.minZoom, a83, l30), o102.minZoom, o102.maxZoom), s64 = y10 / o102.zoomScale(i69 - a83);
              v6 = Math.sqrt(s64 / w4 * 2);
            }
            const T3 = v6 * v6;
            function E5(t88) {
              const e144 = (b8 * b8 - y10 * y10 + (t88 ? -1 : 1) * T3 * T3 * w4 * w4) / (2 * (t88 ? b8 : y10) * T3 * w4);
              return Math.log(Math.sqrt(e144 * e144 + 1) - e144);
            }
            function I3(t88) {
              return (Math.exp(t88) - Math.exp(-t88)) / 2;
            }
            function S2(t88) {
              return (Math.exp(t88) + Math.exp(-t88)) / 2;
            }
            const C8 = E5(0);
            let P3 = function(t88) {
              return S2(C8) / S2(C8 + v6 * t88);
            }, z3 = function(t88) {
              return y10 * ((S2(C8) * (I3(e144 = C8 + v6 * t88) / S2(e144)) - I3(C8)) / T3) / w4;
              var e144;
            }, D4 = (E5(1) - C8) / v6;
            if (Math.abs(w4) < 1e-6 || !isFinite(D4)) {
              if (Math.abs(y10 - b8) < 1e-6)
                return this.easeTo(e143, i68);
              const t88 = b8 < y10 ? -1 : 1;
              D4 = Math.abs(Math.log(b8 / y10)) / v6, z3 = function() {
                return 0;
              }, P3 = function(e144) {
                return Math.exp(t88 * v6 * e144);
              };
            }
            return e143.duration = "duration" in e143 ? +e143.duration : 1e3 * D4 / ("screenSpeed" in e143 ? +e143.screenSpeed / v6 : +e143.speed), e143.maxDuration && e143.duration > e143.maxDuration && (e143.duration = 0), this._zooming = true, this._rotating = s63 !== c23, this._pitching = h13 !== r62, this._padding = !o102.isPaddingEqual(u21), this._prepareEase(i68, false), this._ease((e144) => {
              const d12 = e144 * D4, p19 = 1 / P3(d12);
              o102.zoom = 1 === e144 ? l30 : a83 + o102.scaleZoom(p19), this._rotating && (o102.bearing = t87.number(s63, c23, e144)), this._pitching && (o102.pitch = t87.number(r62, h13, e144)), this._padding && (o102.interpolatePadding(n46, u21, e144), _4 = o102.centerPoint.add(m30));
              const v7 = 1 === e144 ? f22 : o102.unproject(g15.add(x6.mult(z3(d12))).mult(p19));
              o102.setLocationAtPoint(o102.renderWorldCopies ? v7.wrap() : v7, _4), this._fireMoveEvents(i68);
            }, () => this._afterEase(i68), e143), this;
          }
          isEasing() {
            return !!this._easeFrameId;
          }
          stop() {
            return this._stop();
          }
          _stop(t88, e143) {
            if (this._easeFrameId && (this._cancelRenderFrame(this._easeFrameId), delete this._easeFrameId, delete this._onEaseFrame), this._onEaseEnd) {
              const t89 = this._onEaseEnd;
              delete this._onEaseEnd, t89.call(this, e143);
            }
            if (!t88) {
              const t89 = this.handlers;
              t89 && t89.stop(false);
            }
            return this;
          }
          _ease(e143, i68, o102) {
            false === o102.animate || 0 === o102.duration ? (e143(1), i68()) : (this._easeStart = t87.exported.now(), this._easeOptions = o102, this._onEaseFrame = e143, this._onEaseEnd = i68, this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback));
          }
          _renderFrameCallback() {
            const e143 = Math.min((t87.exported.now() - this._easeStart) / this._easeOptions.duration, 1);
            this._onEaseFrame(this._easeOptions.easing(e143)), e143 < 1 ? this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback) : this.stop();
          }
          _normalizeBearing(e143, i68) {
            e143 = t87.wrap(e143, -180, 180);
            const o102 = Math.abs(e143 - i68);
            return Math.abs(e143 - 360 - i68) < o102 && (e143 -= 360), Math.abs(e143 + 360 - i68) < o102 && (e143 += 360), e143;
          }
          _normalizeCenter(t88) {
            const e143 = this.transform;
            if (!e143.renderWorldCopies || e143.lngRange)
              return;
            const i68 = t88.lng - e143.center.lng;
            t88.lng += i68 > 180 ? -360 : i68 < -180 ? 360 : 0;
          }
        }
        class Jo {
          constructor(e143 = {}) {
            this.options = e143, t87.bindAll(["_toggleAttribution", "_updateData", "_updateCompact", "_updateCompactMinimize"], this);
          }
          getDefaultPosition() {
            return "bottom-right";
          }
          onAdd(t88) {
            return this._map = t88, this._compact = this.options && this.options.compact, this._container = s62.create("details", "maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"), this._compactButton = s62.create("summary", "maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button", this._container), this._compactButton.addEventListener("click", this._toggleAttribution), this._setElementTitle(this._compactButton, "ToggleAttribution"), this._innerContainer = s62.create("div", "maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner", this._container), this._updateAttributions(), this._updateCompact(), this._map.on("styledata", this._updateData), this._map.on("sourcedata", this._updateData), this._map.on("resize", this._updateCompact), this._map.on("drag", this._updateCompactMinimize), this._container;
          }
          onRemove() {
            s62.remove(this._container), this._map.off("styledata", this._updateData), this._map.off("sourcedata", this._updateData), this._map.off("resize", this._updateCompact), this._map.off("drag", this._updateCompactMinimize), this._map = void 0, this._compact = void 0, this._attribHTML = void 0;
          }
          _setElementTitle(t88, e143) {
            const i68 = this._map._getUIString(`AttributionControl.${e143}`);
            t88.title = i68, t88.setAttribute("aria-label", i68);
          }
          _toggleAttribution() {
            this._container.classList.contains("maplibregl-compact") && (this._container.classList.contains("maplibregl-compact-show") ? (this._container.setAttribute("open", ""), this._container.classList.remove("maplibregl-compact-show", "mapboxgl-compact-show")) : (this._container.classList.add("maplibregl-compact-show", "mapboxgl-compact-show"), this._container.removeAttribute("open")));
          }
          _updateData(t88) {
            !t88 || "metadata" !== t88.sourceDataType && "visibility" !== t88.sourceDataType && "style" !== t88.dataType || this._updateAttributions();
          }
          _updateAttributions() {
            if (!this._map.style)
              return;
            let t88 = [];
            if (this.options.customAttribution && (Array.isArray(this.options.customAttribution) ? t88 = t88.concat(this.options.customAttribution.map((t89) => "string" != typeof t89 ? "" : t89)) : "string" == typeof this.options.customAttribution && t88.push(this.options.customAttribution)), this._map.style.stylesheet) {
              const t89 = this._map.style.stylesheet;
              this.styleOwner = t89.owner, this.styleId = t89.id;
            }
            const e143 = this._map.style.sourceCaches;
            for (const i69 in e143) {
              const o102 = e143[i69];
              if (o102.used) {
                const e144 = o102.getSource();
                e144.attribution && t88.indexOf(e144.attribution) < 0 && t88.push(e144.attribution);
              }
            }
            t88 = t88.filter((t89) => String(t89).trim()), t88.sort((t89, e144) => t89.length - e144.length), t88 = t88.filter((e144, i69) => {
              for (let o102 = i69 + 1; o102 < t88.length; o102++)
                if (t88[o102].indexOf(e144) >= 0)
                  return false;
              return true;
            });
            const i68 = t88.join(" | ");
            i68 !== this._attribHTML && (this._attribHTML = i68, t88.length ? (this._innerContainer.innerHTML = i68, this._container.classList.remove("maplibregl-attrib-empty", "mapboxgl-attrib-empty")) : this._container.classList.add("maplibregl-attrib-empty", "mapboxgl-attrib-empty"), this._updateCompact(), this._editLink = null);
          }
          _updateCompact() {
            this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? false === this._compact ? this._container.setAttribute("open", "") : this._container.classList.contains("maplibregl-compact") || this._container.classList.contains("maplibregl-attrib-empty") || (this._container.setAttribute("open", ""), this._container.classList.add("maplibregl-compact", "mapboxgl-compact", "maplibregl-compact-show", "mapboxgl-compact-show")) : (this._container.setAttribute("open", ""), this._container.classList.contains("maplibregl-compact") && this._container.classList.remove("maplibregl-compact", "maplibregl-compact-show", "mapboxgl-compact", "mapboxgl-compact-show"));
          }
          _updateCompactMinimize() {
            this._container.classList.contains("maplibregl-compact") && this._container.classList.contains("maplibregl-compact-show") && this._container.classList.remove("maplibregl-compact-show", "mapboxgl-compact-show");
          }
        }
        class Qo {
          constructor(e143 = {}) {
            this.options = e143, t87.bindAll(["_updateCompact"], this);
          }
          getDefaultPosition() {
            return "bottom-left";
          }
          onAdd(t88) {
            this._map = t88, this._compact = this.options && this.options.compact, this._container = s62.create("div", "maplibregl-ctrl mapboxgl-ctrl");
            const e143 = s62.create("a", "maplibregl-ctrl-logo mapboxgl-ctrl-logo");
            return e143.target = "_blank", e143.rel = "noopener nofollow", e143.href = "https://maplibre.org/", e143.setAttribute("aria-label", this._map._getUIString("LogoControl.Title")), e143.setAttribute("rel", "noopener nofollow"), this._container.appendChild(e143), this._container.style.display = "block", this._map.on("resize", this._updateCompact), this._updateCompact(), this._container;
          }
          onRemove() {
            s62.remove(this._container), this._map.off("resize", this._updateCompact), this._map = void 0, this._compact = void 0;
          }
          _updateCompact() {
            const t88 = this._container.children;
            if (t88.length) {
              const e143 = t88[0];
              this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? false !== this._compact && e143.classList.add("maplibregl-compact", "mapboxgl-compact") : e143.classList.remove("maplibregl-compact", "mapboxgl-compact");
            }
          }
        }
        class ta {
          constructor() {
            this._queue = [], this._id = 0, this._cleared = false, this._currentlyRunning = false;
          }
          add(t88) {
            const e143 = ++this._id;
            return this._queue.push({ callback: t88, id: e143, cancelled: false }), e143;
          }
          remove(t88) {
            const e143 = this._currentlyRunning, i68 = e143 ? this._queue.concat(e143) : this._queue;
            for (const e144 of i68)
              if (e144.id === t88)
                return void (e144.cancelled = true);
          }
          run(t88 = 0) {
            const e143 = this._currentlyRunning = this._queue;
            this._queue = [];
            for (const i68 of e143)
              if (!i68.cancelled && (i68.callback(t88), this._cleared))
                break;
            this._cleared = false, this._currentlyRunning = false;
          }
          clear() {
            this._currentlyRunning && (this._cleared = true), this._queue = [];
          }
        }
        const ea = { "AttributionControl.ToggleAttribution": "Toggle attribution", "AttributionControl.MapFeedback": "Map feedback", "FullscreenControl.Enter": "Enter fullscreen", "FullscreenControl.Exit": "Exit fullscreen", "GeolocateControl.FindMyLocation": "Find my location", "GeolocateControl.LocationNotAvailable": "Location not available", "LogoControl.Title": "Mapbox logo", "NavigationControl.ResetBearing": "Reset bearing to north", "NavigationControl.ZoomIn": "Zoom in", "NavigationControl.ZoomOut": "Zoom out", "ScaleControl.Feet": "ft", "ScaleControl.Meters": "m", "ScaleControl.Kilometers": "km", "ScaleControl.Miles": "mi", "ScaleControl.NauticalMiles": "nm" }, ia = { center: [0, 0], zoom: 0, bearing: 0, pitch: 0, minZoom: -2, maxZoom: 22, minPitch: 0, maxPitch: 60, interactive: true, scrollZoom: true, boxZoom: true, dragRotate: true, dragPan: true, keyboard: true, doubleClickZoom: true, touchZoomRotate: true, touchPitch: true, bearingSnap: 7, clickTolerance: 3, pitchWithRotate: true, hash: false, attributionControl: true, maplibreLogo: false, failIfMajorPerformanceCaveat: false, preserveDrawingBuffer: false, trackResize: true, renderWorldCopies: true, refreshExpiredTiles: true, maxTileCacheSize: null, localIdeographFontFamily: "sans-serif", transformRequest: null, fadeDuration: 300, crossSourceCollisions: true }, oa = { showCompass: true, showZoom: true, visualizePitch: false };
        class aa {
          constructor(e143, i68, o102 = false) {
            this._clickTolerance = 10, this.element = i68, this.mouseRotate = new Eo({ clickTolerance: e143.dragRotate._mouseRotate._clickTolerance }), this.map = e143, o102 && (this.mousePitch = new Io({ clickTolerance: e143.dragRotate._mousePitch._clickTolerance })), t87.bindAll(["mousedown", "mousemove", "mouseup", "touchstart", "touchmove", "touchend", "reset"], this), s62.addEventListener(i68, "mousedown", this.mousedown), s62.addEventListener(i68, "touchstart", this.touchstart, { passive: false }), s62.addEventListener(i68, "touchmove", this.touchmove), s62.addEventListener(i68, "touchend", this.touchend), s62.addEventListener(i68, "touchcancel", this.reset);
          }
          down(t88, e143) {
            this.mouseRotate.mousedown(t88, e143), this.mousePitch && this.mousePitch.mousedown(t88, e143), s62.disableDrag();
          }
          move(t88, e143) {
            const i68 = this.map, o102 = this.mouseRotate.mousemoveWindow(t88, e143);
            if (o102 && o102.bearingDelta && i68.setBearing(i68.getBearing() + o102.bearingDelta), this.mousePitch) {
              const o103 = this.mousePitch.mousemoveWindow(t88, e143);
              o103 && o103.pitchDelta && i68.setPitch(i68.getPitch() + o103.pitchDelta);
            }
          }
          off() {
            const t88 = this.element;
            s62.removeEventListener(t88, "mousedown", this.mousedown), s62.removeEventListener(t88, "touchstart", this.touchstart, { passive: false }), s62.removeEventListener(t88, "touchmove", this.touchmove), s62.removeEventListener(t88, "touchend", this.touchend), s62.removeEventListener(t88, "touchcancel", this.reset), this.offTemp();
          }
          offTemp() {
            s62.enableDrag(), s62.removeEventListener(window, "mousemove", this.mousemove), s62.removeEventListener(window, "mouseup", this.mouseup);
          }
          mousedown(e143) {
            this.down(t87.extend({}, e143, { ctrlKey: true, preventDefault: () => e143.preventDefault() }), s62.mousePos(this.element, e143)), s62.addEventListener(window, "mousemove", this.mousemove), s62.addEventListener(window, "mouseup", this.mouseup);
          }
          mousemove(t88) {
            this.move(t88, s62.mousePos(this.element, t88));
          }
          mouseup(t88) {
            this.mouseRotate.mouseupWindow(t88), this.mousePitch && this.mousePitch.mouseupWindow(t88), this.offTemp();
          }
          touchstart(t88) {
            1 !== t88.targetTouches.length ? this.reset() : (this._startPos = this._lastPos = s62.touchPos(this.element, t88.targetTouches)[0], this.down({ type: "mousedown", button: 0, ctrlKey: true, preventDefault: () => t88.preventDefault() }, this._startPos));
          }
          touchmove(t88) {
            1 !== t88.targetTouches.length ? this.reset() : (this._lastPos = s62.touchPos(this.element, t88.targetTouches)[0], this.move({ preventDefault: () => t88.preventDefault() }, this._lastPos));
          }
          touchend(t88) {
            0 === t88.targetTouches.length && this._startPos && this._lastPos && this._startPos.dist(this._lastPos) < this._clickTolerance && this.element.click(), this.reset();
          }
          reset() {
            this.mouseRotate.reset(), this.mousePitch && this.mousePitch.reset(), delete this._startPos, delete this._lastPos, this.offTemp();
          }
        }
        function sa(e143, i68, o102) {
          if (e143 = new t87.LngLat(e143.lng, e143.lat), i68) {
            const a83 = new t87.LngLat(e143.lng - 360, e143.lat), s63 = new t87.LngLat(e143.lng + 360, e143.lat), r62 = o102.locationPoint(e143).distSqr(i68);
            o102.locationPoint(a83).distSqr(i68) < r62 ? e143 = a83 : o102.locationPoint(s63).distSqr(i68) < r62 && (e143 = s63);
          }
          for (; Math.abs(e143.lng - o102.center.lng) > 180; ) {
            const t88 = o102.locationPoint(e143);
            if (t88.x >= 0 && t88.y >= 0 && t88.x <= o102.width && t88.y <= o102.height)
              break;
            e143.lng > o102.center.lng ? e143.lng -= 360 : e143.lng += 360;
          }
          return e143;
        }
        const ra = { center: "translate(-50%,-50%)", top: "translate(-50%,0)", "top-left": "translate(0,0)", "top-right": "translate(-100%,0)", bottom: "translate(-50%,-100%)", "bottom-left": "translate(0,-100%)", "bottom-right": "translate(-100%,-100%)", left: "translate(0,-50%)", right: "translate(-100%,-50%)" };
        function na(t88, e143, i68) {
          const o102 = t88.classList;
          for (const t89 in ra)
            o102.remove(`maplibregl-${i68}-anchor-${t89}`, `mapboxgl-${i68}-anchor-${t89}`);
          o102.add(`maplibregl-${i68}-anchor-${e143}`, `mapboxgl-${i68}-anchor-${e143}`);
        }
        class la extends t87.Evented {
          constructor(e143, i68) {
            if (super(), (e143 instanceof HTMLElement || i68) && (e143 = t87.extend({ element: e143 }, i68)), t87.bindAll(["_update", "_onMove", "_onUp", "_addDragHandler", "_onMapClick", "_onKeyPress"], this), this._anchor = e143 && e143.anchor || "center", this._color = e143 && e143.color || "#3FB1CE", this._scale = e143 && e143.scale || 1, this._draggable = e143 && e143.draggable || false, this._clickTolerance = e143 && e143.clickTolerance || 0, this._isDragging = false, this._state = "inactive", this._rotation = e143 && e143.rotation || 0, this._rotationAlignment = e143 && e143.rotationAlignment || "auto", this._pitchAlignment = e143 && e143.pitchAlignment && "auto" !== e143.pitchAlignment ? e143.pitchAlignment : this._rotationAlignment, e143 && e143.element)
              this._element = e143.element, this._offset = t87.pointGeometry.convert(e143 && e143.offset || [0, 0]);
            else {
              this._defaultMarker = true, this._element = s62.create("div"), this._element.setAttribute("aria-label", "Map marker");
              const i69 = s62.createNS("http://www.w3.org/2000/svg", "svg"), o102 = 41, a83 = 27;
              i69.setAttributeNS(null, "display", "block"), i69.setAttributeNS(null, "height", `${o102}px`), i69.setAttributeNS(null, "width", `${a83}px`), i69.setAttributeNS(null, "viewBox", `0 0 ${a83} ${o102}`);
              const r62 = s62.createNS("http://www.w3.org/2000/svg", "g");
              r62.setAttributeNS(null, "stroke", "none"), r62.setAttributeNS(null, "stroke-width", "1"), r62.setAttributeNS(null, "fill", "none"), r62.setAttributeNS(null, "fill-rule", "evenodd");
              const n46 = s62.createNS("http://www.w3.org/2000/svg", "g");
              n46.setAttributeNS(null, "fill-rule", "nonzero");
              const l30 = s62.createNS("http://www.w3.org/2000/svg", "g");
              l30.setAttributeNS(null, "transform", "translate(3.0, 29.0)"), l30.setAttributeNS(null, "fill", "#000000");
              const c23 = [{ rx: "10.5", ry: "5.25002273" }, { rx: "10.5", ry: "5.25002273" }, { rx: "9.5", ry: "4.77275007" }, { rx: "8.5", ry: "4.29549936" }, { rx: "7.5", ry: "3.81822308" }, { rx: "6.5", ry: "3.34094679" }, { rx: "5.5", ry: "2.86367051" }, { rx: "4.5", ry: "2.38636864" }];
              for (const t88 of c23) {
                const e144 = s62.createNS("http://www.w3.org/2000/svg", "ellipse");
                e144.setAttributeNS(null, "opacity", "0.04"), e144.setAttributeNS(null, "cx", "10.5"), e144.setAttributeNS(null, "cy", "5.80029008"), e144.setAttributeNS(null, "rx", t88.rx), e144.setAttributeNS(null, "ry", t88.ry), l30.appendChild(e144);
              }
              const h13 = s62.createNS("http://www.w3.org/2000/svg", "g");
              h13.setAttributeNS(null, "fill", this._color);
              const u21 = s62.createNS("http://www.w3.org/2000/svg", "path");
              u21.setAttributeNS(null, "d", "M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"), h13.appendChild(u21);
              const d11 = s62.createNS("http://www.w3.org/2000/svg", "g");
              d11.setAttributeNS(null, "opacity", "0.25"), d11.setAttributeNS(null, "fill", "#000000");
              const m30 = s62.createNS("http://www.w3.org/2000/svg", "path");
              m30.setAttributeNS(null, "d", "M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"), d11.appendChild(m30);
              const _4 = s62.createNS("http://www.w3.org/2000/svg", "g");
              _4.setAttributeNS(null, "transform", "translate(6.0, 7.0)"), _4.setAttributeNS(null, "fill", "#FFFFFF");
              const p18 = s62.createNS("http://www.w3.org/2000/svg", "g");
              p18.setAttributeNS(null, "transform", "translate(8.0, 8.0)");
              const f22 = s62.createNS("http://www.w3.org/2000/svg", "circle");
              f22.setAttributeNS(null, "fill", "#000000"), f22.setAttributeNS(null, "opacity", "0.25"), f22.setAttributeNS(null, "cx", "5.5"), f22.setAttributeNS(null, "cy", "5.5"), f22.setAttributeNS(null, "r", "5.4999962");
              const g15 = s62.createNS("http://www.w3.org/2000/svg", "circle");
              g15.setAttributeNS(null, "fill", "#FFFFFF"), g15.setAttributeNS(null, "cx", "5.5"), g15.setAttributeNS(null, "cy", "5.5"), g15.setAttributeNS(null, "r", "5.4999962"), p18.appendChild(f22), p18.appendChild(g15), n46.appendChild(l30), n46.appendChild(h13), n46.appendChild(d11), n46.appendChild(_4), n46.appendChild(p18), i69.appendChild(n46), i69.setAttributeNS(null, "height", o102 * this._scale + "px"), i69.setAttributeNS(null, "width", a83 * this._scale + "px"), this._element.appendChild(i69), this._offset = t87.pointGeometry.convert(e143 && e143.offset || [0, -14]);
            }
            this._element.classList.add("maplibregl-marker", "mapboxgl-marker"), this._element.addEventListener("dragstart", (t88) => {
              t88.preventDefault();
            }), this._element.addEventListener("mousedown", (t88) => {
              t88.preventDefault();
            }), na(this._element, this._anchor, "marker"), this._popup = null;
          }
          addTo(t88) {
            return this.remove(), this._map = t88, t88.getCanvasContainer().appendChild(this._element), t88.on("move", this._update), t88.on("moveend", this._update), this.setDraggable(this._draggable), this._update(), this._map.on("click", this._onMapClick), this;
          }
          remove() {
            return this._map && (this._map.off("click", this._onMapClick), this._map.off("move", this._update), this._map.off("moveend", this._update), this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler), this._map.off("mouseup", this._onUp), this._map.off("touchend", this._onUp), this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), delete this._map), s62.remove(this._element), this._popup && this._popup.remove(), this;
          }
          getLngLat() {
            return this._lngLat;
          }
          setLngLat(e143) {
            return this._lngLat = t87.LngLat.convert(e143), this._pos = null, this._popup && this._popup.setLngLat(this._lngLat), this._update(), this;
          }
          getElement() {
            return this._element;
          }
          setPopup(t88) {
            if (this._popup && (this._popup.remove(), this._popup = null, this._element.removeEventListener("keypress", this._onKeyPress), this._originalTabIndex || this._element.removeAttribute("tabindex")), t88) {
              if (!("offset" in t88.options)) {
                const e143 = 38.1, i68 = 13.5, o102 = Math.sqrt(Math.pow(i68, 2) / 2);
                t88.options.offset = this._defaultMarker ? { top: [0, 0], "top-left": [0, 0], "top-right": [0, 0], bottom: [0, -e143], "bottom-left": [o102, -1 * (e143 - i68 + o102)], "bottom-right": [-o102, -1 * (e143 - i68 + o102)], left: [i68, -1 * (e143 - i68)], right: [-i68, -1 * (e143 - i68)] } : this._offset;
              }
              this._popup = t88, this._lngLat && this._popup.setLngLat(this._lngLat), this._originalTabIndex = this._element.getAttribute("tabindex"), this._originalTabIndex || this._element.setAttribute("tabindex", "0"), this._element.addEventListener("keypress", this._onKeyPress);
            }
            return this;
          }
          _onKeyPress(t88) {
            const e143 = t88.code, i68 = t88.charCode || t88.keyCode;
            "Space" !== e143 && "Enter" !== e143 && 32 !== i68 && 13 !== i68 || this.togglePopup();
          }
          _onMapClick(t88) {
            const e143 = t88.originalEvent.target, i68 = this._element;
            this._popup && (e143 === i68 || i68.contains(e143)) && this.togglePopup();
          }
          getPopup() {
            return this._popup;
          }
          togglePopup() {
            const t88 = this._popup;
            return t88 ? (t88.isOpen() ? t88.remove() : t88.addTo(this._map), this) : this;
          }
          _update(t88) {
            if (!this._map)
              return;
            this._map.transform.renderWorldCopies && (this._lngLat = sa(this._lngLat, this._pos, this._map.transform)), this._pos = this._map.project(this._lngLat)._add(this._offset);
            let e143 = "";
            "viewport" === this._rotationAlignment || "auto" === this._rotationAlignment ? e143 = `rotateZ(${this._rotation}deg)` : "map" === this._rotationAlignment && (e143 = `rotateZ(${this._rotation - this._map.getBearing()}deg)`);
            let i68 = "";
            "viewport" === this._pitchAlignment || "auto" === this._pitchAlignment ? i68 = "rotateX(0deg)" : "map" === this._pitchAlignment && (i68 = `rotateX(${this._map.getPitch()}deg)`), t88 && "moveend" !== t88.type || (this._pos = this._pos.round()), s62.setTransform(this._element, `${ra[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${i68} ${e143}`);
          }
          getOffset() {
            return this._offset;
          }
          setOffset(e143) {
            return this._offset = t87.pointGeometry.convert(e143), this._update(), this;
          }
          _onMove(e143) {
            if (!this._isDragging) {
              const t88 = this._clickTolerance || this._map._clickTolerance;
              this._isDragging = e143.point.dist(this._pointerdownPos) >= t88;
            }
            this._isDragging && (this._pos = e143.point.sub(this._positionDelta), this._lngLat = this._map.unproject(this._pos), this.setLngLat(this._lngLat), this._element.style.pointerEvents = "none", "pending" === this._state && (this._state = "active", this.fire(new t87.Event("dragstart"))), this.fire(new t87.Event("drag")));
          }
          _onUp() {
            this._element.style.pointerEvents = "auto", this._positionDelta = null, this._pointerdownPos = null, this._isDragging = false, this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), "active" === this._state && this.fire(new t87.Event("dragend")), this._state = "inactive";
          }
          _addDragHandler(t88) {
            this._element.contains(t88.originalEvent.target) && (t88.preventDefault(), this._positionDelta = t88.point.sub(this._pos).add(this._offset), this._pointerdownPos = t88.point, this._state = "pending", this._map.on("mousemove", this._onMove), this._map.on("touchmove", this._onMove), this._map.once("mouseup", this._onUp), this._map.once("touchend", this._onUp));
          }
          setDraggable(t88) {
            return this._draggable = !!t88, this._map && (t88 ? (this._map.on("mousedown", this._addDragHandler), this._map.on("touchstart", this._addDragHandler)) : (this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler))), this;
          }
          isDraggable() {
            return this._draggable;
          }
          setRotation(t88) {
            return this._rotation = t88 || 0, this._update(), this;
          }
          getRotation() {
            return this._rotation;
          }
          setRotationAlignment(t88) {
            return this._rotationAlignment = t88 || "auto", this._update(), this;
          }
          getRotationAlignment() {
            return this._rotationAlignment;
          }
          setPitchAlignment(t88) {
            return this._pitchAlignment = t88 && "auto" !== t88 ? t88 : this._rotationAlignment, this._update(), this;
          }
          getPitchAlignment() {
            return this._pitchAlignment;
          }
        }
        const ca = { positionOptions: { enableHighAccuracy: false, maximumAge: 0, timeout: 6e3 }, fitBoundsOptions: { maxZoom: 15 }, trackUserLocation: false, showAccuracyCircle: true, showUserLocation: true };
        let ha, ua = 0, da = false;
        const ma = { maxWidth: 100, unit: "metric" };
        function _a3(t88, e143, i68) {
          const o102 = i68 && i68.maxWidth || 100, a83 = t88._container.clientHeight / 2, s63 = t88.unproject([0, a83]), r62 = t88.unproject([o102, a83]), n46 = s63.distanceTo(r62);
          if (i68 && "imperial" === i68.unit) {
            const i69 = 3.2808 * n46;
            i69 > 5280 ? pa(e143, o102, i69 / 5280, t88._getUIString("ScaleControl.Miles")) : pa(e143, o102, i69, t88._getUIString("ScaleControl.Feet"));
          } else
            i68 && "nautical" === i68.unit ? pa(e143, o102, n46 / 1852, t88._getUIString("ScaleControl.NauticalMiles")) : n46 >= 1e3 ? pa(e143, o102, n46 / 1e3, t88._getUIString("ScaleControl.Kilometers")) : pa(e143, o102, n46, t88._getUIString("ScaleControl.Meters"));
        }
        function pa(t88, e143, i68, o102) {
          const a83 = function(t89) {
            const e144 = Math.pow(10, `${Math.floor(t89)}`.length - 1);
            let i69 = t89 / e144;
            return i69 = i69 >= 10 ? 10 : i69 >= 5 ? 5 : i69 >= 3 ? 3 : i69 >= 2 ? 2 : i69 >= 1 ? 1 : function(t90) {
              const e145 = Math.pow(10, Math.ceil(-Math.log(t90) / Math.LN10));
              return Math.round(t90 * e145) / e145;
            }(i69), e144 * i69;
          }(i68);
          t88.style.width = e143 * (a83 / i68) + "px", t88.innerHTML = `${a83}&nbsp;${o102}`;
        }
        const fa = { closeButton: true, closeOnClick: true, focusAfterOpen: true, className: "", maxWidth: "240px" }, ga = ["a[href]", "[tabindex]:not([tabindex='-1'])", "[contenteditable]:not([contenteditable='false'])", "button:not([disabled])", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].join(", ");
        function xa(e143) {
          if (e143) {
            if ("number" == typeof e143) {
              const i68 = Math.round(Math.sqrt(0.5 * Math.pow(e143, 2)));
              return { center: new t87.pointGeometry(0, 0), top: new t87.pointGeometry(0, e143), "top-left": new t87.pointGeometry(i68, i68), "top-right": new t87.pointGeometry(-i68, i68), bottom: new t87.pointGeometry(0, -e143), "bottom-left": new t87.pointGeometry(i68, -i68), "bottom-right": new t87.pointGeometry(-i68, -i68), left: new t87.pointGeometry(e143, 0), right: new t87.pointGeometry(-e143, 0) };
            }
            if (e143 instanceof t87.pointGeometry || Array.isArray(e143)) {
              const i68 = t87.pointGeometry.convert(e143);
              return { center: i68, top: i68, "top-left": i68, "top-right": i68, bottom: i68, "bottom-left": i68, "bottom-right": i68, left: i68, right: i68 };
            }
            return { center: t87.pointGeometry.convert(e143.center || [0, 0]), top: t87.pointGeometry.convert(e143.top || [0, 0]), "top-left": t87.pointGeometry.convert(e143["top-left"] || [0, 0]), "top-right": t87.pointGeometry.convert(e143["top-right"] || [0, 0]), bottom: t87.pointGeometry.convert(e143.bottom || [0, 0]), "bottom-left": t87.pointGeometry.convert(e143["bottom-left"] || [0, 0]), "bottom-right": t87.pointGeometry.convert(e143["bottom-right"] || [0, 0]), left: t87.pointGeometry.convert(e143.left || [0, 0]), right: t87.pointGeometry.convert(e143.right || [0, 0]) };
          }
          return xa(new t87.pointGeometry(0, 0));
        }
        const va = { supported: e142, setRTLTextPlugin: t87.setRTLTextPlugin, getRTLTextPluginStatus: t87.getRTLTextPluginStatus, Map: class extends Yo {
          constructor(e143) {
            var i68;
            if (t87.PerformanceUtils.mark(t87.PerformanceMarkers.create), null != (e143 = t87.extend({}, ia, e143)).minZoom && null != e143.maxZoom && e143.minZoom > e143.maxZoom)
              throw new Error("maxZoom must be greater than or equal to minZoom");
            if (null != e143.minPitch && null != e143.maxPitch && e143.minPitch > e143.maxPitch)
              throw new Error("maxPitch must be greater than or equal to minPitch");
            if (null != e143.minPitch && e143.minPitch < 0)
              throw new Error("minPitch must be greater than or equal to 0");
            if (null != e143.maxPitch && e143.maxPitch > 85)
              throw new Error("maxPitch must be less than or equal to 85");
            if (super(new to(e143.minZoom, e143.maxZoom, e143.minPitch, e143.maxPitch, e143.renderWorldCopies), { bearingSnap: e143.bearingSnap }), this._interactive = e143.interactive, this._maxTileCacheSize = e143.maxTileCacheSize, this._failIfMajorPerformanceCaveat = e143.failIfMajorPerformanceCaveat, this._preserveDrawingBuffer = e143.preserveDrawingBuffer, this._antialias = e143.antialias, this._trackResize = e143.trackResize, this._bearingSnap = e143.bearingSnap, this._refreshExpiredTiles = e143.refreshExpiredTiles, this._fadeDuration = e143.fadeDuration, this._crossSourceCollisions = e143.crossSourceCollisions, this._crossFadingFactor = 1, this._collectResourceTiming = e143.collectResourceTiming, this._renderTaskQueue = new ta(), this._controls = [], this._mapId = t87.uniqueId(), this._locale = t87.extend({}, ea, e143.locale), this._clickTolerance = e143.clickTolerance, this._pixelRatio = null !== (i68 = e143.pixelRatio) && void 0 !== i68 ? i68 : devicePixelRatio, this._requestManager = new r61(e143.transformRequest), "string" == typeof e143.container) {
              if (this._container = document.getElementById(e143.container), !this._container)
                throw new Error(`Container '${e143.container}' not found.`);
            } else {
              if (!(e143.container instanceof HTMLElement))
                throw new Error("Invalid type: 'container' must be a String or HTMLElement.");
              this._container = e143.container;
            }
            if (e143.maxBounds && this.setMaxBounds(e143.maxBounds), t87.bindAll(["_onWindowOnline", "_onWindowResize", "_onMapScroll", "_contextLost", "_contextRestored"], this), this._setupContainer(), this._setupPainter(), void 0 === this.painter)
              throw new Error("Failed to initialize WebGL.");
            this.on("move", () => this._update(false)), this.on("moveend", () => this._update(false)), this.on("zoom", () => this._update(true)), "undefined" != typeof window && (addEventListener("online", this._onWindowOnline, false), addEventListener("resize", this._onWindowResize, false), addEventListener("orientationchange", this._onWindowResize, false)), this.handlers = new Ho(this, e143), this._hash = e143.hash && new eo("string" == typeof e143.hash && e143.hash || void 0).addTo(this), this._hash && this._hash._onHashChange() || (this.jumpTo({ center: e143.center, zoom: e143.zoom, bearing: e143.bearing, pitch: e143.pitch }), e143.bounds && (this.resize(), this.fitBounds(e143.bounds, t87.extend({}, e143.fitBoundsOptions, { duration: 0 })))), this.resize(), this._localIdeographFontFamily = e143.localIdeographFontFamily, e143.style && this.setStyle(e143.style, { localIdeographFontFamily: e143.localIdeographFontFamily }), e143.attributionControl && this.addControl(new Jo({ customAttribution: e143.customAttribution })), e143.maplibreLogo && this.addControl(new Qo(), e143.logoPosition), this.on("style.load", () => {
              this.transform.unmodified && this.jumpTo(this.style.stylesheet);
            }), this.on("data", (e144) => {
              this._update("style" === e144.dataType), this.fire(new t87.Event(`${e144.dataType}data`, e144));
            }), this.on("dataloading", (e144) => {
              this.fire(new t87.Event(`${e144.dataType}dataloading`, e144));
            }), this.on("dataabort", (e144) => {
              this.fire(new t87.Event("sourcedataabort", e144));
            });
          }
          _getMapId() {
            return this._mapId;
          }
          addControl(e143, i68) {
            if (void 0 === i68 && (i68 = e143.getDefaultPosition ? e143.getDefaultPosition() : "top-right"), !e143 || !e143.onAdd)
              return this.fire(new t87.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));
            const o102 = e143.onAdd(this);
            this._controls.push(e143);
            const a83 = this._controlPositions[i68];
            return -1 !== i68.indexOf("bottom") ? a83.insertBefore(o102, a83.firstChild) : a83.appendChild(o102), this;
          }
          removeControl(e143) {
            if (!e143 || !e143.onRemove)
              return this.fire(new t87.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));
            const i68 = this._controls.indexOf(e143);
            return i68 > -1 && this._controls.splice(i68, 1), e143.onRemove(this), this;
          }
          hasControl(t88) {
            return this._controls.indexOf(t88) > -1;
          }
          resize(e143) {
            const i68 = this._containerDimensions(), o102 = i68[0], a83 = i68[1];
            this._resizeCanvas(o102, a83, this.getPixelRatio()), this.transform.resize(o102, a83), this.painter.resize(o102, a83, this.getPixelRatio());
            const s63 = !this._moving;
            return s63 && (this.stop(), this.fire(new t87.Event("movestart", e143)).fire(new t87.Event("move", e143))), this.fire(new t87.Event("resize", e143)), s63 && this.fire(new t87.Event("moveend", e143)), this;
          }
          getPixelRatio() {
            return this._pixelRatio;
          }
          setPixelRatio(t88) {
            const [e143, i68] = this._containerDimensions();
            this._pixelRatio = t88, this._resizeCanvas(e143, i68, t88), this.painter.resize(e143, i68, t88);
          }
          getBounds() {
            return this.transform.getBounds();
          }
          getMaxBounds() {
            return this.transform.getMaxBounds();
          }
          setMaxBounds(e143) {
            return this.transform.setMaxBounds(t87.LngLatBounds.convert(e143)), this._update();
          }
          setMinZoom(t88) {
            if ((t88 = null == t88 ? -2 : t88) >= -2 && t88 <= this.transform.maxZoom)
              return this.transform.minZoom = t88, this._update(), this.getZoom() < t88 && this.setZoom(t88), this;
            throw new Error("minZoom must be between -2 and the current maxZoom, inclusive");
          }
          getMinZoom() {
            return this.transform.minZoom;
          }
          setMaxZoom(t88) {
            if ((t88 = null == t88 ? 22 : t88) >= this.transform.minZoom)
              return this.transform.maxZoom = t88, this._update(), this.getZoom() > t88 && this.setZoom(t88), this;
            throw new Error("maxZoom must be greater than the current minZoom");
          }
          getMaxZoom() {
            return this.transform.maxZoom;
          }
          setMinPitch(t88) {
            if ((t88 = null == t88 ? 0 : t88) < 0)
              throw new Error("minPitch must be greater than or equal to 0");
            if (t88 >= 0 && t88 <= this.transform.maxPitch)
              return this.transform.minPitch = t88, this._update(), this.getPitch() < t88 && this.setPitch(t88), this;
            throw new Error("minPitch must be between 0 and the current maxPitch, inclusive");
          }
          getMinPitch() {
            return this.transform.minPitch;
          }
          setMaxPitch(t88) {
            if ((t88 = null == t88 ? 60 : t88) > 85)
              throw new Error("maxPitch must be less than or equal to 85");
            if (t88 >= this.transform.minPitch)
              return this.transform.maxPitch = t88, this._update(), this.getPitch() > t88 && this.setPitch(t88), this;
            throw new Error("maxPitch must be greater than the current minPitch");
          }
          getMaxPitch() {
            return this.transform.maxPitch;
          }
          getRenderWorldCopies() {
            return this.transform.renderWorldCopies;
          }
          setRenderWorldCopies(t88) {
            return this.transform.renderWorldCopies = t88, this._update();
          }
          project(e143) {
            return this.transform.locationPoint(t87.LngLat.convert(e143));
          }
          unproject(e143) {
            return this.transform.pointLocation(t87.pointGeometry.convert(e143));
          }
          isMoving() {
            return this._moving || this.handlers.isMoving();
          }
          isZooming() {
            return this._zooming || this.handlers.isZooming();
          }
          isRotating() {
            return this._rotating || this.handlers.isRotating();
          }
          _createDelegatedListener(t88, e143, i68) {
            if ("mouseenter" === t88 || "mouseover" === t88) {
              let o102 = false;
              const a83 = (a84) => {
                const s63 = this.getLayer(e143) ? this.queryRenderedFeatures(a84.point, { layers: [e143] }) : [];
                s63.length ? o102 || (o102 = true, i68.call(this, new ho(t88, this, a84.originalEvent, { features: s63 }))) : o102 = false;
              };
              return { layer: e143, listener: i68, delegates: { mousemove: a83, mouseout: () => {
                o102 = false;
              } } };
            }
            if ("mouseleave" === t88 || "mouseout" === t88) {
              let o102 = false;
              const a83 = (a84) => {
                (this.getLayer(e143) ? this.queryRenderedFeatures(a84.point, { layers: [e143] }) : []).length ? o102 = true : o102 && (o102 = false, i68.call(this, new ho(t88, this, a84.originalEvent)));
              }, s63 = (e144) => {
                o102 && (o102 = false, i68.call(this, new ho(t88, this, e144.originalEvent)));
              };
              return { layer: e143, listener: i68, delegates: { mousemove: a83, mouseout: s63 } };
            }
            {
              const o102 = (t89) => {
                const o103 = this.getLayer(e143) ? this.queryRenderedFeatures(t89.point, { layers: [e143] }) : [];
                o103.length && (t89.features = o103, i68.call(this, t89), delete t89.features);
              };
              return { layer: e143, listener: i68, delegates: { [t88]: o102 } };
            }
          }
          on(t88, e143, i68) {
            if (void 0 === i68)
              return super.on(t88, e143);
            const o102 = this._createDelegatedListener(t88, e143, i68);
            this._delegatedListeners = this._delegatedListeners || {}, this._delegatedListeners[t88] = this._delegatedListeners[t88] || [], this._delegatedListeners[t88].push(o102);
            for (const t89 in o102.delegates)
              this.on(t89, o102.delegates[t89]);
            return this;
          }
          once(t88, e143, i68) {
            if (void 0 === i68)
              return super.once(t88, e143);
            const o102 = this._createDelegatedListener(t88, e143, i68);
            for (const t89 in o102.delegates)
              this.once(t89, o102.delegates[t89]);
            return this;
          }
          off(t88, e143, i68) {
            return void 0 === i68 ? super.off(t88, e143) : (this._delegatedListeners && this._delegatedListeners[t88] && ((o102) => {
              const a83 = this._delegatedListeners[t88];
              for (let t89 = 0; t89 < a83.length; t89++) {
                const o103 = a83[t89];
                if (o103.layer === e143 && o103.listener === i68) {
                  for (const t90 in o103.delegates)
                    this.off(t90, o103.delegates[t90]);
                  return a83.splice(t89, 1), this;
                }
              }
            })(), this);
          }
          queryRenderedFeatures(e143, i68) {
            if (!this.style)
              return [];
            let o102;
            if (void 0 !== i68 || void 0 === e143 || e143 instanceof t87.pointGeometry || Array.isArray(e143) || (i68 = e143, e143 = void 0), i68 = i68 || {}, (e143 = e143 || [[0, 0], [this.transform.width, this.transform.height]]) instanceof t87.pointGeometry || "number" == typeof e143[0])
              o102 = [t87.pointGeometry.convert(e143)];
            else {
              const i69 = t87.pointGeometry.convert(e143[0]), a83 = t87.pointGeometry.convert(e143[1]);
              o102 = [i69, new t87.pointGeometry(a83.x, i69.y), a83, new t87.pointGeometry(i69.x, a83.y), i69];
            }
            return this.style.queryRenderedFeatures(o102, i68, this.transform);
          }
          querySourceFeatures(t88, e143) {
            return this.style.querySourceFeatures(t88, e143);
          }
          setStyle(e143, i68) {
            return false !== (i68 = t87.extend({}, { localIdeographFontFamily: this._localIdeographFontFamily }, i68)).diff && i68.localIdeographFontFamily === this._localIdeographFontFamily && this.style && e143 ? (this._diffStyle(e143, i68), this) : (this._localIdeographFontFamily = i68.localIdeographFontFamily, this._updateStyle(e143, i68));
          }
          setTransformRequest(t88) {
            return this._requestManager.setTransformRequest(t88), this;
          }
          _getUIString(t88) {
            const e143 = this._locale[t88];
            if (null == e143)
              throw new Error(`Missing UI string '${t88}'`);
            return e143;
          }
          _updateStyle(t88, e143) {
            return this.style && (this.style.setEventedParent(null), this.style._remove()), t88 ? (this.style = new ie(this, e143 || {}), this.style.setEventedParent(this, { style: this.style }), "string" == typeof t88 ? this.style.loadURL(t88) : this.style.loadJSON(t88), this) : (delete this.style, this);
          }
          _lazyInitEmptyStyle() {
            this.style || (this.style = new ie(this, {}), this.style.setEventedParent(this, { style: this.style }), this.style.loadEmpty());
          }
          _diffStyle(e143, i68) {
            if ("string" == typeof e143) {
              const o102 = this._requestManager.transformRequest(e143, t87.ResourceType.Style);
              t87.getJSON(o102, (e144, o103) => {
                e144 ? this.fire(new t87.ErrorEvent(e144)) : o103 && this._updateDiff(o103, i68);
              });
            } else
              "object" == typeof e143 && this._updateDiff(e143, i68);
          }
          _updateDiff(e143, i68) {
            try {
              this.style.setState(e143) && this._update(true);
            } catch (o102) {
              t87.warnOnce(`Unable to perform style diff: ${o102.message || o102.error || o102}.  Rebuilding the style from scratch.`), this._updateStyle(e143, i68);
            }
          }
          getStyle() {
            if (this.style)
              return this.style.serialize();
          }
          isStyleLoaded() {
            return this.style ? this.style.loaded() : t87.warnOnce("There is no style added to the map.");
          }
          addSource(t88, e143) {
            return this._lazyInitEmptyStyle(), this.style.addSource(t88, e143), this._update(true);
          }
          isSourceLoaded(e143) {
            const i68 = this.style && this.style.sourceCaches[e143];
            if (void 0 !== i68)
              return i68.loaded();
            this.fire(new t87.ErrorEvent(new Error(`There is no source with ID '${e143}'`)));
          }
          areTilesLoaded() {
            const t88 = this.style && this.style.sourceCaches;
            for (const e143 in t88) {
              const i68 = t88[e143]._tiles;
              for (const t89 in i68) {
                const e144 = i68[t89];
                if ("loaded" !== e144.state && "errored" !== e144.state)
                  return false;
              }
            }
            return true;
          }
          addSourceType(t88, e143, i68) {
            return this._lazyInitEmptyStyle(), this.style.addSourceType(t88, e143, i68);
          }
          removeSource(t88) {
            return this.style.removeSource(t88), this._update(true);
          }
          getSource(t88) {
            return this.style.getSource(t88);
          }
          addImage(e143, i68, { pixelRatio: o102 = 1, sdf: a83 = false, stretchX: s63, stretchY: r62, content: n46 } = {}) {
            if (this._lazyInitEmptyStyle(), i68 instanceof HTMLImageElement || t87.isImageBitmap(i68)) {
              const { width: l30, height: c23, data: h13 } = t87.exported.getImageData(i68);
              this.style.addImage(e143, { data: new t87.RGBAImage({ width: l30, height: c23 }, h13), pixelRatio: o102, stretchX: s63, stretchY: r62, content: n46, sdf: a83, version: 0 });
            } else {
              if (void 0 === i68.width || void 0 === i68.height)
                return this.fire(new t87.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
              {
                const { width: l30, height: c23, data: h13 } = i68, u21 = i68;
                this.style.addImage(e143, { data: new t87.RGBAImage({ width: l30, height: c23 }, new Uint8Array(h13)), pixelRatio: o102, stretchX: s63, stretchY: r62, content: n46, sdf: a83, version: 0, userImage: u21 }), u21.onAdd && u21.onAdd(this, e143);
              }
            }
          }
          updateImage(e143, i68) {
            const o102 = this.style.getImage(e143);
            if (!o102)
              return this.fire(new t87.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));
            const a83 = i68 instanceof HTMLImageElement || t87.isImageBitmap(i68) ? t87.exported.getImageData(i68) : i68, { width: s63, height: r62, data: n46 } = a83;
            if (void 0 === s63 || void 0 === r62)
              return this.fire(new t87.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
            if (s63 !== o102.data.width || r62 !== o102.data.height)
              return this.fire(new t87.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));
            const l30 = !(i68 instanceof HTMLImageElement || t87.isImageBitmap(i68));
            o102.data.replace(n46, l30), this.style.updateImage(e143, o102);
          }
          hasImage(e143) {
            return e143 ? !!this.style.getImage(e143) : (this.fire(new t87.ErrorEvent(new Error("Missing required image id"))), false);
          }
          removeImage(t88) {
            this.style.removeImage(t88);
          }
          loadImage(e143, i68) {
            t87.getImage(this._requestManager.transformRequest(e143, t87.ResourceType.Image), i68);
          }
          listImages() {
            return this.style.listImages();
          }
          addLayer(t88, e143) {
            return this._lazyInitEmptyStyle(), this.style.addLayer(t88, e143), this._update(true);
          }
          moveLayer(t88, e143) {
            return this.style.moveLayer(t88, e143), this._update(true);
          }
          removeLayer(t88) {
            return this.style.removeLayer(t88), this._update(true);
          }
          getLayer(t88) {
            return this.style.getLayer(t88);
          }
          setLayerZoomRange(t88, e143, i68) {
            return this.style.setLayerZoomRange(t88, e143, i68), this._update(true);
          }
          setFilter(t88, e143, i68 = {}) {
            return this.style.setFilter(t88, e143, i68), this._update(true);
          }
          getFilter(t88) {
            return this.style.getFilter(t88);
          }
          setPaintProperty(t88, e143, i68, o102 = {}) {
            return this.style.setPaintProperty(t88, e143, i68, o102), this._update(true);
          }
          getPaintProperty(t88, e143) {
            return this.style.getPaintProperty(t88, e143);
          }
          setLayoutProperty(t88, e143, i68, o102 = {}) {
            return this.style.setLayoutProperty(t88, e143, i68, o102), this._update(true);
          }
          getLayoutProperty(t88, e143) {
            return this.style.getLayoutProperty(t88, e143);
          }
          setLight(t88, e143 = {}) {
            return this._lazyInitEmptyStyle(), this.style.setLight(t88, e143), this._update(true);
          }
          getLight() {
            return this.style.getLight();
          }
          setFeatureState(t88, e143) {
            return this.style.setFeatureState(t88, e143), this._update();
          }
          removeFeatureState(t88, e143) {
            return this.style.removeFeatureState(t88, e143), this._update();
          }
          getFeatureState(t88) {
            return this.style.getFeatureState(t88);
          }
          getContainer() {
            return this._container;
          }
          getCanvasContainer() {
            return this._canvasContainer;
          }
          getCanvas() {
            return this._canvas;
          }
          _containerDimensions() {
            let t88 = 0, e143 = 0;
            return this._container && (t88 = this._container.clientWidth || 400, e143 = this._container.clientHeight || 300), [t88, e143];
          }
          _setupContainer() {
            const t88 = this._container;
            t88.classList.add("maplibregl-map", "mapboxgl-map");
            const e143 = this._canvasContainer = s62.create("div", "maplibregl-canvas-container mapboxgl-canvas-container", t88);
            this._interactive && e143.classList.add("maplibregl-interactive", "mapboxgl-interactive"), this._canvas = s62.create("canvas", "maplibregl-canvas mapboxgl-canvas", e143), this._canvas.addEventListener("webglcontextlost", this._contextLost, false), this._canvas.addEventListener("webglcontextrestored", this._contextRestored, false), this._canvas.setAttribute("tabindex", "0"), this._canvas.setAttribute("aria-label", "Map"), this._canvas.setAttribute("role", "region");
            const i68 = this._containerDimensions();
            this._resizeCanvas(i68[0], i68[1], this.getPixelRatio());
            const o102 = this._controlContainer = s62.create("div", "maplibregl-control-container mapboxgl-control-container", t88), a83 = this._controlPositions = {};
            ["top-left", "top-right", "bottom-left", "bottom-right"].forEach((t89) => {
              a83[t89] = s62.create("div", `maplibregl-ctrl-${t89} mapboxgl-ctrl-${t89}`, o102);
            }), this._container.addEventListener("scroll", this._onMapScroll, false);
          }
          _resizeCanvas(t88, e143, i68) {
            this._canvas.width = i68 * t88, this._canvas.height = i68 * e143, this._canvas.style.width = `${t88}px`, this._canvas.style.height = `${e143}px`;
          }
          _setupPainter() {
            const i68 = t87.extend({}, e142.webGLContextAttributes, { failIfMajorPerformanceCaveat: this._failIfMajorPerformanceCaveat, preserveDrawingBuffer: this._preserveDrawingBuffer, antialias: this._antialias || false }), o102 = this._canvas.getContext("webgl", i68) || this._canvas.getContext("experimental-webgl", i68);
            o102 ? (this.painter = new Ki(o102, this.transform), t87.exported$1.testSupport(o102)) : this.fire(new t87.ErrorEvent(new Error("Failed to initialize WebGL")));
          }
          _contextLost(e143) {
            e143.preventDefault(), this._frame && (this._frame.cancel(), this._frame = null), this.fire(new t87.Event("webglcontextlost", { originalEvent: e143 }));
          }
          _contextRestored(e143) {
            this._setupPainter(), this.resize(), this._update(), this.fire(new t87.Event("webglcontextrestored", { originalEvent: e143 }));
          }
          _onMapScroll(t88) {
            if (t88.target === this._container)
              return this._container.scrollTop = 0, this._container.scrollLeft = 0, false;
          }
          loaded() {
            return !this._styleDirty && !this._sourcesDirty && !!this.style && this.style.loaded();
          }
          _update(t88) {
            return this.style ? (this._styleDirty = this._styleDirty || t88, this._sourcesDirty = true, this.triggerRepaint(), this) : this;
          }
          _requestRenderFrame(t88) {
            return this._update(), this._renderTaskQueue.add(t88);
          }
          _cancelRenderFrame(t88) {
            this._renderTaskQueue.remove(t88);
          }
          _render(e143) {
            let i68, o102 = 0;
            const a83 = this.painter.context.extTimerQuery;
            if (this.listens("gpu-timing-frame") && (i68 = a83.createQueryEXT(), a83.beginQueryEXT(a83.TIME_ELAPSED_EXT, i68), o102 = t87.exported.now()), this.painter.context.setDirty(), this.painter.setBaseState(), this._renderTaskQueue.run(e143), this._removed)
              return;
            let s63 = false;
            if (this.style && this._styleDirty) {
              this._styleDirty = false;
              const e144 = this.transform.zoom, i69 = t87.exported.now();
              this.style.zoomHistory.update(e144, i69);
              const o103 = new t87.EvaluationParameters(e144, { now: i69, fadeDuration: this._fadeDuration, zoomHistory: this.style.zoomHistory, transition: this.style.getTransition() }), a84 = o103.crossFadingFactor();
              1 === a84 && a84 === this._crossFadingFactor || (s63 = true, this._crossFadingFactor = a84), this.style.update(o103);
            }
            if (this.style && this._sourcesDirty && (this._sourcesDirty = false, this.style._updateSources(this.transform)), this._placementDirty = this.style && this.style._updatePlacement(this.painter.transform, this.showCollisionBoxes, this._fadeDuration, this._crossSourceCollisions), this.painter.render(this.style, { showTileBoundaries: this.showTileBoundaries, showOverdrawInspector: this._showOverdrawInspector, rotating: this.isRotating(), zooming: this.isZooming(), moving: this.isMoving(), fadeDuration: this._fadeDuration, showPadding: this.showPadding, gpuTiming: !!this.listens("gpu-timing-layer") }), this.fire(new t87.Event("render")), this.loaded() && !this._loaded && (this._loaded = true, t87.PerformanceUtils.mark(t87.PerformanceMarkers.load), this.fire(new t87.Event("load"))), this.style && (this.style.hasTransitions() || s63) && (this._styleDirty = true), this.style && !this._placementDirty && this.style._releaseSymbolFadeTiles(), this.listens("gpu-timing-frame")) {
              const e144 = t87.exported.now() - o102;
              a83.endQueryEXT(a83.TIME_ELAPSED_EXT, i68), setTimeout(() => {
                const o103 = a83.getQueryObjectEXT(i68, a83.QUERY_RESULT_EXT) / 1e6;
                a83.deleteQueryEXT(i68), this.fire(new t87.Event("gpu-timing-frame", { cpuTime: e144, gpuTime: o103 }));
              }, 50);
            }
            if (this.listens("gpu-timing-layer")) {
              const e144 = this.painter.collectGpuTimers();
              setTimeout(() => {
                const i69 = this.painter.queryGpuTimers(e144);
                this.fire(new t87.Event("gpu-timing-layer", { layerTimes: i69 }));
              }, 50);
            }
            const r62 = this._sourcesDirty || this._styleDirty || this._placementDirty;
            return r62 || this._repaint ? this.triggerRepaint() : !this.isMoving() && this.loaded() && this.fire(new t87.Event("idle")), !this._loaded || this._fullyLoaded || r62 || (this._fullyLoaded = true, t87.PerformanceUtils.mark(t87.PerformanceMarkers.fullLoad)), this;
          }
          redraw() {
            return this.style && (this._frame && (this._frame.cancel(), this._frame = null), this._render(0)), this;
          }
          remove() {
            this._hash && this._hash.remove();
            for (const t88 of this._controls)
              t88.onRemove(this);
            this._controls = [], this._frame && (this._frame.cancel(), this._frame = null), this._renderTaskQueue.clear(), this.painter.destroy(), this.handlers.destroy(), delete this.handlers, this.setStyle(null), "undefined" != typeof window && (removeEventListener("resize", this._onWindowResize, false), removeEventListener("orientationchange", this._onWindowResize, false), removeEventListener("online", this._onWindowOnline, false));
            const e143 = this.painter.context.gl.getExtension("WEBGL_lose_context");
            e143 && e143.loseContext(), this._canvas.removeEventListener("webglcontextrestored", this._contextRestored, false), this._canvas.removeEventListener("webglcontextlost", this._contextLost, false), s62.remove(this._canvasContainer), s62.remove(this._controlContainer), this._container.classList.remove("maplibregl-map", "mapboxgl-map"), t87.PerformanceUtils.clearMetrics(), this._removed = true, this.fire(new t87.Event("remove"));
          }
          triggerRepaint() {
            this.style && !this._frame && (this._frame = t87.exported.frame((e143) => {
              t87.PerformanceUtils.frame(e143), this._frame = null, this._render(e143);
            }));
          }
          _onWindowOnline() {
            this._update();
          }
          _onWindowResize(t88) {
            this._trackResize && this.resize({ originalEvent: t88 })._update();
          }
          get showTileBoundaries() {
            return !!this._showTileBoundaries;
          }
          set showTileBoundaries(t88) {
            this._showTileBoundaries !== t88 && (this._showTileBoundaries = t88, this._update());
          }
          get showPadding() {
            return !!this._showPadding;
          }
          set showPadding(t88) {
            this._showPadding !== t88 && (this._showPadding = t88, this._update());
          }
          get showCollisionBoxes() {
            return !!this._showCollisionBoxes;
          }
          set showCollisionBoxes(t88) {
            this._showCollisionBoxes !== t88 && (this._showCollisionBoxes = t88, t88 ? this.style._generateCollisionBoxes() : this._update());
          }
          get showOverdrawInspector() {
            return !!this._showOverdrawInspector;
          }
          set showOverdrawInspector(t88) {
            this._showOverdrawInspector !== t88 && (this._showOverdrawInspector = t88, this._update());
          }
          get repaint() {
            return !!this._repaint;
          }
          set repaint(t88) {
            this._repaint !== t88 && (this._repaint = t88, this.triggerRepaint());
          }
          get vertices() {
            return !!this._vertices;
          }
          set vertices(t88) {
            this._vertices = t88, this._update();
          }
          _setCacheLimits(e143, i68) {
            t87.setCacheLimits(e143, i68);
          }
        }, NavigationControl: class {
          constructor(e143) {
            this.options = t87.extend({}, oa, e143), this._container = s62.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), this._container.addEventListener("contextmenu", (t88) => t88.preventDefault()), this.options.showZoom && (t87.bindAll(["_setButtonTitle", "_updateZoomButtons"], this), this._zoomInButton = this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in", (t88) => this._map.zoomIn({}, { originalEvent: t88 })), s62.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._zoomInButton).setAttribute("aria-hidden", "true"), this._zoomOutButton = this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out", (t88) => this._map.zoomOut({}, { originalEvent: t88 })), s62.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._zoomOutButton).setAttribute("aria-hidden", "true")), this.options.showCompass && (t87.bindAll(["_rotateCompassArrow"], this), this._compass = this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass", (t88) => {
              this.options.visualizePitch ? this._map.resetNorthPitch({}, { originalEvent: t88 }) : this._map.resetNorth({}, { originalEvent: t88 });
            }), this._compassIcon = s62.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._compass), this._compassIcon.setAttribute("aria-hidden", "true"));
          }
          _updateZoomButtons() {
            const t88 = this._map.getZoom(), e143 = t88 === this._map.getMaxZoom(), i68 = t88 === this._map.getMinZoom();
            this._zoomInButton.disabled = e143, this._zoomOutButton.disabled = i68, this._zoomInButton.setAttribute("aria-disabled", e143.toString()), this._zoomOutButton.setAttribute("aria-disabled", i68.toString());
          }
          _rotateCompassArrow() {
            const t88 = this.options.visualizePitch ? `scale(${1 / Math.pow(Math.cos(this._map.transform.pitch * (Math.PI / 180)), 0.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle * (180 / Math.PI)}deg)` : `rotate(${this._map.transform.angle * (180 / Math.PI)}deg)`;
            this._compassIcon.style.transform = t88;
          }
          onAdd(t88) {
            return this._map = t88, this.options.showZoom && (this._setButtonTitle(this._zoomInButton, "ZoomIn"), this._setButtonTitle(this._zoomOutButton, "ZoomOut"), this._map.on("zoom", this._updateZoomButtons), this._updateZoomButtons()), this.options.showCompass && (this._setButtonTitle(this._compass, "ResetBearing"), this.options.visualizePitch && this._map.on("pitch", this._rotateCompassArrow), this._map.on("rotate", this._rotateCompassArrow), this._rotateCompassArrow(), this._handler = new aa(this._map, this._compass, this.options.visualizePitch)), this._container;
          }
          onRemove() {
            s62.remove(this._container), this.options.showZoom && this._map.off("zoom", this._updateZoomButtons), this.options.showCompass && (this.options.visualizePitch && this._map.off("pitch", this._rotateCompassArrow), this._map.off("rotate", this._rotateCompassArrow), this._handler.off(), delete this._handler), delete this._map;
          }
          _createButton(t88, e143) {
            const i68 = s62.create("button", t88, this._container);
            return i68.type = "button", i68.addEventListener("click", e143), i68;
          }
          _setButtonTitle(t88, e143) {
            const i68 = this._map._getUIString(`NavigationControl.${e143}`);
            t88.title = i68, t88.setAttribute("aria-label", i68);
          }
        }, GeolocateControl: class extends t87.Evented {
          constructor(e143) {
            super(), this.options = t87.extend({}, ca, e143), t87.bindAll(["_onSuccess", "_onError", "_onZoom", "_finish", "_setupUI", "_updateCamera", "_updateMarker"], this);
          }
          onAdd(t88) {
            var e143;
            return this._map = t88, this._container = s62.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), e143 = this._setupUI, void 0 !== ha ? e143(ha) : void 0 !== window.navigator.permissions ? window.navigator.permissions.query({ name: "geolocation" }).then((t89) => {
              ha = "denied" !== t89.state, e143(ha);
            }) : (ha = !!window.navigator.geolocation, e143(ha)), this._container;
          }
          onRemove() {
            void 0 !== this._geolocationWatchID && (window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0), this.options.showUserLocation && this._userLocationDotMarker && this._userLocationDotMarker.remove(), this.options.showAccuracyCircle && this._accuracyCircleMarker && this._accuracyCircleMarker.remove(), s62.remove(this._container), this._map.off("zoom", this._onZoom), this._map = void 0, ua = 0, da = false;
          }
          _isOutOfMapMaxBounds(t88) {
            const e143 = this._map.getMaxBounds(), i68 = t88.coords;
            return e143 && (i68.longitude < e143.getWest() || i68.longitude > e143.getEast() || i68.latitude < e143.getSouth() || i68.latitude > e143.getNorth());
          }
          _setErrorState() {
            switch (this._watchState) {
              case "WAITING_ACTIVE":
                this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error");
                break;
              case "ACTIVE_LOCK":
                this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting");
                break;
              case "BACKGROUND":
                this._watchState = "BACKGROUND_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting");
            }
          }
          _onSuccess(e143) {
            if (this._map) {
              if (this._isOutOfMapMaxBounds(e143))
                return this._setErrorState(), this.fire(new t87.Event("outofmaxbounds", e143)), this._updateMarker(), void this._finish();
              if (this.options.trackUserLocation)
                switch (this._lastKnownPosition = e143, this._watchState) {
                  case "WAITING_ACTIVE":
                  case "ACTIVE_LOCK":
                  case "ACTIVE_ERROR":
                    this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
                    break;
                  case "BACKGROUND":
                  case "BACKGROUND_ERROR":
                    this._watchState = "BACKGROUND", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background");
                }
              this.options.showUserLocation && "OFF" !== this._watchState && this._updateMarker(e143), this.options.trackUserLocation && "ACTIVE_LOCK" !== this._watchState || this._updateCamera(e143), this.options.showUserLocation && this._dotElement.classList.remove("maplibregl-user-location-dot-stale", "mapboxgl-user-location-dot-stale"), this.fire(new t87.Event("geolocate", e143)), this._finish();
            }
          }
          _updateCamera(e143) {
            const i68 = new t87.LngLat(e143.coords.longitude, e143.coords.latitude), o102 = e143.coords.accuracy, a83 = this._map.getBearing(), s63 = t87.extend({ bearing: a83 }, this.options.fitBoundsOptions);
            this._map.fitBounds(i68.toBounds(o102), s63, { geolocateSource: true });
          }
          _updateMarker(e143) {
            if (e143) {
              const i68 = new t87.LngLat(e143.coords.longitude, e143.coords.latitude);
              this._accuracyCircleMarker.setLngLat(i68).addTo(this._map), this._userLocationDotMarker.setLngLat(i68).addTo(this._map), this._accuracy = e143.coords.accuracy, this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
            } else
              this._userLocationDotMarker.remove(), this._accuracyCircleMarker.remove();
          }
          _updateCircleRadius() {
            const t88 = this._map._container.clientHeight / 2, e143 = this._map.unproject([0, t88]), i68 = this._map.unproject([1, t88]), o102 = e143.distanceTo(i68), a83 = Math.ceil(2 * this._accuracy / o102);
            this._circleElement.style.width = `${a83}px`, this._circleElement.style.height = `${a83}px`;
          }
          _onZoom() {
            this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
          }
          _onError(e143) {
            if (this._map) {
              if (this.options.trackUserLocation)
                if (1 === e143.code) {
                  this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.disabled = true;
                  const t88 = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                  this._geolocateButton.title = t88, this._geolocateButton.setAttribute("aria-label", t88), void 0 !== this._geolocationWatchID && this._clearWatch();
                } else {
                  if (3 === e143.code && da)
                    return;
                  this._setErrorState();
                }
              "OFF" !== this._watchState && this.options.showUserLocation && this._dotElement.classList.add("maplibregl-user-location-dot-stale", "mapboxgl-user-location-dot-stale"), this.fire(new t87.Event("error", e143)), this._finish();
            }
          }
          _finish() {
            this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = void 0;
          }
          _setupUI(e143) {
            if (this._container.addEventListener("contextmenu", (t88) => t88.preventDefault()), this._geolocateButton = s62.create("button", "maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate", this._container), s62.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._geolocateButton).setAttribute("aria-hidden", "true"), this._geolocateButton.type = "button", false === e143) {
              t87.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");
              const e144 = this._map._getUIString("GeolocateControl.LocationNotAvailable");
              this._geolocateButton.disabled = true, this._geolocateButton.title = e144, this._geolocateButton.setAttribute("aria-label", e144);
            } else {
              const t88 = this._map._getUIString("GeolocateControl.FindMyLocation");
              this._geolocateButton.title = t88, this._geolocateButton.setAttribute("aria-label", t88);
            }
            this.options.trackUserLocation && (this._geolocateButton.setAttribute("aria-pressed", "false"), this._watchState = "OFF"), this.options.showUserLocation && (this._dotElement = s62.create("div", "maplibregl-user-location-dot mapboxgl-user-location-dot"), this._userLocationDotMarker = new la(this._dotElement), this._circleElement = s62.create("div", "maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"), this._accuracyCircleMarker = new la({ element: this._circleElement, pitchAlignment: "map" }), this.options.trackUserLocation && (this._watchState = "OFF"), this._map.on("zoom", this._onZoom)), this._geolocateButton.addEventListener("click", this.trigger.bind(this)), this._setup = true, this.options.trackUserLocation && this._map.on("movestart", (e144) => {
              e144.geolocateSource || "ACTIVE_LOCK" !== this._watchState || e144.originalEvent && "resize" === e144.originalEvent.type || (this._watchState = "BACKGROUND", this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this.fire(new t87.Event("trackuserlocationend")));
            });
          }
          trigger() {
            if (!this._setup)
              return t87.warnOnce("Geolocate control triggered before added to a map"), false;
            if (this.options.trackUserLocation) {
              switch (this._watchState) {
                case "OFF":
                  this._watchState = "WAITING_ACTIVE", this.fire(new t87.Event("trackuserlocationstart"));
                  break;
                case "WAITING_ACTIVE":
                case "ACTIVE_LOCK":
                case "ACTIVE_ERROR":
                case "BACKGROUND_ERROR":
                  ua--, da = false, this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this.fire(new t87.Event("trackuserlocationend"));
                  break;
                case "BACKGROUND":
                  this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._lastKnownPosition && this._updateCamera(this._lastKnownPosition), this.fire(new t87.Event("trackuserlocationstart"));
              }
              switch (this._watchState) {
                case "WAITING_ACTIVE":
                  this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
                  break;
                case "ACTIVE_LOCK":
                  this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
              }
              if ("OFF" === this._watchState && void 0 !== this._geolocationWatchID)
                this._clearWatch();
              else if (void 0 === this._geolocationWatchID) {
                let t88;
                this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "true"), ua++, ua > 1 ? (t88 = { maximumAge: 6e5, timeout: 0 }, da = true) : (t88 = this.options.positionOptions, da = false), this._geolocationWatchID = window.navigator.geolocation.watchPosition(this._onSuccess, this._onError, t88);
              }
            } else
              window.navigator.geolocation.getCurrentPosition(this._onSuccess, this._onError, this.options.positionOptions), this._timeoutId = setTimeout(this._finish, 1e4);
            return true;
          }
          _clearWatch() {
            window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0, this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "false"), this.options.showUserLocation && this._updateMarker(null);
          }
        }, AttributionControl: Jo, LogoControl: Qo, ScaleControl: class {
          constructor(e143) {
            this.options = t87.extend({}, ma, e143), t87.bindAll(["_onMove", "setUnit"], this);
          }
          getDefaultPosition() {
            return "bottom-left";
          }
          _onMove() {
            _a3(this._map, this._container, this.options);
          }
          onAdd(t88) {
            return this._map = t88, this._container = s62.create("div", "maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale", t88.getContainer()), this._map.on("move", this._onMove), this._onMove(), this._container;
          }
          onRemove() {
            s62.remove(this._container), this._map.off("move", this._onMove), this._map = void 0;
          }
          setUnit(t88) {
            this.options.unit = t88, _a3(this._map, this._container, this.options);
          }
        }, FullscreenControl: class {
          constructor(e143) {
            this._fullscreen = false, e143 && e143.container && (e143.container instanceof HTMLElement ? this._container = e143.container : t87.warnOnce("Full screen control 'container' must be a DOM element.")), t87.bindAll(["_onClickFullscreen", "_changeIcon"], this), "onfullscreenchange" in document ? this._fullscreenchange = "fullscreenchange" : "onmozfullscreenchange" in document ? this._fullscreenchange = "mozfullscreenchange" : "onwebkitfullscreenchange" in document ? this._fullscreenchange = "webkitfullscreenchange" : "onmsfullscreenchange" in document && (this._fullscreenchange = "MSFullscreenChange");
          }
          onAdd(e143) {
            return this._map = e143, this._container || (this._container = this._map.getContainer()), this._controlContainer = s62.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), this._checkFullscreenSupport() ? this._setupUI() : (this._controlContainer.style.display = "none", t87.warnOnce("This device does not support fullscreen mode.")), this._controlContainer;
          }
          onRemove() {
            s62.remove(this._controlContainer), this._map = null, window.document.removeEventListener(this._fullscreenchange, this._changeIcon);
          }
          _checkFullscreenSupport() {
            return !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitFullscreenEnabled);
          }
          _setupUI() {
            const t88 = this._fullscreenButton = s62.create("button", "maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen", this._controlContainer);
            s62.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", t88).setAttribute("aria-hidden", "true"), t88.type = "button", this._updateTitle(), this._fullscreenButton.addEventListener("click", this._onClickFullscreen), window.document.addEventListener(this._fullscreenchange, this._changeIcon);
          }
          _updateTitle() {
            const t88 = this._getTitle();
            this._fullscreenButton.setAttribute("aria-label", t88), this._fullscreenButton.title = t88;
          }
          _getTitle() {
            return this._map._getUIString(this._isFullscreen() ? "FullscreenControl.Exit" : "FullscreenControl.Enter");
          }
          _isFullscreen() {
            return this._fullscreen;
          }
          _changeIcon() {
            (window.document.fullscreenElement || window.document.mozFullScreenElement || window.document.webkitFullscreenElement || window.document.msFullscreenElement) === this._container !== this._fullscreen && (this._fullscreen = !this._fullscreen, this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"), this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"), this._updateTitle());
          }
          _onClickFullscreen() {
            this._isFullscreen() ? window.document.exitFullscreen ? window.document.exitFullscreen() : window.document.mozCancelFullScreen ? window.document.mozCancelFullScreen() : window.document.msExitFullscreen ? window.document.msExitFullscreen() : window.document.webkitCancelFullScreen && window.document.webkitCancelFullScreen() : this._container.requestFullscreen ? this._container.requestFullscreen() : this._container.mozRequestFullScreen ? this._container.mozRequestFullScreen() : this._container.msRequestFullscreen ? this._container.msRequestFullscreen() : this._container.webkitRequestFullscreen && this._container.webkitRequestFullscreen();
          }
        }, Popup: class extends t87.Evented {
          constructor(e143) {
            super(), this.options = t87.extend(Object.create(fa), e143), t87.bindAll(["_update", "_onClose", "remove", "_onMouseMove", "_onMouseUp", "_onDrag"], this);
          }
          addTo(e143) {
            return this._map && this.remove(), this._map = e143, this.options.closeOnClick && this._map.on("click", this._onClose), this.options.closeOnMove && this._map.on("move", this._onClose), this._map.on("remove", this.remove), this._update(), this._focusFirstElement(), this._trackPointer ? (this._map.on("mousemove", this._onMouseMove), this._map.on("mouseup", this._onMouseUp), this._container && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer", "mapboxgl-track-pointer")) : this._map.on("move", this._update), this.fire(new t87.Event("open")), this;
          }
          isOpen() {
            return !!this._map;
          }
          remove() {
            return this._content && s62.remove(this._content), this._container && (s62.remove(this._container), delete this._container), this._map && (this._map.off("move", this._update), this._map.off("move", this._onClose), this._map.off("click", this._onClose), this._map.off("remove", this.remove), this._map.off("mousemove", this._onMouseMove), this._map.off("mouseup", this._onMouseUp), this._map.off("drag", this._onDrag), delete this._map), this.fire(new t87.Event("close")), this;
          }
          getLngLat() {
            return this._lngLat;
          }
          setLngLat(e143) {
            return this._lngLat = t87.LngLat.convert(e143), this._pos = null, this._trackPointer = false, this._update(), this._map && (this._map.on("move", this._update), this._map.off("mousemove", this._onMouseMove), this._container && this._container.classList.remove("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.remove("maplibregl-track-pointer", "mapboxgl-track-pointer")), this;
          }
          trackPointer() {
            return this._trackPointer = true, this._pos = null, this._update(), this._map && (this._map.off("move", this._update), this._map.on("mousemove", this._onMouseMove), this._map.on("drag", this._onDrag), this._container && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer", "mapboxgl-track-pointer")), this;
          }
          getElement() {
            return this._container;
          }
          setText(t88) {
            return this.setDOMContent(document.createTextNode(t88));
          }
          setHTML(t88) {
            const e143 = document.createDocumentFragment(), i68 = document.createElement("body");
            let o102;
            for (i68.innerHTML = t88; o102 = i68.firstChild, o102; )
              e143.appendChild(o102);
            return this.setDOMContent(e143);
          }
          getMaxWidth() {
            return this._container && this._container.style.maxWidth;
          }
          setMaxWidth(t88) {
            return this.options.maxWidth = t88, this._update(), this;
          }
          setDOMContent(t88) {
            if (this._content)
              for (; this._content.hasChildNodes(); )
                this._content.firstChild && this._content.removeChild(this._content.firstChild);
            else
              this._content = s62.create("div", "maplibregl-popup-content mapboxgl-popup-content", this._container);
            return this._content.appendChild(t88), this._createCloseButton(), this._update(), this._focusFirstElement(), this;
          }
          addClassName(t88) {
            this._container && this._container.classList.add(t88);
          }
          removeClassName(t88) {
            this._container && this._container.classList.remove(t88);
          }
          setOffset(t88) {
            return this.options.offset = t88, this._update(), this;
          }
          toggleClassName(t88) {
            if (this._container)
              return this._container.classList.toggle(t88);
          }
          _createCloseButton() {
            this.options.closeButton && (this._closeButton = s62.create("button", "maplibregl-popup-close-button mapboxgl-popup-close-button", this._content), this._closeButton.type = "button", this._closeButton.setAttribute("aria-label", "Close popup"), this._closeButton.innerHTML = "&#215;", this._closeButton.addEventListener("click", this._onClose));
          }
          _onMouseUp(t88) {
            this._update(t88.point);
          }
          _onMouseMove(t88) {
            this._update(t88.point);
          }
          _onDrag(t88) {
            this._update(t88.point);
          }
          _update(t88) {
            if (!this._map || !this._lngLat && !this._trackPointer || !this._content)
              return;
            if (this._container || (this._container = s62.create("div", "maplibregl-popup mapboxgl-popup", this._map.getContainer()), this._tip = s62.create("div", "maplibregl-popup-tip mapboxgl-popup-tip", this._container), this._container.appendChild(this._content), this.options.className && this.options.className.split(" ").forEach((t89) => this._container.classList.add(t89)), this._trackPointer && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer")), this.options.maxWidth && this._container.style.maxWidth !== this.options.maxWidth && (this._container.style.maxWidth = this.options.maxWidth), this._map.transform.renderWorldCopies && !this._trackPointer && (this._lngLat = sa(this._lngLat, this._pos, this._map.transform)), this._trackPointer && !t88)
              return;
            const e143 = this._pos = this._trackPointer && t88 ? t88 : this._map.project(this._lngLat);
            let i68 = this.options.anchor;
            const o102 = xa(this.options.offset);
            if (!i68) {
              const t89 = this._container.offsetWidth, a84 = this._container.offsetHeight;
              let s63;
              s63 = e143.y + o102.bottom.y < a84 ? ["top"] : e143.y > this._map.transform.height - a84 ? ["bottom"] : [], e143.x < t89 / 2 ? s63.push("left") : e143.x > this._map.transform.width - t89 / 2 && s63.push("right"), i68 = 0 === s63.length ? "bottom" : s63.join("-");
            }
            const a83 = e143.add(o102[i68]).round();
            s62.setTransform(this._container, `${ra[i68]} translate(${a83.x}px,${a83.y}px)`), na(this._container, i68, "popup");
          }
          _focusFirstElement() {
            if (!this.options.focusAfterOpen || !this._container)
              return;
            const t88 = this._container.querySelector(ga);
            t88 && t88.focus();
          }
          _onClose() {
            this.remove();
          }
        }, Marker: la, Style: ie, LngLat: t87.LngLat, LngLatBounds: t87.LngLatBounds, Point: t87.pointGeometry, MercatorCoordinate: t87.MercatorCoordinate, Evented: t87.Evented, AJAXError: t87.AJAXError, config: t87.config, CanvasSource: R, GeoJSONSource: D3, ImageSource: M4, RasterDEMTileSource: z2, RasterTileSource: C7, VectorTileSource: S, VideoSource: L, prewarm: function() {
          H().acquire(j7);
        }, clearPrewarmedResources: function() {
          const t88 = X;
          t88 && (t88.isPreloaded() && 1 === t88.numActive() ? (t88.release(j7), X = null) : console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"));
        }, get workerCount() {
          return $.workerCount;
        }, set workerCount(t88) {
          $.workerCount = t88;
        }, get maxParallelImageRequests() {
          return t87.config.MAX_PARALLEL_IMAGE_REQUESTS;
        }, set maxParallelImageRequests(e143) {
          t87.config.MAX_PARALLEL_IMAGE_REQUESTS = e143;
        }, clearStorage(e143) {
          t87.clearTileCache(e143);
        }, workerUrl: "", addProtocol(e143, i68) {
          t87.config.REGISTERED_PROTOCOLS[e143] = i68;
        }, removeProtocol(e143) {
          delete t87.config.REGISTERED_PROTOCOLS[e143];
        } };
        return Ko.extend(va, { isSafari: t87.isSafari, getPerformanceMetrics: t87.PerformanceUtils.getPerformanceMetrics }), va;
      });
      var maplibregl$1 = maplibregl3;
      return maplibregl$1;
    });
  }
});

// node_modules/xtend/immutable.js
var require_immutable = __commonJS({
  "node_modules/xtend/immutable.js"(exports, module) {
    module.exports = extend;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    function extend() {
      var target = {};
      for (var i67 = 0; i67 < arguments.length; i67++) {
        var source = arguments[i67];
        for (var key in source) {
          if (hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }
  }
});

// node_modules/fuzzy/lib/fuzzy.js
var require_fuzzy = __commonJS({
  "node_modules/fuzzy/lib/fuzzy.js"(exports, module) {
    (function() {
      var root = this;
      var fuzzy = {};
      if (typeof exports !== "undefined") {
        module.exports = fuzzy;
      } else {
        root.fuzzy = fuzzy;
      }
      fuzzy.simpleFilter = function(pattern, array) {
        return array.filter(function(str) {
          return fuzzy.test(pattern, str);
        });
      };
      fuzzy.test = function(pattern, str) {
        return fuzzy.match(pattern, str) !== null;
      };
      fuzzy.match = function(pattern, str, opts) {
        opts = opts || {};
        var patternIdx = 0, result = [], len = str.length, totalScore = 0, currScore = 0, pre = opts.pre || "", post = opts.post || "", compareString = opts.caseSensitive && str || str.toLowerCase(), ch;
        pattern = opts.caseSensitive && pattern || pattern.toLowerCase();
        for (var idx = 0; idx < len; idx++) {
          ch = str[idx];
          if (compareString[idx] === pattern[patternIdx]) {
            ch = pre + ch + post;
            patternIdx += 1;
            currScore += 1 + currScore;
          } else {
            currScore = 0;
          }
          totalScore += currScore;
          result[result.length] = ch;
        }
        if (patternIdx === pattern.length) {
          totalScore = compareString === pattern ? Infinity : totalScore;
          return { rendered: result.join(""), score: totalScore };
        }
        return null;
      };
      fuzzy.filter = function(pattern, arr, opts) {
        if (!arr || arr.length === 0) {
          return [];
        }
        if (typeof pattern !== "string") {
          return arr;
        }
        opts = opts || {};
        return arr.reduce(function(prev, element, idx, arr2) {
          var str = element;
          if (opts.extract) {
            str = opts.extract(element);
          }
          var rendered = fuzzy.match(pattern, str, opts);
          if (rendered != null) {
            prev[prev.length] = {
              string: rendered.rendered,
              score: rendered.score,
              index: idx,
              original: element
            };
          }
          return prev;
        }, []).sort(function(a82, b7) {
          var compare = b7.score - a82.score;
          if (compare)
            return compare;
          return a82.index - b7.index;
        });
      };
    })();
  }
});

// node_modules/suggestions-list/src/list.js
var require_list = __commonJS({
  "node_modules/suggestions-list/src/list.js"(exports, module) {
    "use strict";
    var List = function(component) {
      this.component = component;
      this.items = [];
      this.active = component.options.noInitialSelection ? -1 : 0;
      this.wrapper = document.createElement("div");
      this.wrapper.className = "suggestions-wrapper";
      this.element = document.createElement("ul");
      this.element.className = "suggestions";
      this.wrapper.appendChild(this.element);
      this.selectingListItem = false;
      component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);
      return this;
    };
    List.prototype.show = function() {
      this.element.style.display = "block";
    };
    List.prototype.hide = function() {
      this.element.style.display = "none";
    };
    List.prototype.add = function(item) {
      this.items.push(item);
    };
    List.prototype.clear = function() {
      this.items = [];
      this.active = this.component.options.noInitialSelection ? -1 : 0;
    };
    List.prototype.isEmpty = function() {
      return !this.items.length;
    };
    List.prototype.isVisible = function() {
      return this.element.style.display === "block";
    };
    List.prototype.draw = function() {
      this.element.innerHTML = "";
      if (this.items.length === 0) {
        this.hide();
        return;
      }
      for (var i67 = 0; i67 < this.items.length; i67++) {
        this.drawItem(this.items[i67], this.active === i67);
      }
      this.show();
    };
    List.prototype.drawItem = function(item, active) {
      var li = document.createElement("li"), a82 = document.createElement("a");
      if (active)
        li.className += " active";
      a82.innerHTML = item.string;
      li.appendChild(a82);
      this.element.appendChild(li);
      li.addEventListener("mousedown", function() {
        this.selectingListItem = true;
      }.bind(this));
      li.addEventListener("mouseup", function() {
        this.handleMouseUp.call(this, item);
      }.bind(this));
    };
    List.prototype.handleMouseUp = function(item) {
      this.selectingListItem = false;
      this.component.value(item.original);
      this.clear();
      this.draw();
    };
    List.prototype.move = function(index3) {
      this.active = index3;
      this.draw();
    };
    List.prototype.previous = function() {
      this.move(this.active <= 0 ? this.items.length - 1 : this.active - 1);
    };
    List.prototype.next = function() {
      this.move(this.active >= this.items.length - 1 ? 0 : this.active + 1);
    };
    List.prototype.drawError = function(msg) {
      var li = document.createElement("li");
      li.innerHTML = msg;
      this.element.appendChild(li);
      this.show();
    };
    module.exports = List;
  }
});

// node_modules/suggestions-list/src/suggestions.js
var require_suggestions = __commonJS({
  "node_modules/suggestions-list/src/suggestions.js"(exports, module) {
    "use strict";
    var extend = require_immutable();
    var fuzzy = require_fuzzy();
    var List = require_list();
    var Suggestions = function(el, data, options) {
      options = options || {};
      this.options = extend({
        minLength: 2,
        limit: 5,
        filter: true,
        hideOnBlur: true,
        noInitialSelection: true
      }, options);
      this.el = el;
      this.data = data || [];
      this.list = new List(this);
      this.query = "";
      this.selected = null;
      this.list.draw();
      this.el.addEventListener("keyup", function(e142) {
        this.handleKeyUp(e142.keyCode, e142);
      }.bind(this), false);
      this.el.addEventListener("keydown", function(e142) {
        this.handleKeyDown(e142);
      }.bind(this));
      this.el.addEventListener("focus", function() {
        this.handleFocus();
      }.bind(this));
      this.el.addEventListener("blur", function() {
        this.handleBlur();
      }.bind(this));
      this.el.addEventListener("paste", function(e142) {
        this.handlePaste(e142);
      }.bind(this));
      this.render = this.options.render ? this.options.render.bind(this) : this.render.bind(this);
      this.getItemValue = this.options.getItemValue ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);
      return this;
    };
    Suggestions.prototype.handleKeyUp = function(keyCode, e142) {
      if (keyCode === 40 || keyCode === 38 || keyCode === 27 || keyCode === 9)
        return;
      if (keyCode === 13) {
        if (this.list.items[this.list.active]) {
          this.list.handleMouseUp(this.list.items[this.list.active]);
          e142.stopPropagation();
        }
        return;
      }
      this.handleInputChange(this.el.value);
    };
    Suggestions.prototype.handleKeyDown = function(e142) {
      switch (e142.keyCode) {
        case 13:
          if (this.list.active >= 0) {
            this.list.selectingListItem = true;
          }
          break;
        case 9:
          if (!this.list.isEmpty()) {
            if (this.list.isVisible()) {
              e142.preventDefault();
            }
            this.value(this.list.active >= 0 ? this.list.items[this.list.active].original : null);
            this.list.hide();
          }
          break;
        case 27:
          if (!this.list.isEmpty())
            this.list.hide();
          break;
        case 38:
          this.list.previous();
          break;
        case 40:
          this.list.next();
          break;
      }
    };
    Suggestions.prototype.handleBlur = function() {
      if (!this.list.selectingListItem && this.options.hideOnBlur) {
        this.list.hide();
      }
    };
    Suggestions.prototype.handlePaste = function(e142) {
      if (e142.clipboardData) {
        this.handleInputChange(e142.clipboardData.getData("Text"));
      } else {
        var self2 = this;
        setTimeout(function() {
          self2.handleInputChange(e142.target.value);
        }, 100);
      }
    };
    Suggestions.prototype.handleInputChange = function(query) {
      this.query = this.normalize(query);
      this.list.clear();
      if (this.query.length < this.options.minLength) {
        this.list.draw();
        return;
      }
      this.getCandidates(function(data) {
        for (var i67 = 0; i67 < data.length; i67++) {
          this.list.add(data[i67]);
          if (i67 === this.options.limit - 1)
            break;
        }
        this.list.draw();
      }.bind(this));
    };
    Suggestions.prototype.handleFocus = function() {
      if (!this.list.isEmpty())
        this.list.show();
      this.list.selectingListItem = false;
    };
    Suggestions.prototype.update = function(revisedData) {
      this.data = revisedData;
      this.handleKeyUp();
    };
    Suggestions.prototype.clear = function() {
      this.data = [];
      this.list.clear();
    };
    Suggestions.prototype.normalize = function(value) {
      value = value.toLowerCase();
      return value;
    };
    Suggestions.prototype.match = function(candidate, query) {
      return candidate.indexOf(query) > -1;
    };
    Suggestions.prototype.value = function(value) {
      this.selected = value;
      this.el.value = this.getItemValue(value || { place_name: this.query });
      if (document.createEvent) {
        var e142 = document.createEvent("HTMLEvents");
        e142.initEvent("change", true, false);
        this.el.dispatchEvent(e142);
      } else {
        this.el.fireEvent("onchange");
      }
    };
    Suggestions.prototype.getCandidates = function(callback) {
      var options = {
        pre: "<strong>",
        post: "</strong>",
        extract: function(d10) {
          return this.getItemValue(d10);
        }.bind(this)
      };
      var results;
      if (this.options.filter) {
        results = fuzzy.filter(this.query, this.data, options);
        results = results.map(function(item) {
          return {
            original: item.original,
            string: this.render(item.original, item.string)
          };
        }.bind(this));
      } else {
        results = this.data.map(function(d10) {
          var renderedString = this.render(d10);
          return {
            original: d10,
            string: renderedString
          };
        }.bind(this));
      }
      callback(results);
    };
    Suggestions.prototype.getItemValue = function(item) {
      return item;
    };
    Suggestions.prototype.render = function(item, sourceFormatting) {
      if (sourceFormatting) {
        return sourceFormatting;
      }
      var boldString = item.original ? this.getItemValue(item.original) : this.getItemValue(item);
      var indexString = this.normalize(boldString);
      var indexOfQuery = indexString.lastIndexOf(this.query);
      while (indexOfQuery > -1) {
        var endIndexOfQuery = indexOfQuery + this.query.length;
        boldString = boldString.slice(0, indexOfQuery) + "<strong>" + boldString.slice(indexOfQuery, endIndexOfQuery) + "</strong>" + boldString.slice(endIndexOfQuery);
        indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);
      }
      return boldString;
    };
    Suggestions.prototype.renderError = function(msg) {
      this.list.drawError(msg);
    };
    module.exports = Suggestions;
  }
});

// node_modules/suggestions-list/index.js
var require_suggestions_list = __commonJS({
  "node_modules/suggestions-list/index.js"(exports, module) {
    "use strict";
    var Suggestions = require_suggestions();
    module.exports = Suggestions;
    if (typeof window !== "undefined") {
      window.Suggestions = Suggestions;
    }
  }
});

// node_modules/lodash.debounce/index.js
var require_lodash = __commonJS({
  "node_modules/lodash.debounce/index.js"(exports, module) {
    var FUNC_ERROR_TEXT = "Expected a function";
    var NAN = 0 / 0;
    var symbolTag = "[object Symbol]";
    var reTrim = /^\s+|\s+$/g;
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
    var reIsBinary = /^0b[01]+$/i;
    var reIsOctal = /^0o[0-7]+$/i;
    var freeParseInt = parseInt;
    var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
    var freeSelf = typeof self == "object" && self && self.Object === Object && self;
    var root = freeGlobal || freeSelf || Function("return this")();
    var objectProto = Object.prototype;
    var objectToString = objectProto.toString;
    var nativeMax = Math.max;
    var nativeMin = Math.min;
    var now = function() {
      return root.Date.now();
    };
    function debounce2(func, wait, options) {
      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
      if (typeof func != "function") {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      wait = toNumber(wait) || 0;
      if (isObject3(options)) {
        leading = !!options.leading;
        maxing = "maxWait" in options;
        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
        trailing = "trailing" in options ? !!options.trailing : trailing;
      }
      function invokeFunc(time) {
        var args = lastArgs, thisArg = lastThis;
        lastArgs = lastThis = void 0;
        lastInvokeTime = time;
        result = func.apply(thisArg, args);
        return result;
      }
      function leadingEdge(time) {
        lastInvokeTime = time;
        timerId = setTimeout(timerExpired, wait);
        return leading ? invokeFunc(time) : result;
      }
      function remainingWait(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;
        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;
      }
      function shouldInvoke(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
      }
      function timerExpired() {
        var time = now();
        if (shouldInvoke(time)) {
          return trailingEdge(time);
        }
        timerId = setTimeout(timerExpired, remainingWait(time));
      }
      function trailingEdge(time) {
        timerId = void 0;
        if (trailing && lastArgs) {
          return invokeFunc(time);
        }
        lastArgs = lastThis = void 0;
        return result;
      }
      function cancel3() {
        if (timerId !== void 0) {
          clearTimeout(timerId);
        }
        lastInvokeTime = 0;
        lastArgs = lastCallTime = lastThis = timerId = void 0;
      }
      function flush() {
        return timerId === void 0 ? result : trailingEdge(now());
      }
      function debounced() {
        var time = now(), isInvoking = shouldInvoke(time);
        lastArgs = arguments;
        lastThis = this;
        lastCallTime = time;
        if (isInvoking) {
          if (timerId === void 0) {
            return leadingEdge(lastCallTime);
          }
          if (maxing) {
            timerId = setTimeout(timerExpired, wait);
            return invokeFunc(lastCallTime);
          }
        }
        if (timerId === void 0) {
          timerId = setTimeout(timerExpired, wait);
        }
        return result;
      }
      debounced.cancel = cancel3;
      debounced.flush = flush;
      return debounced;
    }
    function isObject3(value) {
      var type = typeof value;
      return !!value && (type == "object" || type == "function");
    }
    function isObjectLike(value) {
      return !!value && typeof value == "object";
    }
    function isSymbol(value) {
      return typeof value == "symbol" || isObjectLike(value) && objectToString.call(value) == symbolTag;
    }
    function toNumber(value) {
      if (typeof value == "number") {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject3(value)) {
        var other = typeof value.valueOf == "function" ? value.valueOf() : value;
        value = isObject3(other) ? other + "" : other;
      }
      if (typeof value != "string") {
        return value === 0 ? value : +value;
      }
      value = value.replace(reTrim, "");
      var isBinary = reIsBinary.test(value);
      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    }
    module.exports = debounce2;
  }
});

// node_modules/@maplibre/maplibre-gl-geocoder/lib/exceptions.js
var require_exceptions = __commonJS({
  "node_modules/@maplibre/maplibre-gl-geocoder/lib/exceptions.js"(exports, module) {
    module.exports = {
      "fr": {
        "name": "France",
        "bbox": [[-4.59235, 41.380007], [9.560016, 51.148506]]
      },
      "us": {
        "name": "United States",
        "bbox": [[-171.791111, 18.91619], [-66.96466, 71.357764]]
      },
      "ru": {
        "name": "Russia",
        "bbox": [[19.66064, 41.151416], [190.10042, 81.2504]]
      },
      "ca": {
        "name": "Canada",
        "bbox": [[-140.99778, 41.675105], [-52.648099, 83.23324]]
      }
    };
  }
});

// node_modules/@maplibre/maplibre-gl-geocoder/lib/localization.js
var require_localization = __commonJS({
  "node_modules/@maplibre/maplibre-gl-geocoder/lib/localization.js"(exports, module) {
    "use strict";
    var placeholder = {
      "de": "Suche",
      "it": "Ricerca",
      "en": "Search",
      "nl": "Zoeken",
      "fr": "Chercher",
      "ca": "Cerca",
      "he": "\u05DC\u05D7\u05E4\u05E9",
      "ja": "\u30B5\u30FC\u30C1",
      "lv": "Mekl\u0113t",
      "pt": "Procurar",
      "sr": "\u041F\u0440\u0435\u0442\u0440\u0430\u0433\u0430",
      "zh": "\u641C\u7D22",
      "cs": "Vyhled\xE1v\xE1n\xED",
      "hu": "Keres\xE9s",
      "ka": "\u10EB\u10D8\u10D4\u10D1\u10D0",
      "nb": "S\xF8ke",
      "sk": "Vyh\u013Ead\xE1vanie",
      "th": "\u0E04\u0E49\u0E19\u0E2B\u0E32",
      "fi": "Hae",
      "is": "Leita",
      "ko": "\uC218\uC0C9",
      "pl": "Szukaj",
      "sl": "Iskanje",
      "fa": "\u062C\u0633\u062A\u062C\u0648",
      "ru": "\u041F\u043E\u0438\u0441\u043A"
    };
    module.exports = { placeholder };
  }
});

// node_modules/subtag/subtag.js
var require_subtag = __commonJS({
  "node_modules/subtag/subtag.js"(exports, module) {
    !function(root, name, make) {
      if (typeof module != "undefined" && module.exports)
        module.exports = make();
      else
        root[name] = make();
    }(exports, "subtag", function() {
      var empty = "";
      var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;
      function match(tag) {
        return tag.match(pattern) || [];
      }
      function split(tag) {
        return match(tag).filter(function(v5, i67) {
          return v5 && i67;
        });
      }
      function api(tag) {
        tag = match(tag);
        return {
          language: tag[1] || empty,
          extlang: tag[2] || empty,
          script: tag[3] || empty,
          region: tag[4] || empty
        };
      }
      function expose(target, key, value) {
        Object.defineProperty(target, key, {
          value,
          enumerable: true
        });
      }
      function part(position, pattern2, type) {
        function method(tag) {
          return match(tag)[position] || empty;
        }
        expose(method, "pattern", pattern2);
        expose(api, type, method);
      }
      part(1, /^[a-zA-Z]{2,3}$/, "language");
      part(2, /^[a-zA-Z]{3}$/, "extlang");
      part(3, /^[a-zA-Z]{4}$/, "script");
      part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, "region");
      expose(api, "split", split);
      return api;
    });
  }
});

// node_modules/@maplibre/maplibre-gl-geocoder/lib/index.js
var require_lib = __commonJS({
  "node_modules/@maplibre/maplibre-gl-geocoder/lib/index.js"(exports, module) {
    "use strict";
    var Typeahead = require_suggestions_list();
    var debounce2 = require_lodash();
    var extend = require_immutable();
    var EventEmitter = require_events().EventEmitter;
    var exceptions = require_exceptions();
    var localization = require_localization();
    var subtag = require_subtag();
    function MaplibreGeocoder2(geocoderApi, options) {
      this._eventEmitter = new EventEmitter();
      this.options = extend({}, this.options, options);
      this.inputString = "";
      this.fresh = true;
      this.lastSelected = null;
      this.geocoderApi = geocoderApi;
    }
    MaplibreGeocoder2.prototype = {
      options: {
        zoom: 16,
        flyTo: true,
        trackProximity: true,
        showResultsWhileTyping: false,
        minLength: 2,
        reverseGeocode: false,
        limit: 5,
        enableEventLogging: true,
        marker: true,
        popup: false,
        maplibregl: null,
        collapsed: false,
        clearAndBlurOnEsc: false,
        clearOnBlur: false,
        getItemValue: function(item) {
          return item.text !== void 0 ? item.text : item.place_name;
        },
        render: function(item) {
          if (!item.geometry) {
            var suggestionString = item.text;
            var indexOfMatch = suggestionString.toLowerCase().indexOf(this.query.toLowerCase());
            var lengthOfMatch = this.query.length;
            var beforeMatch = suggestionString.substring(0, indexOfMatch);
            var match = suggestionString.substring(
              indexOfMatch,
              indexOfMatch + lengthOfMatch
            );
            var afterMatch = suggestionString.substring(
              indexOfMatch + lengthOfMatch
            );
            return '<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">' + beforeMatch + '<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">' + match + "</span>" + afterMatch + "</div></div></div>";
          } else {
            var placeName = item.place_name.split(",");
            return '<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">' + placeName[0] + '</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">' + placeName.splice(1, placeName.length).join(",") + "</div></div></div>";
          }
        },
        popupRender: function(item) {
          var placeName = item.place_name.split(",");
          return '<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">' + placeName[0] + '</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">' + placeName.splice(1, placeName.length).join(",") + "</div></div>";
        },
        showResultMarkers: true,
        debounceSearch: 200
      },
      addTo: function(container) {
        function addToExistingContainer(geocoder, container2) {
          if (!document.body.contains(container2)) {
            throw new Error(
              "Element provided to #addTo() exists, but is not in the DOM"
            );
          }
          var el = geocoder.onAdd();
          container2.appendChild(el);
        }
        if (container._controlContainer) {
          container.addControl(this);
        } else if (container instanceof HTMLElement) {
          addToExistingContainer(this, container);
        } else if (typeof container == "string") {
          var parent = document.querySelectorAll(container);
          if (parent.length === 0) {
            throw new Error("Element ", container, "not found.");
          }
          if (parent.length > 1) {
            throw new Error("Geocoder can only be added to a single html element");
          }
          addToExistingContainer(this, parent[0]);
        } else {
          throw new Error(
            "Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element"
          );
        }
      },
      onAdd: function(map) {
        if (map && typeof map != "string") {
          this._map = map;
        }
        this.setLanguage();
        if (this.options.localGeocoderOnly && !this.options.localGeocoder) {
          throw new Error(
            "A localGeocoder function must be specified to use localGeocoderOnly mode"
          );
        }
        this._onChange = this._onChange.bind(this);
        this._onKeyDown = this._onKeyDown.bind(this);
        this._onPaste = this._onPaste.bind(this);
        this._onBlur = this._onBlur.bind(this);
        this._showButton = this._showButton.bind(this);
        this._hideButton = this._hideButton.bind(this);
        this._onQueryResult = this._onQueryResult.bind(this);
        this.clear = this.clear.bind(this);
        this._updateProximity = this._updateProximity.bind(this);
        this._collapse = this._collapse.bind(this);
        this._unCollapse = this._unCollapse.bind(this);
        this._clear = this._clear.bind(this);
        this._clearOnBlur = this._clearOnBlur.bind(this);
        var el = this.container = document.createElement("div");
        el.className = "mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";
        var searchIcon = this.createIcon(
          "search",
          '<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>'
        );
        this._inputEl = document.createElement("input");
        this._inputEl.type = "text";
        this._inputEl.className = "mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input";
        this.setPlaceholder();
        if (this.options.collapsed) {
          this._collapse();
          this.container.addEventListener("mouseenter", this._unCollapse);
          this.container.addEventListener("mouseleave", this._collapse);
          this._inputEl.addEventListener("focus", this._unCollapse);
        }
        if (this.options.collapsed || this.options.clearOnBlur) {
          this._inputEl.addEventListener("blur", this._onBlur);
        }
        this._inputEl.addEventListener(
          "keydown",
          debounce2(this._onKeyDown, this.options.debounceSearch)
        );
        this._inputEl.addEventListener("paste", this._onPaste);
        this._inputEl.addEventListener("change", this._onChange);
        this.container.addEventListener("mouseenter", this._showButton);
        this.container.addEventListener("mouseleave", this._hideButton);
        var actions = document.createElement("div");
        actions.classList.add(
          "mapboxgl-ctrl-geocoder--pin-right",
          "maplibregl-ctrl-geocoder--pin-right"
        );
        this._clearEl = document.createElement("button");
        this._clearEl.setAttribute("aria-label", "Clear");
        this._clearEl.addEventListener("click", this.clear);
        this._clearEl.className = "mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";
        var buttonIcon = this.createIcon(
          "close",
          '<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>'
        );
        this._clearEl.appendChild(buttonIcon);
        this._loadingEl = this.createIcon(
          "loading",
          '<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'
        );
        actions.appendChild(this._clearEl);
        actions.appendChild(this._loadingEl);
        el.appendChild(searchIcon);
        el.appendChild(this._inputEl);
        el.appendChild(actions);
        this._typeahead = new Typeahead(this._inputEl, [], {
          filter: false,
          minLength: this.options.minLength,
          limit: this.options.limit,
          noInitialSelection: true
        });
        this.setRenderFunction(this.options.render);
        this._typeahead.getItemValue = this.options.getItemValue;
        this.mapMarker = null;
        this.resultMarkers = [];
        this._handleMarker = this._handleMarker.bind(this);
        this._handleResultMarkers = this._handleResultMarkers.bind(this);
        if (this._map) {
          if (this.options.trackProximity) {
            this._updateProximity();
            this._map.on("moveend", this._updateProximity);
          }
          this._maplibregl = this.options.maplibregl;
          if (!this._maplibregl && this.options.marker) {
            console.error(
              "No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."
            );
            this.options.marker = false;
          }
        }
        return el;
      },
      createIcon: function(name, path2) {
        var icon = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        icon.setAttribute(
          "class",
          "mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-" + name + " maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-" + name
        );
        icon.setAttribute("viewBox", "0 0 18 18");
        icon.setAttribute("xml:space", "preserve");
        icon.setAttribute("width", 18);
        icon.setAttribute("height", 18);
        if (!("innerHTML" in icon)) {
          var SVGNodeContainer = document.createElement("div");
          SVGNodeContainer.innerHTML = "<svg>" + path2.valueOf().toString() + "</svg>";
          var SVGNode = SVGNodeContainer.firstChild, SVGPath = SVGNode.firstChild;
          icon.appendChild(SVGPath);
        } else {
          icon.innerHTML = path2;
        }
        return icon;
      },
      onRemove: function() {
        this.container.parentNode.removeChild(this.container);
        if (this.options.trackProximity && this._map) {
          this._map.off("moveend", this._updateProximity);
        }
        this._removeMarker();
        this._map = null;
        return this;
      },
      _onPaste: function(e142) {
        var value = (e142.clipboardData || window.clipboardData).getData("text");
        if (value.length >= this.options.minLength && this.options.showResultsWhileTyping) {
          this._geocode(value);
        }
      },
      _onKeyDown: function(e142) {
        var ESC_KEY_CODE = 27, TAB_KEY_CODE = 9;
        if (e142.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {
          this._clear(e142);
          return this._inputEl.blur();
        }
        var target = e142.target && e142.target.shadowRoot ? e142.target.shadowRoot.activeElement : e142.target;
        var value = target ? target.value : "";
        if (!value) {
          this.fresh = true;
          if (e142.keyCode !== TAB_KEY_CODE)
            this.clear(e142);
          return this._clearEl.style.display = "none";
        }
        if (e142.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 38, 40].indexOf(e142.keyCode) !== -1)
          return;
        if (e142.keyCode === 13) {
          if (!this.options.showResultsWhileTyping) {
            if (!this._typeahead.selected) {
              this._geocode(target.value);
            }
          } else {
            if (this._typeahead.selected == null && this.geocoderApi.getSuggestions) {
              this._geocode(target.value, true);
            } else if (this._typeahead.selected == null) {
              if (this.options.showResultMarkers) {
                this._fitBoundsForMarkers();
              }
            }
            return;
          }
        }
        if (target.value.length >= this.options.minLength && this.options.showResultsWhileTyping) {
          this._geocode(target.value);
        }
      },
      _showButton: function() {
        if (this._inputEl.value.length > 0)
          this._clearEl.style.display = "block";
      },
      _hideButton: function() {
        if (this._typeahead.selected)
          this._clearEl.style.display = "none";
      },
      _onBlur: function(e142) {
        if (this.options.clearOnBlur) {
          this._clearOnBlur(e142);
        }
        if (this.options.collapsed) {
          this._collapse();
        }
      },
      _onChange: function() {
        var selected = this._typeahead.selected;
        if (selected && !selected.geometry) {
          if (selected.placeId)
            this._geocode(selected.placeId, true, true);
          else
            this._geocode(selected.text, true);
        } else if (selected && JSON.stringify(selected) !== this.lastSelected) {
          this._clearEl.style.display = "none";
          if (this.options.flyTo) {
            var flyOptions;
            this._removeResultMarkers();
            if (selected.properties && exceptions[selected.properties.short_code]) {
              flyOptions = extend({}, this.options.flyTo);
              if (this._map) {
                this._map.fitBounds(
                  exceptions[selected.properties.short_code].bbox,
                  flyOptions
                );
              }
            } else if (selected.bbox) {
              var bbox = selected.bbox;
              flyOptions = extend({}, this.options.flyTo);
              if (this._map) {
                this._map.fitBounds(
                  [
                    [bbox[0], bbox[1]],
                    [bbox[2], bbox[3]]
                  ],
                  flyOptions
                );
              }
            } else {
              var defaultFlyOptions = {
                zoom: this.options.zoom
              };
              flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);
              if (selected.center) {
                flyOptions.center = selected.center;
              } else if (selected.geometry && selected.geometry.type && selected.geometry.type === "Point" && selected.geometry.coordinates) {
                flyOptions.center = selected.geometry.coordinates;
              }
              if (this._map) {
                this._map.flyTo(flyOptions);
              }
            }
          }
          if (this.options.marker && this._maplibregl) {
            this._handleMarker(selected);
          }
          this._inputEl.focus();
          this._inputEl.scrollLeft = 0;
          this._inputEl.setSelectionRange(0, 0);
          this.lastSelected = JSON.stringify(selected);
          this._typeahead.selected = null;
          this._eventEmitter.emit("result", { result: selected });
        }
      },
      _getConfigForRequest: function() {
        var keys = [
          "bbox",
          "limit",
          "proximity",
          "countries",
          "types",
          "language",
          "reverseMode"
        ];
        var self2 = this;
        var config = keys.reduce(function(config2, key) {
          if (self2.options[key]) {
            ["countries", "types", "language"].indexOf(key) > -1 ? config2[key] = self2.options[key].split(/[\s,]+/) : config2[key] = self2.options[key];
            if (key === "proximity" && self2.options[key] && typeof self2.options[key].longitude === "number" && typeof self2.options[key].latitude === "number") {
              config2[key] = [
                self2.options[key].longitude,
                self2.options[key].latitude
              ];
            }
          }
          return config2;
        }, {});
        return config;
      },
      _geocode: function(searchInput, isSuggestion, isPlaceId) {
        this._loadingEl.style.display = "block";
        this._eventEmitter.emit("loading", { query: searchInput });
        this.inputString = searchInput;
        var geocoderError = null;
        var config = this._getConfigForRequest();
        var request;
        if (this.options.localGeocoderOnly) {
          request = Promise.resolve();
        } else if (this.options.reverseGeocode && /(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(searchInput)) {
          var coords = searchInput.split(/[\s(,)?]+/).map(function(c22) {
            return parseFloat(c22, 10);
          }).reverse();
          config.types ? [config.types[0]] : ["poi"];
          config = extend(config, { query: coords, limit: 1 });
          if ("proximity" in config) {
            delete config.proximity;
          }
          request = this.geocoderApi.reverseGeocode(config);
        } else {
          config = extend(config, { query: searchInput });
          if (!this.geocoderApi.getSuggestions) {
            request = this.geocoderApi.forwardGeocode(config);
          } else {
            if (isSuggestion) {
              if (this.geocoderApi.searchByPlaceId && isPlaceId) {
                request = this.geocoderApi.searchByPlaceId(config);
              } else {
                request = this.geocoderApi.forwardGeocode(config);
              }
            } else {
              request = this.geocoderApi.getSuggestions(config);
            }
          }
        }
        var localGeocoderRes = [];
        if (this.options.localGeocoder) {
          localGeocoderRes = this.options.localGeocoder(searchInput);
          if (!localGeocoderRes) {
            localGeocoderRes = [];
          }
        }
        var externalGeocoderRes = [];
        request.catch(
          function(error3) {
            geocoderError = error3;
          }.bind(this)
        ).then(
          function(response) {
            this._loadingEl.style.display = "none";
            var res = {};
            if (!response) {
              res = {
                type: "FeatureCollection",
                features: []
              };
            } else {
              res = response;
            }
            res.config = config;
            if (this.fresh) {
              this.fresh = false;
            }
            res.features = res.features ? localGeocoderRes.concat(res.features) : localGeocoderRes;
            if (this.options.externalGeocoder) {
              externalGeocoderRes = this.options.externalGeocoder(
                searchInput,
                res.features,
                config
              ) || [];
              return externalGeocoderRes.then(
                function(features) {
                  res.features = res.features ? features.concat(res.features) : features;
                  return res;
                },
                function() {
                  return res;
                }
              );
            }
            return res;
          }.bind(this)
        ).then(
          function(res) {
            if (geocoderError) {
              throw geocoderError;
            }
            if (this.options.filter && res.features.length) {
              res.features = res.features.filter(this.options.filter);
            }
            var results = [];
            if (res.suggestions) {
              results = res.suggestions;
            } else if (res.place) {
              results = [res.place];
            } else {
              results = res.features;
            }
            if (results.length) {
              this._clearEl.style.display = "block";
              this._typeahead.update(results);
              if ((!this.options.showResultsWhileTyping || isSuggestion) && this.options.showResultMarkers && (res.features.length > 0 || res.place)) {
                this._fitBoundsForMarkers();
              }
              this._eventEmitter.emit("results", res);
            } else {
              this._clearEl.style.display = "none";
              this._typeahead.selected = null;
              this._renderNoResults();
              this._eventEmitter.emit("results", res);
            }
          }.bind(this)
        ).catch(
          function(err) {
            this._loadingEl.style.display = "none";
            if (localGeocoderRes.length && this.options.localGeocoder || externalGeocoderRes.length && this.options.externalGeocoder) {
              this._clearEl.style.display = "block";
              this._typeahead.update(localGeocoderRes);
            } else {
              this._clearEl.style.display = "none";
              this._typeahead.selected = null;
              this._renderError();
            }
            this._eventEmitter.emit("results", { features: localGeocoderRes });
            this._eventEmitter.emit("error", { error: err });
          }.bind(this)
        );
        return request;
      },
      _clear: function(ev) {
        if (ev)
          ev.preventDefault();
        this._inputEl.value = "";
        this._typeahead.selected = null;
        this._typeahead.clear();
        this._onChange();
        this._clearEl.style.display = "none";
        this._removeMarker();
        this._removeResultMarkers();
        this.lastSelected = null;
        this._eventEmitter.emit("clear");
        this.fresh = true;
      },
      clear: function(ev) {
        this._clear(ev);
        this._inputEl.focus();
      },
      _clearOnBlur: function(ev) {
        var ctx = this;
        if (ev.relatedTarget) {
          ctx._clear(ev);
        }
      },
      _onQueryResult: function(response) {
        var results = response;
        if (!results.features.length)
          return;
        var result = results.features[0];
        this._typeahead.selected = result;
        this._inputEl.value = result.place_name;
        this._onChange();
      },
      _updateProximity: function() {
        if (!this._map) {
          return;
        }
        if (this._map.getZoom() > 9) {
          var center = this._map.getCenter().wrap();
          this.setProximity({ longitude: center.lng, latitude: center.lat });
        } else {
          this.setProximity(null);
        }
      },
      _collapse: function() {
        if (!this._inputEl.value && this._inputEl !== document.activeElement)
          this.container.classList.add(
            "mapboxgl-ctrl-geocoder--collapsed",
            "maplibregl-ctrl-geocoder--collapsed"
          );
      },
      _unCollapse: function() {
        this.container.classList.remove(
          "mapboxgl-ctrl-geocoder--collapsed",
          "maplibregl-ctrl-geocoder--collapsed"
        );
      },
      query: function(searchInput) {
        this._geocode(searchInput).then(this._onQueryResult);
        return this;
      },
      _renderError: function() {
        var errorMessage = "<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>";
        this._renderMessage(errorMessage);
      },
      _renderNoResults: function() {
        var errorMessage = "<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>";
        this._renderMessage(errorMessage);
      },
      _renderMessage: function(msg) {
        this._typeahead.update([]);
        this._typeahead.selected = null;
        this._typeahead.clear();
        this._typeahead.renderError(msg);
      },
      _getPlaceholderText: function() {
        if (this.options.placeholder)
          return this.options.placeholder;
        if (this.options.language) {
          var firstLanguage = this.options.language.split(",")[0];
          var language = subtag.language(firstLanguage);
          var localizedValue = localization.placeholder[language];
          if (localizedValue)
            return localizedValue;
        }
        return "Search";
      },
      _fitBoundsForMarkers: function() {
        if (this._typeahead.data.length < 1)
          return;
        var results = this._typeahead.data.filter(function(result) {
          return typeof result === "string" ? false : true;
        }).slice(0, this.options.limit);
        this._clearEl.style.display = "none";
        if (this.options.flyTo && this._maplibregl) {
          if (this._map) {
            var defaultFlyOptions = { padding: 100 };
            var flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);
            var bounds = new this._maplibregl.LngLatBounds();
            results.forEach(function(feature2) {
              bounds.extend(feature2.geometry.coordinates);
            });
            this._map.fitBounds(bounds.toArray(), flyOptions);
          }
        }
        if (results.length > 0 && this._maplibregl) {
          this._handleResultMarkers(results);
        }
        return this;
      },
      setInput: function(searchInput) {
        this._inputEl.value = searchInput;
        this._typeahead.selected = null;
        this._typeahead.clear();
        if (searchInput.length >= this.options.minLength && this.options.showResultsWhileTyping) {
          this._geocode(searchInput);
        }
        return this;
      },
      setProximity: function(proximity) {
        this.options.proximity = proximity;
        return this;
      },
      getProximity: function() {
        return this.options.proximity;
      },
      setRenderFunction: function(fn) {
        if (fn && typeof fn == "function") {
          this._typeahead.render = fn;
        }
        return this;
      },
      getRenderFunction: function() {
        return this._typeahead.render;
      },
      setLanguage: function(language) {
        var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;
        this.options.language = language || this.options.language || browserLocale;
        return this;
      },
      getLanguage: function() {
        return this.options.language;
      },
      getZoom: function() {
        return this.options.zoom;
      },
      setZoom: function(zoom) {
        this.options.zoom = zoom;
        return this;
      },
      getFlyTo: function() {
        return this.options.flyTo;
      },
      setFlyTo: function(flyTo) {
        this.options.flyTo = flyTo;
        return this;
      },
      getPlaceholder: function() {
        return this.options.placeholder;
      },
      setPlaceholder: function(placeholder) {
        this.placeholder = placeholder ? placeholder : this._getPlaceholderText();
        this._inputEl.placeholder = this.placeholder;
        this._inputEl.setAttribute("aria-label", this.placeholder);
        return this;
      },
      getBbox: function() {
        return this.options.bbox;
      },
      setBbox: function(bbox) {
        this.options.bbox = bbox;
        return this;
      },
      getCountries: function() {
        return this.options.countries;
      },
      setCountries: function(countries) {
        this.options.countries = countries;
        return this;
      },
      getTypes: function() {
        return this.options.types;
      },
      setTypes: function(types) {
        this.options.types = types;
        return this;
      },
      getMinLength: function() {
        return this.options.minLength;
      },
      setMinLength: function(minLength) {
        this.options.minLength = minLength;
        if (this._typeahead)
          this._typeahead.options.minLength = minLength;
        return this;
      },
      getLimit: function() {
        return this.options.limit;
      },
      setLimit: function(limit) {
        this.options.limit = limit;
        if (this._typeahead)
          this._typeahead.options.limit = limit;
        return this;
      },
      getFilter: function() {
        return this.options.filter;
      },
      setFilter: function(filter) {
        this.options.filter = filter;
        return this;
      },
      setGeocoderApi: function(geocoderApi) {
        this.geocoderApi = geocoderApi;
        return this;
      },
      getGeocoderApi: function() {
        return this.geocoderApi;
      },
      _handleMarker: function(selected) {
        if (!this._map) {
          return;
        }
        this._removeMarker();
        var defaultMarkerOptions = {
          color: "#4668F2"
        };
        var markerOptions = extend({}, defaultMarkerOptions, this.options.marker);
        this.mapMarker = new this._maplibregl.Marker(markerOptions);
        var popup;
        if (this.options.popup) {
          var defaultPopupOptions = {};
          var popupOptions = extend({}, defaultPopupOptions, this.options.popup);
          popup = new this._maplibregl.Popup(popupOptions).setHTML(
            this.options.popupRender(selected)
          );
        }
        if (selected.center) {
          this.mapMarker.setLngLat(selected.center).addTo(this._map);
          if (this.options.popup)
            this.mapMarker.setPopup(popup);
        } else if (selected.geometry && selected.geometry.type && selected.geometry.type === "Point" && selected.geometry.coordinates) {
          this.mapMarker.setLngLat(selected.geometry.coordinates).addTo(this._map);
          if (this.options.popup)
            this.mapMarker.setPopup(popup);
        }
        return this;
      },
      _removeMarker: function() {
        if (this.mapMarker) {
          this.mapMarker.remove();
          this.mapMarker = null;
        }
      },
      _handleResultMarkers: function(results) {
        if (!this._map) {
          return;
        }
        this._removeResultMarkers();
        var defaultMarkerOptions = {
          color: "#4668F2"
        };
        var markerOptions = extend(
          {},
          defaultMarkerOptions,
          this.options.showResultMarkers
        );
        results.forEach(
          function(result) {
            if (this.options.showResultMarkers && this.options.showResultMarkers.element) {
              var el = this.options.showResultMarkers.element.cloneNode(true);
              markerOptions = extend(markerOptions, { element: el });
            }
            var marker = new this._maplibregl.Marker(
              extend({}, markerOptions, { element: el })
            );
            var popup;
            if (this.options.popup) {
              var defaultPopupOptions = {};
              var popupOptions = extend(
                {},
                defaultPopupOptions,
                this.options.popup
              );
              popup = new this._maplibregl.Popup(popupOptions).setHTML(
                this.options.popupRender(result)
              );
            }
            if (result.center) {
              marker.setLngLat(result.center).addTo(this._map);
              if (this.options.popup)
                marker.setPopup(popup);
            } else if (result.geometry && result.geometry.type && result.geometry.type === "Point" && result.geometry.coordinates) {
              marker.setLngLat(result.geometry.coordinates).addTo(this._map);
              if (this.options.popup)
                marker.setPopup(popup);
            }
            this.resultMarkers.push(marker);
          }.bind(this)
        );
        return this;
      },
      _removeResultMarkers: function() {
        if (this.resultMarkers && this.resultMarkers.length > 0) {
          this.resultMarkers.forEach(function(marker) {
            marker.remove();
          });
          this.resultMarkers = [];
        }
      },
      on: function(type, fn) {
        this._eventEmitter.on(type, fn);
        return this;
      },
      off: function(type, fn) {
        this._eventEmitter.removeListener(type, fn);
        return this;
      }
    };
    module.exports = MaplibreGeocoder2;
  }
});

// node_modules/debounce/index.js
var require_debounce2 = __commonJS({
  "node_modules/debounce/index.js"(exports, module) {
    function debounce2(func, wait, immediate) {
      var timeout, args, context, timestamp, result;
      if (null == wait)
        wait = 100;
      function later() {
        var last = Date.now() - timestamp;
        if (last < wait && last >= 0) {
          timeout = setTimeout(later, wait - last);
        } else {
          timeout = null;
          if (!immediate) {
            result = func.apply(context, args);
            context = args = null;
          }
        }
      }
      ;
      var debounced = function() {
        context = this;
        args = arguments;
        timestamp = Date.now();
        var callNow = immediate && !timeout;
        if (!timeout)
          timeout = setTimeout(later, wait);
        if (callNow) {
          result = func.apply(context, args);
          context = args = null;
        }
        return result;
      };
      debounced.clear = function() {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }
      };
      debounced.flush = function() {
        if (timeout) {
          result = func.apply(context, args);
          context = args = null;
          clearTimeout(timeout);
          timeout = null;
        }
      };
      return debounced;
    }
    debounce2.debounce = debounce2;
    module.exports = debounce2;
  }
});

// node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js
var require_mapbox_gl_draw = __commonJS({
  "node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js"(exports, module) {
    !function(t87, e142) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = e142() : "function" == typeof define && define.amd ? define(e142) : (t87 = t87 || self).MapboxDraw = e142();
    }(exports, function() {
      "use strict";
      var t87 = function(t88, e143) {
        var n46 = { drag: [], click: [], mousemove: [], mousedown: [], mouseup: [], mouseout: [], keydown: [], keyup: [], touchstart: [], touchmove: [], touchend: [], tap: [] }, o102 = { on: function(t89, e144, o103) {
          if (void 0 === n46[t89])
            throw new Error("Invalid event type: " + t89);
          n46[t89].push({ selector: e144, fn: o103 });
        }, render: function(t89) {
          e143.store.featureChanged(t89);
        } }, r62 = function(t89, r63) {
          for (var i68 = n46[t89], a83 = i68.length; a83--; ) {
            var s63 = i68[a83];
            if (s63.selector(r63)) {
              s63.fn.call(o102, r63) || e143.store.render(), e143.ui.updateMapClasses();
              break;
            }
          }
        };
        return t88.start.call(o102), { render: t88.render, stop: function() {
          t88.stop && t88.stop();
        }, trash: function() {
          t88.trash && (t88.trash(), e143.store.render());
        }, combineFeatures: function() {
          t88.combineFeatures && t88.combineFeatures();
        }, uncombineFeatures: function() {
          t88.uncombineFeatures && t88.uncombineFeatures();
        }, drag: function(t89) {
          r62("drag", t89);
        }, click: function(t89) {
          r62("click", t89);
        }, mousemove: function(t89) {
          r62("mousemove", t89);
        }, mousedown: function(t89) {
          r62("mousedown", t89);
        }, mouseup: function(t89) {
          r62("mouseup", t89);
        }, mouseout: function(t89) {
          r62("mouseout", t89);
        }, keydown: function(t89) {
          r62("keydown", t89);
        }, keyup: function(t89) {
          r62("keyup", t89);
        }, touchstart: function(t89) {
          r62("touchstart", t89);
        }, touchmove: function(t89) {
          r62("touchmove", t89);
        }, touchend: function(t89) {
          r62("touchend", t89);
        }, tap: function(t89) {
          r62("tap", t89);
        } };
      }, e142 = 6378137;
      function n45(t88) {
        var e143 = 0;
        if (t88 && t88.length > 0) {
          e143 += Math.abs(o101(t88[0]));
          for (var n46 = 1; n46 < t88.length; n46++)
            e143 -= Math.abs(o101(t88[n46]));
        }
        return e143;
      }
      function o101(t88) {
        var n46, o102, i68, a83, s63, u21, c23 = 0, l30 = t88.length;
        if (l30 > 2) {
          for (u21 = 0; u21 < l30; u21++)
            u21 === l30 - 2 ? (i68 = l30 - 2, a83 = l30 - 1, s63 = 0) : u21 === l30 - 1 ? (i68 = l30 - 1, a83 = 0, s63 = 1) : (i68 = u21, a83 = u21 + 1, s63 = u21 + 2), n46 = t88[i68], o102 = t88[a83], c23 += (r61(t88[s63][0]) - r61(n46[0])) * Math.sin(r61(o102[1]));
          c23 = c23 * e142 * e142 / 2;
        }
        return c23;
      }
      function r61(t88) {
        return t88 * Math.PI / 180;
      }
      var i67 = { geometry: function t88(e143) {
        var o102, r62 = 0;
        switch (e143.type) {
          case "Polygon":
            return n45(e143.coordinates);
          case "MultiPolygon":
            for (o102 = 0; o102 < e143.coordinates.length; o102++)
              r62 += n45(e143.coordinates[o102]);
            return r62;
          case "Point":
          case "MultiPoint":
          case "LineString":
          case "MultiLineString":
            return 0;
          case "GeometryCollection":
            for (o102 = 0; o102 < e143.geometries.length; o102++)
              r62 += t88(e143.geometries[o102]);
            return r62;
        }
      }, ring: o101 }, a82 = "mapboxgl-ctrl", s62 = "mapbox-gl-draw_ctrl-draw-btn", u20 = "mapbox-gl-draw_line", c22 = "mapbox-gl-draw_polygon", l29 = "mapbox-gl-draw_point", d10 = "mapbox-gl-draw_trash", p17 = "mapbox-gl-draw_combine", f21 = "mapbox-gl-draw_uncombine", h12 = "mapboxgl-ctrl-group", g14 = "active", y9 = "mapbox-gl-draw_boxselect", v5 = "mapbox-gl-draw-hot", m29 = "mapbox-gl-draw-cold", b7 = "add", _3 = "move", S = "drag", x5 = "pointer", C7 = "none", E4 = { POLYGON: "polygon", LINE: "line_string", POINT: "point" }, M4 = "Feature", w3 = "Polygon", I2 = "LineString", L = "Point", P2 = "FeatureCollection", F4 = "Multi", O2 = "MultiPoint", k6 = "MultiLineString", T2 = "MultiPolygon", j7 = { DRAW_LINE_STRING: "draw_line_string", DRAW_POLYGON: "draw_polygon", DRAW_POINT: "draw_point", SIMPLE_SELECT: "simple_select", DIRECT_SELECT: "direct_select", STATIC: "static" }, A3 = "draw.create", D3 = "draw.delete", N5 = "draw.update", U2 = "draw.selectionchange", R = "draw.modechange", B2 = "draw.actionable", V2 = "draw.render", J = "draw.combine", G = "draw.uncombine", z2 = "move", $ = "change_coordinates", W = "feature", q3 = "midpoint", Y = "vertex", Z = "true", K = "false", X = ["scrollZoom", "boxZoom", "dragRotate", "dragPan", "keyboard", "doubleClickZoom", "touchZoomRotate"], H = { Point: 0, LineString: 1, Polygon: 2 };
      function Q(t88, e143) {
        var n46 = H[t88.geometry.type] - H[e143.geometry.type];
        return 0 === n46 && t88.geometry.type === w3 ? t88.area - e143.area : n46;
      }
      function tt(t88) {
        if (this._items = {}, this._nums = {}, this._length = t88 ? t88.length : 0, t88)
          for (var e143 = 0, n46 = t88.length; e143 < n46; e143++)
            this.add(t88[e143]), void 0 !== t88[e143] && ("string" == typeof t88[e143] ? this._items[t88[e143]] = e143 : this._nums[t88[e143]] = e143);
      }
      tt.prototype.add = function(t88) {
        return this.has(t88) || (this._length++, "string" == typeof t88 ? this._items[t88] = this._length : this._nums[t88] = this._length), this;
      }, tt.prototype.delete = function(t88) {
        return false === this.has(t88) || (this._length--, delete this._items[t88], delete this._nums[t88]), this;
      }, tt.prototype.has = function(t88) {
        return ("string" == typeof t88 || "number" == typeof t88) && (void 0 !== this._items[t88] || void 0 !== this._nums[t88]);
      }, tt.prototype.values = function() {
        var t88 = this, e143 = [];
        return Object.keys(this._items).forEach(function(n46) {
          e143.push({ k: n46, v: t88._items[n46] });
        }), Object.keys(this._nums).forEach(function(n46) {
          e143.push({ k: JSON.parse(n46), v: t88._nums[n46] });
        }), e143.sort(function(t89, e144) {
          return t89.v - e144.v;
        }).map(function(t89) {
          return t89.k;
        });
      }, tt.prototype.clear = function() {
        return this._length = 0, this._items = {}, this._nums = {}, this;
      };
      var et = [W, q3, Y], nt = { click: function(t88, e143, n46) {
        return ot(t88, e143, n46, n46.options.clickBuffer);
      }, touch: function(t88, e143, n46) {
        return ot(t88, e143, n46, n46.options.touchBuffer);
      } };
      function ot(t88, e143, n46, o102) {
        if (null === n46.map)
          return [];
        var r62 = t88 ? function(t89, e144) {
          return void 0 === e144 && (e144 = 0), [[t89.point.x - e144, t89.point.y - e144], [t89.point.x + e144, t89.point.y + e144]];
        }(t88, o102) : e143, a83 = {};
        n46.options.styles && (a83.layers = n46.options.styles.map(function(t89) {
          return t89.id;
        }));
        var s63 = n46.map.queryRenderedFeatures(r62, a83).filter(function(t89) {
          return -1 !== et.indexOf(t89.properties.meta);
        }), u21 = new tt(), c23 = [];
        return s63.forEach(function(t89) {
          var e144 = t89.properties.id;
          u21.has(e144) || (u21.add(e144), c23.push(t89));
        }), function(t89) {
          return t89.map(function(t90) {
            return t90.geometry.type === w3 && (t90.area = i67.geometry({ type: M4, property: {}, geometry: t90.geometry })), t90;
          }).sort(Q).map(function(t90) {
            return delete t90.area, t90;
          });
        }(c23);
      }
      function rt(t88, e143) {
        var n46 = nt.click(t88, null, e143), o102 = { mouse: C7 };
        return n46[0] && (o102.mouse = n46[0].properties.active === Z ? _3 : x5, o102.feature = n46[0].properties.meta), -1 !== e143.events.currentModeName().indexOf("draw") && (o102.mouse = b7), e143.ui.queueMapClasses(o102), e143.ui.updateMapClasses(), n46[0];
      }
      function it(t88, e143) {
        var n46 = t88.x - e143.x, o102 = t88.y - e143.y;
        return Math.sqrt(n46 * n46 + o102 * o102);
      }
      function at(t88, e143, n46) {
        void 0 === n46 && (n46 = {});
        var o102 = null != n46.fineTolerance ? n46.fineTolerance : 4, r62 = null != n46.grossTolerance ? n46.grossTolerance : 12, i68 = null != n46.interval ? n46.interval : 500;
        t88.point = t88.point || e143.point, t88.time = t88.time || e143.time;
        var a83 = it(t88.point, e143.point);
        return a83 < o102 || a83 < r62 && e143.time - t88.time < i68;
      }
      function st(t88, e143, n46) {
        void 0 === n46 && (n46 = {});
        var o102 = null != n46.tolerance ? n46.tolerance : 25, r62 = null != n46.interval ? n46.interval : 250;
        return t88.point = t88.point || e143.point, t88.time = t88.time || e143.time, it(t88.point, e143.point) < o102 && e143.time - t88.time < r62;
      }
      function ut(t88, e143) {
        return t88(e143 = { exports: {} }, e143.exports), e143.exports;
      }
      var ct = ut(function(t88) {
        var e143 = t88.exports = function(t89, n46) {
          if (n46 || (n46 = 16), void 0 === t89 && (t89 = 128), t89 <= 0)
            return "0";
          for (var o102 = Math.log(Math.pow(2, t89)) / Math.log(n46), r62 = 2; o102 === 1 / 0; r62 *= 2)
            o102 = Math.log(Math.pow(2, t89 / r62)) / Math.log(n46) * r62;
          var i68 = o102 - Math.floor(o102), a83 = "";
          for (r62 = 0; r62 < Math.floor(o102); r62++) {
            a83 = Math.floor(Math.random() * n46).toString(n46) + a83;
          }
          if (i68) {
            var s63 = Math.pow(n46, i68);
            a83 = Math.floor(Math.random() * s63).toString(n46) + a83;
          }
          var u21 = parseInt(a83, n46);
          return u21 !== 1 / 0 && u21 >= Math.pow(2, t89) ? e143(t89, n46) : a83;
        };
        e143.rack = function(t89, n46, o102) {
          var r62 = function(r63) {
            var a83 = 0;
            do {
              if (a83++ > 10) {
                if (!o102)
                  throw new Error("too many ID collisions, use more bits");
                t89 += o102;
              }
              var s63 = e143(t89, n46);
            } while (Object.hasOwnProperty.call(i68, s63));
            return i68[s63] = r63, s63;
          }, i68 = r62.hats = {};
          return r62.get = function(t90) {
            return r62.hats[t90];
          }, r62.set = function(t90, e144) {
            return r62.hats[t90] = e144, r62;
          }, r62.bits = t89 || 128, r62.base = n46 || 16, r62;
        };
      }), lt = function(t88, e143) {
        this.ctx = t88, this.properties = e143.properties || {}, this.coordinates = e143.geometry.coordinates, this.id = e143.id || ct(), this.type = e143.geometry.type;
      };
      lt.prototype.changed = function() {
        this.ctx.store.featureChanged(this.id);
      }, lt.prototype.incomingCoords = function(t88) {
        this.setCoordinates(t88);
      }, lt.prototype.setCoordinates = function(t88) {
        this.coordinates = t88, this.changed();
      }, lt.prototype.getCoordinates = function() {
        return JSON.parse(JSON.stringify(this.coordinates));
      }, lt.prototype.setProperty = function(t88, e143) {
        this.properties[t88] = e143;
      }, lt.prototype.toGeoJSON = function() {
        return JSON.parse(JSON.stringify({ id: this.id, type: M4, properties: this.properties, geometry: { coordinates: this.getCoordinates(), type: this.type } }));
      }, lt.prototype.internal = function(t88) {
        var e143 = { id: this.id, meta: W, "meta:type": this.type, active: K, mode: t88 };
        if (this.ctx.options.userProperties)
          for (var n46 in this.properties)
            e143["user_" + n46] = this.properties[n46];
        return { type: M4, properties: e143, geometry: { coordinates: this.getCoordinates(), type: this.type } };
      };
      var dt = function(t88, e143) {
        lt.call(this, t88, e143);
      };
      (dt.prototype = Object.create(lt.prototype)).isValid = function() {
        return "number" == typeof this.coordinates[0] && "number" == typeof this.coordinates[1];
      }, dt.prototype.updateCoordinate = function(t88, e143, n46) {
        this.coordinates = 3 === arguments.length ? [e143, n46] : [t88, e143], this.changed();
      }, dt.prototype.getCoordinate = function() {
        return this.getCoordinates();
      };
      var pt = function(t88, e143) {
        lt.call(this, t88, e143);
      };
      (pt.prototype = Object.create(lt.prototype)).isValid = function() {
        return this.coordinates.length > 1;
      }, pt.prototype.addCoordinate = function(t88, e143, n46) {
        this.changed();
        var o102 = parseInt(t88, 10);
        this.coordinates.splice(o102, 0, [e143, n46]);
      }, pt.prototype.getCoordinate = function(t88) {
        var e143 = parseInt(t88, 10);
        return JSON.parse(JSON.stringify(this.coordinates[e143]));
      }, pt.prototype.removeCoordinate = function(t88) {
        this.changed(), this.coordinates.splice(parseInt(t88, 10), 1);
      }, pt.prototype.updateCoordinate = function(t88, e143, n46) {
        var o102 = parseInt(t88, 10);
        this.coordinates[o102] = [e143, n46], this.changed();
      };
      var ft = function(t88, e143) {
        lt.call(this, t88, e143), this.coordinates = this.coordinates.map(function(t89) {
          return t89.slice(0, -1);
        });
      };
      (ft.prototype = Object.create(lt.prototype)).isValid = function() {
        return 0 !== this.coordinates.length && this.coordinates.every(function(t88) {
          return t88.length > 2;
        });
      }, ft.prototype.incomingCoords = function(t88) {
        this.coordinates = t88.map(function(t89) {
          return t89.slice(0, -1);
        }), this.changed();
      }, ft.prototype.setCoordinates = function(t88) {
        this.coordinates = t88, this.changed();
      }, ft.prototype.addCoordinate = function(t88, e143, n46) {
        this.changed();
        var o102 = t88.split(".").map(function(t89) {
          return parseInt(t89, 10);
        });
        this.coordinates[o102[0]].splice(o102[1], 0, [e143, n46]);
      }, ft.prototype.removeCoordinate = function(t88) {
        this.changed();
        var e143 = t88.split(".").map(function(t89) {
          return parseInt(t89, 10);
        }), n46 = this.coordinates[e143[0]];
        n46 && (n46.splice(e143[1], 1), n46.length < 3 && this.coordinates.splice(e143[0], 1));
      }, ft.prototype.getCoordinate = function(t88) {
        var e143 = t88.split(".").map(function(t89) {
          return parseInt(t89, 10);
        }), n46 = this.coordinates[e143[0]];
        return JSON.parse(JSON.stringify(n46[e143[1]]));
      }, ft.prototype.getCoordinates = function() {
        return this.coordinates.map(function(t88) {
          return t88.concat([t88[0]]);
        });
      }, ft.prototype.updateCoordinate = function(t88, e143, n46) {
        this.changed();
        var o102 = t88.split("."), r62 = parseInt(o102[0], 10), i68 = parseInt(o102[1], 10);
        void 0 === this.coordinates[r62] && (this.coordinates[r62] = []), this.coordinates[r62][i68] = [e143, n46];
      };
      var ht = { MultiPoint: dt, MultiLineString: pt, MultiPolygon: ft }, gt = function(t88, e143, n46, o102, r62) {
        var i68 = n46.split("."), a83 = parseInt(i68[0], 10), s63 = i68[1] ? i68.slice(1).join(".") : null;
        return t88[a83][e143](s63, o102, r62);
      }, yt = function(t88, e143) {
        if (lt.call(this, t88, e143), delete this.coordinates, this.model = ht[e143.geometry.type], void 0 === this.model)
          throw new TypeError(e143.geometry.type + " is not a valid type");
        this.features = this._coordinatesToFeatures(e143.geometry.coordinates);
      };
      function vt(t88) {
        this.map = t88.map, this.drawConfig = JSON.parse(JSON.stringify(t88.options || {})), this._ctx = t88;
      }
      (yt.prototype = Object.create(lt.prototype))._coordinatesToFeatures = function(t88) {
        var e143 = this, n46 = this.model.bind(this);
        return t88.map(function(t89) {
          return new n46(e143.ctx, { id: ct(), type: M4, properties: {}, geometry: { coordinates: t89, type: e143.type.replace("Multi", "") } });
        });
      }, yt.prototype.isValid = function() {
        return this.features.every(function(t88) {
          return t88.isValid();
        });
      }, yt.prototype.setCoordinates = function(t88) {
        this.features = this._coordinatesToFeatures(t88), this.changed();
      }, yt.prototype.getCoordinate = function(t88) {
        return gt(this.features, "getCoordinate", t88);
      }, yt.prototype.getCoordinates = function() {
        return JSON.parse(JSON.stringify(this.features.map(function(t88) {
          return t88.type === w3 ? t88.getCoordinates() : t88.coordinates;
        })));
      }, yt.prototype.updateCoordinate = function(t88, e143, n46) {
        gt(this.features, "updateCoordinate", t88, e143, n46), this.changed();
      }, yt.prototype.addCoordinate = function(t88, e143, n46) {
        gt(this.features, "addCoordinate", t88, e143, n46), this.changed();
      }, yt.prototype.removeCoordinate = function(t88) {
        gt(this.features, "removeCoordinate", t88), this.changed();
      }, yt.prototype.getFeatures = function() {
        return this.features;
      }, vt.prototype.setSelected = function(t88) {
        return this._ctx.store.setSelected(t88);
      }, vt.prototype.setSelectedCoordinates = function(t88) {
        var e143 = this;
        this._ctx.store.setSelectedCoordinates(t88), t88.reduce(function(t89, n46) {
          return void 0 === t89[n46.feature_id] && (t89[n46.feature_id] = true, e143._ctx.store.get(n46.feature_id).changed()), t89;
        }, {});
      }, vt.prototype.getSelected = function() {
        return this._ctx.store.getSelected();
      }, vt.prototype.getSelectedIds = function() {
        return this._ctx.store.getSelectedIds();
      }, vt.prototype.isSelected = function(t88) {
        return this._ctx.store.isSelected(t88);
      }, vt.prototype.getFeature = function(t88) {
        return this._ctx.store.get(t88);
      }, vt.prototype.select = function(t88) {
        return this._ctx.store.select(t88);
      }, vt.prototype.deselect = function(t88) {
        return this._ctx.store.deselect(t88);
      }, vt.prototype.deleteFeature = function(t88, e143) {
        return void 0 === e143 && (e143 = {}), this._ctx.store.delete(t88, e143);
      }, vt.prototype.addFeature = function(t88) {
        return this._ctx.store.add(t88);
      }, vt.prototype.clearSelectedFeatures = function() {
        return this._ctx.store.clearSelected();
      }, vt.prototype.clearSelectedCoordinates = function() {
        return this._ctx.store.clearSelectedCoordinates();
      }, vt.prototype.setActionableState = function(t88) {
        void 0 === t88 && (t88 = {});
        var e143 = { trash: t88.trash || false, combineFeatures: t88.combineFeatures || false, uncombineFeatures: t88.uncombineFeatures || false };
        return this._ctx.events.actionable(e143);
      }, vt.prototype.changeMode = function(t88, e143, n46) {
        return void 0 === e143 && (e143 = {}), void 0 === n46 && (n46 = {}), this._ctx.events.changeMode(t88, e143, n46);
      }, vt.prototype.updateUIClasses = function(t88) {
        return this._ctx.ui.queueMapClasses(t88);
      }, vt.prototype.activateUIButton = function(t88) {
        return this._ctx.ui.setActiveButton(t88);
      }, vt.prototype.featuresAt = function(t88, e143, n46) {
        if (void 0 === n46 && (n46 = "click"), "click" !== n46 && "touch" !== n46)
          throw new Error("invalid buffer type");
        return nt[n46](t88, e143, this._ctx);
      }, vt.prototype.newFeature = function(t88) {
        var e143 = t88.geometry.type;
        return e143 === L ? new dt(this._ctx, t88) : e143 === I2 ? new pt(this._ctx, t88) : e143 === w3 ? new ft(this._ctx, t88) : new yt(this._ctx, t88);
      }, vt.prototype.isInstanceOf = function(t88, e143) {
        if (t88 === L)
          return e143 instanceof dt;
        if (t88 === I2)
          return e143 instanceof pt;
        if (t88 === w3)
          return e143 instanceof ft;
        if ("MultiFeature" === t88)
          return e143 instanceof yt;
        throw new Error("Unknown feature class: " + t88);
      }, vt.prototype.doRender = function(t88) {
        return this._ctx.store.featureChanged(t88);
      }, vt.prototype.onSetup = function() {
      }, vt.prototype.onDrag = function() {
      }, vt.prototype.onClick = function() {
      }, vt.prototype.onMouseMove = function() {
      }, vt.prototype.onMouseDown = function() {
      }, vt.prototype.onMouseUp = function() {
      }, vt.prototype.onMouseOut = function() {
      }, vt.prototype.onKeyUp = function() {
      }, vt.prototype.onKeyDown = function() {
      }, vt.prototype.onTouchStart = function() {
      }, vt.prototype.onTouchMove = function() {
      }, vt.prototype.onTouchEnd = function() {
      }, vt.prototype.onTap = function() {
      }, vt.prototype.onStop = function() {
      }, vt.prototype.onTrash = function() {
      }, vt.prototype.onCombineFeature = function() {
      }, vt.prototype.onUncombineFeature = function() {
      }, vt.prototype.toDisplayFeatures = function() {
        throw new Error("You must overwrite toDisplayFeatures");
      };
      var mt = { drag: "onDrag", click: "onClick", mousemove: "onMouseMove", mousedown: "onMouseDown", mouseup: "onMouseUp", mouseout: "onMouseOut", keyup: "onKeyUp", keydown: "onKeyDown", touchstart: "onTouchStart", touchmove: "onTouchMove", touchend: "onTouchEnd", tap: "onTap" }, bt = Object.keys(mt);
      function _t(t88) {
        var e143 = Object.keys(t88);
        return function(n46, o102) {
          void 0 === o102 && (o102 = {});
          var r62 = {}, i68 = e143.reduce(function(e144, n47) {
            return e144[n47] = t88[n47], e144;
          }, new vt(n46));
          return { start: function() {
            var e144 = this;
            r62 = i68.onSetup(o102), bt.forEach(function(n47) {
              var o103, a83 = mt[n47], s63 = function() {
                return false;
              };
              t88[a83] && (s63 = function() {
                return true;
              }), e144.on(n47, s63, (o103 = a83, function(t89) {
                return i68[o103](r62, t89);
              }));
            });
          }, stop: function() {
            i68.onStop(r62);
          }, trash: function() {
            i68.onTrash(r62);
          }, combineFeatures: function() {
            i68.onCombineFeatures(r62);
          }, uncombineFeatures: function() {
            i68.onUncombineFeatures(r62);
          }, render: function(t89, e144) {
            i68.toDisplayFeatures(r62, t89, e144);
          } };
        };
      }
      function St(t88) {
        return [].concat(t88).filter(function(t89) {
          return void 0 !== t89;
        });
      }
      function xt() {
        var t88 = this;
        if (!(t88.ctx.map && void 0 !== t88.ctx.map.getSource(v5)))
          return u21();
        var e143 = t88.ctx.events.currentModeName();
        t88.ctx.ui.queueMapClasses({ mode: e143 });
        var n46 = [], o102 = [];
        t88.isDirty ? o102 = t88.getAllIds() : (n46 = t88.getChangedIds().filter(function(e144) {
          return void 0 !== t88.get(e144);
        }), o102 = t88.sources.hot.filter(function(e144) {
          return e144.properties.id && -1 === n46.indexOf(e144.properties.id) && void 0 !== t88.get(e144.properties.id);
        }).map(function(t89) {
          return t89.properties.id;
        })), t88.sources.hot = [];
        var r62 = t88.sources.cold.length;
        t88.sources.cold = t88.isDirty ? [] : t88.sources.cold.filter(function(t89) {
          var e144 = t89.properties.id || t89.properties.parent;
          return -1 === n46.indexOf(e144);
        });
        var i68 = r62 !== t88.sources.cold.length || o102.length > 0;
        function a83(n47, o103) {
          var r63 = t88.get(n47).internal(e143);
          t88.ctx.events.currentModeRender(r63, function(e144) {
            t88.sources[o103].push(e144);
          });
        }
        if (n46.forEach(function(t89) {
          return a83(t89, "hot");
        }), o102.forEach(function(t89) {
          return a83(t89, "cold");
        }), i68 && t88.ctx.map.getSource(m29).setData({ type: P2, features: t88.sources.cold }), t88.ctx.map.getSource(v5).setData({ type: P2, features: t88.sources.hot }), t88._emitSelectionChange && (t88.ctx.map.fire(U2, { features: t88.getSelected().map(function(t89) {
          return t89.toGeoJSON();
        }), points: t88.getSelectedCoordinates().map(function(t89) {
          return { type: M4, properties: {}, geometry: { type: L, coordinates: t89.coordinates } };
        }) }), t88._emitSelectionChange = false), t88._deletedFeaturesToEmit.length) {
          var s63 = t88._deletedFeaturesToEmit.map(function(t89) {
            return t89.toGeoJSON();
          });
          t88._deletedFeaturesToEmit = [], t88.ctx.map.fire(D3, { features: s63 });
        }
        function u21() {
          t88.isDirty = false, t88.clearChangedIds();
        }
        u21(), t88.ctx.map.fire(V2, {});
      }
      function Ct(t88) {
        var e143, n46 = this;
        this._features = {}, this._featureIds = new tt(), this._selectedFeatureIds = new tt(), this._selectedCoordinates = [], this._changedFeatureIds = new tt(), this._deletedFeaturesToEmit = [], this._emitSelectionChange = false, this._mapInitialConfig = {}, this.ctx = t88, this.sources = { hot: [], cold: [] }, this.render = function() {
          e143 || (e143 = requestAnimationFrame(function() {
            e143 = null, xt.call(n46);
          }));
        }, this.isDirty = false;
      }
      function Et(t88, e143) {
        var n46 = t88._selectedCoordinates.filter(function(e144) {
          return t88._selectedFeatureIds.has(e144.feature_id);
        });
        t88._selectedCoordinates.length === n46.length || e143.silent || (t88._emitSelectionChange = true), t88._selectedCoordinates = n46;
      }
      Ct.prototype.createRenderBatch = function() {
        var t88 = this, e143 = this.render, n46 = 0;
        return this.render = function() {
          n46++;
        }, function() {
          t88.render = e143, n46 > 0 && t88.render();
        };
      }, Ct.prototype.setDirty = function() {
        return this.isDirty = true, this;
      }, Ct.prototype.featureChanged = function(t88) {
        return this._changedFeatureIds.add(t88), this;
      }, Ct.prototype.getChangedIds = function() {
        return this._changedFeatureIds.values();
      }, Ct.prototype.clearChangedIds = function() {
        return this._changedFeatureIds.clear(), this;
      }, Ct.prototype.getAllIds = function() {
        return this._featureIds.values();
      }, Ct.prototype.add = function(t88) {
        return this.featureChanged(t88.id), this._features[t88.id] = t88, this._featureIds.add(t88.id), this;
      }, Ct.prototype.delete = function(t88, e143) {
        var n46 = this;
        return void 0 === e143 && (e143 = {}), St(t88).forEach(function(t89) {
          n46._featureIds.has(t89) && (n46._featureIds.delete(t89), n46._selectedFeatureIds.delete(t89), e143.silent || -1 === n46._deletedFeaturesToEmit.indexOf(n46._features[t89]) && n46._deletedFeaturesToEmit.push(n46._features[t89]), delete n46._features[t89], n46.isDirty = true);
        }), Et(this, e143), this;
      }, Ct.prototype.get = function(t88) {
        return this._features[t88];
      }, Ct.prototype.getAll = function() {
        var t88 = this;
        return Object.keys(this._features).map(function(e143) {
          return t88._features[e143];
        });
      }, Ct.prototype.select = function(t88, e143) {
        var n46 = this;
        return void 0 === e143 && (e143 = {}), St(t88).forEach(function(t89) {
          n46._selectedFeatureIds.has(t89) || (n46._selectedFeatureIds.add(t89), n46._changedFeatureIds.add(t89), e143.silent || (n46._emitSelectionChange = true));
        }), this;
      }, Ct.prototype.deselect = function(t88, e143) {
        var n46 = this;
        return void 0 === e143 && (e143 = {}), St(t88).forEach(function(t89) {
          n46._selectedFeatureIds.has(t89) && (n46._selectedFeatureIds.delete(t89), n46._changedFeatureIds.add(t89), e143.silent || (n46._emitSelectionChange = true));
        }), Et(this, e143), this;
      }, Ct.prototype.clearSelected = function(t88) {
        return void 0 === t88 && (t88 = {}), this.deselect(this._selectedFeatureIds.values(), { silent: t88.silent }), this;
      }, Ct.prototype.setSelected = function(t88, e143) {
        var n46 = this;
        return void 0 === e143 && (e143 = {}), t88 = St(t88), this.deselect(this._selectedFeatureIds.values().filter(function(e144) {
          return -1 === t88.indexOf(e144);
        }), { silent: e143.silent }), this.select(t88.filter(function(t89) {
          return !n46._selectedFeatureIds.has(t89);
        }), { silent: e143.silent }), this;
      }, Ct.prototype.setSelectedCoordinates = function(t88) {
        return this._selectedCoordinates = t88, this._emitSelectionChange = true, this;
      }, Ct.prototype.clearSelectedCoordinates = function() {
        return this._selectedCoordinates = [], this._emitSelectionChange = true, this;
      }, Ct.prototype.getSelectedIds = function() {
        return this._selectedFeatureIds.values();
      }, Ct.prototype.getSelected = function() {
        var t88 = this;
        return this._selectedFeatureIds.values().map(function(e143) {
          return t88.get(e143);
        });
      }, Ct.prototype.getSelectedCoordinates = function() {
        var t88 = this;
        return this._selectedCoordinates.map(function(e143) {
          return { coordinates: t88.get(e143.feature_id).getCoordinate(e143.coord_path) };
        });
      }, Ct.prototype.isSelected = function(t88) {
        return this._selectedFeatureIds.has(t88);
      }, Ct.prototype.setFeatureProperty = function(t88, e143, n46) {
        this.get(t88).setProperty(e143, n46), this.featureChanged(t88);
      }, Ct.prototype.storeMapConfig = function() {
        var t88 = this;
        X.forEach(function(e143) {
          t88.ctx.map[e143] && (t88._mapInitialConfig[e143] = t88.ctx.map[e143].isEnabled());
        });
      }, Ct.prototype.restoreMapConfig = function() {
        var t88 = this;
        Object.keys(this._mapInitialConfig).forEach(function(e143) {
          t88._mapInitialConfig[e143] ? t88.ctx.map[e143].enable() : t88.ctx.map[e143].disable();
        });
      }, Ct.prototype.getInitialConfigValue = function(t88) {
        return void 0 === this._mapInitialConfig[t88] || this._mapInitialConfig[t88];
      };
      var Mt = function() {
        for (var t88 = arguments, e143 = {}, n46 = 0; n46 < arguments.length; n46++) {
          var o102 = t88[n46];
          for (var r62 in o102)
            wt.call(o102, r62) && (e143[r62] = o102[r62]);
        }
        return e143;
      }, wt = Object.prototype.hasOwnProperty;
      var It = ["mode", "feature", "mouse"];
      function Lt(e143) {
        var n46 = null, o102 = null, r62 = { onRemove: function() {
          return e143.map.off("load", r62.connect), clearInterval(o102), r62.removeLayers(), e143.store.restoreMapConfig(), e143.ui.removeButtons(), e143.events.removeEventListeners(), e143.ui.clearMapClasses(), e143.map = null, e143.container = null, e143.store = null, n46 && n46.parentNode && n46.parentNode.removeChild(n46), n46 = null, this;
        }, connect: function() {
          e143.map.off("load", r62.connect), clearInterval(o102), r62.addLayers(), e143.store.storeMapConfig(), e143.events.addEventListeners();
        }, onAdd: function(i68) {
          var y10 = i68.fire;
          return i68.fire = function(t88, e144) {
            var n47 = arguments;
            return 1 === y10.length && 1 !== arguments.length && (n47 = [Mt({}, { type: t88 }, e144)]), y10.apply(i68, n47);
          }, e143.map = i68, e143.events = function(e144) {
            var n47 = Object.keys(e144.options.modes).reduce(function(t88, n48) {
              return t88[n48] = _t(e144.options.modes[n48]), t88;
            }, {}), o103 = {}, r63 = {}, i69 = {}, a83 = null, s63 = null;
            i69.drag = function(t88, n48) {
              n48({ point: t88.point, time: new Date().getTime() }) ? (e144.ui.queueMapClasses({ mouse: S }), s63.drag(t88)) : t88.originalEvent.stopPropagation();
            }, i69.mousedrag = function(t88) {
              i69.drag(t88, function(t89) {
                return !at(o103, t89);
              });
            }, i69.touchdrag = function(t88) {
              i69.drag(t88, function(t89) {
                return !st(r63, t89);
              });
            }, i69.mousemove = function(t88) {
              if (1 === (void 0 !== t88.originalEvent.buttons ? t88.originalEvent.buttons : t88.originalEvent.which))
                return i69.mousedrag(t88);
              var n48 = rt(t88, e144);
              t88.featureTarget = n48, s63.mousemove(t88);
            }, i69.mousedown = function(t88) {
              o103 = { time: new Date().getTime(), point: t88.point };
              var n48 = rt(t88, e144);
              t88.featureTarget = n48, s63.mousedown(t88);
            }, i69.mouseup = function(t88) {
              var n48 = rt(t88, e144);
              t88.featureTarget = n48, at(o103, { point: t88.point, time: new Date().getTime() }) ? s63.click(t88) : s63.mouseup(t88);
            }, i69.mouseout = function(t88) {
              s63.mouseout(t88);
            }, i69.touchstart = function(t88) {
              if (t88.originalEvent.preventDefault(), e144.options.touchEnabled) {
                r63 = { time: new Date().getTime(), point: t88.point };
                var n48 = nt.touch(t88, null, e144)[0];
                t88.featureTarget = n48, s63.touchstart(t88);
              }
            }, i69.touchmove = function(t88) {
              if (t88.originalEvent.preventDefault(), e144.options.touchEnabled)
                return s63.touchmove(t88), i69.touchdrag(t88);
            }, i69.touchend = function(t88) {
              if (t88.originalEvent.preventDefault(), e144.options.touchEnabled) {
                var n48 = nt.touch(t88, null, e144)[0];
                t88.featureTarget = n48, st(r63, { time: new Date().getTime(), point: t88.point }) ? s63.tap(t88) : s63.touchend(t88);
              }
            };
            var u21 = function(t88) {
              return !(8 === t88 || 46 === t88 || t88 >= 48 && t88 <= 57);
            };
            function c23(o104, r64, i70) {
              void 0 === i70 && (i70 = {}), s63.stop();
              var u22 = n47[o104];
              if (void 0 === u22)
                throw new Error(o104 + " is not valid");
              a83 = o104;
              var c24 = u22(e144, r64);
              s63 = t87(c24, e144), i70.silent || e144.map.fire(R, { mode: o104 }), e144.store.setDirty(), e144.store.render();
            }
            i69.keydown = function(t88) {
              "mapboxgl-canvas" === (t88.srcElement || t88.target).classList[0] && (8 !== t88.keyCode && 46 !== t88.keyCode || !e144.options.controls.trash ? u21(t88.keyCode) ? s63.keydown(t88) : 49 === t88.keyCode && e144.options.controls.point ? c23(j7.DRAW_POINT) : 50 === t88.keyCode && e144.options.controls.line_string ? c23(j7.DRAW_LINE_STRING) : 51 === t88.keyCode && e144.options.controls.polygon && c23(j7.DRAW_POLYGON) : (t88.preventDefault(), s63.trash()));
            }, i69.keyup = function(t88) {
              u21(t88.keyCode) && s63.keyup(t88);
            }, i69.zoomend = function() {
              e144.store.changeZoom();
            }, i69.data = function(t88) {
              if ("style" === t88.dataType) {
                var n48 = e144.setup, o104 = e144.map, r64 = e144.options, i70 = e144.store;
                r64.styles.some(function(t89) {
                  return o104.getLayer(t89.id);
                }) || (n48.addLayers(), i70.setDirty(), i70.render());
              }
            };
            var l30 = { trash: false, combineFeatures: false, uncombineFeatures: false };
            return { start: function() {
              a83 = e144.options.defaultMode, s63 = t87(n47[a83](e144), e144);
            }, changeMode: c23, actionable: function(t88) {
              var n48 = false;
              Object.keys(t88).forEach(function(e145) {
                if (void 0 === l30[e145])
                  throw new Error("Invalid action type");
                l30[e145] !== t88[e145] && (n48 = true), l30[e145] = t88[e145];
              }), n48 && e144.map.fire(B2, { actions: l30 });
            }, currentModeName: function() {
              return a83;
            }, currentModeRender: function(t88, e145) {
              return s63.render(t88, e145);
            }, fire: function(t88, e145) {
              i69[t88] && i69[t88](e145);
            }, addEventListeners: function() {
              e144.map.on("mousemove", i69.mousemove), e144.map.on("mousedown", i69.mousedown), e144.map.on("mouseup", i69.mouseup), e144.map.on("data", i69.data), e144.map.on("touchmove", i69.touchmove), e144.map.on("touchstart", i69.touchstart), e144.map.on("touchend", i69.touchend), e144.container.addEventListener("mouseout", i69.mouseout), e144.options.keybindings && (e144.container.addEventListener("keydown", i69.keydown), e144.container.addEventListener("keyup", i69.keyup));
            }, removeEventListeners: function() {
              e144.map.off("mousemove", i69.mousemove), e144.map.off("mousedown", i69.mousedown), e144.map.off("mouseup", i69.mouseup), e144.map.off("data", i69.data), e144.map.off("touchmove", i69.touchmove), e144.map.off("touchstart", i69.touchstart), e144.map.off("touchend", i69.touchend), e144.container.removeEventListener("mouseout", i69.mouseout), e144.options.keybindings && (e144.container.removeEventListener("keydown", i69.keydown), e144.container.removeEventListener("keyup", i69.keyup));
            }, trash: function(t88) {
              s63.trash(t88);
            }, combineFeatures: function() {
              s63.combineFeatures();
            }, uncombineFeatures: function() {
              s63.uncombineFeatures();
            }, getMode: function() {
              return a83;
            } };
          }(e143), e143.ui = function(t88) {
            var e144 = {}, n47 = null, o103 = { mode: null, feature: null, mouse: null }, r63 = { mode: null, feature: null, mouse: null };
            function i69(t89) {
              r63 = Mt(r63, t89);
            }
            function y11() {
              var e145, n48;
              if (t88.container) {
                var i70 = [], a83 = [];
                It.forEach(function(t89) {
                  r63[t89] !== o103[t89] && (i70.push(t89 + "-" + o103[t89]), null !== r63[t89] && a83.push(t89 + "-" + r63[t89]));
                }), i70.length > 0 && (e145 = t88.container.classList).remove.apply(e145, i70), a83.length > 0 && (n48 = t88.container.classList).add.apply(n48, a83), o103 = Mt(o103, r63);
              }
            }
            function v6(t89, e145) {
              void 0 === e145 && (e145 = {});
              var o104 = document.createElement("button");
              return o104.className = s62 + " " + e145.className, o104.setAttribute("title", e145.title), e145.container.appendChild(o104), o104.addEventListener("click", function(o105) {
                if (o105.preventDefault(), o105.stopPropagation(), o105.target === n47)
                  return m30(), void e145.onDeactivate();
                b8(t89), e145.onActivate();
              }, true), o104;
            }
            function m30() {
              n47 && (n47.classList.remove(g14), n47 = null);
            }
            function b8(t89) {
              m30();
              var o104 = e144[t89];
              o104 && o104 && "trash" !== t89 && (o104.classList.add(g14), n47 = o104);
            }
            return { setActiveButton: b8, queueMapClasses: i69, updateMapClasses: y11, clearMapClasses: function() {
              i69({ mode: null, feature: null, mouse: null }), y11();
            }, addButtons: function() {
              var n48 = t88.options.controls, o104 = document.createElement("div");
              return o104.className = h12 + " " + a82, n48 ? (n48[E4.LINE] && (e144[E4.LINE] = v6(E4.LINE, { container: o104, className: u20, title: "LineString tool " + (t88.options.keybindings ? "(l)" : ""), onActivate: function() {
                return t88.events.changeMode(j7.DRAW_LINE_STRING);
              }, onDeactivate: function() {
                return t88.events.trash();
              } })), n48[E4.POLYGON] && (e144[E4.POLYGON] = v6(E4.POLYGON, { container: o104, className: c22, title: "Polygon tool " + (t88.options.keybindings ? "(p)" : ""), onActivate: function() {
                return t88.events.changeMode(j7.DRAW_POLYGON);
              }, onDeactivate: function() {
                return t88.events.trash();
              } })), n48[E4.POINT] && (e144[E4.POINT] = v6(E4.POINT, { container: o104, className: l29, title: "Marker tool " + (t88.options.keybindings ? "(m)" : ""), onActivate: function() {
                return t88.events.changeMode(j7.DRAW_POINT);
              }, onDeactivate: function() {
                return t88.events.trash();
              } })), n48.trash && (e144.trash = v6("trash", { container: o104, className: d10, title: "Delete", onActivate: function() {
                t88.events.trash();
              } })), n48.combine_features && (e144.combine_features = v6("combineFeatures", { container: o104, className: p17, title: "Combine", onActivate: function() {
                t88.events.combineFeatures();
              } })), n48.uncombine_features && (e144.uncombine_features = v6("uncombineFeatures", { container: o104, className: f21, title: "Uncombine", onActivate: function() {
                t88.events.uncombineFeatures();
              } })), o104) : o104;
            }, removeButtons: function() {
              Object.keys(e144).forEach(function(t89) {
                var n48 = e144[t89];
                n48.parentNode && n48.parentNode.removeChild(n48), delete e144[t89];
              });
            } };
          }(e143), e143.container = i68.getContainer(), e143.store = new Ct(e143), n46 = e143.ui.addButtons(), e143.options.boxSelect && (i68.boxZoom.disable(), i68.dragPan.disable(), i68.dragPan.enable()), i68.loaded() ? r62.connect() : (i68.on("load", r62.connect), o102 = setInterval(function() {
            i68.loaded() && r62.connect();
          }, 16)), e143.events.start(), n46;
        }, addLayers: function() {
          e143.map.addSource(m29, { data: { type: P2, features: [] }, type: "geojson" }), e143.map.addSource(v5, { data: { type: P2, features: [] }, type: "geojson" }), e143.options.styles.forEach(function(t88) {
            e143.map.addLayer(t88);
          }), e143.store.setDirty(true), e143.store.render();
        }, removeLayers: function() {
          e143.options.styles.forEach(function(t88) {
            e143.map.getLayer(t88.id) && e143.map.removeLayer(t88.id);
          }), e143.map.getSource(m29) && e143.map.removeSource(m29), e143.map.getSource(v5) && e143.map.removeSource(v5);
        } };
        return e143.setup = r62, r62;
      }
      function Pt(t88) {
        return function(e143) {
          var n46 = e143.featureTarget;
          return !!n46 && (!!n46.properties && n46.properties.meta === t88);
        };
      }
      function Ft(t88) {
        return !!t88.featureTarget && (!!t88.featureTarget.properties && (t88.featureTarget.properties.active === Z && t88.featureTarget.properties.meta === W));
      }
      function Ot(t88) {
        return !!t88.featureTarget && (!!t88.featureTarget.properties && (t88.featureTarget.properties.active === K && t88.featureTarget.properties.meta === W));
      }
      function kt(t88) {
        return void 0 === t88.featureTarget;
      }
      function Tt(t88) {
        var e143 = t88.featureTarget;
        return !!e143 && (!!e143.properties && e143.properties.meta === Y);
      }
      function jt(t88) {
        return !!t88.originalEvent && true === t88.originalEvent.shiftKey;
      }
      function At(t88) {
        return 27 === t88.keyCode;
      }
      function Dt(t88) {
        return 13 === t88.keyCode;
      }
      var Nt = Ut;
      function Ut(t88, e143) {
        this.x = t88, this.y = e143;
      }
      function Rt(t88, e143) {
        var n46 = e143.getBoundingClientRect();
        return new Nt(t88.clientX - n46.left - (e143.clientLeft || 0), t88.clientY - n46.top - (e143.clientTop || 0));
      }
      function Bt(t88, e143, n46, o102) {
        return { type: M4, properties: { meta: Y, parent: t88, coord_path: n46, active: o102 ? Z : K }, geometry: { type: L, coordinates: e143 } };
      }
      function Vt(t88, e143, n46) {
        void 0 === e143 && (e143 = {}), void 0 === n46 && (n46 = null);
        var o102, r62 = t88.geometry, i68 = r62.type, a83 = r62.coordinates, s63 = t88.properties && t88.properties.id, u21 = [];
        function c23(t89, n47) {
          var o103 = "", r63 = null;
          t89.forEach(function(t90, i69) {
            var a84 = null != n47 ? n47 + "." + i69 : String(i69), c24 = Bt(s63, t90, a84, l30(a84));
            if (e143.midpoints && r63) {
              var d11 = function(t91, e144, n48) {
                var o104 = e144.geometry.coordinates, r64 = n48.geometry.coordinates;
                if (o104[1] > 85 || o104[1] < -85 || r64[1] > 85 || r64[1] < -85)
                  return null;
                var i70 = { lng: (o104[0] + r64[0]) / 2, lat: (o104[1] + r64[1]) / 2 };
                return { type: M4, properties: { meta: q3, parent: t91, lng: i70.lng, lat: i70.lat, coord_path: n48.properties.coord_path }, geometry: { type: L, coordinates: [i70.lng, i70.lat] } };
              }(s63, r63, c24);
              d11 && u21.push(d11);
            }
            r63 = c24;
            var p18 = JSON.stringify(t90);
            o103 !== p18 && u21.push(c24), 0 === i69 && (o103 = p18);
          });
        }
        function l30(t89) {
          return !!e143.selectedPaths && -1 !== e143.selectedPaths.indexOf(t89);
        }
        return i68 === L ? u21.push(Bt(s63, a83, n46, l30(n46))) : i68 === w3 ? a83.forEach(function(t89, e144) {
          c23(t89, null !== n46 ? n46 + "." + e144 : String(e144));
        }) : i68 === I2 ? c23(a83, n46) : 0 === i68.indexOf(F4) && (o102 = i68.replace(F4, ""), a83.forEach(function(n47, r63) {
          var i69 = { type: M4, properties: t88.properties, geometry: { type: o102, coordinates: n47 } };
          u21 = u21.concat(Vt(i69, e143, r63));
        })), u21;
      }
      Ut.prototype = { clone: function() {
        return new Ut(this.x, this.y);
      }, add: function(t88) {
        return this.clone()._add(t88);
      }, sub: function(t88) {
        return this.clone()._sub(t88);
      }, multByPoint: function(t88) {
        return this.clone()._multByPoint(t88);
      }, divByPoint: function(t88) {
        return this.clone()._divByPoint(t88);
      }, mult: function(t88) {
        return this.clone()._mult(t88);
      }, div: function(t88) {
        return this.clone()._div(t88);
      }, rotate: function(t88) {
        return this.clone()._rotate(t88);
      }, rotateAround: function(t88, e143) {
        return this.clone()._rotateAround(t88, e143);
      }, matMult: function(t88) {
        return this.clone()._matMult(t88);
      }, unit: function() {
        return this.clone()._unit();
      }, perp: function() {
        return this.clone()._perp();
      }, round: function() {
        return this.clone()._round();
      }, mag: function() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
      }, equals: function(t88) {
        return this.x === t88.x && this.y === t88.y;
      }, dist: function(t88) {
        return Math.sqrt(this.distSqr(t88));
      }, distSqr: function(t88) {
        var e143 = t88.x - this.x, n46 = t88.y - this.y;
        return e143 * e143 + n46 * n46;
      }, angle: function() {
        return Math.atan2(this.y, this.x);
      }, angleTo: function(t88) {
        return Math.atan2(this.y - t88.y, this.x - t88.x);
      }, angleWith: function(t88) {
        return this.angleWithSep(t88.x, t88.y);
      }, angleWithSep: function(t88, e143) {
        return Math.atan2(this.x * e143 - this.y * t88, this.x * t88 + this.y * e143);
      }, _matMult: function(t88) {
        var e143 = t88[0] * this.x + t88[1] * this.y, n46 = t88[2] * this.x + t88[3] * this.y;
        return this.x = e143, this.y = n46, this;
      }, _add: function(t88) {
        return this.x += t88.x, this.y += t88.y, this;
      }, _sub: function(t88) {
        return this.x -= t88.x, this.y -= t88.y, this;
      }, _mult: function(t88) {
        return this.x *= t88, this.y *= t88, this;
      }, _div: function(t88) {
        return this.x /= t88, this.y /= t88, this;
      }, _multByPoint: function(t88) {
        return this.x *= t88.x, this.y *= t88.y, this;
      }, _divByPoint: function(t88) {
        return this.x /= t88.x, this.y /= t88.y, this;
      }, _unit: function() {
        return this._div(this.mag()), this;
      }, _perp: function() {
        var t88 = this.y;
        return this.y = this.x, this.x = -t88, this;
      }, _rotate: function(t88) {
        var e143 = Math.cos(t88), n46 = Math.sin(t88), o102 = e143 * this.x - n46 * this.y, r62 = n46 * this.x + e143 * this.y;
        return this.x = o102, this.y = r62, this;
      }, _rotateAround: function(t88, e143) {
        var n46 = Math.cos(t88), o102 = Math.sin(t88), r62 = e143.x + n46 * (this.x - e143.x) - o102 * (this.y - e143.y), i68 = e143.y + o102 * (this.x - e143.x) + n46 * (this.y - e143.y);
        return this.x = r62, this.y = i68, this;
      }, _round: function() {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
      } }, Ut.convert = function(t88) {
        return t88 instanceof Ut ? t88 : Array.isArray(t88) ? new Ut(t88[0], t88[1]) : t88;
      };
      var Jt = function(t88) {
        setTimeout(function() {
          t88.map && t88.map.doubleClickZoom && t88._ctx && t88._ctx.store && t88._ctx.store.getInitialConfigValue && t88._ctx.store.getInitialConfigValue("doubleClickZoom") && t88.map.doubleClickZoom.enable();
        }, 0);
      }, Gt = function(t88) {
        setTimeout(function() {
          t88.map && t88.map.doubleClickZoom && t88.map.doubleClickZoom.disable();
        }, 0);
      }, zt = function(t88) {
        if (!t88 || !t88.type)
          return null;
        var e143 = $t[t88.type];
        if (!e143)
          return null;
        if ("geometry" === e143)
          return { type: "FeatureCollection", features: [{ type: "Feature", properties: {}, geometry: t88 }] };
        if ("feature" === e143)
          return { type: "FeatureCollection", features: [t88] };
        if ("featurecollection" === e143)
          return t88;
      }, $t = { Point: "geometry", MultiPoint: "geometry", LineString: "geometry", MultiLineString: "geometry", Polygon: "geometry", MultiPolygon: "geometry", GeometryCollection: "geometry", Feature: "feature", FeatureCollection: "featurecollection" };
      function Wt(t88) {
        switch (t88 && t88.type || null) {
          case "FeatureCollection":
            return t88.features = t88.features.reduce(function(t89, e143) {
              return t89.concat(Wt(e143));
            }, []), t88;
          case "Feature":
            return t88.geometry ? Wt(t88.geometry).map(function(e143) {
              var n46 = { type: "Feature", properties: JSON.parse(JSON.stringify(t88.properties)), geometry: e143 };
              return void 0 !== t88.id && (n46.id = t88.id), n46;
            }) : [t88];
          case "MultiPoint":
            return t88.coordinates.map(function(t89) {
              return { type: "Point", coordinates: t89 };
            });
          case "MultiPolygon":
            return t88.coordinates.map(function(t89) {
              return { type: "Polygon", coordinates: t89 };
            });
          case "MultiLineString":
            return t88.coordinates.map(function(t89) {
              return { type: "LineString", coordinates: t89 };
            });
          case "GeometryCollection":
            return t88.geometries.map(Wt).reduce(function(t89, e143) {
              return t89.concat(e143);
            }, []);
          case "Point":
          case "Polygon":
          case "LineString":
            return [t88];
        }
      }
      var qt = function(t88) {
        if (!t88)
          return [];
        var e143 = Wt(zt(t88)), n46 = [];
        return e143.features.forEach(function(t89) {
          t89.geometry && (n46 = n46.concat(function t90(e144) {
            return Array.isArray(e144) && e144.length && "number" == typeof e144[0] ? [e144] : e144.reduce(function(e145, n47) {
              return Array.isArray(n47) && Array.isArray(n47[0]) ? e145.concat(t90(n47)) : (e145.push(n47), e145);
            }, []);
          }(t89.geometry.coordinates)));
        }), n46;
      }, Yt = ut(function(t88) {
        var e143 = t88.exports = function(t89) {
          return new n46(t89);
        };
        function n46(t89) {
          this.value = t89;
        }
        function o102(t89, e144, n47) {
          var o103 = [], a84 = [], l30 = true;
          return function t90(d11) {
            var p18 = n47 ? r62(d11) : d11, f22 = {}, h13 = true, g15 = { node: p18, node_: d11, path: [].concat(o103), parent: a84[a84.length - 1], parents: a84, key: o103.slice(-1)[0], isRoot: 0 === o103.length, level: o103.length, circular: null, update: function(t91, e145) {
              g15.isRoot || (g15.parent.node[g15.key] = t91), g15.node = t91, e145 && (h13 = false);
            }, delete: function(t91) {
              delete g15.parent.node[g15.key], t91 && (h13 = false);
            }, remove: function(t91) {
              s63(g15.parent.node) ? g15.parent.node.splice(g15.key, 1) : delete g15.parent.node[g15.key], t91 && (h13 = false);
            }, keys: null, before: function(t91) {
              f22.before = t91;
            }, after: function(t91) {
              f22.after = t91;
            }, pre: function(t91) {
              f22.pre = t91;
            }, post: function(t91) {
              f22.post = t91;
            }, stop: function() {
              l30 = false;
            }, block: function() {
              h13 = false;
            } };
            if (!l30)
              return g15;
            function y10() {
              if ("object" == typeof g15.node && null !== g15.node) {
                g15.keys && g15.node_ === g15.node || (g15.keys = i68(g15.node)), g15.isLeaf = 0 == g15.keys.length;
                for (var t91 = 0; t91 < a84.length; t91++)
                  if (a84[t91].node_ === d11) {
                    g15.circular = a84[t91];
                    break;
                  }
              } else
                g15.isLeaf = true, g15.keys = null;
              g15.notLeaf = !g15.isLeaf, g15.notRoot = !g15.isRoot;
            }
            y10();
            var v6 = e144.call(g15, g15.node);
            return void 0 !== v6 && g15.update && g15.update(v6), f22.before && f22.before.call(g15, g15.node), h13 ? ("object" != typeof g15.node || null === g15.node || g15.circular || (a84.push(g15), y10(), u21(g15.keys, function(e145, r63) {
              o103.push(e145), f22.pre && f22.pre.call(g15, g15.node[e145], e145);
              var i69 = t90(g15.node[e145]);
              n47 && c23.call(g15.node, e145) && (g15.node[e145] = i69.node), i69.isLast = r63 == g15.keys.length - 1, i69.isFirst = 0 == r63, f22.post && f22.post.call(g15, i69), o103.pop();
            }), a84.pop()), f22.after && f22.after.call(g15, g15.node), g15) : g15;
          }(t89).node;
        }
        function r62(t89) {
          if ("object" == typeof t89 && null !== t89) {
            var e144;
            if (s63(t89))
              e144 = [];
            else if ("[object Date]" === a83(t89))
              e144 = new Date(t89.getTime ? t89.getTime() : t89);
            else if (function(t90) {
              return "[object RegExp]" === a83(t90);
            }(t89))
              e144 = new RegExp(t89);
            else if (function(t90) {
              return "[object Error]" === a83(t90);
            }(t89))
              e144 = { message: t89.message };
            else if (function(t90) {
              return "[object Boolean]" === a83(t90);
            }(t89))
              e144 = new Boolean(t89);
            else if (function(t90) {
              return "[object Number]" === a83(t90);
            }(t89))
              e144 = new Number(t89);
            else if (function(t90) {
              return "[object String]" === a83(t90);
            }(t89))
              e144 = new String(t89);
            else if (Object.create && Object.getPrototypeOf)
              e144 = Object.create(Object.getPrototypeOf(t89));
            else if (t89.constructor === Object)
              e144 = {};
            else {
              var n47 = t89.constructor && t89.constructor.prototype || t89.__proto__ || {}, o103 = function() {
              };
              o103.prototype = n47, e144 = new o103();
            }
            return u21(i68(t89), function(n48) {
              e144[n48] = t89[n48];
            }), e144;
          }
          return t89;
        }
        n46.prototype.get = function(t89) {
          for (var e144 = this.value, n47 = 0; n47 < t89.length; n47++) {
            var o103 = t89[n47];
            if (!e144 || !c23.call(e144, o103)) {
              e144 = void 0;
              break;
            }
            e144 = e144[o103];
          }
          return e144;
        }, n46.prototype.has = function(t89) {
          for (var e144 = this.value, n47 = 0; n47 < t89.length; n47++) {
            var o103 = t89[n47];
            if (!e144 || !c23.call(e144, o103))
              return false;
            e144 = e144[o103];
          }
          return true;
        }, n46.prototype.set = function(t89, e144) {
          for (var n47 = this.value, o103 = 0; o103 < t89.length - 1; o103++) {
            var r63 = t89[o103];
            c23.call(n47, r63) || (n47[r63] = {}), n47 = n47[r63];
          }
          return n47[t89[o103]] = e144, e144;
        }, n46.prototype.map = function(t89) {
          return o102(this.value, t89, true);
        }, n46.prototype.forEach = function(t89) {
          return this.value = o102(this.value, t89, false), this.value;
        }, n46.prototype.reduce = function(t89, e144) {
          var n47 = 1 === arguments.length, o103 = n47 ? this.value : e144;
          return this.forEach(function(e145) {
            this.isRoot && n47 || (o103 = t89.call(this, o103, e145));
          }), o103;
        }, n46.prototype.paths = function() {
          var t89 = [];
          return this.forEach(function(e144) {
            t89.push(this.path);
          }), t89;
        }, n46.prototype.nodes = function() {
          var t89 = [];
          return this.forEach(function(e144) {
            t89.push(this.node);
          }), t89;
        }, n46.prototype.clone = function() {
          var t89 = [], e144 = [];
          return function n47(o103) {
            for (var a84 = 0; a84 < t89.length; a84++)
              if (t89[a84] === o103)
                return e144[a84];
            if ("object" == typeof o103 && null !== o103) {
              var s64 = r62(o103);
              return t89.push(o103), e144.push(s64), u21(i68(o103), function(t90) {
                s64[t90] = n47(o103[t90]);
              }), t89.pop(), e144.pop(), s64;
            }
            return o103;
          }(this.value);
        };
        var i68 = Object.keys || function(t89) {
          var e144 = [];
          for (var n47 in t89)
            e144.push(n47);
          return e144;
        };
        function a83(t89) {
          return Object.prototype.toString.call(t89);
        }
        var s63 = Array.isArray || function(t89) {
          return "[object Array]" === Object.prototype.toString.call(t89);
        }, u21 = function(t89, e144) {
          if (t89.forEach)
            return t89.forEach(e144);
          for (var n47 = 0; n47 < t89.length; n47++)
            e144(t89[n47], n47, t89);
        };
        u21(i68(n46.prototype), function(t89) {
          e143[t89] = function(e144) {
            var o103 = [].slice.call(arguments, 1), r63 = new n46(e144);
            return r63[t89].apply(r63, o103);
          };
        });
        var c23 = Object.hasOwnProperty || function(t89, e144) {
          return e144 in t89;
        };
      }), Zt = Kt;
      function Kt(t88) {
        if (!(this instanceof Kt))
          return new Kt(t88);
        this._bbox = t88 || [1 / 0, 1 / 0, -1 / 0, -1 / 0], this._valid = !!t88;
      }
      Kt.prototype.include = function(t88) {
        return this._valid = true, this._bbox[0] = Math.min(this._bbox[0], t88[0]), this._bbox[1] = Math.min(this._bbox[1], t88[1]), this._bbox[2] = Math.max(this._bbox[2], t88[0]), this._bbox[3] = Math.max(this._bbox[3], t88[1]), this;
      }, Kt.prototype.equals = function(t88) {
        var e143;
        return e143 = t88 instanceof Kt ? t88.bbox() : t88, this._bbox[0] == e143[0] && this._bbox[1] == e143[1] && this._bbox[2] == e143[2] && this._bbox[3] == e143[3];
      }, Kt.prototype.center = function(t88) {
        return this._valid ? [(this._bbox[0] + this._bbox[2]) / 2, (this._bbox[1] + this._bbox[3]) / 2] : null;
      }, Kt.prototype.union = function(t88) {
        var e143;
        return this._valid = true, e143 = t88 instanceof Kt ? t88.bbox() : t88, this._bbox[0] = Math.min(this._bbox[0], e143[0]), this._bbox[1] = Math.min(this._bbox[1], e143[1]), this._bbox[2] = Math.max(this._bbox[2], e143[2]), this._bbox[3] = Math.max(this._bbox[3], e143[3]), this;
      }, Kt.prototype.bbox = function() {
        return this._valid ? this._bbox : null;
      }, Kt.prototype.contains = function(t88) {
        if (!t88)
          return this._fastContains();
        if (!this._valid)
          return null;
        var e143 = t88[0], n46 = t88[1];
        return this._bbox[0] <= e143 && this._bbox[1] <= n46 && this._bbox[2] >= e143 && this._bbox[3] >= n46;
      }, Kt.prototype.intersect = function(t88) {
        return this._valid ? (e143 = t88 instanceof Kt ? t88.bbox() : t88, !(this._bbox[0] > e143[2] || this._bbox[2] < e143[0] || this._bbox[3] < e143[1] || this._bbox[1] > e143[3])) : null;
        var e143;
      }, Kt.prototype._fastContains = function() {
        if (!this._valid)
          return new Function("return null;");
        var t88 = "return " + this._bbox[0] + "<= ll[0] &&" + this._bbox[1] + "<= ll[1] &&" + this._bbox[2] + ">= ll[0] &&" + this._bbox[3] + ">= ll[1]";
        return new Function("ll", t88);
      }, Kt.prototype.polygon = function() {
        return this._valid ? { type: "Polygon", coordinates: [[[this._bbox[0], this._bbox[1]], [this._bbox[2], this._bbox[1]], [this._bbox[2], this._bbox[3]], [this._bbox[0], this._bbox[3]], [this._bbox[0], this._bbox[1]]]] } : null;
      };
      var Xt = { features: ["FeatureCollection"], coordinates: ["Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon"], geometry: ["Feature"], geometries: ["GeometryCollection"] }, Ht = Object.keys(Xt), Qt = function(t88) {
        return te(t88).bbox();
      };
      function te(t88) {
        for (var e143 = Zt(), n46 = qt(t88), o102 = 0; o102 < n46.length; o102++)
          e143.include(n46[o102]);
        return e143;
      }
      Qt.polygon = function(t88) {
        return te(t88).polygon();
      }, Qt.bboxify = function(t88) {
        return Yt(t88).map(function(t89) {
          t89 && (Ht.some(function(e143) {
            return !!t89[e143] && -1 !== Xt[e143].indexOf(t89.type);
          }) && (t89.bbox = te(t89).bbox(), this.update(t89)));
        });
      };
      function ee(t88, e143) {
        var n46 = -90, o102 = 90, r62 = -90, i68 = 90, a83 = 270, s63 = -270;
        t88.forEach(function(t89) {
          var e144 = Qt(t89), u22 = e144[1], c23 = e144[3], l30 = e144[0], d11 = e144[2];
          u22 > n46 && (n46 = u22), c23 < o102 && (o102 = c23), c23 > r62 && (r62 = c23), u22 < i68 && (i68 = u22), l30 < a83 && (a83 = l30), d11 > s63 && (s63 = d11);
        });
        var u21 = e143;
        return n46 + u21.lat > 85 && (u21.lat = 85 - n46), r62 + u21.lat > 90 && (u21.lat = 90 - r62), o102 + u21.lat < -85 && (u21.lat = -85 - o102), i68 + u21.lat < -90 && (u21.lat = -90 - i68), a83 + u21.lng <= -270 && (u21.lng += 360 * Math.ceil(Math.abs(u21.lng) / 360)), s63 + u21.lng >= 270 && (u21.lng -= 360 * Math.ceil(Math.abs(u21.lng) / 360)), u21;
      }
      function ne(t88, e143) {
        var n46 = ee(t88.map(function(t89) {
          return t89.toGeoJSON();
        }), e143);
        t88.forEach(function(t89) {
          var e144, o102 = t89.getCoordinates(), r62 = function(t90) {
            var e145 = { lng: t90[0] + n46.lng, lat: t90[1] + n46.lat };
            return [e145.lng, e145.lat];
          }, i68 = function(t90) {
            return t90.map(function(t91) {
              return r62(t91);
            });
          };
          t89.type === L ? e144 = r62(o102) : t89.type === I2 || t89.type === O2 ? e144 = o102.map(r62) : t89.type === w3 || t89.type === k6 ? e144 = o102.map(i68) : t89.type === T2 && (e144 = o102.map(function(t90) {
            return t90.map(function(t91) {
              return i68(t91);
            });
          })), t89.incomingCoords(e144);
        });
      }
      var oe = { onSetup: function(t88) {
        var e143 = this, n46 = { dragMoveLocation: null, boxSelectStartLocation: null, boxSelectElement: void 0, boxSelecting: false, canBoxSelect: false, dragMoving: false, canDragMove: false, initiallySelectedFeatureIds: t88.featureIds || [] };
        return this.setSelected(n46.initiallySelectedFeatureIds.filter(function(t89) {
          return void 0 !== e143.getFeature(t89);
        })), this.fireActionable(), this.setActionableState({ combineFeatures: true, uncombineFeatures: true, trash: true }), n46;
      }, fireUpdate: function() {
        this.map.fire(N5, { action: z2, features: this.getSelected().map(function(t88) {
          return t88.toGeoJSON();
        }) });
      }, fireActionable: function() {
        var t88 = this, e143 = this.getSelected(), n46 = e143.filter(function(e144) {
          return t88.isInstanceOf("MultiFeature", e144);
        }), o102 = false;
        if (e143.length > 1) {
          o102 = true;
          var r62 = e143[0].type.replace("Multi", "");
          e143.forEach(function(t89) {
            t89.type.replace("Multi", "") !== r62 && (o102 = false);
          });
        }
        var i68 = n46.length > 0, a83 = e143.length > 0;
        this.setActionableState({ combineFeatures: o102, uncombineFeatures: i68, trash: a83 });
      }, getUniqueIds: function(t88) {
        return t88.length ? t88.map(function(t89) {
          return t89.properties.id;
        }).filter(function(t89) {
          return void 0 !== t89;
        }).reduce(function(t89, e143) {
          return t89.add(e143), t89;
        }, new tt()).values() : [];
      }, stopExtendedInteractions: function(t88) {
        t88.boxSelectElement && (t88.boxSelectElement.parentNode && t88.boxSelectElement.parentNode.removeChild(t88.boxSelectElement), t88.boxSelectElement = null), this.map.dragPan.enable(), t88.boxSelecting = false, t88.canBoxSelect = false, t88.dragMoving = false, t88.canDragMove = false;
      }, onStop: function() {
        Jt(this);
      }, onMouseMove: function(t88) {
        return this.stopExtendedInteractions(t88), true;
      }, onMouseOut: function(t88) {
        return !t88.dragMoving || this.fireUpdate();
      } };
      oe.onTap = oe.onClick = function(t88, e143) {
        return kt(e143) ? this.clickAnywhere(t88, e143) : Pt(Y)(e143) ? this.clickOnVertex(t88, e143) : function(t89) {
          return !!t89.featureTarget && (!!t89.featureTarget.properties && t89.featureTarget.properties.meta === W);
        }(e143) ? this.clickOnFeature(t88, e143) : void 0;
      }, oe.clickAnywhere = function(t88) {
        var e143 = this, n46 = this.getSelectedIds();
        n46.length && (this.clearSelectedFeatures(), n46.forEach(function(t89) {
          return e143.doRender(t89);
        })), Jt(this), this.stopExtendedInteractions(t88);
      }, oe.clickOnVertex = function(t88, e143) {
        this.changeMode(j7.DIRECT_SELECT, { featureId: e143.featureTarget.properties.parent, coordPath: e143.featureTarget.properties.coord_path, startPos: e143.lngLat }), this.updateUIClasses({ mouse: _3 });
      }, oe.startOnActiveFeature = function(t88, e143) {
        this.stopExtendedInteractions(t88), this.map.dragPan.disable(), this.doRender(e143.featureTarget.properties.id), t88.canDragMove = true, t88.dragMoveLocation = e143.lngLat;
      }, oe.clickOnFeature = function(t88, e143) {
        var n46 = this;
        Gt(this), this.stopExtendedInteractions(t88);
        var o102 = jt(e143), r62 = this.getSelectedIds(), i68 = e143.featureTarget.properties.id, a83 = this.isSelected(i68);
        if (!o102 && a83 && this.getFeature(i68).type !== L)
          return this.changeMode(j7.DIRECT_SELECT, { featureId: i68 });
        a83 && o102 ? (this.deselect(i68), this.updateUIClasses({ mouse: x5 }), 1 === r62.length && Jt(this)) : !a83 && o102 ? (this.select(i68), this.updateUIClasses({ mouse: _3 })) : a83 || o102 || (r62.forEach(function(t89) {
          return n46.doRender(t89);
        }), this.setSelected(i68), this.updateUIClasses({ mouse: _3 })), this.doRender(i68);
      }, oe.onMouseDown = function(t88, e143) {
        return Ft(e143) ? this.startOnActiveFeature(t88, e143) : this.drawConfig.boxSelect && function(t89) {
          return !!t89.originalEvent && (!!t89.originalEvent.shiftKey && 0 === t89.originalEvent.button);
        }(e143) ? this.startBoxSelect(t88, e143) : void 0;
      }, oe.startBoxSelect = function(t88, e143) {
        this.stopExtendedInteractions(t88), this.map.dragPan.disable(), t88.boxSelectStartLocation = Rt(e143.originalEvent, this.map.getContainer()), t88.canBoxSelect = true;
      }, oe.onTouchStart = function(t88, e143) {
        if (Ft(e143))
          return this.startOnActiveFeature(t88, e143);
      }, oe.onDrag = function(t88, e143) {
        return t88.canDragMove ? this.dragMove(t88, e143) : this.drawConfig.boxSelect && t88.canBoxSelect ? this.whileBoxSelect(t88, e143) : void 0;
      }, oe.whileBoxSelect = function(t88, e143) {
        t88.boxSelecting = true, this.updateUIClasses({ mouse: b7 }), t88.boxSelectElement || (t88.boxSelectElement = document.createElement("div"), t88.boxSelectElement.classList.add(y9), this.map.getContainer().appendChild(t88.boxSelectElement));
        var n46 = Rt(e143.originalEvent, this.map.getContainer()), o102 = Math.min(t88.boxSelectStartLocation.x, n46.x), r62 = Math.max(t88.boxSelectStartLocation.x, n46.x), i68 = Math.min(t88.boxSelectStartLocation.y, n46.y), a83 = Math.max(t88.boxSelectStartLocation.y, n46.y), s63 = "translate(" + o102 + "px, " + i68 + "px)";
        t88.boxSelectElement.style.transform = s63, t88.boxSelectElement.style.WebkitTransform = s63, t88.boxSelectElement.style.width = r62 - o102 + "px", t88.boxSelectElement.style.height = a83 - i68 + "px";
      }, oe.dragMove = function(t88, e143) {
        t88.dragMoving = true, e143.originalEvent.stopPropagation();
        var n46 = { lng: e143.lngLat.lng - t88.dragMoveLocation.lng, lat: e143.lngLat.lat - t88.dragMoveLocation.lat };
        ne(this.getSelected(), n46), t88.dragMoveLocation = e143.lngLat;
      }, oe.onMouseUp = function(t88, e143) {
        var n46 = this;
        if (t88.dragMoving)
          this.fireUpdate();
        else if (t88.boxSelecting) {
          var o102 = [t88.boxSelectStartLocation, Rt(e143.originalEvent, this.map.getContainer())], r62 = this.featuresAt(null, o102, "click"), i68 = this.getUniqueIds(r62).filter(function(t89) {
            return !n46.isSelected(t89);
          });
          i68.length && (this.select(i68), i68.forEach(function(t89) {
            return n46.doRender(t89);
          }), this.updateUIClasses({ mouse: _3 }));
        }
        this.stopExtendedInteractions(t88);
      }, oe.toDisplayFeatures = function(t88, e143, n46) {
        e143.properties.active = this.isSelected(e143.properties.id) ? Z : K, n46(e143), this.fireActionable(), e143.properties.active === Z && e143.geometry.type !== L && Vt(e143).forEach(n46);
      }, oe.onTrash = function() {
        this.deleteFeature(this.getSelectedIds()), this.fireActionable();
      }, oe.onCombineFeatures = function() {
        var t88 = this.getSelected();
        if (!(0 === t88.length || t88.length < 2)) {
          for (var e143 = [], n46 = [], o102 = t88[0].type.replace("Multi", ""), r62 = 0; r62 < t88.length; r62++) {
            var i68 = t88[r62];
            if (i68.type.replace("Multi", "") !== o102)
              return;
            i68.type.includes("Multi") ? i68.getCoordinates().forEach(function(t89) {
              e143.push(t89);
            }) : e143.push(i68.getCoordinates()), n46.push(i68.toGeoJSON());
          }
          if (n46.length > 1) {
            var a83 = this.newFeature({ type: M4, properties: n46[0].properties, geometry: { type: "Multi" + o102, coordinates: e143 } });
            this.addFeature(a83), this.deleteFeature(this.getSelectedIds(), { silent: true }), this.setSelected([a83.id]), this.map.fire(J, { createdFeatures: [a83.toGeoJSON()], deletedFeatures: n46 });
          }
          this.fireActionable();
        }
      }, oe.onUncombineFeatures = function() {
        var t88 = this, e143 = this.getSelected();
        if (0 !== e143.length) {
          for (var n46 = [], o102 = [], r62 = function(r63) {
            var i69 = e143[r63];
            t88.isInstanceOf("MultiFeature", i69) && (i69.getFeatures().forEach(function(e144) {
              t88.addFeature(e144), e144.properties = i69.properties, n46.push(e144.toGeoJSON()), t88.select([e144.id]);
            }), t88.deleteFeature(i69.id, { silent: true }), o102.push(i69.toGeoJSON()));
          }, i68 = 0; i68 < e143.length; i68++)
            r62(i68);
          n46.length > 1 && this.map.fire(G, { createdFeatures: n46, deletedFeatures: o102 }), this.fireActionable();
        }
      };
      var re = Pt(Y), ie = Pt(q3), ae = { fireUpdate: function() {
        this.map.fire(N5, { action: $, features: this.getSelected().map(function(t88) {
          return t88.toGeoJSON();
        }) });
      }, fireActionable: function(t88) {
        this.setActionableState({ combineFeatures: false, uncombineFeatures: false, trash: t88.selectedCoordPaths.length > 0 });
      }, startDragging: function(t88, e143) {
        this.map.dragPan.disable(), t88.canDragMove = true, t88.dragMoveLocation = e143.lngLat;
      }, stopDragging: function(t88) {
        this.map.dragPan.enable(), t88.dragMoving = false, t88.canDragMove = false, t88.dragMoveLocation = null;
      }, onVertex: function(t88, e143) {
        this.startDragging(t88, e143);
        var n46 = e143.featureTarget.properties, o102 = t88.selectedCoordPaths.indexOf(n46.coord_path);
        jt(e143) || -1 !== o102 ? jt(e143) && -1 === o102 && t88.selectedCoordPaths.push(n46.coord_path) : t88.selectedCoordPaths = [n46.coord_path];
        var r62 = this.pathsToCoordinates(t88.featureId, t88.selectedCoordPaths);
        this.setSelectedCoordinates(r62);
      }, onMidpoint: function(t88, e143) {
        this.startDragging(t88, e143);
        var n46 = e143.featureTarget.properties;
        t88.feature.addCoordinate(n46.coord_path, n46.lng, n46.lat), this.fireUpdate(), t88.selectedCoordPaths = [n46.coord_path];
      }, pathsToCoordinates: function(t88, e143) {
        return e143.map(function(e144) {
          return { feature_id: t88, coord_path: e144 };
        });
      }, onFeature: function(t88, e143) {
        0 === t88.selectedCoordPaths.length ? this.startDragging(t88, e143) : this.stopDragging(t88);
      }, dragFeature: function(t88, e143, n46) {
        ne(this.getSelected(), n46), t88.dragMoveLocation = e143.lngLat;
      }, dragVertex: function(t88, e143, n46) {
        for (var o102 = t88.selectedCoordPaths.map(function(e144) {
          return t88.feature.getCoordinate(e144);
        }), r62 = ee(o102.map(function(t89) {
          return { type: M4, properties: {}, geometry: { type: L, coordinates: t89 } };
        }), n46), i68 = 0; i68 < o102.length; i68++) {
          var a83 = o102[i68];
          t88.feature.updateCoordinate(t88.selectedCoordPaths[i68], a83[0] + r62.lng, a83[1] + r62.lat);
        }
      }, clickNoTarget: function() {
        this.changeMode(j7.SIMPLE_SELECT);
      }, clickInactive: function() {
        this.changeMode(j7.SIMPLE_SELECT);
      }, clickActiveFeature: function(t88) {
        t88.selectedCoordPaths = [], this.clearSelectedCoordinates(), t88.feature.changed();
      }, onSetup: function(t88) {
        var e143 = t88.featureId, n46 = this.getFeature(e143);
        if (!n46)
          throw new Error("You must provide a featureId to enter direct_select mode");
        if (n46.type === L)
          throw new TypeError("direct_select mode doesn't handle point features");
        var o102 = { featureId: e143, feature: n46, dragMoveLocation: t88.startPos || null, dragMoving: false, canDragMove: false, selectedCoordPaths: t88.coordPath ? [t88.coordPath] : [] };
        return this.setSelectedCoordinates(this.pathsToCoordinates(e143, o102.selectedCoordPaths)), this.setSelected(e143), Gt(this), this.setActionableState({ trash: true }), o102;
      }, onStop: function() {
        Jt(this), this.clearSelectedCoordinates();
      }, toDisplayFeatures: function(t88, e143, n46) {
        t88.featureId === e143.properties.id ? (e143.properties.active = Z, n46(e143), Vt(e143, { map: this.map, midpoints: true, selectedPaths: t88.selectedCoordPaths }).forEach(n46)) : (e143.properties.active = K, n46(e143)), this.fireActionable(t88);
      }, onTrash: function(t88) {
        t88.selectedCoordPaths.sort(function(t89, e143) {
          return e143.localeCompare(t89, "en", { numeric: true });
        }).forEach(function(e143) {
          return t88.feature.removeCoordinate(e143);
        }), this.fireUpdate(), t88.selectedCoordPaths = [], this.clearSelectedCoordinates(), this.fireActionable(t88), false === t88.feature.isValid() && (this.deleteFeature([t88.featureId]), this.changeMode(j7.SIMPLE_SELECT, {}));
      }, onMouseMove: function(t88, e143) {
        var n46 = Ft(e143), o102 = re(e143), r62 = 0 === t88.selectedCoordPaths.length;
        return n46 && r62 || o102 && !r62 ? this.updateUIClasses({ mouse: _3 }) : this.updateUIClasses({ mouse: C7 }), this.stopDragging(t88), true;
      }, onMouseOut: function(t88) {
        return t88.dragMoving && this.fireUpdate(), true;
      } };
      ae.onTouchStart = ae.onMouseDown = function(t88, e143) {
        return re(e143) ? this.onVertex(t88, e143) : Ft(e143) ? this.onFeature(t88, e143) : ie(e143) ? this.onMidpoint(t88, e143) : void 0;
      }, ae.onDrag = function(t88, e143) {
        if (true === t88.canDragMove) {
          t88.dragMoving = true, e143.originalEvent.stopPropagation();
          var n46 = { lng: e143.lngLat.lng - t88.dragMoveLocation.lng, lat: e143.lngLat.lat - t88.dragMoveLocation.lat };
          t88.selectedCoordPaths.length > 0 ? this.dragVertex(t88, e143, n46) : this.dragFeature(t88, e143, n46), t88.dragMoveLocation = e143.lngLat;
        }
      }, ae.onClick = function(t88, e143) {
        return kt(e143) ? this.clickNoTarget(t88, e143) : Ft(e143) ? this.clickActiveFeature(t88, e143) : Ot(e143) ? this.clickInactive(t88, e143) : void this.stopDragging(t88);
      }, ae.onTap = function(t88, e143) {
        return kt(e143) ? this.clickNoTarget(t88, e143) : Ft(e143) ? this.clickActiveFeature(t88, e143) : Ot(e143) ? this.clickInactive(t88, e143) : void 0;
      }, ae.onTouchEnd = ae.onMouseUp = function(t88) {
        t88.dragMoving && this.fireUpdate(), this.stopDragging(t88);
      };
      var se = {};
      function ue(t88, e143) {
        return !!t88.lngLat && (t88.lngLat.lng === e143[0] && t88.lngLat.lat === e143[1]);
      }
      se.onSetup = function() {
        var t88 = this.newFeature({ type: M4, properties: {}, geometry: { type: L, coordinates: [] } });
        return this.addFeature(t88), this.clearSelectedFeatures(), this.updateUIClasses({ mouse: b7 }), this.activateUIButton(E4.POINT), this.setActionableState({ trash: true }), { point: t88 };
      }, se.stopDrawingAndRemove = function(t88) {
        this.deleteFeature([t88.point.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT);
      }, se.onTap = se.onClick = function(t88, e143) {
        this.updateUIClasses({ mouse: _3 }), t88.point.updateCoordinate("", e143.lngLat.lng, e143.lngLat.lat), this.map.fire(A3, { features: [t88.point.toGeoJSON()] }), this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.point.id] });
      }, se.onStop = function(t88) {
        this.activateUIButton(), t88.point.getCoordinate().length || this.deleteFeature([t88.point.id], { silent: true });
      }, se.toDisplayFeatures = function(t88, e143, n46) {
        var o102 = e143.properties.id === t88.point.id;
        if (e143.properties.active = o102 ? Z : K, !o102)
          return n46(e143);
      }, se.onTrash = se.stopDrawingAndRemove, se.onKeyUp = function(t88, e143) {
        if (At(e143) || Dt(e143))
          return this.stopDrawingAndRemove(t88, e143);
      };
      var ce = { onSetup: function() {
        var t88 = this.newFeature({ type: M4, properties: {}, geometry: { type: w3, coordinates: [[]] } });
        return this.addFeature(t88), this.clearSelectedFeatures(), Gt(this), this.updateUIClasses({ mouse: b7 }), this.activateUIButton(E4.POLYGON), this.setActionableState({ trash: true }), { polygon: t88, currentVertexPosition: 0 };
      }, clickAnywhere: function(t88, e143) {
        if (t88.currentVertexPosition > 0 && ue(e143, t88.polygon.coordinates[0][t88.currentVertexPosition - 1]))
          return this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.polygon.id] });
        this.updateUIClasses({ mouse: b7 }), t88.polygon.updateCoordinate("0." + t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat), t88.currentVertexPosition++, t88.polygon.updateCoordinate("0." + t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat);
      }, clickOnVertex: function(t88) {
        return this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.polygon.id] });
      }, onMouseMove: function(t88, e143) {
        t88.polygon.updateCoordinate("0." + t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat), Tt(e143) && this.updateUIClasses({ mouse: x5 });
      } };
      ce.onTap = ce.onClick = function(t88, e143) {
        return Tt(e143) ? this.clickOnVertex(t88, e143) : this.clickAnywhere(t88, e143);
      }, ce.onKeyUp = function(t88, e143) {
        At(e143) ? (this.deleteFeature([t88.polygon.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT)) : Dt(e143) && this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.polygon.id] });
      }, ce.onStop = function(t88) {
        this.updateUIClasses({ mouse: C7 }), Jt(this), this.activateUIButton(), void 0 !== this.getFeature(t88.polygon.id) && (t88.polygon.removeCoordinate("0." + t88.currentVertexPosition), t88.polygon.isValid() ? this.map.fire(A3, { features: [t88.polygon.toGeoJSON()] }) : (this.deleteFeature([t88.polygon.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT, {}, { silent: true })));
      }, ce.toDisplayFeatures = function(t88, e143, n46) {
        var o102 = e143.properties.id === t88.polygon.id;
        if (e143.properties.active = o102 ? Z : K, !o102)
          return n46(e143);
        if (0 !== e143.geometry.coordinates.length) {
          var r62 = e143.geometry.coordinates[0].length;
          if (!(r62 < 3)) {
            if (e143.properties.meta = W, n46(Bt(t88.polygon.id, e143.geometry.coordinates[0][0], "0.0", false)), r62 > 3) {
              var i68 = e143.geometry.coordinates[0].length - 3;
              n46(Bt(t88.polygon.id, e143.geometry.coordinates[0][i68], "0." + i68, false));
            }
            if (r62 <= 4) {
              var a83 = [[e143.geometry.coordinates[0][0][0], e143.geometry.coordinates[0][0][1]], [e143.geometry.coordinates[0][1][0], e143.geometry.coordinates[0][1][1]]];
              if (n46({ type: M4, properties: e143.properties, geometry: { coordinates: a83, type: I2 } }), 3 === r62)
                return;
            }
            return n46(e143);
          }
        }
      }, ce.onTrash = function(t88) {
        this.deleteFeature([t88.polygon.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT);
      };
      var le = { onSetup: function(t88) {
        var e143, n46, o102 = (t88 = t88 || {}).featureId, r62 = "forward";
        if (o102) {
          if (!(e143 = this.getFeature(o102)))
            throw new Error("Could not find a feature with the provided featureId");
          var i68 = t88.from;
          if (i68 && "Feature" === i68.type && i68.geometry && "Point" === i68.geometry.type && (i68 = i68.geometry), i68 && "Point" === i68.type && i68.coordinates && 2 === i68.coordinates.length && (i68 = i68.coordinates), !i68 || !Array.isArray(i68))
            throw new Error("Please use the `from` property to indicate which point to continue the line from");
          var a83 = e143.coordinates.length - 1;
          if (e143.coordinates[a83][0] === i68[0] && e143.coordinates[a83][1] === i68[1])
            n46 = a83 + 1, e143.addCoordinate.apply(e143, [n46].concat(e143.coordinates[a83]));
          else {
            if (e143.coordinates[0][0] !== i68[0] || e143.coordinates[0][1] !== i68[1])
              throw new Error("`from` should match the point at either the start or the end of the provided LineString");
            r62 = "backwards", n46 = 0, e143.addCoordinate.apply(e143, [n46].concat(e143.coordinates[0]));
          }
        } else
          e143 = this.newFeature({ type: M4, properties: {}, geometry: { type: I2, coordinates: [] } }), n46 = 0, this.addFeature(e143);
        return this.clearSelectedFeatures(), Gt(this), this.updateUIClasses({ mouse: b7 }), this.activateUIButton(E4.LINE), this.setActionableState({ trash: true }), { line: e143, currentVertexPosition: n46, direction: r62 };
      }, clickAnywhere: function(t88, e143) {
        if (t88.currentVertexPosition > 0 && ue(e143, t88.line.coordinates[t88.currentVertexPosition - 1]) || "backwards" === t88.direction && ue(e143, t88.line.coordinates[t88.currentVertexPosition + 1]))
          return this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.line.id] });
        this.updateUIClasses({ mouse: b7 }), t88.line.updateCoordinate(t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat), "forward" === t88.direction ? (t88.currentVertexPosition++, t88.line.updateCoordinate(t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat)) : t88.line.addCoordinate(0, e143.lngLat.lng, e143.lngLat.lat);
      }, clickOnVertex: function(t88) {
        return this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.line.id] });
      }, onMouseMove: function(t88, e143) {
        t88.line.updateCoordinate(t88.currentVertexPosition, e143.lngLat.lng, e143.lngLat.lat), Tt(e143) && this.updateUIClasses({ mouse: x5 });
      } };
      le.onTap = le.onClick = function(t88, e143) {
        if (Tt(e143))
          return this.clickOnVertex(t88, e143);
        this.clickAnywhere(t88, e143);
      }, le.onKeyUp = function(t88, e143) {
        Dt(e143) ? this.changeMode(j7.SIMPLE_SELECT, { featureIds: [t88.line.id] }) : At(e143) && (this.deleteFeature([t88.line.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT));
      }, le.onStop = function(t88) {
        Jt(this), this.activateUIButton(), void 0 !== this.getFeature(t88.line.id) && (t88.line.removeCoordinate("" + t88.currentVertexPosition), t88.line.isValid() ? this.map.fire(A3, { features: [t88.line.toGeoJSON()] }) : (this.deleteFeature([t88.line.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT, {}, { silent: true })));
      }, le.onTrash = function(t88) {
        this.deleteFeature([t88.line.id], { silent: true }), this.changeMode(j7.SIMPLE_SELECT);
      }, le.toDisplayFeatures = function(t88, e143, n46) {
        var o102 = e143.properties.id === t88.line.id;
        if (e143.properties.active = o102 ? Z : K, !o102)
          return n46(e143);
        e143.geometry.coordinates.length < 2 || (e143.properties.meta = W, n46(Bt(t88.line.id, e143.geometry.coordinates["forward" === t88.direction ? e143.geometry.coordinates.length - 2 : 1], "" + ("forward" === t88.direction ? e143.geometry.coordinates.length - 2 : 1), false)), n46(e143));
      };
      var de = { simple_select: oe, direct_select: ae, draw_point: se, draw_polygon: ce, draw_line_string: le }, pe = { defaultMode: j7.SIMPLE_SELECT, keybindings: true, touchEnabled: true, clickBuffer: 2, touchBuffer: 25, boxSelect: true, displayControlsDefault: true, styles: [{ id: "gl-draw-polygon-fill-inactive", type: "fill", filter: ["all", ["==", "active", "false"], ["==", "$type", "Polygon"], ["!=", "mode", "static"]], paint: { "fill-color": "#3bb2d0", "fill-outline-color": "#3bb2d0", "fill-opacity": 0.1 } }, { id: "gl-draw-polygon-fill-active", type: "fill", filter: ["all", ["==", "active", "true"], ["==", "$type", "Polygon"]], paint: { "fill-color": "#fbb03b", "fill-outline-color": "#fbb03b", "fill-opacity": 0.1 } }, { id: "gl-draw-polygon-midpoint", type: "circle", filter: ["all", ["==", "$type", "Point"], ["==", "meta", "midpoint"]], paint: { "circle-radius": 3, "circle-color": "#fbb03b" } }, { id: "gl-draw-polygon-stroke-inactive", type: "line", filter: ["all", ["==", "active", "false"], ["==", "$type", "Polygon"], ["!=", "mode", "static"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#3bb2d0", "line-width": 2 } }, { id: "gl-draw-polygon-stroke-active", type: "line", filter: ["all", ["==", "active", "true"], ["==", "$type", "Polygon"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#fbb03b", "line-dasharray": [0.2, 2], "line-width": 2 } }, { id: "gl-draw-line-inactive", type: "line", filter: ["all", ["==", "active", "false"], ["==", "$type", "LineString"], ["!=", "mode", "static"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#3bb2d0", "line-width": 2 } }, { id: "gl-draw-line-active", type: "line", filter: ["all", ["==", "$type", "LineString"], ["==", "active", "true"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#fbb03b", "line-dasharray": [0.2, 2], "line-width": 2 } }, { id: "gl-draw-polygon-and-line-vertex-stroke-inactive", type: "circle", filter: ["all", ["==", "meta", "vertex"], ["==", "$type", "Point"], ["!=", "mode", "static"]], paint: { "circle-radius": 5, "circle-color": "#fff" } }, { id: "gl-draw-polygon-and-line-vertex-inactive", type: "circle", filter: ["all", ["==", "meta", "vertex"], ["==", "$type", "Point"], ["!=", "mode", "static"]], paint: { "circle-radius": 3, "circle-color": "#fbb03b" } }, { id: "gl-draw-point-point-stroke-inactive", type: "circle", filter: ["all", ["==", "active", "false"], ["==", "$type", "Point"], ["==", "meta", "feature"], ["!=", "mode", "static"]], paint: { "circle-radius": 5, "circle-opacity": 1, "circle-color": "#fff" } }, { id: "gl-draw-point-inactive", type: "circle", filter: ["all", ["==", "active", "false"], ["==", "$type", "Point"], ["==", "meta", "feature"], ["!=", "mode", "static"]], paint: { "circle-radius": 3, "circle-color": "#3bb2d0" } }, { id: "gl-draw-point-stroke-active", type: "circle", filter: ["all", ["==", "$type", "Point"], ["==", "active", "true"], ["!=", "meta", "midpoint"]], paint: { "circle-radius": 7, "circle-color": "#fff" } }, { id: "gl-draw-point-active", type: "circle", filter: ["all", ["==", "$type", "Point"], ["!=", "meta", "midpoint"], ["==", "active", "true"]], paint: { "circle-radius": 5, "circle-color": "#fbb03b" } }, { id: "gl-draw-polygon-fill-static", type: "fill", filter: ["all", ["==", "mode", "static"], ["==", "$type", "Polygon"]], paint: { "fill-color": "#404040", "fill-outline-color": "#404040", "fill-opacity": 0.1 } }, { id: "gl-draw-polygon-stroke-static", type: "line", filter: ["all", ["==", "mode", "static"], ["==", "$type", "Polygon"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#404040", "line-width": 2 } }, { id: "gl-draw-line-static", type: "line", filter: ["all", ["==", "mode", "static"], ["==", "$type", "LineString"]], layout: { "line-cap": "round", "line-join": "round" }, paint: { "line-color": "#404040", "line-width": 2 } }, { id: "gl-draw-point-static", type: "circle", filter: ["all", ["==", "mode", "static"], ["==", "$type", "Point"]], paint: { "circle-radius": 5, "circle-color": "#404040" } }], modes: de, controls: {}, userProperties: false }, fe = { point: true, line_string: true, polygon: true, trash: true, combine_features: true, uncombine_features: true }, he = { point: false, line_string: false, polygon: false, trash: false, combine_features: false, uncombine_features: false };
      function ge(t88, e143) {
        return t88.map(function(t89) {
          return t89.source ? t89 : Mt(t89, { id: t89.id + "." + e143, source: "hot" === e143 ? v5 : m29 });
        });
      }
      var ye = ut(function(t88, e143) {
        var n46 = "[object Arguments]", o102 = "[object Map]", r62 = "[object Object]", i68 = "[object Set]", a83 = /^\[object .+?Constructor\]$/, s63 = /^(?:0|[1-9]\d*)$/, u21 = {};
        u21["[object Float32Array]"] = u21["[object Float64Array]"] = u21["[object Int8Array]"] = u21["[object Int16Array]"] = u21["[object Int32Array]"] = u21["[object Uint8Array]"] = u21["[object Uint8ClampedArray]"] = u21["[object Uint16Array]"] = u21["[object Uint32Array]"] = true, u21[n46] = u21["[object Array]"] = u21["[object ArrayBuffer]"] = u21["[object Boolean]"] = u21["[object DataView]"] = u21["[object Date]"] = u21["[object Error]"] = u21["[object Function]"] = u21[o102] = u21["[object Number]"] = u21[r62] = u21["[object RegExp]"] = u21[i68] = u21["[object String]"] = u21["[object WeakMap]"] = false;
        var c23 = "object" == typeof global && global && global.Object === Object && global, l30 = "object" == typeof self && self && self.Object === Object && self, d11 = c23 || l30 || Function("return this")(), p18 = e143 && !e143.nodeType && e143, f22 = p18 && t88 && !t88.nodeType && t88, h13 = f22 && f22.exports === p18, g15 = h13 && c23.process, y10 = function() {
          try {
            return g15 && g15.binding && g15.binding("util");
          } catch (t89) {
          }
        }(), v6 = y10 && y10.isTypedArray;
        function m30(t89, e144) {
          for (var n47 = -1, o103 = null == t89 ? 0 : t89.length; ++n47 < o103; )
            if (e144(t89[n47], n47, t89))
              return true;
          return false;
        }
        function b8(t89) {
          var e144 = -1, n47 = Array(t89.size);
          return t89.forEach(function(t90, o103) {
            n47[++e144] = [o103, t90];
          }), n47;
        }
        function _4(t89) {
          var e144 = -1, n47 = Array(t89.size);
          return t89.forEach(function(t90) {
            n47[++e144] = t90;
          }), n47;
        }
        var S2, x6, C8, E5 = Array.prototype, M5 = Function.prototype, w4 = Object.prototype, I3 = d11["__core-js_shared__"], L2 = M5.toString, P3 = w4.hasOwnProperty, F5 = (S2 = /[^.]+$/.exec(I3 && I3.keys && I3.keys.IE_PROTO || "")) ? "Symbol(src)_1." + S2 : "", O3 = w4.toString, k7 = RegExp("^" + L2.call(P3).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), T3 = h13 ? d11.Buffer : void 0, j8 = d11.Symbol, A4 = d11.Uint8Array, D4 = w4.propertyIsEnumerable, N6 = E5.splice, U3 = j8 ? j8.toStringTag : void 0, R2 = Object.getOwnPropertySymbols, B3 = T3 ? T3.isBuffer : void 0, V3 = (x6 = Object.keys, C8 = Object, function(t89) {
          return x6(C8(t89));
        }), J2 = yt2(d11, "DataView"), G2 = yt2(d11, "Map"), z3 = yt2(d11, "Promise"), $2 = yt2(d11, "Set"), W2 = yt2(d11, "WeakMap"), q4 = yt2(Object, "create"), Y2 = _t2(J2), Z2 = _t2(G2), K2 = _t2(z3), X2 = _t2($2), H2 = _t2(W2), Q2 = j8 ? j8.prototype : void 0, tt2 = Q2 ? Q2.valueOf : void 0;
        function et2(t89) {
          var e144 = -1, n47 = null == t89 ? 0 : t89.length;
          for (this.clear(); ++e144 < n47; ) {
            var o103 = t89[e144];
            this.set(o103[0], o103[1]);
          }
        }
        function nt2(t89) {
          var e144 = -1, n47 = null == t89 ? 0 : t89.length;
          for (this.clear(); ++e144 < n47; ) {
            var o103 = t89[e144];
            this.set(o103[0], o103[1]);
          }
        }
        function ot2(t89) {
          var e144 = -1, n47 = null == t89 ? 0 : t89.length;
          for (this.clear(); ++e144 < n47; ) {
            var o103 = t89[e144];
            this.set(o103[0], o103[1]);
          }
        }
        function rt2(t89) {
          var e144 = -1, n47 = null == t89 ? 0 : t89.length;
          for (this.__data__ = new ot2(); ++e144 < n47; )
            this.add(t89[e144]);
        }
        function it2(t89) {
          var e144 = this.__data__ = new nt2(t89);
          this.size = e144.size;
        }
        function at2(t89, e144) {
          var n47 = Ct2(t89), o103 = !n47 && xt2(t89), r63 = !n47 && !o103 && Et2(t89), i69 = !n47 && !o103 && !r63 && Pt2(t89), a84 = n47 || o103 || r63 || i69, s64 = a84 ? function(t90, e145) {
            for (var n48 = -1, o104 = Array(t90); ++n48 < t90; )
              o104[n48] = e145(n48);
            return o104;
          }(t89.length, String) : [], u22 = s64.length;
          for (var c24 in t89)
            !e144 && !P3.call(t89, c24) || a84 && ("length" == c24 || r63 && ("offset" == c24 || "parent" == c24) || i69 && ("buffer" == c24 || "byteLength" == c24 || "byteOffset" == c24) || bt2(c24, u22)) || s64.push(c24);
          return s64;
        }
        function st2(t89, e144) {
          for (var n47 = t89.length; n47--; )
            if (St2(t89[n47][0], e144))
              return n47;
          return -1;
        }
        function ut2(t89) {
          return null == t89 ? void 0 === t89 ? "[object Undefined]" : "[object Null]" : U3 && U3 in Object(t89) ? function(t90) {
            var e144 = P3.call(t90, U3), n47 = t90[U3];
            try {
              t90[U3] = void 0;
              var o103 = true;
            } catch (t91) {
            }
            var r63 = O3.call(t90);
            o103 && (e144 ? t90[U3] = n47 : delete t90[U3]);
            return r63;
          }(t89) : function(t90) {
            return O3.call(t90);
          }(t89);
        }
        function ct2(t89) {
          return Lt2(t89) && ut2(t89) == n46;
        }
        function lt2(t89, e144, a84, s64, u22) {
          return t89 === e144 || (null == t89 || null == e144 || !Lt2(t89) && !Lt2(e144) ? t89 != t89 && e144 != e144 : function(t90, e145, a85, s65, u23, c24) {
            var l31 = Ct2(t90), d12 = Ct2(e145), p19 = l31 ? "[object Array]" : mt2(t90), f23 = d12 ? "[object Array]" : mt2(e145), h14 = (p19 = p19 == n46 ? r62 : p19) == r62, g16 = (f23 = f23 == n46 ? r62 : f23) == r62, y11 = p19 == f23;
            if (y11 && Et2(t90)) {
              if (!Et2(e145))
                return false;
              l31 = true, h14 = false;
            }
            if (y11 && !h14)
              return c24 || (c24 = new it2()), l31 || Pt2(t90) ? ft2(t90, e145, a85, s65, u23, c24) : function(t91, e146, n47, r63, a86, s66, u24) {
                switch (n47) {
                  case "[object DataView]":
                    if (t91.byteLength != e146.byteLength || t91.byteOffset != e146.byteOffset)
                      return false;
                    t91 = t91.buffer, e146 = e146.buffer;
                  case "[object ArrayBuffer]":
                    return !(t91.byteLength != e146.byteLength || !s66(new A4(t91), new A4(e146)));
                  case "[object Boolean]":
                  case "[object Date]":
                  case "[object Number]":
                    return St2(+t91, +e146);
                  case "[object Error]":
                    return t91.name == e146.name && t91.message == e146.message;
                  case "[object RegExp]":
                  case "[object String]":
                    return t91 == e146 + "";
                  case o102:
                    var c25 = b8;
                  case i68:
                    var l32 = 1 & r63;
                    if (c25 || (c25 = _4), t91.size != e146.size && !l32)
                      return false;
                    var d13 = u24.get(t91);
                    if (d13)
                      return d13 == e146;
                    r63 |= 2, u24.set(t91, e146);
                    var p20 = ft2(c25(t91), c25(e146), r63, a86, s66, u24);
                    return u24.delete(t91), p20;
                  case "[object Symbol]":
                    if (tt2)
                      return tt2.call(t91) == tt2.call(e146);
                }
                return false;
              }(t90, e145, p19, a85, s65, u23, c24);
            if (!(1 & a85)) {
              var v7 = h14 && P3.call(t90, "__wrapped__"), m31 = g16 && P3.call(e145, "__wrapped__");
              if (v7 || m31) {
                var S3 = v7 ? t90.value() : t90, x7 = m31 ? e145.value() : e145;
                return c24 || (c24 = new it2()), u23(S3, x7, a85, s65, c24);
              }
            }
            if (!y11)
              return false;
            return c24 || (c24 = new it2()), function(t91, e146, n47, o103, r63, i69) {
              var a86 = 1 & n47, s66 = ht2(t91), u24 = s66.length, c25 = ht2(e146).length;
              if (u24 != c25 && !a86)
                return false;
              var l32 = u24;
              for (; l32--; ) {
                var d13 = s66[l32];
                if (!(a86 ? d13 in e146 : P3.call(e146, d13)))
                  return false;
              }
              var p20 = i69.get(t91);
              if (p20 && i69.get(e146))
                return p20 == e146;
              var f24 = true;
              i69.set(t91, e146), i69.set(e146, t91);
              var h15 = a86;
              for (; ++l32 < u24; ) {
                d13 = s66[l32];
                var g17 = t91[d13], y12 = e146[d13];
                if (o103)
                  var v8 = a86 ? o103(y12, g17, d13, e146, t91, i69) : o103(g17, y12, d13, t91, e146, i69);
                if (!(void 0 === v8 ? g17 === y12 || r63(g17, y12, n47, o103, i69) : v8)) {
                  f24 = false;
                  break;
                }
                h15 || (h15 = "constructor" == d13);
              }
              if (f24 && !h15) {
                var m32 = t91.constructor, b9 = e146.constructor;
                m32 == b9 || !("constructor" in t91) || !("constructor" in e146) || "function" == typeof m32 && m32 instanceof m32 && "function" == typeof b9 && b9 instanceof b9 || (f24 = false);
              }
              return i69.delete(t91), i69.delete(e146), f24;
            }(t90, e145, a85, s65, u23, c24);
          }(t89, e144, a84, s64, lt2, u22));
        }
        function dt2(t89) {
          return !(!It2(t89) || function(t90) {
            return !!F5 && F5 in t90;
          }(t89)) && (Mt2(t89) ? k7 : a83).test(_t2(t89));
        }
        function pt2(t89) {
          if (n47 = (e144 = t89) && e144.constructor, o103 = "function" == typeof n47 && n47.prototype || w4, e144 !== o103)
            return V3(t89);
          var e144, n47, o103, r63 = [];
          for (var i69 in Object(t89))
            P3.call(t89, i69) && "constructor" != i69 && r63.push(i69);
          return r63;
        }
        function ft2(t89, e144, n47, o103, r63, i69) {
          var a84 = 1 & n47, s64 = t89.length, u22 = e144.length;
          if (s64 != u22 && !(a84 && u22 > s64))
            return false;
          var c24 = i69.get(t89);
          if (c24 && i69.get(e144))
            return c24 == e144;
          var l31 = -1, d12 = true, p19 = 2 & n47 ? new rt2() : void 0;
          for (i69.set(t89, e144), i69.set(e144, t89); ++l31 < s64; ) {
            var f23 = t89[l31], h14 = e144[l31];
            if (o103)
              var g16 = a84 ? o103(h14, f23, l31, e144, t89, i69) : o103(f23, h14, l31, t89, e144, i69);
            if (void 0 !== g16) {
              if (g16)
                continue;
              d12 = false;
              break;
            }
            if (p19) {
              if (!m30(e144, function(t90, e145) {
                if (a85 = e145, !p19.has(a85) && (f23 === t90 || r63(f23, t90, n47, o103, i69)))
                  return p19.push(e145);
                var a85;
              })) {
                d12 = false;
                break;
              }
            } else if (f23 !== h14 && !r63(f23, h14, n47, o103, i69)) {
              d12 = false;
              break;
            }
          }
          return i69.delete(t89), i69.delete(e144), d12;
        }
        function ht2(t89) {
          return function(t90, e144, n47) {
            var o103 = e144(t90);
            return Ct2(t90) ? o103 : function(t91, e145) {
              for (var n48 = -1, o104 = e145.length, r63 = t91.length; ++n48 < o104; )
                t91[r63 + n48] = e145[n48];
              return t91;
            }(o103, n47(t90));
          }(t89, Ft2, vt2);
        }
        function gt2(t89, e144) {
          var n47, o103, r63 = t89.__data__;
          return ("string" == (o103 = typeof (n47 = e144)) || "number" == o103 || "symbol" == o103 || "boolean" == o103 ? "__proto__" !== n47 : null === n47) ? r63["string" == typeof e144 ? "string" : "hash"] : r63.map;
        }
        function yt2(t89, e144) {
          var n47 = function(t90, e145) {
            return null == t90 ? void 0 : t90[e145];
          }(t89, e144);
          return dt2(n47) ? n47 : void 0;
        }
        et2.prototype.clear = function() {
          this.__data__ = q4 ? q4(null) : {}, this.size = 0;
        }, et2.prototype.delete = function(t89) {
          var e144 = this.has(t89) && delete this.__data__[t89];
          return this.size -= e144 ? 1 : 0, e144;
        }, et2.prototype.get = function(t89) {
          var e144 = this.__data__;
          if (q4) {
            var n47 = e144[t89];
            return "__lodash_hash_undefined__" === n47 ? void 0 : n47;
          }
          return P3.call(e144, t89) ? e144[t89] : void 0;
        }, et2.prototype.has = function(t89) {
          var e144 = this.__data__;
          return q4 ? void 0 !== e144[t89] : P3.call(e144, t89);
        }, et2.prototype.set = function(t89, e144) {
          var n47 = this.__data__;
          return this.size += this.has(t89) ? 0 : 1, n47[t89] = q4 && void 0 === e144 ? "__lodash_hash_undefined__" : e144, this;
        }, nt2.prototype.clear = function() {
          this.__data__ = [], this.size = 0;
        }, nt2.prototype.delete = function(t89) {
          var e144 = this.__data__, n47 = st2(e144, t89);
          return !(n47 < 0) && (n47 == e144.length - 1 ? e144.pop() : N6.call(e144, n47, 1), --this.size, true);
        }, nt2.prototype.get = function(t89) {
          var e144 = this.__data__, n47 = st2(e144, t89);
          return n47 < 0 ? void 0 : e144[n47][1];
        }, nt2.prototype.has = function(t89) {
          return st2(this.__data__, t89) > -1;
        }, nt2.prototype.set = function(t89, e144) {
          var n47 = this.__data__, o103 = st2(n47, t89);
          return o103 < 0 ? (++this.size, n47.push([t89, e144])) : n47[o103][1] = e144, this;
        }, ot2.prototype.clear = function() {
          this.size = 0, this.__data__ = { hash: new et2(), map: new (G2 || nt2)(), string: new et2() };
        }, ot2.prototype.delete = function(t89) {
          var e144 = gt2(this, t89).delete(t89);
          return this.size -= e144 ? 1 : 0, e144;
        }, ot2.prototype.get = function(t89) {
          return gt2(this, t89).get(t89);
        }, ot2.prototype.has = function(t89) {
          return gt2(this, t89).has(t89);
        }, ot2.prototype.set = function(t89, e144) {
          var n47 = gt2(this, t89), o103 = n47.size;
          return n47.set(t89, e144), this.size += n47.size == o103 ? 0 : 1, this;
        }, rt2.prototype.add = rt2.prototype.push = function(t89) {
          return this.__data__.set(t89, "__lodash_hash_undefined__"), this;
        }, rt2.prototype.has = function(t89) {
          return this.__data__.has(t89);
        }, it2.prototype.clear = function() {
          this.__data__ = new nt2(), this.size = 0;
        }, it2.prototype.delete = function(t89) {
          var e144 = this.__data__, n47 = e144.delete(t89);
          return this.size = e144.size, n47;
        }, it2.prototype.get = function(t89) {
          return this.__data__.get(t89);
        }, it2.prototype.has = function(t89) {
          return this.__data__.has(t89);
        }, it2.prototype.set = function(t89, e144) {
          var n47 = this.__data__;
          if (n47 instanceof nt2) {
            var o103 = n47.__data__;
            if (!G2 || o103.length < 199)
              return o103.push([t89, e144]), this.size = ++n47.size, this;
            n47 = this.__data__ = new ot2(o103);
          }
          return n47.set(t89, e144), this.size = n47.size, this;
        };
        var vt2 = R2 ? function(t89) {
          return null == t89 ? [] : (t89 = Object(t89), function(t90, e144) {
            for (var n47 = -1, o103 = null == t90 ? 0 : t90.length, r63 = 0, i69 = []; ++n47 < o103; ) {
              var a84 = t90[n47];
              e144(a84, n47, t90) && (i69[r63++] = a84);
            }
            return i69;
          }(R2(t89), function(e144) {
            return D4.call(t89, e144);
          }));
        } : function() {
          return [];
        }, mt2 = ut2;
        function bt2(t89, e144) {
          return !!(e144 = null == e144 ? 9007199254740991 : e144) && ("number" == typeof t89 || s63.test(t89)) && t89 > -1 && t89 % 1 == 0 && t89 < e144;
        }
        function _t2(t89) {
          if (null != t89) {
            try {
              return L2.call(t89);
            } catch (t90) {
            }
            try {
              return t89 + "";
            } catch (t90) {
            }
          }
          return "";
        }
        function St2(t89, e144) {
          return t89 === e144 || t89 != t89 && e144 != e144;
        }
        (J2 && "[object DataView]" != mt2(new J2(new ArrayBuffer(1))) || G2 && mt2(new G2()) != o102 || z3 && "[object Promise]" != mt2(z3.resolve()) || $2 && mt2(new $2()) != i68 || W2 && "[object WeakMap]" != mt2(new W2())) && (mt2 = function(t89) {
          var e144 = ut2(t89), n47 = e144 == r62 ? t89.constructor : void 0, a84 = n47 ? _t2(n47) : "";
          if (a84)
            switch (a84) {
              case Y2:
                return "[object DataView]";
              case Z2:
                return o102;
              case K2:
                return "[object Promise]";
              case X2:
                return i68;
              case H2:
                return "[object WeakMap]";
            }
          return e144;
        });
        var xt2 = ct2(function() {
          return arguments;
        }()) ? ct2 : function(t89) {
          return Lt2(t89) && P3.call(t89, "callee") && !D4.call(t89, "callee");
        }, Ct2 = Array.isArray;
        var Et2 = B3 || function() {
          return false;
        };
        function Mt2(t89) {
          if (!It2(t89))
            return false;
          var e144 = ut2(t89);
          return "[object Function]" == e144 || "[object GeneratorFunction]" == e144 || "[object AsyncFunction]" == e144 || "[object Proxy]" == e144;
        }
        function wt2(t89) {
          return "number" == typeof t89 && t89 > -1 && t89 % 1 == 0 && t89 <= 9007199254740991;
        }
        function It2(t89) {
          var e144 = typeof t89;
          return null != t89 && ("object" == e144 || "function" == e144);
        }
        function Lt2(t89) {
          return null != t89 && "object" == typeof t89;
        }
        var Pt2 = v6 ? function(t89) {
          return function(e144) {
            return t89(e144);
          };
        }(v6) : function(t89) {
          return Lt2(t89) && wt2(t89.length) && !!u21[ut2(t89)];
        };
        function Ft2(t89) {
          return null != (e144 = t89) && wt2(e144.length) && !Mt2(e144) ? at2(t89) : pt2(t89);
          var e144;
        }
        t88.exports = function(t89, e144) {
          return lt2(t89, e144);
        };
      });
      var ve = { Polygon: ft, LineString: pt, Point: dt, MultiPolygon: yt, MultiLineString: yt, MultiPoint: yt };
      function me(t88, e143) {
        return e143.modes = j7, e143.getFeatureIdsAt = function(e144) {
          return nt.click({ point: e144 }, null, t88).map(function(t89) {
            return t89.properties.id;
          });
        }, e143.getSelectedIds = function() {
          return t88.store.getSelectedIds();
        }, e143.getSelected = function() {
          return { type: P2, features: t88.store.getSelectedIds().map(function(e144) {
            return t88.store.get(e144);
          }).map(function(t89) {
            return t89.toGeoJSON();
          }) };
        }, e143.getSelectedPoints = function() {
          return { type: P2, features: t88.store.getSelectedCoordinates().map(function(t89) {
            return { type: M4, properties: {}, geometry: { type: L, coordinates: t89.coordinates } };
          }) };
        }, e143.set = function(n46) {
          if (void 0 === n46.type || n46.type !== P2 || !Array.isArray(n46.features))
            throw new Error("Invalid FeatureCollection");
          var o102 = t88.store.createRenderBatch(), r62 = t88.store.getAllIds().slice(), i68 = e143.add(n46), a83 = new tt(i68);
          return (r62 = r62.filter(function(t89) {
            return !a83.has(t89);
          })).length && e143.delete(r62), o102(), i68;
        }, e143.add = function(e144) {
          var n46 = JSON.parse(JSON.stringify(zt(e144))).features.map(function(e145) {
            if (e145.id = e145.id || ct(), null === e145.geometry)
              throw new Error("Invalid geometry: null");
            if (void 0 === t88.store.get(e145.id) || t88.store.get(e145.id).type !== e145.geometry.type) {
              var n47 = ve[e145.geometry.type];
              if (void 0 === n47)
                throw new Error("Invalid geometry type: " + e145.geometry.type + ".");
              var o102 = new n47(t88, e145);
              t88.store.add(o102);
            } else {
              var r62 = t88.store.get(e145.id);
              r62.properties = e145.properties, ye(r62.getCoordinates(), e145.geometry.coordinates) || r62.incomingCoords(e145.geometry.coordinates);
            }
            return e145.id;
          });
          return t88.store.render(), n46;
        }, e143.get = function(e144) {
          var n46 = t88.store.get(e144);
          if (n46)
            return n46.toGeoJSON();
        }, e143.getAll = function() {
          return { type: P2, features: t88.store.getAll().map(function(t89) {
            return t89.toGeoJSON();
          }) };
        }, e143.delete = function(n46) {
          return t88.store.delete(n46, { silent: true }), e143.getMode() !== j7.DIRECT_SELECT || t88.store.getSelectedIds().length ? t88.store.render() : t88.events.changeMode(j7.SIMPLE_SELECT, void 0, { silent: true }), e143;
        }, e143.deleteAll = function() {
          return t88.store.delete(t88.store.getAllIds(), { silent: true }), e143.getMode() === j7.DIRECT_SELECT ? t88.events.changeMode(j7.SIMPLE_SELECT, void 0, { silent: true }) : t88.store.render(), e143;
        }, e143.changeMode = function(n46, o102) {
          return void 0 === o102 && (o102 = {}), n46 === j7.SIMPLE_SELECT && e143.getMode() === j7.SIMPLE_SELECT ? (r62 = o102.featureIds || [], i68 = t88.store.getSelectedIds(), r62.length === i68.length && JSON.stringify(r62.map(function(t89) {
            return t89;
          }).sort()) === JSON.stringify(i68.map(function(t89) {
            return t89;
          }).sort()) || (t88.store.setSelected(o102.featureIds, { silent: true }), t88.store.render()), e143) : (n46 === j7.DIRECT_SELECT && e143.getMode() === j7.DIRECT_SELECT && o102.featureId === t88.store.getSelectedIds()[0] || t88.events.changeMode(n46, o102, { silent: true }), e143);
          var r62, i68;
        }, e143.getMode = function() {
          return t88.events.getMode();
        }, e143.trash = function() {
          return t88.events.trash({ silent: true }), e143;
        }, e143.combineFeatures = function() {
          return t88.events.combineFeatures({ silent: true }), e143;
        }, e143.uncombineFeatures = function() {
          return t88.events.uncombineFeatures({ silent: true }), e143;
        }, e143.setFeatureProperty = function(n46, o102, r62) {
          return t88.store.setFeatureProperty(n46, o102, r62), e143;
        }, e143;
      }
      var be = function(t88, e143) {
        var n46 = { options: t88 = function(t89) {
          void 0 === t89 && (t89 = {});
          var e144 = Mt(t89);
          return t89.controls || (e144.controls = {}), false === t89.displayControlsDefault ? e144.controls = Mt(he, t89.controls) : e144.controls = Mt(fe, t89.controls), (e144 = Mt(pe, e144)).styles = ge(e144.styles, "cold").concat(ge(e144.styles, "hot")), e144;
        }(t88) };
        e143 = me(n46, e143), n46.api = e143;
        var o102 = Lt(n46);
        return e143.onAdd = o102.onAdd, e143.onRemove = o102.onRemove, e143.types = E4, e143.options = t88, e143;
      };
      function _e(t88) {
        be(t88, this);
      }
      return _e.modes = de, _e;
    });
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/constants.js
var require_constants2 = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/constants.js"(exports, module) {
    module.exports = {
      classes: {
        CONTROL_BASE: "mapboxgl-ctrl",
        CONTROL_PREFIX: "mapboxgl-ctrl-",
        CONTROL_BUTTON: "mapbox-gl-draw_ctrl-draw-btn",
        CONTROL_BUTTON_LINE: "mapbox-gl-draw_line",
        CONTROL_BUTTON_POLYGON: "mapbox-gl-draw_polygon",
        CONTROL_BUTTON_POINT: "mapbox-gl-draw_point",
        CONTROL_BUTTON_TRASH: "mapbox-gl-draw_trash",
        CONTROL_BUTTON_COMBINE_FEATURES: "mapbox-gl-draw_combine",
        CONTROL_BUTTON_UNCOMBINE_FEATURES: "mapbox-gl-draw_uncombine",
        CONTROL_GROUP: "mapboxgl-ctrl-group",
        ATTRIBUTION: "mapboxgl-ctrl-attrib",
        ACTIVE_BUTTON: "active",
        BOX_SELECT: "mapbox-gl-draw_boxselect"
      },
      sources: {
        HOT: "mapbox-gl-draw-hot",
        COLD: "mapbox-gl-draw-cold"
      },
      cursors: {
        ADD: "add",
        MOVE: "move",
        DRAG: "drag",
        POINTER: "pointer",
        NONE: "none"
      },
      types: {
        POLYGON: "polygon",
        LINE: "line_string",
        POINT: "point"
      },
      geojsonTypes: {
        FEATURE: "Feature",
        POLYGON: "Polygon",
        LINE_STRING: "LineString",
        POINT: "Point",
        FEATURE_COLLECTION: "FeatureCollection",
        MULTI_PREFIX: "Multi",
        MULTI_POINT: "MultiPoint",
        MULTI_LINE_STRING: "MultiLineString",
        MULTI_POLYGON: "MultiPolygon"
      },
      modes: {
        DRAW_LINE_STRING: "draw_line_string",
        DRAW_POLYGON: "draw_polygon",
        DRAW_POINT: "draw_point",
        SIMPLE_SELECT: "simple_select",
        DIRECT_SELECT: "direct_select",
        STATIC: "static"
      },
      events: {
        CREATE: "draw.create",
        DELETE: "draw.delete",
        UPDATE: "draw.update",
        SELECTION_CHANGE: "draw.selectionchange",
        MODE_CHANGE: "draw.modechange",
        ACTIONABLE: "draw.actionable",
        RENDER: "draw.render",
        COMBINE_FEATURES: "draw.combine",
        UNCOMBINE_FEATURES: "draw.uncombine"
      },
      updateActions: {
        MOVE: "move",
        CHANGE_COORDINATES: "change_coordinates"
      },
      meta: {
        FEATURE: "feature",
        MIDPOINT: "midpoint",
        VERTEX: "vertex"
      },
      activeStates: {
        ACTIVE: "true",
        INACTIVE: "false"
      },
      interactions: ["scrollZoom", "boxZoom", "dragRotate", "dragPan", "keyboard", "doubleClickZoom", "touchZoomRotate"],
      LAT_MIN: -90,
      LAT_RENDERED_MIN: -85,
      LAT_MAX: 90,
      LAT_RENDERED_MAX: 85,
      LNG_MIN: -270,
      LNG_MAX: 270
    };
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/double_click_zoom.js
var require_double_click_zoom = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/double_click_zoom.js"(exports, module) {
    module.exports = {
      enable(ctx) {
        setTimeout(() => {
          if (!ctx.map || !ctx.map.doubleClickZoom || !ctx._ctx || !ctx._ctx.store || !ctx._ctx.store.getInitialConfigValue)
            return;
          if (!ctx._ctx.store.getInitialConfigValue("doubleClickZoom"))
            return;
          ctx.map.doubleClickZoom.enable();
        }, 0);
      },
      disable(ctx) {
        setTimeout(() => {
          if (!ctx.map || !ctx.map.doubleClickZoom)
            return;
          ctx.map.doubleClickZoom.disable();
        }, 0);
      }
    };
  }
});

// node_modules/@turf/helpers/dist/js/index.js
var require_js = __commonJS({
  "node_modules/@turf/helpers/dist/js/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.earthRadius = 63710088e-1;
    exports.factors = {
      centimeters: exports.earthRadius * 100,
      centimetres: exports.earthRadius * 100,
      degrees: exports.earthRadius / 111325,
      feet: exports.earthRadius * 3.28084,
      inches: exports.earthRadius * 39.37,
      kilometers: exports.earthRadius / 1e3,
      kilometres: exports.earthRadius / 1e3,
      meters: exports.earthRadius,
      metres: exports.earthRadius,
      miles: exports.earthRadius / 1609.344,
      millimeters: exports.earthRadius * 1e3,
      millimetres: exports.earthRadius * 1e3,
      nauticalmiles: exports.earthRadius / 1852,
      radians: 1,
      yards: exports.earthRadius * 1.0936
    };
    exports.unitsFactors = {
      centimeters: 100,
      centimetres: 100,
      degrees: 1 / 111325,
      feet: 3.28084,
      inches: 39.37,
      kilometers: 1 / 1e3,
      kilometres: 1 / 1e3,
      meters: 1,
      metres: 1,
      miles: 1 / 1609.344,
      millimeters: 1e3,
      millimetres: 1e3,
      nauticalmiles: 1 / 1852,
      radians: 1 / exports.earthRadius,
      yards: 1.0936133
    };
    exports.areaFactors = {
      acres: 247105e-9,
      centimeters: 1e4,
      centimetres: 1e4,
      feet: 10.763910417,
      hectares: 1e-4,
      inches: 1550.003100006,
      kilometers: 1e-6,
      kilometres: 1e-6,
      meters: 1,
      metres: 1,
      miles: 386e-9,
      millimeters: 1e6,
      millimetres: 1e6,
      yards: 1.195990046
    };
    function feature2(geom, properties, options) {
      if (options === void 0) {
        options = {};
      }
      var feat = { type: "Feature" };
      if (options.id === 0 || options.id) {
        feat.id = options.id;
      }
      if (options.bbox) {
        feat.bbox = options.bbox;
      }
      feat.properties = properties || {};
      feat.geometry = geom;
      return feat;
    }
    exports.feature = feature2;
    function geometry(type, coordinates, _options) {
      if (_options === void 0) {
        _options = {};
      }
      switch (type) {
        case "Point":
          return point2(coordinates).geometry;
        case "LineString":
          return lineString2(coordinates).geometry;
        case "Polygon":
          return polygon2(coordinates).geometry;
        case "MultiPoint":
          return multiPoint(coordinates).geometry;
        case "MultiLineString":
          return multiLineString(coordinates).geometry;
        case "MultiPolygon":
          return multiPolygon(coordinates).geometry;
        default:
          throw new Error(type + " is invalid");
      }
    }
    exports.geometry = geometry;
    function point2(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      if (!coordinates) {
        throw new Error("coordinates is required");
      }
      if (!Array.isArray(coordinates)) {
        throw new Error("coordinates must be an Array");
      }
      if (coordinates.length < 2) {
        throw new Error("coordinates must be at least 2 numbers long");
      }
      if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {
        throw new Error("coordinates must contain numbers");
      }
      var geom = {
        type: "Point",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.point = point2;
    function points(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      return featureCollection(coordinates.map(function(coords) {
        return point2(coords, properties);
      }), options);
    }
    exports.points = points;
    function polygon2(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {
        var ring = coordinates_1[_i];
        if (ring.length < 4) {
          throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
        }
        for (var j7 = 0; j7 < ring[ring.length - 1].length; j7++) {
          if (ring[ring.length - 1][j7] !== ring[0][j7]) {
            throw new Error("First and last Position are not equivalent.");
          }
        }
      }
      var geom = {
        type: "Polygon",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.polygon = polygon2;
    function polygons(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      return featureCollection(coordinates.map(function(coords) {
        return polygon2(coords, properties);
      }), options);
    }
    exports.polygons = polygons;
    function lineString2(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      if (coordinates.length < 2) {
        throw new Error("coordinates must be an array of two or more positions");
      }
      var geom = {
        type: "LineString",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.lineString = lineString2;
    function lineStrings(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      return featureCollection(coordinates.map(function(coords) {
        return lineString2(coords, properties);
      }), options);
    }
    exports.lineStrings = lineStrings;
    function featureCollection(features, options) {
      if (options === void 0) {
        options = {};
      }
      var fc = { type: "FeatureCollection" };
      if (options.id) {
        fc.id = options.id;
      }
      if (options.bbox) {
        fc.bbox = options.bbox;
      }
      fc.features = features;
      return fc;
    }
    exports.featureCollection = featureCollection;
    function multiLineString(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      var geom = {
        type: "MultiLineString",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.multiLineString = multiLineString;
    function multiPoint(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      var geom = {
        type: "MultiPoint",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.multiPoint = multiPoint;
    function multiPolygon(coordinates, properties, options) {
      if (options === void 0) {
        options = {};
      }
      var geom = {
        type: "MultiPolygon",
        coordinates
      };
      return feature2(geom, properties, options);
    }
    exports.multiPolygon = multiPolygon;
    function geometryCollection(geometries, properties, options) {
      if (options === void 0) {
        options = {};
      }
      var geom = {
        type: "GeometryCollection",
        geometries
      };
      return feature2(geom, properties, options);
    }
    exports.geometryCollection = geometryCollection;
    function round2(num, precision) {
      if (precision === void 0) {
        precision = 0;
      }
      if (precision && !(precision >= 0)) {
        throw new Error("precision must be a positive number");
      }
      var multiplier = Math.pow(10, precision || 0);
      return Math.round(num * multiplier) / multiplier;
    }
    exports.round = round2;
    function radiansToLength2(radians, units) {
      if (units === void 0) {
        units = "kilometers";
      }
      var factor = exports.factors[units];
      if (!factor) {
        throw new Error(units + " units is invalid");
      }
      return radians * factor;
    }
    exports.radiansToLength = radiansToLength2;
    function lengthToRadians2(distance, units) {
      if (units === void 0) {
        units = "kilometers";
      }
      var factor = exports.factors[units];
      if (!factor) {
        throw new Error(units + " units is invalid");
      }
      return distance / factor;
    }
    exports.lengthToRadians = lengthToRadians2;
    function lengthToDegrees(distance, units) {
      return radiansToDegrees2(lengthToRadians2(distance, units));
    }
    exports.lengthToDegrees = lengthToDegrees;
    function bearingToAzimuth(bearing2) {
      var angle = bearing2 % 360;
      if (angle < 0) {
        angle += 360;
      }
      return angle;
    }
    exports.bearingToAzimuth = bearingToAzimuth;
    function radiansToDegrees2(radians) {
      var degrees = radians % (2 * Math.PI);
      return degrees * 180 / Math.PI;
    }
    exports.radiansToDegrees = radiansToDegrees2;
    function degreesToRadians2(degrees) {
      var radians = degrees % 360;
      return radians * Math.PI / 180;
    }
    exports.degreesToRadians = degreesToRadians2;
    function convertLength(length2, originalUnit, finalUnit) {
      if (originalUnit === void 0) {
        originalUnit = "kilometers";
      }
      if (finalUnit === void 0) {
        finalUnit = "kilometers";
      }
      if (!(length2 >= 0)) {
        throw new Error("length must be a positive number");
      }
      return radiansToLength2(lengthToRadians2(length2, originalUnit), finalUnit);
    }
    exports.convertLength = convertLength;
    function convertArea(area, originalUnit, finalUnit) {
      if (originalUnit === void 0) {
        originalUnit = "meters";
      }
      if (finalUnit === void 0) {
        finalUnit = "kilometers";
      }
      if (!(area >= 0)) {
        throw new Error("area must be a positive number");
      }
      var startFactor = exports.areaFactors[originalUnit];
      if (!startFactor) {
        throw new Error("invalid original units");
      }
      var finalFactor = exports.areaFactors[finalUnit];
      if (!finalFactor) {
        throw new Error("invalid final units");
      }
      return area / startFactor * finalFactor;
    }
    exports.convertArea = convertArea;
    function isNumber(num) {
      return !isNaN(num) && num !== null && !Array.isArray(num);
    }
    exports.isNumber = isNumber;
    function isObject3(input) {
      return !!input && input.constructor === Object;
    }
    exports.isObject = isObject3;
    function validateBBox(bbox) {
      if (!bbox) {
        throw new Error("bbox is required");
      }
      if (!Array.isArray(bbox)) {
        throw new Error("bbox must be an Array");
      }
      if (bbox.length !== 4 && bbox.length !== 6) {
        throw new Error("bbox must be an Array of 4 or 6 numbers");
      }
      bbox.forEach(function(num) {
        if (!isNumber(num)) {
          throw new Error("bbox must only contain numbers");
        }
      });
    }
    exports.validateBBox = validateBBox;
    function validateId(id) {
      if (!id) {
        throw new Error("id is required");
      }
      if (["string", "number"].indexOf(typeof id) === -1) {
        throw new Error("id must be a number or a string");
      }
    }
    exports.validateId = validateId;
  }
});

// node_modules/@turf/invariant/dist/js/index.js
var require_js2 = __commonJS({
  "node_modules/@turf/invariant/dist/js/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var helpers_1 = require_js();
    function getCoord2(coord) {
      if (!coord) {
        throw new Error("coord is required");
      }
      if (!Array.isArray(coord)) {
        if (coord.type === "Feature" && coord.geometry !== null && coord.geometry.type === "Point") {
          return coord.geometry.coordinates;
        }
        if (coord.type === "Point") {
          return coord.coordinates;
        }
      }
      if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {
        return coord;
      }
      throw new Error("coord must be GeoJSON Point or an Array of numbers");
    }
    exports.getCoord = getCoord2;
    function getCoords(coords) {
      if (Array.isArray(coords)) {
        return coords;
      }
      if (coords.type === "Feature") {
        if (coords.geometry !== null) {
          return coords.geometry.coordinates;
        }
      } else {
        if (coords.coordinates) {
          return coords.coordinates;
        }
      }
      throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
    }
    exports.getCoords = getCoords;
    function containsNumber(coordinates) {
      if (coordinates.length > 1 && helpers_1.isNumber(coordinates[0]) && helpers_1.isNumber(coordinates[1])) {
        return true;
      }
      if (Array.isArray(coordinates[0]) && coordinates[0].length) {
        return containsNumber(coordinates[0]);
      }
      throw new Error("coordinates must only contain numbers");
    }
    exports.containsNumber = containsNumber;
    function geojsonType(value, type, name) {
      if (!type || !name) {
        throw new Error("type and name required");
      }
      if (!value || value.type !== type) {
        throw new Error("Invalid input to " + name + ": must be a " + type + ", given " + value.type);
      }
    }
    exports.geojsonType = geojsonType;
    function featureOf(feature2, type, name) {
      if (!feature2) {
        throw new Error("No feature passed");
      }
      if (!name) {
        throw new Error(".featureOf() requires a name");
      }
      if (!feature2 || feature2.type !== "Feature" || !feature2.geometry) {
        throw new Error("Invalid input to " + name + ", Feature with geometry required");
      }
      if (!feature2.geometry || feature2.geometry.type !== type) {
        throw new Error("Invalid input to " + name + ": must be a " + type + ", given " + feature2.geometry.type);
      }
    }
    exports.featureOf = featureOf;
    function collectionOf(featureCollection, type, name) {
      if (!featureCollection) {
        throw new Error("No featureCollection passed");
      }
      if (!name) {
        throw new Error(".collectionOf() requires a name");
      }
      if (!featureCollection || featureCollection.type !== "FeatureCollection") {
        throw new Error("Invalid input to " + name + ", FeatureCollection required");
      }
      for (var _i = 0, _a3 = featureCollection.features; _i < _a3.length; _i++) {
        var feature2 = _a3[_i];
        if (!feature2 || feature2.type !== "Feature" || !feature2.geometry) {
          throw new Error("Invalid input to " + name + ", Feature with geometry required");
        }
        if (!feature2.geometry || feature2.geometry.type !== type) {
          throw new Error("Invalid input to " + name + ": must be a " + type + ", given " + feature2.geometry.type);
        }
      }
    }
    exports.collectionOf = collectionOf;
    function getGeom2(geojson) {
      if (geojson.type === "Feature") {
        return geojson.geometry;
      }
      return geojson;
    }
    exports.getGeom = getGeom2;
    function getType(geojson, _name) {
      if (geojson.type === "FeatureCollection") {
        return "FeatureCollection";
      }
      if (geojson.type === "GeometryCollection") {
        return "GeometryCollection";
      }
      if (geojson.type === "Feature" && geojson.geometry !== null) {
        return geojson.geometry.type;
      }
      return geojson.type;
    }
    exports.getType = getType;
  }
});

// node_modules/@turf/destination/dist/js/index.js
var require_js3 = __commonJS({
  "node_modules/@turf/destination/dist/js/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var helpers_1 = require_js();
    var invariant_1 = require_js2();
    function destination2(origin, distance, bearing2, options) {
      if (options === void 0) {
        options = {};
      }
      var coordinates1 = invariant_1.getCoord(origin);
      var longitude1 = helpers_1.degreesToRadians(coordinates1[0]);
      var latitude1 = helpers_1.degreesToRadians(coordinates1[1]);
      var bearingRad = helpers_1.degreesToRadians(bearing2);
      var radians = helpers_1.lengthToRadians(distance, options.units);
      var latitude2 = Math.asin(Math.sin(latitude1) * Math.cos(radians) + Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad));
      var longitude2 = longitude1 + Math.atan2(Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1), Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2));
      var lng = helpers_1.radiansToDegrees(longitude2);
      var lat = helpers_1.radiansToDegrees(latitude2);
      return helpers_1.point([lng, lat], options.properties);
    }
    exports.default = destination2;
  }
});

// node_modules/@turf/circle/dist/js/index.js
var require_js4 = __commonJS({
  "node_modules/@turf/circle/dist/js/index.js"(exports) {
    "use strict";
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var destination_1 = __importDefault(require_js3());
    var helpers_1 = require_js();
    function circle(center, radius, options) {
      if (options === void 0) {
        options = {};
      }
      var steps = options.steps || 64;
      var properties = options.properties ? options.properties : !Array.isArray(center) && center.type === "Feature" && center.properties ? center.properties : {};
      var coordinates = [];
      for (var i67 = 0; i67 < steps; i67++) {
        coordinates.push(destination_1.default(center, radius, i67 * -360 / steps, options).geometry.coordinates);
      }
      coordinates.push(coordinates[0]);
      return helpers_1.polygon([coordinates], properties);
    }
    exports.default = circle;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/modes/CircleMode.js
var require_CircleMode = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/modes/CircleMode.js"(exports, module) {
    var MapboxDraw2 = require_mapbox_gl_draw();
    var Constants = require_constants2();
    var doubleClickZoom = require_double_click_zoom();
    var circle = require_js4().default;
    var CircleMode2 = { ...MapboxDraw2.modes.draw_polygon };
    var DEFAULT_RADIUS_IN_KM = 2;
    CircleMode2.onSetup = function(opts) {
      const polygon2 = this.newFeature({
        type: Constants.geojsonTypes.FEATURE,
        properties: {
          isCircle: true,
          center: []
        },
        geometry: {
          type: Constants.geojsonTypes.POLYGON,
          coordinates: [[]]
        }
      });
      this.addFeature(polygon2);
      this.clearSelectedFeatures();
      doubleClickZoom.disable(this);
      this.updateUIClasses({ mouse: Constants.cursors.ADD });
      this.activateUIButton(Constants.types.POLYGON);
      this.setActionableState({
        trash: true
      });
      return {
        initialRadiusInKm: opts.initialRadiusInKm || DEFAULT_RADIUS_IN_KM,
        polygon: polygon2,
        currentVertexPosition: 0
      };
    };
    CircleMode2.clickAnywhere = function(state, e142) {
      if (state.currentVertexPosition === 0) {
        state.currentVertexPosition++;
        const center = [e142.lngLat.lng, e142.lngLat.lat];
        const circleFeature = circle(center, state.initialRadiusInKm);
        state.polygon.incomingCoords(circleFeature.geometry.coordinates);
        state.polygon.properties.center = center;
        state.polygon.properties.radiusInKm = state.initialRadiusInKm;
      }
      return this.changeMode(Constants.modes.SIMPLE_SELECT, { featureIds: [state.polygon.id] });
    };
    module.exports = CircleMode2;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/drag_pan.js
var require_drag_pan = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/drag_pan.js"(exports, module) {
    module.exports = {
      enable(ctx) {
        setTimeout(() => {
          if (!ctx.map || !ctx.map.dragPan || !ctx._ctx || !ctx._ctx.store || !ctx._ctx.store.getInitialConfigValue)
            return;
          if (!ctx._ctx.store.getInitialConfigValue("dragPan"))
            return;
          ctx.map.dragPan.enable();
        }, 0);
      },
      disable(ctx) {
        setTimeout(() => {
          if (!ctx.map || !ctx.map.doubleClickZoom)
            return;
          ctx.map.dragPan.disable();
        }, 0);
      }
    };
  }
});

// node_modules/@turf/distance/dist/js/index.js
var require_js5 = __commonJS({
  "node_modules/@turf/distance/dist/js/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var invariant_1 = require_js2();
    var helpers_1 = require_js();
    function distance(from, to, options) {
      if (options === void 0) {
        options = {};
      }
      var coordinates1 = invariant_1.getCoord(from);
      var coordinates2 = invariant_1.getCoord(to);
      var dLat = helpers_1.degreesToRadians(coordinates2[1] - coordinates1[1]);
      var dLon = helpers_1.degreesToRadians(coordinates2[0] - coordinates1[0]);
      var lat1 = helpers_1.degreesToRadians(coordinates1[1]);
      var lat2 = helpers_1.degreesToRadians(coordinates2[1]);
      var a82 = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);
      return helpers_1.radiansToLength(2 * Math.atan2(Math.sqrt(a82), Math.sqrt(1 - a82)), options.units);
    }
    exports.default = distance;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/modes/DragCircleMode.js
var require_DragCircleMode = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/modes/DragCircleMode.js"(exports, module) {
    var MapboxDraw2 = require_mapbox_gl_draw();
    var Constants = require_constants2();
    var doubleClickZoom = require_double_click_zoom();
    var dragPan = require_drag_pan();
    var circle = require_js4().default;
    var distance = require_js5().default;
    var turfHelpers = require_js();
    var DragCircleMode = { ...MapboxDraw2.modes.draw_polygon };
    DragCircleMode.onSetup = function(opts) {
      const polygon2 = this.newFeature({
        type: Constants.geojsonTypes.FEATURE,
        properties: {
          isCircle: true,
          center: []
        },
        geometry: {
          type: Constants.geojsonTypes.POLYGON,
          coordinates: [[]]
        }
      });
      this.addFeature(polygon2);
      this.clearSelectedFeatures();
      doubleClickZoom.disable(this);
      dragPan.disable(this);
      this.updateUIClasses({ mouse: Constants.cursors.ADD });
      this.activateUIButton(Constants.types.POLYGON);
      this.setActionableState({
        trash: true
      });
      return {
        polygon: polygon2,
        currentVertexPosition: 0
      };
    };
    DragCircleMode.onMouseDown = DragCircleMode.onTouchStart = function(state, e142) {
      const currentCenter = state.polygon.properties.center;
      if (currentCenter.length === 0) {
        state.polygon.properties.center = [e142.lngLat.lng, e142.lngLat.lat];
      }
    };
    DragCircleMode.onDrag = DragCircleMode.onMouseMove = function(state, e142) {
      const center = state.polygon.properties.center;
      if (center.length > 0) {
        const distanceInKm = distance(
          turfHelpers.point(center),
          turfHelpers.point([e142.lngLat.lng, e142.lngLat.lat]),
          { units: "kilometers" }
        );
        const circleFeature = circle(center, distanceInKm);
        state.polygon.incomingCoords(circleFeature.geometry.coordinates);
        state.polygon.properties.radiusInKm = distanceInKm;
      }
    };
    DragCircleMode.onMouseUp = DragCircleMode.onTouchEnd = function(state, e142) {
      dragPan.enable(this);
      return this.changeMode(Constants.modes.SIMPLE_SELECT, { featureIds: [state.polygon.id] });
    };
    DragCircleMode.onClick = DragCircleMode.onTap = function(state, e142) {
      state.polygon.properties.center = [];
    };
    DragCircleMode.toDisplayFeatures = function(state, geojson, display) {
      const isActivePolygon = geojson.properties.id === state.polygon.id;
      geojson.properties.active = isActivePolygon ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;
      return display(geojson);
    };
    module.exports = DragCircleMode;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/create_vertex.js
var require_create_vertex = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/create_vertex.js"(exports, module) {
    var Constants = require_constants2();
    module.exports = function(parentId, coordinates, path2, selected) {
      return {
        type: Constants.geojsonTypes.FEATURE,
        properties: {
          meta: Constants.meta.VERTEX,
          parent: parentId,
          coord_path: path2,
          active: selected ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE
        },
        geometry: {
          type: Constants.geojsonTypes.POINT,
          coordinates
        }
      };
    };
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/create_midpoint.js
var require_create_midpoint = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/create_midpoint.js"(exports, module) {
    var Constants = require_constants2();
    module.exports = function(parent, startVertex, endVertex, map) {
      const startCoord = startVertex.geometry.coordinates;
      const endCoord = endVertex.geometry.coordinates;
      if (startCoord[1] > Constants.LAT_RENDERED_MAX || startCoord[1] < Constants.LAT_RENDERED_MIN || endCoord[1] > Constants.LAT_RENDERED_MAX || endCoord[1] < Constants.LAT_RENDERED_MIN) {
        return null;
      }
      const ptA = map.project([startCoord[0], startCoord[1]]);
      const ptB = map.project([endCoord[0], endCoord[1]]);
      const mid = map.unproject([(ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2]);
      return {
        type: Constants.geojsonTypes.FEATURE,
        properties: {
          meta: Constants.meta.MIDPOINT,
          parent,
          lng: mid.lng,
          lat: mid.lat,
          coord_path: endVertex.properties.coord_path
        },
        geometry: {
          type: Constants.geojsonTypes.POINT,
          coordinates: [mid.lng, mid.lat]
        }
      };
    };
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/create_supplementary_points.js
var require_create_supplementary_points = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/create_supplementary_points.js"(exports, module) {
    var createVertex = require_create_vertex();
    var createMidpoint = require_create_midpoint();
    var Constants = require_constants2();
    function createSupplementaryPoints(geojson, options = {}, basePath = null) {
      const { type, coordinates } = geojson.geometry;
      const featureId = geojson.properties && geojson.properties.id;
      let supplementaryPoints = [];
      if (type === Constants.geojsonTypes.POINT) {
        supplementaryPoints.push(createVertex(featureId, coordinates, basePath, isSelectedPath(basePath)));
      } else if (type === Constants.geojsonTypes.POLYGON) {
        coordinates.forEach((line, lineIndex) => {
          processLine(line, basePath !== null ? `${basePath}.${lineIndex}` : String(lineIndex));
        });
      } else if (type === Constants.geojsonTypes.LINE_STRING) {
        processLine(coordinates, basePath);
      } else if (type.indexOf(Constants.geojsonTypes.MULTI_PREFIX) === 0) {
        processMultiGeometry();
      }
      function processLine(line, lineBasePath) {
        let firstPointString = "";
        let lastVertex = null;
        line.forEach((point2, pointIndex) => {
          const pointPath = lineBasePath !== void 0 && lineBasePath !== null ? `${lineBasePath}.${pointIndex}` : String(pointIndex);
          const vertex = createVertex(featureId, point2, pointPath, isSelectedPath(pointPath));
          if (options.midpoints && lastVertex) {
            const midpoint = createMidpoint(featureId, lastVertex, vertex, options.map);
            if (midpoint) {
              supplementaryPoints.push(midpoint);
            }
          }
          lastVertex = vertex;
          const stringifiedPoint = JSON.stringify(point2);
          if (firstPointString !== stringifiedPoint) {
            supplementaryPoints.push(vertex);
          }
          if (pointIndex === 0) {
            firstPointString = stringifiedPoint;
          }
        });
      }
      function isSelectedPath(path2) {
        if (!options.selectedPaths)
          return false;
        return options.selectedPaths.indexOf(path2) !== -1;
      }
      function processMultiGeometry() {
        const subType = type.replace(Constants.geojsonTypes.MULTI_PREFIX, "");
        coordinates.forEach((subCoordinates, index3) => {
          const subFeature = {
            type: Constants.geojsonTypes.FEATURE,
            properties: geojson.properties,
            geometry: {
              type: subType,
              coordinates: subCoordinates
            }
          };
          supplementaryPoints = supplementaryPoints.concat(createSupplementaryPoints(subFeature, options, index3));
        });
      }
      return supplementaryPoints;
    }
    module.exports = createSupplementaryPoints;
  }
});

// node_modules/@mapbox/geojson-normalize/index.js
var require_geojson_normalize = __commonJS({
  "node_modules/@mapbox/geojson-normalize/index.js"(exports, module) {
    module.exports = normalize;
    var types = {
      Point: "geometry",
      MultiPoint: "geometry",
      LineString: "geometry",
      MultiLineString: "geometry",
      Polygon: "geometry",
      MultiPolygon: "geometry",
      GeometryCollection: "geometry",
      Feature: "feature",
      FeatureCollection: "featurecollection"
    };
    function normalize(gj) {
      if (!gj || !gj.type)
        return null;
      var type = types[gj.type];
      if (!type)
        return null;
      if (type === "geometry") {
        return {
          type: "FeatureCollection",
          features: [{
            type: "Feature",
            properties: {},
            geometry: gj
          }]
        };
      } else if (type === "feature") {
        return {
          type: "FeatureCollection",
          features: [gj]
        };
      } else if (type === "featurecollection") {
        return gj;
      }
    }
  }
});

// node_modules/geojson-flatten/dist/index.es.js
var index_es_exports = {};
__export(index_es_exports, {
  default: () => e88
});
function e88(t87) {
  switch (t87 && t87.type || null) {
    case "FeatureCollection":
      return t87.features = t87.features.reduce(function(t88, r61) {
        return t88.concat(e88(r61));
      }, []), t87;
    case "Feature":
      return t87.geometry ? e88(t87.geometry).map(function(e142) {
        var r61 = { type: "Feature", properties: JSON.parse(JSON.stringify(t87.properties)), geometry: e142 };
        return void 0 !== t87.id && (r61.id = t87.id), r61;
      }) : [t87];
    case "MultiPoint":
      return t87.coordinates.map(function(e142) {
        return { type: "Point", coordinates: e142 };
      });
    case "MultiPolygon":
      return t87.coordinates.map(function(e142) {
        return { type: "Polygon", coordinates: e142 };
      });
    case "MultiLineString":
      return t87.coordinates.map(function(e142) {
        return { type: "LineString", coordinates: e142 };
      });
    case "GeometryCollection":
      return t87.geometries.map(e88).reduce(function(e142, t88) {
        return e142.concat(t88);
      }, []);
    case "Point":
    case "Polygon":
    case "LineString":
      return [t87];
  }
}
var init_index_es = __esm({
  "node_modules/geojson-flatten/dist/index.es.js"() {
  }
});

// node_modules/@mapbox/geojson-coords/flatten.js
var require_flatten = __commonJS({
  "node_modules/@mapbox/geojson-coords/flatten.js"(exports, module) {
    module.exports = function flatten2(list) {
      return _flatten(list);
      function _flatten(list2) {
        if (Array.isArray(list2) && list2.length && typeof list2[0] === "number") {
          return [list2];
        }
        return list2.reduce(function(acc, item) {
          if (Array.isArray(item) && Array.isArray(item[0])) {
            return acc.concat(_flatten(item));
          } else {
            acc.push(item);
            return acc;
          }
        }, []);
      }
    };
  }
});

// node_modules/@mapbox/geojson-coords/index.js
var require_geojson_coords = __commonJS({
  "node_modules/@mapbox/geojson-coords/index.js"(exports, module) {
    var geojsonNormalize = require_geojson_normalize();
    var geojsonFlatten = (init_index_es(), __toCommonJS(index_es_exports));
    var flatten2 = require_flatten();
    if (!(geojsonFlatten instanceof Function))
      geojsonFlatten = geojsonFlatten.default;
    module.exports = function(_3) {
      if (!_3)
        return [];
      var normalized = geojsonFlatten(geojsonNormalize(_3)), coordinates = [];
      normalized.features.forEach(function(feature2) {
        if (!feature2.geometry)
          return;
        coordinates = coordinates.concat(flatten2(feature2.geometry.coordinates));
      });
      return coordinates;
    };
  }
});

// node_modules/traverse/index.js
var require_traverse = __commonJS({
  "node_modules/traverse/index.js"(exports, module) {
    "use strict";
    function toS(obj) {
      return Object.prototype.toString.call(obj);
    }
    function isDate(obj) {
      return toS(obj) === "[object Date]";
    }
    function isRegExp(obj) {
      return toS(obj) === "[object RegExp]";
    }
    function isError(obj) {
      return toS(obj) === "[object Error]";
    }
    function isBoolean(obj) {
      return toS(obj) === "[object Boolean]";
    }
    function isNumber(obj) {
      return toS(obj) === "[object Number]";
    }
    function isString4(obj) {
      return toS(obj) === "[object String]";
    }
    var isArray2 = Array.isArray || function isArray3(xs) {
      return Object.prototype.toString.call(xs) === "[object Array]";
    };
    function forEach(xs, fn) {
      if (xs.forEach) {
        return xs.forEach(fn);
      }
      for (var i67 = 0; i67 < xs.length; i67++) {
        fn(xs[i67], i67, xs);
      }
      return void 0;
    }
    var objectKeys = Object.keys || function keys(obj) {
      var res = [];
      for (var key in obj) {
        res.push(key);
      }
      return res;
    };
    var hasOwnProperty = Object.prototype.hasOwnProperty || function(obj, key) {
      return key in obj;
    };
    function copy(src) {
      if (typeof src === "object" && src !== null) {
        var dst;
        if (isArray2(src)) {
          dst = [];
        } else if (isDate(src)) {
          dst = new Date(src.getTime ? src.getTime() : src);
        } else if (isRegExp(src)) {
          dst = new RegExp(src);
        } else if (isError(src)) {
          dst = { message: src.message };
        } else if (isBoolean(src) || isNumber(src) || isString4(src)) {
          dst = Object(src);
        } else if (Object.create && Object.getPrototypeOf) {
          dst = Object.create(Object.getPrototypeOf(src));
        } else if (src.constructor === Object) {
          dst = {};
        } else {
          var proto = src.constructor && src.constructor.prototype || src.__proto__ || {};
          var T2 = function T3() {
          };
          T2.prototype = proto;
          dst = new T2();
        }
        forEach(objectKeys(src), function(key) {
          dst[key] = src[key];
        });
        return dst;
      }
      return src;
    }
    function walk(root, cb, immutable) {
      var path2 = [];
      var parents = [];
      var alive = true;
      return function walker(node_) {
        var node = immutable ? copy(node_) : node_;
        var modifiers = {};
        var keepGoing = true;
        var state = {
          node,
          node_,
          path: [].concat(path2),
          parent: parents[parents.length - 1],
          parents,
          key: path2[path2.length - 1],
          isRoot: path2.length === 0,
          level: path2.length,
          circular: null,
          update: function(x5, stopHere) {
            if (!state.isRoot) {
              state.parent.node[state.key] = x5;
            }
            state.node = x5;
            if (stopHere) {
              keepGoing = false;
            }
          },
          delete: function(stopHere) {
            delete state.parent.node[state.key];
            if (stopHere) {
              keepGoing = false;
            }
          },
          remove: function(stopHere) {
            if (isArray2(state.parent.node)) {
              state.parent.node.splice(state.key, 1);
            } else {
              delete state.parent.node[state.key];
            }
            if (stopHere) {
              keepGoing = false;
            }
          },
          keys: null,
          before: function(f21) {
            modifiers.before = f21;
          },
          after: function(f21) {
            modifiers.after = f21;
          },
          pre: function(f21) {
            modifiers.pre = f21;
          },
          post: function(f21) {
            modifiers.post = f21;
          },
          stop: function() {
            alive = false;
          },
          block: function() {
            keepGoing = false;
          }
        };
        if (!alive) {
          return state;
        }
        function updateState() {
          if (typeof state.node === "object" && state.node !== null) {
            if (!state.keys || state.node_ !== state.node) {
              state.keys = objectKeys(state.node);
            }
            state.isLeaf = state.keys.length === 0;
            for (var i67 = 0; i67 < parents.length; i67++) {
              if (parents[i67].node_ === node_) {
                state.circular = parents[i67];
                break;
              }
            }
          } else {
            state.isLeaf = true;
            state.keys = null;
          }
          state.notLeaf = !state.isLeaf;
          state.notRoot = !state.isRoot;
        }
        updateState();
        var ret = cb.call(state, state.node);
        if (ret !== void 0 && state.update) {
          state.update(ret);
        }
        if (modifiers.before) {
          modifiers.before.call(state, state.node);
        }
        if (!keepGoing) {
          return state;
        }
        if (typeof state.node === "object" && state.node !== null && !state.circular) {
          parents.push(state);
          updateState();
          forEach(state.keys, function(key, i67) {
            path2.push(key);
            if (modifiers.pre) {
              modifiers.pre.call(state, state.node[key], key);
            }
            var child = walker(state.node[key]);
            if (immutable && hasOwnProperty.call(state.node, key)) {
              state.node[key] = child.node;
            }
            child.isLast = i67 === state.keys.length - 1;
            child.isFirst = i67 === 0;
            if (modifiers.post) {
              modifiers.post.call(state, child);
            }
            path2.pop();
          });
          parents.pop();
        }
        if (modifiers.after) {
          modifiers.after.call(state, state.node);
        }
        return state;
      }(root).node;
    }
    function Traverse(obj) {
      this.value = obj;
    }
    Traverse.prototype.get = function(ps) {
      var node = this.value;
      for (var i67 = 0; i67 < ps.length; i67++) {
        var key = ps[i67];
        if (!node || !hasOwnProperty.call(node, key)) {
          return void 0;
        }
        node = node[key];
      }
      return node;
    };
    Traverse.prototype.has = function(ps) {
      var node = this.value;
      for (var i67 = 0; i67 < ps.length; i67++) {
        var key = ps[i67];
        if (!node || !hasOwnProperty.call(node, key)) {
          return false;
        }
        node = node[key];
      }
      return true;
    };
    Traverse.prototype.set = function(ps, value) {
      var node = this.value;
      for (var i67 = 0; i67 < ps.length - 1; i67++) {
        var key = ps[i67];
        if (!hasOwnProperty.call(node, key)) {
          node[key] = {};
        }
        node = node[key];
      }
      node[ps[i67]] = value;
      return value;
    };
    Traverse.prototype.map = function(cb) {
      return walk(this.value, cb, true);
    };
    Traverse.prototype.forEach = function(cb) {
      this.value = walk(this.value, cb, false);
      return this.value;
    };
    Traverse.prototype.reduce = function(cb, init2) {
      var skip = arguments.length === 1;
      var acc = skip ? this.value : init2;
      this.forEach(function(x5) {
        if (!this.isRoot || !skip) {
          acc = cb.call(this, acc, x5);
        }
      });
      return acc;
    };
    Traverse.prototype.paths = function() {
      var acc = [];
      this.forEach(function() {
        acc.push(this.path);
      });
      return acc;
    };
    Traverse.prototype.nodes = function() {
      var acc = [];
      this.forEach(function() {
        acc.push(this.node);
      });
      return acc;
    };
    Traverse.prototype.clone = function() {
      var parents = [];
      var nodes = [];
      return function clone(src) {
        for (var i67 = 0; i67 < parents.length; i67++) {
          if (parents[i67] === src) {
            return nodes[i67];
          }
        }
        if (typeof src === "object" && src !== null) {
          var dst = copy(src);
          parents.push(src);
          nodes.push(dst);
          forEach(objectKeys(src), function(key) {
            dst[key] = clone(src[key]);
          });
          parents.pop();
          nodes.pop();
          return dst;
        }
        return src;
      }(this.value);
    };
    function traverse(obj) {
      return new Traverse(obj);
    }
    forEach(objectKeys(Traverse.prototype), function(key) {
      traverse[key] = function(obj) {
        var args = [].slice.call(arguments, 1);
        var t87 = new Traverse(obj);
        return t87[key].apply(t87, args);
      };
    });
    module.exports = traverse;
  }
});

// node_modules/@mapbox/extent/index.js
var require_extent = __commonJS({
  "node_modules/@mapbox/extent/index.js"(exports, module) {
    module.exports = Extent;
    function Extent(bbox) {
      if (!(this instanceof Extent)) {
        return new Extent(bbox);
      }
      this._bbox = bbox || [Infinity, Infinity, -Infinity, -Infinity];
      this._valid = !!bbox;
    }
    Extent.prototype.include = function(ll) {
      this._valid = true;
      this._bbox[0] = Math.min(this._bbox[0], ll[0]);
      this._bbox[1] = Math.min(this._bbox[1], ll[1]);
      this._bbox[2] = Math.max(this._bbox[2], ll[0]);
      this._bbox[3] = Math.max(this._bbox[3], ll[1]);
      return this;
    };
    Extent.prototype.equals = function(_3) {
      var other;
      if (_3 instanceof Extent) {
        other = _3.bbox();
      } else {
        other = _3;
      }
      return this._bbox[0] == other[0] && this._bbox[1] == other[1] && this._bbox[2] == other[2] && this._bbox[3] == other[3];
    };
    Extent.prototype.center = function(_3) {
      if (!this._valid)
        return null;
      return [
        (this._bbox[0] + this._bbox[2]) / 2,
        (this._bbox[1] + this._bbox[3]) / 2
      ];
    };
    Extent.prototype.union = function(_3) {
      this._valid = true;
      var other;
      if (_3 instanceof Extent) {
        other = _3.bbox();
      } else {
        other = _3;
      }
      this._bbox[0] = Math.min(this._bbox[0], other[0]);
      this._bbox[1] = Math.min(this._bbox[1], other[1]);
      this._bbox[2] = Math.max(this._bbox[2], other[2]);
      this._bbox[3] = Math.max(this._bbox[3], other[3]);
      return this;
    };
    Extent.prototype.bbox = function() {
      if (!this._valid)
        return null;
      return this._bbox;
    };
    Extent.prototype.contains = function(ll) {
      if (!ll)
        return this._fastContains();
      if (!this._valid)
        return null;
      var lon = ll[0], lat = ll[1];
      return this._bbox[0] <= lon && this._bbox[1] <= lat && this._bbox[2] >= lon && this._bbox[3] >= lat;
    };
    Extent.prototype.intersect = function(_3) {
      if (!this._valid)
        return null;
      var other;
      if (_3 instanceof Extent) {
        other = _3.bbox();
      } else {
        other = _3;
      }
      return !(this._bbox[0] > other[2] || this._bbox[2] < other[0] || this._bbox[3] < other[1] || this._bbox[1] > other[3]);
    };
    Extent.prototype._fastContains = function() {
      if (!this._valid)
        return new Function("return null;");
      var body = "return " + this._bbox[0] + "<= ll[0] &&" + this._bbox[1] + "<= ll[1] &&" + this._bbox[2] + ">= ll[0] &&" + this._bbox[3] + ">= ll[1]";
      return new Function("ll", body);
    };
    Extent.prototype.polygon = function() {
      if (!this._valid)
        return null;
      return {
        type: "Polygon",
        coordinates: [
          [
            [this._bbox[0], this._bbox[1]],
            [this._bbox[2], this._bbox[1]],
            [this._bbox[2], this._bbox[3]],
            [this._bbox[0], this._bbox[3]],
            [this._bbox[0], this._bbox[1]]
          ]
        ]
      };
    };
  }
});

// node_modules/@mapbox/geojson-extent/index.js
var require_geojson_extent = __commonJS({
  "node_modules/@mapbox/geojson-extent/index.js"(exports, module) {
    var geojsonCoords = require_geojson_coords();
    var traverse = require_traverse();
    var extent = require_extent();
    var geojsonTypesByDataAttributes = {
      features: ["FeatureCollection"],
      coordinates: ["Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon"],
      geometry: ["Feature"],
      geometries: ["GeometryCollection"]
    };
    var dataAttributes = Object.keys(geojsonTypesByDataAttributes);
    module.exports = function(_3) {
      return getExtent(_3).bbox();
    };
    module.exports.polygon = function(_3) {
      return getExtent(_3).polygon();
    };
    module.exports.bboxify = function(_3) {
      return traverse(_3).map(function(value) {
        if (!value)
          return;
        var isValid = dataAttributes.some(function(attribute) {
          if (value[attribute]) {
            return geojsonTypesByDataAttributes[attribute].indexOf(value.type) !== -1;
          }
          return false;
        });
        if (isValid) {
          value.bbox = getExtent(value).bbox();
          this.update(value);
        }
      });
    };
    function getExtent(_3) {
      var ext = extent(), coords = geojsonCoords(_3);
      for (var i67 = 0; i67 < coords.length; i67++)
        ext.include(coords[i67]);
      return ext;
    }
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/constrain_feature_movement.js
var require_constrain_feature_movement = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/constrain_feature_movement.js"(exports, module) {
    var extent = require_geojson_extent();
    var Constants = require_constants2();
    var { LAT_MIN, LAT_MAX, LAT_RENDERED_MIN, LAT_RENDERED_MAX, LNG_MIN, LNG_MAX } = Constants;
    module.exports = function(geojsonFeatures, delta) {
      let northInnerEdge = LAT_MIN;
      let southInnerEdge = LAT_MAX;
      let northOuterEdge = LAT_MIN;
      let southOuterEdge = LAT_MAX;
      let westEdge = LNG_MAX;
      let eastEdge = LNG_MIN;
      geojsonFeatures.forEach((feature2) => {
        const bounds = extent(feature2);
        const featureSouthEdge = bounds[1];
        const featureNorthEdge = bounds[3];
        const featureWestEdge = bounds[0];
        const featureEastEdge = bounds[2];
        if (featureSouthEdge > northInnerEdge)
          northInnerEdge = featureSouthEdge;
        if (featureNorthEdge < southInnerEdge)
          southInnerEdge = featureNorthEdge;
        if (featureNorthEdge > northOuterEdge)
          northOuterEdge = featureNorthEdge;
        if (featureSouthEdge < southOuterEdge)
          southOuterEdge = featureSouthEdge;
        if (featureWestEdge < westEdge)
          westEdge = featureWestEdge;
        if (featureEastEdge > eastEdge)
          eastEdge = featureEastEdge;
      });
      const constrainedDelta = delta;
      if (northInnerEdge + constrainedDelta.lat > LAT_RENDERED_MAX) {
        constrainedDelta.lat = LAT_RENDERED_MAX - northInnerEdge;
      }
      if (northOuterEdge + constrainedDelta.lat > LAT_MAX) {
        constrainedDelta.lat = LAT_MAX - northOuterEdge;
      }
      if (southInnerEdge + constrainedDelta.lat < LAT_RENDERED_MIN) {
        constrainedDelta.lat = LAT_RENDERED_MIN - southInnerEdge;
      }
      if (southOuterEdge + constrainedDelta.lat < LAT_MIN) {
        constrainedDelta.lat = LAT_MIN - southOuterEdge;
      }
      if (westEdge + constrainedDelta.lng <= LNG_MIN) {
        constrainedDelta.lng += Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;
      }
      if (eastEdge + constrainedDelta.lng >= LNG_MAX) {
        constrainedDelta.lng -= Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;
      }
      return constrainedDelta;
    };
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/move_features.js
var require_move_features = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/move_features.js"(exports, module) {
    var constrainFeatureMovement = require_constrain_feature_movement();
    var Constants = require_constants2();
    module.exports = function(features, delta) {
      const constrainedDelta = constrainFeatureMovement(
        features.map((feature2) => feature2.toGeoJSON()),
        delta
      );
      features.forEach((feature2) => {
        const currentCoordinates = feature2.getCoordinates();
        const moveCoordinate = (coord) => {
          const point2 = {
            lng: coord[0] + constrainedDelta.lng,
            lat: coord[1] + constrainedDelta.lat
          };
          return [point2.lng, point2.lat];
        };
        const moveRing = (ring) => ring.map((coord) => moveCoordinate(coord));
        const moveMultiPolygon = (multi) => multi.map((ring) => moveRing(ring));
        let nextCoordinates;
        if (feature2.type === Constants.geojsonTypes.POINT) {
          nextCoordinates = moveCoordinate(currentCoordinates);
        } else if (feature2.type === Constants.geojsonTypes.LINE_STRING || feature2.type === Constants.geojsonTypes.MULTI_POINT) {
          nextCoordinates = currentCoordinates.map(moveCoordinate);
        } else if (feature2.type === Constants.geojsonTypes.POLYGON || feature2.type === Constants.geojsonTypes.MULTI_LINE_STRING) {
          nextCoordinates = currentCoordinates.map(moveRing);
        } else if (feature2.type === Constants.geojsonTypes.MULTI_POLYGON) {
          nextCoordinates = currentCoordinates.map(moveMultiPolygon);
        }
        feature2.incomingCoords(nextCoordinates);
      });
    };
  }
});

// node_modules/maplibre-gl-draw-circle/lib/utils/create_supplementary_points_circle.js
var require_create_supplementary_points_circle = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/utils/create_supplementary_points_circle.js"(exports, module) {
    var createVertex = require_create_vertex();
    function createSupplementaryPointsForCircle(geojson) {
      const { properties, geometry } = geojson;
      if (!properties.user_isCircle)
        return null;
      const supplementaryPoints = [];
      const vertices = geometry.coordinates[0].slice(0, -1);
      for (let index3 = 0; index3 < vertices.length; index3 += Math.round(vertices.length / 4)) {
        supplementaryPoints.push(createVertex(properties.id, vertices[index3], `0.${index3}`, false));
      }
      return supplementaryPoints;
    }
    module.exports = createSupplementaryPointsForCircle;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/modes/DirectModeOverride.js
var require_DirectModeOverride = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/modes/DirectModeOverride.js"(exports, module) {
    var MapboxDraw2 = require_mapbox_gl_draw();
    var createSupplementaryPoints = require_create_supplementary_points();
    var moveFeatures = require_move_features();
    var Constants = require_constants2();
    var constrainFeatureMovement = require_constrain_feature_movement();
    var distance = require_js5().default;
    var turfHelpers = require_js();
    var circle = require_js4().default;
    var createSupplementaryPointsForCircle = require_create_supplementary_points_circle();
    var DirectModeOverride = MapboxDraw2.modes.direct_select;
    DirectModeOverride.dragFeature = function(state, e142, delta) {
      moveFeatures(this.getSelected(), delta);
      this.getSelected().filter((feature2) => feature2.properties.isCircle).map((circle2) => circle2.properties.center).forEach((center) => {
        center[0] += delta.lng;
        center[1] += delta.lat;
      });
      state.dragMoveLocation = e142.lngLat;
    };
    DirectModeOverride.dragVertex = function(state, e142, delta) {
      if (state.feature.properties.isCircle) {
        const center = state.feature.properties.center;
        const movedVertex = [e142.lngLat.lng, e142.lngLat.lat];
        const radius = distance(turfHelpers.point(center), turfHelpers.point(movedVertex), { units: "kilometers" });
        const circleFeature = circle(center, radius);
        state.feature.incomingCoords(circleFeature.geometry.coordinates);
        state.feature.properties.radiusInKm = radius;
      } else {
        const selectedCoords = state.selectedCoordPaths.map((coord_path) => state.feature.getCoordinate(coord_path));
        const selectedCoordPoints = selectedCoords.map((coords) => ({
          type: Constants.geojsonTypes.FEATURE,
          properties: {},
          geometry: {
            type: Constants.geojsonTypes.POINT,
            coordinates: coords
          }
        }));
        const constrainedDelta = constrainFeatureMovement(selectedCoordPoints, delta);
        for (let i67 = 0; i67 < selectedCoords.length; i67++) {
          const coord = selectedCoords[i67];
          state.feature.updateCoordinate(state.selectedCoordPaths[i67], coord[0] + constrainedDelta.lng, coord[1] + constrainedDelta.lat);
        }
      }
    };
    DirectModeOverride.toDisplayFeatures = function(state, geojson, push) {
      if (state.featureId === geojson.properties.id) {
        geojson.properties.active = Constants.activeStates.ACTIVE;
        push(geojson);
        const supplementaryPoints = geojson.properties.user_isCircle ? createSupplementaryPointsForCircle(geojson) : createSupplementaryPoints(geojson, {
          map: this.map,
          midpoints: true,
          selectedPaths: state.selectedCoordPaths
        });
        supplementaryPoints.forEach(push);
      } else {
        geojson.properties.active = Constants.activeStates.INACTIVE;
        push(geojson);
      }
      this.fireActionable(state);
    };
    module.exports = DirectModeOverride;
  }
});

// node_modules/maplibre-gl-draw-circle/lib/modes/SimpleSelectModeOverride.js
var require_SimpleSelectModeOverride = __commonJS({
  "node_modules/maplibre-gl-draw-circle/lib/modes/SimpleSelectModeOverride.js"(exports, module) {
    var MapboxDraw2 = require_mapbox_gl_draw();
    var createSupplementaryPoints = require_create_supplementary_points();
    var moveFeatures = require_move_features();
    var Constants = require_constants2();
    var createSupplementaryPointsForCircle = require_create_supplementary_points_circle();
    var SimpleSelectModeOverride = MapboxDraw2.modes.simple_select;
    SimpleSelectModeOverride.dragMove = function(state, e142) {
      state.dragMoving = true;
      e142.originalEvent.stopPropagation();
      const delta = {
        lng: e142.lngLat.lng - state.dragMoveLocation.lng,
        lat: e142.lngLat.lat - state.dragMoveLocation.lat
      };
      moveFeatures(this.getSelected(), delta);
      this.getSelected().filter((feature2) => feature2.properties.isCircle).map((circle) => circle.properties.center).forEach((center) => {
        center[0] += delta.lng;
        center[1] += delta.lat;
      });
      state.dragMoveLocation = e142.lngLat;
    };
    SimpleSelectModeOverride.toDisplayFeatures = function(state, geojson, display) {
      geojson.properties.active = this.isSelected(geojson.properties.id) ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;
      display(geojson);
      this.fireActionable();
      if (geojson.properties.active !== Constants.activeStates.ACTIVE || geojson.geometry.type === Constants.geojsonTypes.POINT)
        return;
      const supplementaryPoints = geojson.properties.user_isCircle ? createSupplementaryPointsForCircle(geojson) : createSupplementaryPoints(geojson);
      supplementaryPoints.forEach(display);
    };
    module.exports = SimpleSelectModeOverride;
  }
});

// node_modules/maplibre-gl-draw-circle/index.js
var require_maplibre_gl_draw_circle = __commonJS({
  "node_modules/maplibre-gl-draw-circle/index.js"(exports, module) {
    var CircleMode2 = require_CircleMode();
    var DragCircleMode = require_DragCircleMode();
    var DirectMode2 = require_DirectModeOverride();
    var SimpleSelectMode2 = require_SimpleSelectModeOverride();
    module.exports = { CircleMode: CircleMode2, DragCircleMode, DirectMode: DirectMode2, SimpleSelectMode: SimpleSelectMode2 };
  }
});

// node_modules/tinycolor2/tinycolor.js
var require_tinycolor = __commonJS({
  "node_modules/tinycolor2/tinycolor.js"(exports, module) {
    (function(Math2) {
      var trimLeft = /^\s+/, trimRight = /\s+$/, tinyCounter = 0, mathRound = Math2.round, mathMin = Math2.min, mathMax = Math2.max, mathRandom = Math2.random;
      function tinycolor(color, opts) {
        color = color ? color : "";
        opts = opts || {};
        if (color instanceof tinycolor) {
          return color;
        }
        if (!(this instanceof tinycolor)) {
          return new tinycolor(color, opts);
        }
        var rgb = inputToRGB(color);
        this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = mathRound(100 * this._a) / 100, this._format = opts.format || rgb.format;
        this._gradientType = opts.gradientType;
        if (this._r < 1) {
          this._r = mathRound(this._r);
        }
        if (this._g < 1) {
          this._g = mathRound(this._g);
        }
        if (this._b < 1) {
          this._b = mathRound(this._b);
        }
        this._ok = rgb.ok;
        this._tc_id = tinyCounter++;
      }
      tinycolor.prototype = {
        isDark: function() {
          return this.getBrightness() < 128;
        },
        isLight: function() {
          return !this.isDark();
        },
        isValid: function() {
          return this._ok;
        },
        getOriginalInput: function() {
          return this._originalInput;
        },
        getFormat: function() {
          return this._format;
        },
        getAlpha: function() {
          return this._a;
        },
        getBrightness: function() {
          var rgb = this.toRgb();
          return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1e3;
        },
        getLuminance: function() {
          var rgb = this.toRgb();
          var RsRGB, GsRGB, BsRGB, R, G, B2;
          RsRGB = rgb.r / 255;
          GsRGB = rgb.g / 255;
          BsRGB = rgb.b / 255;
          if (RsRGB <= 0.03928) {
            R = RsRGB / 12.92;
          } else {
            R = Math2.pow((RsRGB + 0.055) / 1.055, 2.4);
          }
          if (GsRGB <= 0.03928) {
            G = GsRGB / 12.92;
          } else {
            G = Math2.pow((GsRGB + 0.055) / 1.055, 2.4);
          }
          if (BsRGB <= 0.03928) {
            B2 = BsRGB / 12.92;
          } else {
            B2 = Math2.pow((BsRGB + 0.055) / 1.055, 2.4);
          }
          return 0.2126 * R + 0.7152 * G + 0.0722 * B2;
        },
        setAlpha: function(value) {
          this._a = boundAlpha(value);
          this._roundA = mathRound(100 * this._a) / 100;
          return this;
        },
        toHsv: function() {
          var hsv = rgbToHsv(this._r, this._g, this._b);
          return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };
        },
        toHsvString: function() {
          var hsv = rgbToHsv(this._r, this._g, this._b);
          var h12 = mathRound(hsv.h * 360), s62 = mathRound(hsv.s * 100), v5 = mathRound(hsv.v * 100);
          return this._a == 1 ? "hsv(" + h12 + ", " + s62 + "%, " + v5 + "%)" : "hsva(" + h12 + ", " + s62 + "%, " + v5 + "%, " + this._roundA + ")";
        },
        toHsl: function() {
          var hsl = rgbToHsl(this._r, this._g, this._b);
          return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };
        },
        toHslString: function() {
          var hsl = rgbToHsl(this._r, this._g, this._b);
          var h12 = mathRound(hsl.h * 360), s62 = mathRound(hsl.s * 100), l29 = mathRound(hsl.l * 100);
          return this._a == 1 ? "hsl(" + h12 + ", " + s62 + "%, " + l29 + "%)" : "hsla(" + h12 + ", " + s62 + "%, " + l29 + "%, " + this._roundA + ")";
        },
        toHex: function(allow3Char) {
          return rgbToHex(this._r, this._g, this._b, allow3Char);
        },
        toHexString: function(allow3Char) {
          return "#" + this.toHex(allow3Char);
        },
        toHex8: function(allow4Char) {
          return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);
        },
        toHex8String: function(allow4Char) {
          return "#" + this.toHex8(allow4Char);
        },
        toRgb: function() {
          return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };
        },
        toRgbString: function() {
          return this._a == 1 ? "rgb(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ")" : "rgba(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ", " + this._roundA + ")";
        },
        toPercentageRgb: function() {
          return { r: mathRound(bound01(this._r, 255) * 100) + "%", g: mathRound(bound01(this._g, 255) * 100) + "%", b: mathRound(bound01(this._b, 255) * 100) + "%", a: this._a };
        },
        toPercentageRgbString: function() {
          return this._a == 1 ? "rgb(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%)" : "rgba(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%, " + this._roundA + ")";
        },
        toName: function() {
          if (this._a === 0) {
            return "transparent";
          }
          if (this._a < 1) {
            return false;
          }
          return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;
        },
        toFilter: function(secondColor) {
          var hex8String = "#" + rgbaToArgbHex(this._r, this._g, this._b, this._a);
          var secondHex8String = hex8String;
          var gradientType = this._gradientType ? "GradientType = 1, " : "";
          if (secondColor) {
            var s62 = tinycolor(secondColor);
            secondHex8String = "#" + rgbaToArgbHex(s62._r, s62._g, s62._b, s62._a);
          }
          return "progid:DXImageTransform.Microsoft.gradient(" + gradientType + "startColorstr=" + hex8String + ",endColorstr=" + secondHex8String + ")";
        },
        toString: function(format) {
          var formatSet = !!format;
          format = format || this._format;
          var formattedString = false;
          var hasAlpha = this._a < 1 && this._a >= 0;
          var needsAlphaFormat = !formatSet && hasAlpha && (format === "hex" || format === "hex6" || format === "hex3" || format === "hex4" || format === "hex8" || format === "name");
          if (needsAlphaFormat) {
            if (format === "name" && this._a === 0) {
              return this.toName();
            }
            return this.toRgbString();
          }
          if (format === "rgb") {
            formattedString = this.toRgbString();
          }
          if (format === "prgb") {
            formattedString = this.toPercentageRgbString();
          }
          if (format === "hex" || format === "hex6") {
            formattedString = this.toHexString();
          }
          if (format === "hex3") {
            formattedString = this.toHexString(true);
          }
          if (format === "hex4") {
            formattedString = this.toHex8String(true);
          }
          if (format === "hex8") {
            formattedString = this.toHex8String();
          }
          if (format === "name") {
            formattedString = this.toName();
          }
          if (format === "hsl") {
            formattedString = this.toHslString();
          }
          if (format === "hsv") {
            formattedString = this.toHsvString();
          }
          return formattedString || this.toHexString();
        },
        clone: function() {
          return tinycolor(this.toString());
        },
        _applyModification: function(fn, args) {
          var color = fn.apply(null, [this].concat([].slice.call(args)));
          this._r = color._r;
          this._g = color._g;
          this._b = color._b;
          this.setAlpha(color._a);
          return this;
        },
        lighten: function() {
          return this._applyModification(lighten, arguments);
        },
        brighten: function() {
          return this._applyModification(brighten, arguments);
        },
        darken: function() {
          return this._applyModification(darken, arguments);
        },
        desaturate: function() {
          return this._applyModification(desaturate, arguments);
        },
        saturate: function() {
          return this._applyModification(saturate, arguments);
        },
        greyscale: function() {
          return this._applyModification(greyscale, arguments);
        },
        spin: function() {
          return this._applyModification(spin, arguments);
        },
        _applyCombination: function(fn, args) {
          return fn.apply(null, [this].concat([].slice.call(args)));
        },
        analogous: function() {
          return this._applyCombination(analogous, arguments);
        },
        complement: function() {
          return this._applyCombination(complement, arguments);
        },
        monochromatic: function() {
          return this._applyCombination(monochromatic, arguments);
        },
        splitcomplement: function() {
          return this._applyCombination(splitcomplement, arguments);
        },
        triad: function() {
          return this._applyCombination(triad, arguments);
        },
        tetrad: function() {
          return this._applyCombination(tetrad, arguments);
        }
      };
      tinycolor.fromRatio = function(color, opts) {
        if (typeof color == "object") {
          var newColor = {};
          for (var i67 in color) {
            if (color.hasOwnProperty(i67)) {
              if (i67 === "a") {
                newColor[i67] = color[i67];
              } else {
                newColor[i67] = convertToPercentage(color[i67]);
              }
            }
          }
          color = newColor;
        }
        return tinycolor(color, opts);
      };
      function inputToRGB(color) {
        var rgb = { r: 0, g: 0, b: 0 };
        var a82 = 1;
        var s62 = null;
        var v5 = null;
        var l29 = null;
        var ok = false;
        var format = false;
        if (typeof color == "string") {
          color = stringInputToObject(color);
        }
        if (typeof color == "object") {
          if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {
            rgb = rgbToRgb(color.r, color.g, color.b);
            ok = true;
            format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";
          } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {
            s62 = convertToPercentage(color.s);
            v5 = convertToPercentage(color.v);
            rgb = hsvToRgb(color.h, s62, v5);
            ok = true;
            format = "hsv";
          } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {
            s62 = convertToPercentage(color.s);
            l29 = convertToPercentage(color.l);
            rgb = hslToRgb(color.h, s62, l29);
            ok = true;
            format = "hsl";
          }
          if (color.hasOwnProperty("a")) {
            a82 = color.a;
          }
        }
        a82 = boundAlpha(a82);
        return {
          ok,
          format: color.format || format,
          r: mathMin(255, mathMax(rgb.r, 0)),
          g: mathMin(255, mathMax(rgb.g, 0)),
          b: mathMin(255, mathMax(rgb.b, 0)),
          a: a82
        };
      }
      function rgbToRgb(r61, g14, b7) {
        return {
          r: bound01(r61, 255) * 255,
          g: bound01(g14, 255) * 255,
          b: bound01(b7, 255) * 255
        };
      }
      function rgbToHsl(r61, g14, b7) {
        r61 = bound01(r61, 255);
        g14 = bound01(g14, 255);
        b7 = bound01(b7, 255);
        var max3 = mathMax(r61, g14, b7), min3 = mathMin(r61, g14, b7);
        var h12, s62, l29 = (max3 + min3) / 2;
        if (max3 == min3) {
          h12 = s62 = 0;
        } else {
          var d10 = max3 - min3;
          s62 = l29 > 0.5 ? d10 / (2 - max3 - min3) : d10 / (max3 + min3);
          switch (max3) {
            case r61:
              h12 = (g14 - b7) / d10 + (g14 < b7 ? 6 : 0);
              break;
            case g14:
              h12 = (b7 - r61) / d10 + 2;
              break;
            case b7:
              h12 = (r61 - g14) / d10 + 4;
              break;
          }
          h12 /= 6;
        }
        return { h: h12, s: s62, l: l29 };
      }
      function hslToRgb(h12, s62, l29) {
        var r61, g14, b7;
        h12 = bound01(h12, 360);
        s62 = bound01(s62, 100);
        l29 = bound01(l29, 100);
        function hue2rgb(p18, q4, t87) {
          if (t87 < 0)
            t87 += 1;
          if (t87 > 1)
            t87 -= 1;
          if (t87 < 1 / 6)
            return p18 + (q4 - p18) * 6 * t87;
          if (t87 < 1 / 2)
            return q4;
          if (t87 < 2 / 3)
            return p18 + (q4 - p18) * (2 / 3 - t87) * 6;
          return p18;
        }
        if (s62 === 0) {
          r61 = g14 = b7 = l29;
        } else {
          var q3 = l29 < 0.5 ? l29 * (1 + s62) : l29 + s62 - l29 * s62;
          var p17 = 2 * l29 - q3;
          r61 = hue2rgb(p17, q3, h12 + 1 / 3);
          g14 = hue2rgb(p17, q3, h12);
          b7 = hue2rgb(p17, q3, h12 - 1 / 3);
        }
        return { r: r61 * 255, g: g14 * 255, b: b7 * 255 };
      }
      function rgbToHsv(r61, g14, b7) {
        r61 = bound01(r61, 255);
        g14 = bound01(g14, 255);
        b7 = bound01(b7, 255);
        var max3 = mathMax(r61, g14, b7), min3 = mathMin(r61, g14, b7);
        var h12, s62, v5 = max3;
        var d10 = max3 - min3;
        s62 = max3 === 0 ? 0 : d10 / max3;
        if (max3 == min3) {
          h12 = 0;
        } else {
          switch (max3) {
            case r61:
              h12 = (g14 - b7) / d10 + (g14 < b7 ? 6 : 0);
              break;
            case g14:
              h12 = (b7 - r61) / d10 + 2;
              break;
            case b7:
              h12 = (r61 - g14) / d10 + 4;
              break;
          }
          h12 /= 6;
        }
        return { h: h12, s: s62, v: v5 };
      }
      function hsvToRgb(h12, s62, v5) {
        h12 = bound01(h12, 360) * 6;
        s62 = bound01(s62, 100);
        v5 = bound01(v5, 100);
        var i67 = Math2.floor(h12), f21 = h12 - i67, p17 = v5 * (1 - s62), q3 = v5 * (1 - f21 * s62), t87 = v5 * (1 - (1 - f21) * s62), mod = i67 % 6, r61 = [v5, q3, p17, p17, t87, v5][mod], g14 = [t87, v5, v5, q3, p17, p17][mod], b7 = [p17, p17, t87, v5, v5, q3][mod];
        return { r: r61 * 255, g: g14 * 255, b: b7 * 255 };
      }
      function rgbToHex(r61, g14, b7, allow3Char) {
        var hex = [
          pad2(mathRound(r61).toString(16)),
          pad2(mathRound(g14).toString(16)),
          pad2(mathRound(b7).toString(16))
        ];
        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {
          return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
        }
        return hex.join("");
      }
      function rgbaToHex(r61, g14, b7, a82, allow4Char) {
        var hex = [
          pad2(mathRound(r61).toString(16)),
          pad2(mathRound(g14).toString(16)),
          pad2(mathRound(b7).toString(16)),
          pad2(convertDecimalToHex(a82))
        ];
        if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {
          return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);
        }
        return hex.join("");
      }
      function rgbaToArgbHex(r61, g14, b7, a82) {
        var hex = [
          pad2(convertDecimalToHex(a82)),
          pad2(mathRound(r61).toString(16)),
          pad2(mathRound(g14).toString(16)),
          pad2(mathRound(b7).toString(16))
        ];
        return hex.join("");
      }
      tinycolor.equals = function(color1, color2) {
        if (!color1 || !color2) {
          return false;
        }
        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();
      };
      tinycolor.random = function() {
        return tinycolor.fromRatio({
          r: mathRandom(),
          g: mathRandom(),
          b: mathRandom()
        });
      };
      function desaturate(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor(color).toHsl();
        hsl.s -= amount / 100;
        hsl.s = clamp01(hsl.s);
        return tinycolor(hsl);
      }
      function saturate(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor(color).toHsl();
        hsl.s += amount / 100;
        hsl.s = clamp01(hsl.s);
        return tinycolor(hsl);
      }
      function greyscale(color) {
        return tinycolor(color).desaturate(100);
      }
      function lighten(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor(color).toHsl();
        hsl.l += amount / 100;
        hsl.l = clamp01(hsl.l);
        return tinycolor(hsl);
      }
      function brighten(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var rgb = tinycolor(color).toRgb();
        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * -(amount / 100))));
        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * -(amount / 100))));
        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * -(amount / 100))));
        return tinycolor(rgb);
      }
      function darken(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor(color).toHsl();
        hsl.l -= amount / 100;
        hsl.l = clamp01(hsl.l);
        return tinycolor(hsl);
      }
      function spin(color, amount) {
        var hsl = tinycolor(color).toHsl();
        var hue = (hsl.h + amount) % 360;
        hsl.h = hue < 0 ? 360 + hue : hue;
        return tinycolor(hsl);
      }
      function complement(color) {
        var hsl = tinycolor(color).toHsl();
        hsl.h = (hsl.h + 180) % 360;
        return tinycolor(hsl);
      }
      function triad(color) {
        var hsl = tinycolor(color).toHsl();
        var h12 = hsl.h;
        return [
          tinycolor(color),
          tinycolor({ h: (h12 + 120) % 360, s: hsl.s, l: hsl.l }),
          tinycolor({ h: (h12 + 240) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function tetrad(color) {
        var hsl = tinycolor(color).toHsl();
        var h12 = hsl.h;
        return [
          tinycolor(color),
          tinycolor({ h: (h12 + 90) % 360, s: hsl.s, l: hsl.l }),
          tinycolor({ h: (h12 + 180) % 360, s: hsl.s, l: hsl.l }),
          tinycolor({ h: (h12 + 270) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function splitcomplement(color) {
        var hsl = tinycolor(color).toHsl();
        var h12 = hsl.h;
        return [
          tinycolor(color),
          tinycolor({ h: (h12 + 72) % 360, s: hsl.s, l: hsl.l }),
          tinycolor({ h: (h12 + 216) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function analogous(color, results, slices) {
        results = results || 6;
        slices = slices || 30;
        var hsl = tinycolor(color).toHsl();
        var part = 360 / slices;
        var ret = [tinycolor(color)];
        for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results; ) {
          hsl.h = (hsl.h + part) % 360;
          ret.push(tinycolor(hsl));
        }
        return ret;
      }
      function monochromatic(color, results) {
        results = results || 6;
        var hsv = tinycolor(color).toHsv();
        var h12 = hsv.h, s62 = hsv.s, v5 = hsv.v;
        var ret = [];
        var modification = 1 / results;
        while (results--) {
          ret.push(tinycolor({ h: h12, s: s62, v: v5 }));
          v5 = (v5 + modification) % 1;
        }
        return ret;
      }
      tinycolor.mix = function(color1, color2, amount) {
        amount = amount === 0 ? 0 : amount || 50;
        var rgb1 = tinycolor(color1).toRgb();
        var rgb2 = tinycolor(color2).toRgb();
        var p17 = amount / 100;
        var rgba = {
          r: (rgb2.r - rgb1.r) * p17 + rgb1.r,
          g: (rgb2.g - rgb1.g) * p17 + rgb1.g,
          b: (rgb2.b - rgb1.b) * p17 + rgb1.b,
          a: (rgb2.a - rgb1.a) * p17 + rgb1.a
        };
        return tinycolor(rgba);
      };
      tinycolor.readability = function(color1, color2) {
        var c1 = tinycolor(color1);
        var c22 = tinycolor(color2);
        return (Math2.max(c1.getLuminance(), c22.getLuminance()) + 0.05) / (Math2.min(c1.getLuminance(), c22.getLuminance()) + 0.05);
      };
      tinycolor.isReadable = function(color1, color2, wcag2) {
        var readability = tinycolor.readability(color1, color2);
        var wcag2Parms, out;
        out = false;
        wcag2Parms = validateWCAG2Parms(wcag2);
        switch (wcag2Parms.level + wcag2Parms.size) {
          case "AAsmall":
          case "AAAlarge":
            out = readability >= 4.5;
            break;
          case "AAlarge":
            out = readability >= 3;
            break;
          case "AAAsmall":
            out = readability >= 7;
            break;
        }
        return out;
      };
      tinycolor.mostReadable = function(baseColor, colorList, args) {
        var bestColor = null;
        var bestScore = 0;
        var readability;
        var includeFallbackColors, level, size2;
        args = args || {};
        includeFallbackColors = args.includeFallbackColors;
        level = args.level;
        size2 = args.size;
        for (var i67 = 0; i67 < colorList.length; i67++) {
          readability = tinycolor.readability(baseColor, colorList[i67]);
          if (readability > bestScore) {
            bestScore = readability;
            bestColor = tinycolor(colorList[i67]);
          }
        }
        if (tinycolor.isReadable(baseColor, bestColor, { "level": level, "size": size2 }) || !includeFallbackColors) {
          return bestColor;
        } else {
          args.includeFallbackColors = false;
          return tinycolor.mostReadable(baseColor, ["#fff", "#000"], args);
        }
      };
      var names = tinycolor.names = {
        aliceblue: "f0f8ff",
        antiquewhite: "faebd7",
        aqua: "0ff",
        aquamarine: "7fffd4",
        azure: "f0ffff",
        beige: "f5f5dc",
        bisque: "ffe4c4",
        black: "000",
        blanchedalmond: "ffebcd",
        blue: "00f",
        blueviolet: "8a2be2",
        brown: "a52a2a",
        burlywood: "deb887",
        burntsienna: "ea7e5d",
        cadetblue: "5f9ea0",
        chartreuse: "7fff00",
        chocolate: "d2691e",
        coral: "ff7f50",
        cornflowerblue: "6495ed",
        cornsilk: "fff8dc",
        crimson: "dc143c",
        cyan: "0ff",
        darkblue: "00008b",
        darkcyan: "008b8b",
        darkgoldenrod: "b8860b",
        darkgray: "a9a9a9",
        darkgreen: "006400",
        darkgrey: "a9a9a9",
        darkkhaki: "bdb76b",
        darkmagenta: "8b008b",
        darkolivegreen: "556b2f",
        darkorange: "ff8c00",
        darkorchid: "9932cc",
        darkred: "8b0000",
        darksalmon: "e9967a",
        darkseagreen: "8fbc8f",
        darkslateblue: "483d8b",
        darkslategray: "2f4f4f",
        darkslategrey: "2f4f4f",
        darkturquoise: "00ced1",
        darkviolet: "9400d3",
        deeppink: "ff1493",
        deepskyblue: "00bfff",
        dimgray: "696969",
        dimgrey: "696969",
        dodgerblue: "1e90ff",
        firebrick: "b22222",
        floralwhite: "fffaf0",
        forestgreen: "228b22",
        fuchsia: "f0f",
        gainsboro: "dcdcdc",
        ghostwhite: "f8f8ff",
        gold: "ffd700",
        goldenrod: "daa520",
        gray: "808080",
        green: "008000",
        greenyellow: "adff2f",
        grey: "808080",
        honeydew: "f0fff0",
        hotpink: "ff69b4",
        indianred: "cd5c5c",
        indigo: "4b0082",
        ivory: "fffff0",
        khaki: "f0e68c",
        lavender: "e6e6fa",
        lavenderblush: "fff0f5",
        lawngreen: "7cfc00",
        lemonchiffon: "fffacd",
        lightblue: "add8e6",
        lightcoral: "f08080",
        lightcyan: "e0ffff",
        lightgoldenrodyellow: "fafad2",
        lightgray: "d3d3d3",
        lightgreen: "90ee90",
        lightgrey: "d3d3d3",
        lightpink: "ffb6c1",
        lightsalmon: "ffa07a",
        lightseagreen: "20b2aa",
        lightskyblue: "87cefa",
        lightslategray: "789",
        lightslategrey: "789",
        lightsteelblue: "b0c4de",
        lightyellow: "ffffe0",
        lime: "0f0",
        limegreen: "32cd32",
        linen: "faf0e6",
        magenta: "f0f",
        maroon: "800000",
        mediumaquamarine: "66cdaa",
        mediumblue: "0000cd",
        mediumorchid: "ba55d3",
        mediumpurple: "9370db",
        mediumseagreen: "3cb371",
        mediumslateblue: "7b68ee",
        mediumspringgreen: "00fa9a",
        mediumturquoise: "48d1cc",
        mediumvioletred: "c71585",
        midnightblue: "191970",
        mintcream: "f5fffa",
        mistyrose: "ffe4e1",
        moccasin: "ffe4b5",
        navajowhite: "ffdead",
        navy: "000080",
        oldlace: "fdf5e6",
        olive: "808000",
        olivedrab: "6b8e23",
        orange: "ffa500",
        orangered: "ff4500",
        orchid: "da70d6",
        palegoldenrod: "eee8aa",
        palegreen: "98fb98",
        paleturquoise: "afeeee",
        palevioletred: "db7093",
        papayawhip: "ffefd5",
        peachpuff: "ffdab9",
        peru: "cd853f",
        pink: "ffc0cb",
        plum: "dda0dd",
        powderblue: "b0e0e6",
        purple: "800080",
        rebeccapurple: "663399",
        red: "f00",
        rosybrown: "bc8f8f",
        royalblue: "4169e1",
        saddlebrown: "8b4513",
        salmon: "fa8072",
        sandybrown: "f4a460",
        seagreen: "2e8b57",
        seashell: "fff5ee",
        sienna: "a0522d",
        silver: "c0c0c0",
        skyblue: "87ceeb",
        slateblue: "6a5acd",
        slategray: "708090",
        slategrey: "708090",
        snow: "fffafa",
        springgreen: "00ff7f",
        steelblue: "4682b4",
        tan: "d2b48c",
        teal: "008080",
        thistle: "d8bfd8",
        tomato: "ff6347",
        turquoise: "40e0d0",
        violet: "ee82ee",
        wheat: "f5deb3",
        white: "fff",
        whitesmoke: "f5f5f5",
        yellow: "ff0",
        yellowgreen: "9acd32"
      };
      var hexNames = tinycolor.hexNames = flip2(names);
      function flip2(o101) {
        var flipped = {};
        for (var i67 in o101) {
          if (o101.hasOwnProperty(i67)) {
            flipped[o101[i67]] = i67;
          }
        }
        return flipped;
      }
      function boundAlpha(a82) {
        a82 = parseFloat(a82);
        if (isNaN(a82) || a82 < 0 || a82 > 1) {
          a82 = 1;
        }
        return a82;
      }
      function bound01(n45, max3) {
        if (isOnePointZero(n45)) {
          n45 = "100%";
        }
        var processPercent = isPercentage(n45);
        n45 = mathMin(max3, mathMax(0, parseFloat(n45)));
        if (processPercent) {
          n45 = parseInt(n45 * max3, 10) / 100;
        }
        if (Math2.abs(n45 - max3) < 1e-6) {
          return 1;
        }
        return n45 % max3 / parseFloat(max3);
      }
      function clamp01(val) {
        return mathMin(1, mathMax(0, val));
      }
      function parseIntFromHex(val) {
        return parseInt(val, 16);
      }
      function isOnePointZero(n45) {
        return typeof n45 == "string" && n45.indexOf(".") != -1 && parseFloat(n45) === 1;
      }
      function isPercentage(n45) {
        return typeof n45 === "string" && n45.indexOf("%") != -1;
      }
      function pad2(c22) {
        return c22.length == 1 ? "0" + c22 : "" + c22;
      }
      function convertToPercentage(n45) {
        if (n45 <= 1) {
          n45 = n45 * 100 + "%";
        }
        return n45;
      }
      function convertDecimalToHex(d10) {
        return Math2.round(parseFloat(d10) * 255).toString(16);
      }
      function convertHexToDecimal(h12) {
        return parseIntFromHex(h12) / 255;
      }
      var matchers = function() {
        var CSS_INTEGER = "[-\\+]?\\d+%?";
        var CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";
        var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";
        var PERMISSIVE_MATCH3 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
        var PERMISSIVE_MATCH4 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
        return {
          CSS_UNIT: new RegExp(CSS_UNIT),
          rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
          rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
          hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
          hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
          hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
          hsva: new RegExp("hsva" + PERMISSIVE_MATCH4),
          hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
          hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
          hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
          hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
        };
      }();
      function isValidCSSUnit(color) {
        return !!matchers.CSS_UNIT.exec(color);
      }
      function stringInputToObject(color) {
        color = color.replace(trimLeft, "").replace(trimRight, "").toLowerCase();
        var named = false;
        if (names[color]) {
          color = names[color];
          named = true;
        } else if (color == "transparent") {
          return { r: 0, g: 0, b: 0, a: 0, format: "name" };
        }
        var match;
        if (match = matchers.rgb.exec(color)) {
          return { r: match[1], g: match[2], b: match[3] };
        }
        if (match = matchers.rgba.exec(color)) {
          return { r: match[1], g: match[2], b: match[3], a: match[4] };
        }
        if (match = matchers.hsl.exec(color)) {
          return { h: match[1], s: match[2], l: match[3] };
        }
        if (match = matchers.hsla.exec(color)) {
          return { h: match[1], s: match[2], l: match[3], a: match[4] };
        }
        if (match = matchers.hsv.exec(color)) {
          return { h: match[1], s: match[2], v: match[3] };
        }
        if (match = matchers.hsva.exec(color)) {
          return { h: match[1], s: match[2], v: match[3], a: match[4] };
        }
        if (match = matchers.hex8.exec(color)) {
          return {
            r: parseIntFromHex(match[1]),
            g: parseIntFromHex(match[2]),
            b: parseIntFromHex(match[3]),
            a: convertHexToDecimal(match[4]),
            format: named ? "name" : "hex8"
          };
        }
        if (match = matchers.hex6.exec(color)) {
          return {
            r: parseIntFromHex(match[1]),
            g: parseIntFromHex(match[2]),
            b: parseIntFromHex(match[3]),
            format: named ? "name" : "hex"
          };
        }
        if (match = matchers.hex4.exec(color)) {
          return {
            r: parseIntFromHex(match[1] + "" + match[1]),
            g: parseIntFromHex(match[2] + "" + match[2]),
            b: parseIntFromHex(match[3] + "" + match[3]),
            a: convertHexToDecimal(match[4] + "" + match[4]),
            format: named ? "name" : "hex8"
          };
        }
        if (match = matchers.hex3.exec(color)) {
          return {
            r: parseIntFromHex(match[1] + "" + match[1]),
            g: parseIntFromHex(match[2] + "" + match[2]),
            b: parseIntFromHex(match[3] + "" + match[3]),
            format: named ? "name" : "hex"
          };
        }
        return false;
      }
      function validateWCAG2Parms(parms) {
        var level, size2;
        parms = parms || { "level": "AA", "size": "small" };
        level = (parms.level || "AA").toUpperCase();
        size2 = (parms.size || "small").toLowerCase();
        if (level !== "AA" && level !== "AAA") {
          level = "AA";
        }
        if (size2 !== "small" && size2 !== "large") {
          size2 = "small";
        }
        return { "level": level, "size": size2 };
      }
      if (typeof module !== "undefined" && module.exports) {
        module.exports = tinycolor;
      } else if (typeof define === "function" && define.amd) {
        define(function() {
          return tinycolor;
        });
      } else {
        window.tinycolor = tinycolor;
      }
    })(Math);
  }
});

// node_modules/@aws-amplify/ui-react/dist/esm/components/index.js
var components_exports = {};
__export(components_exports, {
  AmplifyProvider: () => n29,
  Authenticator: () => l18,
  Geocoder: () => u18,
  InAppMessageDisplay: () => g13,
  InAppMessagingProvider: () => InAppMessagingProvider,
  LocationSearch: () => a45,
  MapView: () => u17,
  ThemeProvider: () => a46,
  useAuthenticator: () => useAuthenticator,
  useInAppMessaging: () => useInAppMessaging,
  withAuthenticator: () => n28,
  withInAppMessaging: () => i66
});

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/Authenticator.js
var import_jsx_runtime62 = __toESM(require_jsx_runtime());
var i41 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/context/AuthenticatorProvider.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react7 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useMachine.js
var import_react3 = __toESM(require_react());
var import_with_selector = __toESM(require_with_selector());

// node_modules/xstate/es/_virtual/_tslib.js
var __assign2 = function() {
  __assign2 = Object.assign || function __assign5(t87) {
    for (var s62, i67 = 1, n45 = arguments.length; i67 < n45; i67++) {
      s62 = arguments[i67];
      for (var p17 in s62)
        if (Object.prototype.hasOwnProperty.call(s62, p17))
          t87[p17] = s62[p17];
    }
    return t87;
  };
  return __assign2.apply(this, arguments);
};
function __rest2(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
}
function __values(o101) {
  var s62 = typeof Symbol === "function" && Symbol.iterator, m29 = s62 && o101[s62], i67 = 0;
  if (m29)
    return m29.call(o101);
  if (o101 && typeof o101.length === "number")
    return {
      next: function() {
        if (o101 && i67 >= o101.length)
          o101 = void 0;
        return { value: o101 && o101[i67++], done: !o101 };
      }
    };
  throw new TypeError(s62 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __read(o101, n45) {
  var m29 = typeof Symbol === "function" && o101[Symbol.iterator];
  if (!m29)
    return o101;
  var i67 = m29.call(o101), r61, ar = [], e142;
  try {
    while ((n45 === void 0 || n45-- > 0) && !(r61 = i67.next()).done)
      ar.push(r61.value);
  } catch (error3) {
    e142 = { error: error3 };
  } finally {
    try {
      if (r61 && !r61.done && (m29 = i67["return"]))
        m29.call(i67);
    } finally {
      if (e142)
        throw e142.error;
    }
  }
  return ar;
}
function __spreadArray2(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i67 = 0, l29 = from.length, ar; i67 < l29; i67++) {
      if (ar || !(i67 in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i67);
        ar[i67] = from[i67];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
}

// node_modules/xstate/es/types.js
var ActionTypes;
(function(ActionTypes2) {
  ActionTypes2["Start"] = "xstate.start";
  ActionTypes2["Stop"] = "xstate.stop";
  ActionTypes2["Raise"] = "xstate.raise";
  ActionTypes2["Send"] = "xstate.send";
  ActionTypes2["Cancel"] = "xstate.cancel";
  ActionTypes2["NullEvent"] = "";
  ActionTypes2["Assign"] = "xstate.assign";
  ActionTypes2["After"] = "xstate.after";
  ActionTypes2["DoneState"] = "done.state";
  ActionTypes2["DoneInvoke"] = "done.invoke";
  ActionTypes2["Log"] = "xstate.log";
  ActionTypes2["Init"] = "xstate.init";
  ActionTypes2["Invoke"] = "xstate.invoke";
  ActionTypes2["ErrorExecution"] = "error.execution";
  ActionTypes2["ErrorCommunication"] = "error.communication";
  ActionTypes2["ErrorPlatform"] = "error.platform";
  ActionTypes2["ErrorCustom"] = "xstate.error";
  ActionTypes2["Update"] = "xstate.update";
  ActionTypes2["Pure"] = "xstate.pure";
  ActionTypes2["Choose"] = "xstate.choose";
})(ActionTypes || (ActionTypes = {}));
var SpecialTargets;
(function(SpecialTargets2) {
  SpecialTargets2["Parent"] = "#_parent";
  SpecialTargets2["Internal"] = "#_internal";
})(SpecialTargets || (SpecialTargets = {}));

// node_modules/xstate/es/actionTypes.js
var start = ActionTypes.Start;
var stop = ActionTypes.Stop;
var raise = ActionTypes.Raise;
var send = ActionTypes.Send;
var cancel = ActionTypes.Cancel;
var nullEvent = ActionTypes.NullEvent;
var assign = ActionTypes.Assign;
var after = ActionTypes.After;
var doneState = ActionTypes.DoneState;
var log = ActionTypes.Log;
var init = ActionTypes.Init;
var invoke = ActionTypes.Invoke;
var errorExecution = ActionTypes.ErrorExecution;
var errorPlatform = ActionTypes.ErrorPlatform;
var error = ActionTypes.ErrorCustom;
var update = ActionTypes.Update;
var choose = ActionTypes.Choose;
var pure = ActionTypes.Pure;

// node_modules/xstate/es/constants.js
var STATE_DELIMITER = ".";
var EMPTY_ACTIVITY_MAP = {};
var DEFAULT_GUARD_TYPE = "xstate.guard";
var TARGETLESS_KEY = "";

// node_modules/xstate/es/environment.js
var IS_PRODUCTION = false;

// node_modules/xstate/es/utils.js
var _a;
function matchesState(parentStateId, childStateId, delimiter) {
  if (delimiter === void 0) {
    delimiter = STATE_DELIMITER;
  }
  var parentStateValue = toStateValue(parentStateId, delimiter);
  var childStateValue = toStateValue(childStateId, delimiter);
  if (isString(childStateValue)) {
    if (isString(parentStateValue)) {
      return childStateValue === parentStateValue;
    }
    return false;
  }
  if (isString(parentStateValue)) {
    return parentStateValue in childStateValue;
  }
  return Object.keys(parentStateValue).every(function(key) {
    if (!(key in childStateValue)) {
      return false;
    }
    return matchesState(parentStateValue[key], childStateValue[key]);
  });
}
function getEventType(event2) {
  try {
    return isString(event2) || typeof event2 === "number" ? "".concat(event2) : event2.type;
  } catch (e142) {
    throw new Error("Events must be strings or objects with a string event.type property.");
  }
}
function toStatePath(stateId, delimiter) {
  try {
    if (isArray(stateId)) {
      return stateId;
    }
    return stateId.toString().split(delimiter);
  } catch (e142) {
    throw new Error("'".concat(stateId, "' is not a valid state path."));
  }
}
function isStateLike(state) {
  return typeof state === "object" && "value" in state && "context" in state && "event" in state && "_event" in state;
}
function toStateValue(stateValue, delimiter) {
  if (isStateLike(stateValue)) {
    return stateValue.value;
  }
  if (isArray(stateValue)) {
    return pathToStateValue(stateValue);
  }
  if (typeof stateValue !== "string") {
    return stateValue;
  }
  var statePath = toStatePath(stateValue, delimiter);
  return pathToStateValue(statePath);
}
function pathToStateValue(statePath) {
  if (statePath.length === 1) {
    return statePath[0];
  }
  var value = {};
  var marker = value;
  for (var i67 = 0; i67 < statePath.length - 1; i67++) {
    if (i67 === statePath.length - 2) {
      marker[statePath[i67]] = statePath[i67 + 1];
    } else {
      marker[statePath[i67]] = {};
      marker = marker[statePath[i67]];
    }
  }
  return value;
}
function mapValues(collection, iteratee) {
  var result = {};
  var collectionKeys = Object.keys(collection);
  for (var i67 = 0; i67 < collectionKeys.length; i67++) {
    var key = collectionKeys[i67];
    result[key] = iteratee(collection[key], key, collection, i67);
  }
  return result;
}
function mapFilterValues(collection, iteratee, predicate) {
  var e_1, _a3;
  var result = {};
  try {
    for (var _b = __values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {
      var key = _c.value;
      var item = collection[key];
      if (!predicate(item)) {
        continue;
      }
      result[key] = iteratee(item, key, collection);
    }
  } catch (e_1_1) {
    e_1 = {
      error: e_1_1
    };
  } finally {
    try {
      if (_c && !_c.done && (_a3 = _b.return))
        _a3.call(_b);
    } finally {
      if (e_1)
        throw e_1.error;
    }
  }
  return result;
}
var path = function(props) {
  return function(object) {
    var e_2, _a3;
    var result = object;
    try {
      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {
        var prop = props_1_1.value;
        result = result[prop];
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (props_1_1 && !props_1_1.done && (_a3 = props_1.return))
          _a3.call(props_1);
      } finally {
        if (e_2)
          throw e_2.error;
      }
    }
    return result;
  };
};
function nestedPath(props, accessorProp) {
  return function(object) {
    var e_3, _a3;
    var result = object;
    try {
      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {
        var prop = props_2_1.value;
        result = result[accessorProp][prop];
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (props_2_1 && !props_2_1.done && (_a3 = props_2.return))
          _a3.call(props_2);
      } finally {
        if (e_3)
          throw e_3.error;
      }
    }
    return result;
  };
}
function toStatePaths(stateValue) {
  if (!stateValue) {
    return [[]];
  }
  if (isString(stateValue)) {
    return [[stateValue]];
  }
  var result = flatten(Object.keys(stateValue).map(function(key) {
    var subStateValue = stateValue[key];
    if (typeof subStateValue !== "string" && (!subStateValue || !Object.keys(subStateValue).length)) {
      return [[key]];
    }
    return toStatePaths(stateValue[key]).map(function(subPath) {
      return [key].concat(subPath);
    });
  }));
  return result;
}
function flatten(array) {
  var _a3;
  return (_a3 = []).concat.apply(_a3, __spreadArray2([], __read(array), false));
}
function toArrayStrict(value) {
  if (isArray(value)) {
    return value;
  }
  return [value];
}
function toArray(value) {
  if (value === void 0) {
    return [];
  }
  return toArrayStrict(value);
}
function mapContext(mapper, context, _event) {
  var e_5, _a3;
  if (isFunction(mapper)) {
    return mapper(context, _event.data);
  }
  var result = {};
  try {
    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {
      var key = _c.value;
      var subMapper = mapper[key];
      if (isFunction(subMapper)) {
        result[key] = subMapper(context, _event.data);
      } else {
        result[key] = subMapper;
      }
    }
  } catch (e_5_1) {
    e_5 = {
      error: e_5_1
    };
  } finally {
    try {
      if (_c && !_c.done && (_a3 = _b.return))
        _a3.call(_b);
    } finally {
      if (e_5)
        throw e_5.error;
    }
  }
  return result;
}
function isBuiltInEvent(eventType) {
  return /^(done|error)\./.test(eventType);
}
function isPromiseLike(value) {
  if (value instanceof Promise) {
    return true;
  }
  if (value !== null && (isFunction(value) || typeof value === "object") && isFunction(value.then)) {
    return true;
  }
  return false;
}
function isBehavior(value) {
  return value !== null && typeof value === "object" && "transition" in value && typeof value.transition === "function";
}
function partition(items, predicate) {
  var e_6, _a3;
  var _b = __read([[], []], 2), truthy = _b[0], falsy = _b[1];
  try {
    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {
      var item = items_1_1.value;
      if (predicate(item)) {
        truthy.push(item);
      } else {
        falsy.push(item);
      }
    }
  } catch (e_6_1) {
    e_6 = {
      error: e_6_1
    };
  } finally {
    try {
      if (items_1_1 && !items_1_1.done && (_a3 = items_1.return))
        _a3.call(items_1);
    } finally {
      if (e_6)
        throw e_6.error;
    }
  }
  return [truthy, falsy];
}
function updateHistoryStates(hist, stateValue) {
  return mapValues(hist.states, function(subHist, key) {
    if (!subHist) {
      return void 0;
    }
    var subStateValue = (isString(stateValue) ? void 0 : stateValue[key]) || (subHist ? subHist.current : void 0);
    if (!subStateValue) {
      return void 0;
    }
    return {
      current: subStateValue,
      states: updateHistoryStates(subHist, subStateValue)
    };
  });
}
function updateHistoryValue(hist, stateValue) {
  return {
    current: stateValue,
    states: updateHistoryStates(hist, stateValue)
  };
}
function updateContext(context, _event, assignActions, state) {
  if (!IS_PRODUCTION) {
    warn(!!context, "Attempting to update undefined context");
  }
  var updatedContext = context ? assignActions.reduce(function(acc, assignAction) {
    var e_7, _a3;
    var assignment = assignAction.assignment;
    var meta = {
      state,
      action: assignAction,
      _event
    };
    var partialUpdate = {};
    if (isFunction(assignment)) {
      partialUpdate = assignment(acc, _event.data, meta);
    } else {
      try {
        for (var _b = __values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {
          var key = _c.value;
          var propAssignment = assignment[key];
          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;
        }
      } catch (e_7_1) {
        e_7 = {
          error: e_7_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a3 = _b.return))
            _a3.call(_b);
        } finally {
          if (e_7)
            throw e_7.error;
        }
      }
    }
    return Object.assign({}, acc, partialUpdate);
  }, context) : context;
  return updatedContext;
}
var warn = function() {
};
if (!IS_PRODUCTION) {
  warn = function(condition, message) {
    var error3 = condition instanceof Error ? condition : void 0;
    if (!error3 && condition) {
      return;
    }
    if (console !== void 0) {
      var args = ["Warning: ".concat(message)];
      if (error3) {
        args.push(error3);
      }
      console.warn.apply(console, args);
    }
  };
}
function isArray(value) {
  return Array.isArray(value);
}
function isFunction(value) {
  return typeof value === "function";
}
function isString(value) {
  return typeof value === "string";
}
function toGuard(condition, guardMap) {
  if (!condition) {
    return void 0;
  }
  if (isString(condition)) {
    return {
      type: DEFAULT_GUARD_TYPE,
      name: condition,
      predicate: guardMap ? guardMap[condition] : void 0
    };
  }
  if (isFunction(condition)) {
    return {
      type: DEFAULT_GUARD_TYPE,
      name: condition.name,
      predicate: condition
    };
  }
  return condition;
}
function isObservable(value) {
  try {
    return "subscribe" in value && isFunction(value.subscribe);
  } catch (e142) {
    return false;
  }
}
var symbolObservable = function() {
  return typeof Symbol === "function" && Symbol.observable || "@@observable";
}();
var interopSymbols = (_a = {}, _a[symbolObservable] = function() {
  return this;
}, _a[Symbol.observable] = function() {
  return this;
}, _a);
function isMachine(value) {
  return !!value && "__xstatenode" in value;
}
function isActor(value) {
  return !!value && typeof value.send === "function";
}
var uniqueId = function() {
  var currentId = 0;
  return function() {
    currentId++;
    return currentId.toString(16);
  };
}();
function toEventObject(event2, payload) {
  if (isString(event2) || typeof event2 === "number") {
    return __assign2({
      type: event2
    }, payload);
  }
  return event2;
}
function toSCXMLEvent(event2, scxmlEvent) {
  if (!isString(event2) && "$$type" in event2 && event2.$$type === "scxml") {
    return event2;
  }
  var eventObject = toEventObject(event2);
  return __assign2({
    name: eventObject.type,
    data: eventObject,
    $$type: "scxml",
    type: "external"
  }, scxmlEvent);
}
function toTransitionConfigArray(event2, configLike) {
  var transitions = toArrayStrict(configLike).map(function(transitionLike) {
    if (typeof transitionLike === "undefined" || typeof transitionLike === "string" || isMachine(transitionLike)) {
      return {
        target: transitionLike,
        event: event2
      };
    }
    return __assign2(__assign2({}, transitionLike), {
      event: event2
    });
  });
  return transitions;
}
function normalizeTarget(target) {
  if (target === void 0 || target === TARGETLESS_KEY) {
    return void 0;
  }
  return toArray(target);
}
function reportUnhandledExceptionOnInvocation(originalError, currentError, id) {
  if (!IS_PRODUCTION) {
    var originalStackTrace = originalError.stack ? " Stacktrace was '".concat(originalError.stack, "'") : "";
    if (originalError === currentError) {
      console.error("Missing onError handler for invocation '".concat(id, "', error was '").concat(originalError, "'.").concat(originalStackTrace));
    } else {
      var stackTrace = currentError.stack ? " Stacktrace was '".concat(currentError.stack, "'") : "";
      console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(id, "'. ") + "Original error: '".concat(originalError, "'. ").concat(originalStackTrace, " Current error is '").concat(currentError, "'.").concat(stackTrace));
    }
  }
}
function evaluateGuard(machine, guard, context, _event, state) {
  var guards = machine.options.guards;
  var guardMeta = {
    state,
    cond: guard,
    _event
  };
  if (guard.type === DEFAULT_GUARD_TYPE) {
    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);
  }
  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];
  if (!condFn) {
    throw new Error("Guard '".concat(guard.type, "' is not implemented on machine '").concat(machine.id, "'."));
  }
  return condFn(context, _event.data, guardMeta);
}
function toInvokeSource(src) {
  if (typeof src === "string") {
    return {
      type: src
    };
  }
  return src;
}
function toObserver(nextHandler, errorHandler, completionHandler) {
  var noop = function() {
  };
  var isObserver = typeof nextHandler === "object";
  var self2 = isObserver ? nextHandler : null;
  return {
    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self2),
    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self2),
    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self2)
  };
}
function createInvokeId(stateNodeId, index3) {
  return "".concat(stateNodeId, ":invocation[").concat(index3, "]");
}

// node_modules/xstate/es/actions.js
var initEvent = toSCXMLEvent({
  type: init
});
function getActionFunction(actionType, actionFunctionMap) {
  return actionFunctionMap ? actionFunctionMap[actionType] || void 0 : void 0;
}
function toActionObject(action, actionFunctionMap) {
  var actionObject;
  if (isString(action) || typeof action === "number") {
    var exec = getActionFunction(action, actionFunctionMap);
    if (isFunction(exec)) {
      actionObject = {
        type: action,
        exec
      };
    } else if (exec) {
      actionObject = exec;
    } else {
      actionObject = {
        type: action,
        exec: void 0
      };
    }
  } else if (isFunction(action)) {
    actionObject = {
      type: action.name || action.toString(),
      exec: action
    };
  } else {
    var exec = getActionFunction(action.type, actionFunctionMap);
    if (isFunction(exec)) {
      actionObject = __assign2(__assign2({}, action), {
        exec
      });
    } else if (exec) {
      var actionType = exec.type || action.type;
      actionObject = __assign2(__assign2(__assign2({}, exec), action), {
        type: actionType
      });
    } else {
      actionObject = action;
    }
  }
  return actionObject;
}
var toActionObjects = function(action, actionFunctionMap) {
  if (!action) {
    return [];
  }
  var actions = isArray(action) ? action : [action];
  return actions.map(function(subAction) {
    return toActionObject(subAction, actionFunctionMap);
  });
};
function toActivityDefinition(action) {
  var actionObject = toActionObject(action);
  return __assign2(__assign2({
    id: isString(action) ? action : actionObject.id
  }, actionObject), {
    type: actionObject.type
  });
}
function raise2(event2) {
  if (!isString(event2)) {
    return send2(event2, {
      to: SpecialTargets.Internal
    });
  }
  return {
    type: raise,
    event: event2
  };
}
function resolveRaise(action) {
  return {
    type: raise,
    _event: toSCXMLEvent(action.event)
  };
}
function send2(event2, options) {
  return {
    to: options ? options.to : void 0,
    type: send,
    event: isFunction(event2) ? event2 : toEventObject(event2),
    delay: options ? options.delay : void 0,
    id: options && options.id !== void 0 ? options.id : isFunction(event2) ? event2.name : getEventType(event2)
  };
}
function resolveSend(action, ctx, _event, delaysMap) {
  var meta = {
    _event
  };
  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);
  var resolvedDelay;
  if (isString(action.delay)) {
    var configDelay = delaysMap && delaysMap[action.delay];
    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;
  } else {
    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;
  }
  var resolvedTarget = isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;
  return __assign2(__assign2({}, action), {
    to: resolvedTarget,
    _event: resolvedEvent,
    event: resolvedEvent.data,
    delay: resolvedDelay
  });
}
function sendParent(event2, options) {
  return send2(event2, __assign2(__assign2({}, options), {
    to: SpecialTargets.Parent
  }));
}
function sendUpdate() {
  return sendParent(update);
}
var resolveLog = function(action, ctx, _event) {
  return __assign2(__assign2({}, action), {
    value: isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {
      _event
    })
  });
};
var cancel2 = function(sendId) {
  return {
    type: cancel,
    sendId
  };
};
function start2(activity) {
  var activityDef = toActivityDefinition(activity);
  return {
    type: ActionTypes.Start,
    activity: activityDef,
    exec: void 0
  };
}
function stop2(actorRef) {
  var activity = isFunction(actorRef) ? actorRef : toActivityDefinition(actorRef);
  return {
    type: ActionTypes.Stop,
    activity,
    exec: void 0
  };
}
function resolveStop(action, context, _event) {
  var actorRefOrString = isFunction(action.activity) ? action.activity(context, _event.data) : action.activity;
  var resolvedActorRef = typeof actorRefOrString === "string" ? {
    id: actorRefOrString
  } : actorRefOrString;
  var actionObject = {
    type: ActionTypes.Stop,
    activity: resolvedActorRef
  };
  return actionObject;
}
var assign2 = function(assignment) {
  return {
    type: assign,
    assignment
  };
};
function after2(delayRef, id) {
  var idSuffix = id ? "#".concat(id) : "";
  return "".concat(ActionTypes.After, "(").concat(delayRef, ")").concat(idSuffix);
}
function done(id, data) {
  var type = "".concat(ActionTypes.DoneState, ".").concat(id);
  var eventObject = {
    type,
    data
  };
  eventObject.toString = function() {
    return type;
  };
  return eventObject;
}
function doneInvoke(id, data) {
  var type = "".concat(ActionTypes.DoneInvoke, ".").concat(id);
  var eventObject = {
    type,
    data
  };
  eventObject.toString = function() {
    return type;
  };
  return eventObject;
}
function error2(id, data) {
  var type = "".concat(ActionTypes.ErrorPlatform, ".").concat(id);
  var eventObject = {
    type,
    data
  };
  eventObject.toString = function() {
    return type;
  };
  return eventObject;
}
function forwardTo(target, options) {
  if (!IS_PRODUCTION && (!target || typeof target === "function")) {
    var originalTarget_1 = target;
    target = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      var resolvedTarget = typeof originalTarget_1 === "function" ? originalTarget_1.apply(void 0, __spreadArray2([], __read(args), false)) : originalTarget_1;
      if (!resolvedTarget) {
        throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");
      }
      return resolvedTarget;
    };
  }
  return send2(function(_3, event2) {
    return event2;
  }, __assign2(__assign2({}, options), {
    to: target
  }));
}
var pluckAssigns = function(actionBlocks) {
  var e_1, _a3;
  var assignActions = [];
  try {
    for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {
      var block = actionBlocks_1_1.value;
      var i67 = 0;
      while (i67 < block.length) {
        if (block[i67].type === assign) {
          assignActions.push(block[i67]);
          block.splice(i67, 1);
          continue;
        }
        i67++;
      }
    }
  } catch (e_1_1) {
    e_1 = {
      error: e_1_1
    };
  } finally {
    try {
      if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a3 = actionBlocks_1.return))
        _a3.call(actionBlocks_1);
    } finally {
      if (e_1)
        throw e_1.error;
    }
  }
  return assignActions;
};
function resolveActions(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {
  if (preserveActionOrder === void 0) {
    preserveActionOrder = false;
  }
  var assignActions = preserveActionOrder ? [] : pluckAssigns(actionBlocks);
  var updatedContext = assignActions.length ? updateContext(currentContext, _event, assignActions, currentState) : currentContext;
  var preservedContexts = preserveActionOrder ? [currentContext] : void 0;
  var deferredToBlockEnd = [];
  function handleAction(actionObject) {
    var _a3;
    switch (actionObject.type) {
      case raise: {
        return resolveRaise(actionObject);
      }
      case send:
        var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays);
        if (!IS_PRODUCTION) {
          warn(
            !isString(actionObject.delay) || typeof sendAction.delay === "number",
            "No delay reference for delay expression '".concat(actionObject.delay, "' was found on machine '").concat(machine.id, "'")
          );
        }
        if (predictableExec && sendAction.to !== SpecialTargets.Internal) {
          deferredToBlockEnd.push(sendAction);
        }
        return sendAction;
      case log: {
        var resolved = resolveLog(actionObject, updatedContext, _event);
        predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);
        return resolved;
      }
      case choose: {
        var chooseAction = actionObject;
        var matchedActions = (_a3 = chooseAction.conds.find(function(condition) {
          var guard = toGuard(condition.cond, machine.options.guards);
          return !guard || evaluateGuard(machine, guard, updatedContext, _event, !predictableExec ? currentState : void 0);
        })) === null || _a3 === void 0 ? void 0 : _a3.actions;
        if (!matchedActions) {
          return [];
        }
        var _b = __read(resolveActions(machine, currentState, updatedContext, _event, [toActionObjects(toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2), resolvedActionsFromChoose = _b[0], resolvedContextFromChoose = _b[1];
        updatedContext = resolvedContextFromChoose;
        preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
        return resolvedActionsFromChoose;
      }
      case pure: {
        var matchedActions = actionObject.get(updatedContext, _event.data);
        if (!matchedActions) {
          return [];
        }
        var _c = __read(resolveActions(machine, currentState, updatedContext, _event, [toActionObjects(toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2), resolvedActionsFromPure = _c[0], resolvedContext = _c[1];
        updatedContext = resolvedContext;
        preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
        return resolvedActionsFromPure;
      }
      case stop: {
        var resolved = resolveStop(actionObject, updatedContext, _event);
        predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);
        return resolved;
      }
      case assign: {
        updatedContext = updateContext(updatedContext, _event, [actionObject], !predictableExec ? currentState : void 0);
        preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);
        break;
      }
      default:
        var resolvedActionObject = toActionObject(actionObject, machine.options.actions);
        var exec_1 = resolvedActionObject.exec;
        if (predictableExec) {
          predictableExec(resolvedActionObject, updatedContext, _event);
        } else if (exec_1 && preservedContexts) {
          var contextIndex_1 = preservedContexts.length - 1;
          resolvedActionObject = __assign2(__assign2({}, resolvedActionObject), {
            exec: function(_ctx) {
              var args = [];
              for (var _i = 1; _i < arguments.length; _i++) {
                args[_i - 1] = arguments[_i];
              }
              exec_1.apply(void 0, __spreadArray2([preservedContexts[contextIndex_1]], __read(args), false));
            }
          });
        }
        return resolvedActionObject;
    }
  }
  function processBlock(block) {
    var e_2, _a3;
    var resolvedActions2 = [];
    try {
      for (var block_1 = __values(block), block_1_1 = block_1.next(); !block_1_1.done; block_1_1 = block_1.next()) {
        var action = block_1_1.value;
        var resolved = handleAction(action);
        if (resolved) {
          resolvedActions2 = resolvedActions2.concat(resolved);
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (block_1_1 && !block_1_1.done && (_a3 = block_1.return))
          _a3.call(block_1);
      } finally {
        if (e_2)
          throw e_2.error;
      }
    }
    deferredToBlockEnd.forEach(function(action2) {
      predictableExec(action2, updatedContext, _event);
    });
    deferredToBlockEnd.length = 0;
    return resolvedActions2;
  }
  var resolvedActions = flatten(actionBlocks.map(processBlock));
  return [resolvedActions, updatedContext];
}

// node_modules/xstate/es/serviceScope.js
var serviceStack = [];
var provide = function(service, fn) {
  serviceStack.push(service);
  var result = fn(service);
  serviceStack.pop();
  return result;
};
var consume = function(fn) {
  return fn(serviceStack[serviceStack.length - 1]);
};

// node_modules/xstate/es/Actor.js
function createNullActor(id) {
  var _a3;
  return _a3 = {
    id,
    send: function() {
      return void 0;
    },
    subscribe: function() {
      return {
        unsubscribe: function() {
          return void 0;
        }
      };
    },
    getSnapshot: function() {
      return void 0;
    },
    toJSON: function() {
      return {
        id
      };
    }
  }, _a3[symbolObservable] = function() {
    return this;
  }, _a3;
}
function createInvocableActor(invokeDefinition, machine, context, _event) {
  var _a3;
  var invokeSrc = toInvokeSource(invokeDefinition.src);
  var serviceCreator = (_a3 = machine === null || machine === void 0 ? void 0 : machine.options.services) === null || _a3 === void 0 ? void 0 : _a3[invokeSrc.type];
  var resolvedData = invokeDefinition.data ? mapContext(invokeDefinition.data, context, _event) : void 0;
  var tempActor = serviceCreator ? createDeferredActor(serviceCreator, invokeDefinition.id, resolvedData) : createNullActor(invokeDefinition.id);
  tempActor.meta = invokeDefinition;
  return tempActor;
}
function createDeferredActor(entity, id, data) {
  var tempActor = createNullActor(id);
  tempActor.deferred = true;
  if (isMachine(entity)) {
    var initialState_1 = tempActor.state = provide(void 0, function() {
      return (data ? entity.withContext(data) : entity).initialState;
    });
    tempActor.getSnapshot = function() {
      return initialState_1;
    };
  }
  return tempActor;
}
function isActor2(item) {
  try {
    return typeof item.send === "function";
  } catch (e142) {
    return false;
  }
}
function isSpawnedActor(item) {
  return isActor2(item) && "id" in item;
}
function toActorRef(actorRefLike) {
  var _a3;
  return __assign2((_a3 = {
    subscribe: function() {
      return {
        unsubscribe: function() {
          return void 0;
        }
      };
    },
    id: "anonymous",
    getSnapshot: function() {
      return void 0;
    }
  }, _a3[symbolObservable] = function() {
    return this;
  }, _a3), actorRefLike);
}

// node_modules/xstate/es/stateUtils.js
var isLeafNode = function(stateNode) {
  return stateNode.type === "atomic" || stateNode.type === "final";
};
function getAllChildren(stateNode) {
  return Object.keys(stateNode.states).map(function(key) {
    return stateNode.states[key];
  });
}
function getChildren(stateNode) {
  return getAllChildren(stateNode).filter(function(sn) {
    return sn.type !== "history";
  });
}
function getAllStateNodes(stateNode) {
  var stateNodes = [stateNode];
  if (isLeafNode(stateNode)) {
    return stateNodes;
  }
  return stateNodes.concat(flatten(getChildren(stateNode).map(getAllStateNodes)));
}
function getConfiguration(prevStateNodes, stateNodes) {
  var e_1, _a3, e_2, _b, e_3, _c, e_4, _d;
  var prevConfiguration = new Set(prevStateNodes);
  var prevAdjList = getAdjList(prevConfiguration);
  var configuration = new Set(stateNodes);
  try {
    for (var configuration_1 = __values(configuration), configuration_1_1 = configuration_1.next(); !configuration_1_1.done; configuration_1_1 = configuration_1.next()) {
      var s62 = configuration_1_1.value;
      var m29 = s62.parent;
      while (m29 && !configuration.has(m29)) {
        configuration.add(m29);
        m29 = m29.parent;
      }
    }
  } catch (e_1_1) {
    e_1 = {
      error: e_1_1
    };
  } finally {
    try {
      if (configuration_1_1 && !configuration_1_1.done && (_a3 = configuration_1.return))
        _a3.call(configuration_1);
    } finally {
      if (e_1)
        throw e_1.error;
    }
  }
  var adjList = getAdjList(configuration);
  try {
    for (var configuration_2 = __values(configuration), configuration_2_1 = configuration_2.next(); !configuration_2_1.done; configuration_2_1 = configuration_2.next()) {
      var s62 = configuration_2_1.value;
      if (s62.type === "compound" && (!adjList.get(s62) || !adjList.get(s62).length)) {
        if (prevAdjList.get(s62)) {
          prevAdjList.get(s62).forEach(function(sn) {
            return configuration.add(sn);
          });
        } else {
          s62.initialStateNodes.forEach(function(sn) {
            return configuration.add(sn);
          });
        }
      } else {
        if (s62.type === "parallel") {
          try {
            for (var _e = (e_3 = void 0, __values(getChildren(s62))), _f = _e.next(); !_f.done; _f = _e.next()) {
              var child = _f.value;
              if (!configuration.has(child)) {
                configuration.add(child);
                if (prevAdjList.get(child)) {
                  prevAdjList.get(child).forEach(function(sn) {
                    return configuration.add(sn);
                  });
                } else {
                  child.initialStateNodes.forEach(function(sn) {
                    return configuration.add(sn);
                  });
                }
              }
            }
          } catch (e_3_1) {
            e_3 = {
              error: e_3_1
            };
          } finally {
            try {
              if (_f && !_f.done && (_c = _e.return))
                _c.call(_e);
            } finally {
              if (e_3)
                throw e_3.error;
            }
          }
        }
      }
    }
  } catch (e_2_1) {
    e_2 = {
      error: e_2_1
    };
  } finally {
    try {
      if (configuration_2_1 && !configuration_2_1.done && (_b = configuration_2.return))
        _b.call(configuration_2);
    } finally {
      if (e_2)
        throw e_2.error;
    }
  }
  try {
    for (var configuration_3 = __values(configuration), configuration_3_1 = configuration_3.next(); !configuration_3_1.done; configuration_3_1 = configuration_3.next()) {
      var s62 = configuration_3_1.value;
      var m29 = s62.parent;
      while (m29 && !configuration.has(m29)) {
        configuration.add(m29);
        m29 = m29.parent;
      }
    }
  } catch (e_4_1) {
    e_4 = {
      error: e_4_1
    };
  } finally {
    try {
      if (configuration_3_1 && !configuration_3_1.done && (_d = configuration_3.return))
        _d.call(configuration_3);
    } finally {
      if (e_4)
        throw e_4.error;
    }
  }
  return configuration;
}
function getValueFromAdj(baseNode, adjList) {
  var childStateNodes = adjList.get(baseNode);
  if (!childStateNodes) {
    return {};
  }
  if (baseNode.type === "compound") {
    var childStateNode = childStateNodes[0];
    if (childStateNode) {
      if (isLeafNode(childStateNode)) {
        return childStateNode.key;
      }
    } else {
      return {};
    }
  }
  var stateValue = {};
  childStateNodes.forEach(function(csn) {
    stateValue[csn.key] = getValueFromAdj(csn, adjList);
  });
  return stateValue;
}
function getAdjList(configuration) {
  var e_5, _a3;
  var adjList = /* @__PURE__ */ new Map();
  try {
    for (var configuration_4 = __values(configuration), configuration_4_1 = configuration_4.next(); !configuration_4_1.done; configuration_4_1 = configuration_4.next()) {
      var s62 = configuration_4_1.value;
      if (!adjList.has(s62)) {
        adjList.set(s62, []);
      }
      if (s62.parent) {
        if (!adjList.has(s62.parent)) {
          adjList.set(s62.parent, []);
        }
        adjList.get(s62.parent).push(s62);
      }
    }
  } catch (e_5_1) {
    e_5 = {
      error: e_5_1
    };
  } finally {
    try {
      if (configuration_4_1 && !configuration_4_1.done && (_a3 = configuration_4.return))
        _a3.call(configuration_4);
    } finally {
      if (e_5)
        throw e_5.error;
    }
  }
  return adjList;
}
function getValue(rootNode, configuration) {
  var config = getConfiguration([rootNode], configuration);
  return getValueFromAdj(rootNode, getAdjList(config));
}
function has(iterable, item) {
  if (Array.isArray(iterable)) {
    return iterable.some(function(member) {
      return member === item;
    });
  }
  if (iterable instanceof Set) {
    return iterable.has(item);
  }
  return false;
}
function nextEvents(configuration) {
  return __spreadArray2([], __read(new Set(flatten(__spreadArray2([], __read(configuration.map(function(sn) {
    return sn.ownEvents;
  })), false)))), false);
}
function isInFinalState(configuration, stateNode) {
  if (stateNode.type === "compound") {
    return getChildren(stateNode).some(function(s62) {
      return s62.type === "final" && has(configuration, s62);
    });
  }
  if (stateNode.type === "parallel") {
    return getChildren(stateNode).every(function(sn) {
      return isInFinalState(configuration, sn);
    });
  }
  return false;
}
function getMeta(configuration) {
  if (configuration === void 0) {
    configuration = [];
  }
  return configuration.reduce(function(acc, stateNode) {
    if (stateNode.meta !== void 0) {
      acc[stateNode.id] = stateNode.meta;
    }
    return acc;
  }, {});
}
function getTagsFromConfiguration(configuration) {
  return new Set(flatten(configuration.map(function(sn) {
    return sn.tags;
  })));
}

// node_modules/xstate/es/State.js
function stateValuesEqual(a82, b7) {
  if (a82 === b7) {
    return true;
  }
  if (a82 === void 0 || b7 === void 0) {
    return false;
  }
  if (isString(a82) || isString(b7)) {
    return a82 === b7;
  }
  var aKeys = Object.keys(a82);
  var bKeys = Object.keys(b7);
  return aKeys.length === bKeys.length && aKeys.every(function(key) {
    return stateValuesEqual(a82[key], b7[key]);
  });
}
function isStateConfig(state) {
  if (typeof state !== "object" || state === null) {
    return false;
  }
  return "value" in state && "_event" in state;
}
function bindActionToState(action, state) {
  var exec = action.exec;
  var boundAction = __assign2(__assign2({}, action), {
    exec: exec !== void 0 ? function() {
      return exec(state.context, state.event, {
        action,
        state,
        _event: state._event
      });
    } : void 0
  });
  return boundAction;
}
var State = function() {
  function State2(config) {
    var _this = this;
    var _a3;
    this.actions = [];
    this.activities = EMPTY_ACTIVITY_MAP;
    this.meta = {};
    this.events = [];
    this.value = config.value;
    this.context = config.context;
    this._event = config._event;
    this._sessionid = config._sessionid;
    this.event = this._event.data;
    this.historyValue = config.historyValue;
    this.history = config.history;
    this.actions = config.actions || [];
    this.activities = config.activities || EMPTY_ACTIVITY_MAP;
    this.meta = getMeta(config.configuration);
    this.events = config.events || [];
    this.matches = this.matches.bind(this);
    this.toStrings = this.toStrings.bind(this);
    this.configuration = config.configuration;
    this.transitions = config.transitions;
    this.children = config.children;
    this.done = !!config.done;
    this.tags = (_a3 = Array.isArray(config.tags) ? new Set(config.tags) : config.tags) !== null && _a3 !== void 0 ? _a3 : /* @__PURE__ */ new Set();
    this.machine = config.machine;
    Object.defineProperty(this, "nextEvents", {
      get: function() {
        return nextEvents(_this.configuration);
      }
    });
  }
  State2.from = function(stateValue, context) {
    if (stateValue instanceof State2) {
      if (stateValue.context !== context) {
        return new State2({
          value: stateValue.value,
          context,
          _event: stateValue._event,
          _sessionid: null,
          historyValue: stateValue.historyValue,
          history: stateValue.history,
          actions: [],
          activities: stateValue.activities,
          meta: {},
          events: [],
          configuration: [],
          transitions: [],
          children: {}
        });
      }
      return stateValue;
    }
    var _event = initEvent;
    return new State2({
      value: stateValue,
      context,
      _event,
      _sessionid: null,
      historyValue: void 0,
      history: void 0,
      actions: [],
      activities: void 0,
      meta: void 0,
      events: [],
      configuration: [],
      transitions: [],
      children: {}
    });
  };
  State2.create = function(config) {
    return new State2(config);
  };
  State2.inert = function(stateValue, context) {
    if (stateValue instanceof State2) {
      if (!stateValue.actions.length) {
        return stateValue;
      }
      var _event = initEvent;
      return new State2({
        value: stateValue.value,
        context,
        _event,
        _sessionid: null,
        historyValue: stateValue.historyValue,
        history: stateValue.history,
        activities: stateValue.activities,
        configuration: stateValue.configuration,
        transitions: [],
        children: {}
      });
    }
    return State2.from(stateValue, context);
  };
  State2.prototype.toStrings = function(stateValue, delimiter) {
    var _this = this;
    if (stateValue === void 0) {
      stateValue = this.value;
    }
    if (delimiter === void 0) {
      delimiter = ".";
    }
    if (isString(stateValue)) {
      return [stateValue];
    }
    var valueKeys = Object.keys(stateValue);
    return valueKeys.concat.apply(valueKeys, __spreadArray2([], __read(valueKeys.map(function(key) {
      return _this.toStrings(stateValue[key], delimiter).map(function(s62) {
        return key + delimiter + s62;
      });
    })), false));
  };
  State2.prototype.toJSON = function() {
    var _a3 = this;
    _a3.configuration;
    _a3.transitions;
    var tags = _a3.tags;
    _a3.machine;
    var jsonValues = __rest2(_a3, ["configuration", "transitions", "tags", "machine"]);
    return __assign2(__assign2({}, jsonValues), {
      tags: Array.from(tags)
    });
  };
  State2.prototype.matches = function(parentStateValue) {
    return matchesState(parentStateValue, this.value);
  };
  State2.prototype.hasTag = function(tag) {
    return this.tags.has(tag);
  };
  State2.prototype.can = function(event2) {
    var _a3;
    if (IS_PRODUCTION) {
      warn(!!this.machine, "state.can(...) used outside of a machine-created State object; this will always return false.");
    }
    var transitionData = (_a3 = this.machine) === null || _a3 === void 0 ? void 0 : _a3.getTransitionData(this, event2);
    return !!(transitionData === null || transitionData === void 0 ? void 0 : transitionData.transitions.length) && transitionData.transitions.some(function(t87) {
      return t87.target !== void 0 || t87.actions.length;
    });
  };
  return State2;
}();

// node_modules/xstate/es/scheduler.js
var defaultOptions = {
  deferEvents: false
};
var Scheduler = function() {
  function Scheduler2(options) {
    this.processingEvent = false;
    this.queue = [];
    this.initialized = false;
    this.options = __assign2(__assign2({}, defaultOptions), options);
  }
  Scheduler2.prototype.initialize = function(callback) {
    this.initialized = true;
    if (callback) {
      if (!this.options.deferEvents) {
        this.schedule(callback);
        return;
      }
      this.process(callback);
    }
    this.flushEvents();
  };
  Scheduler2.prototype.schedule = function(task) {
    if (!this.initialized || this.processingEvent) {
      this.queue.push(task);
      return;
    }
    if (this.queue.length !== 0) {
      throw new Error("Event queue should be empty when it is not processing events");
    }
    this.process(task);
    this.flushEvents();
  };
  Scheduler2.prototype.clear = function() {
    this.queue = [];
  };
  Scheduler2.prototype.flushEvents = function() {
    var nextCallback = this.queue.shift();
    while (nextCallback) {
      this.process(nextCallback);
      nextCallback = this.queue.shift();
    }
  };
  Scheduler2.prototype.process = function(callback) {
    this.processingEvent = true;
    try {
      callback();
    } catch (e142) {
      this.clear();
      throw e142;
    } finally {
      this.processingEvent = false;
    }
  };
  return Scheduler2;
}();

// node_modules/xstate/es/registry.js
var children = /* @__PURE__ */ new Map();
var sessionIdIndex = 0;
var registry = {
  bookId: function() {
    return "x:".concat(sessionIdIndex++);
  },
  register: function(id, actor) {
    children.set(id, actor);
    return id;
  },
  get: function(id) {
    return children.get(id);
  },
  free: function(id) {
    children.delete(id);
  }
};

// node_modules/xstate/es/devTools.js
function getGlobal() {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  if (!IS_PRODUCTION) {
    console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues");
  }
}
function getDevTools() {
  var global2 = getGlobal();
  if (global2 && "__xstate__" in global2) {
    return global2.__xstate__;
  }
  return void 0;
}
function registerService(service) {
  if (!getGlobal()) {
    return;
  }
  var devTools = getDevTools();
  if (devTools) {
    devTools.register(service);
  }
}

// node_modules/xstate/es/behaviors.js
function spawnBehavior(behavior, options) {
  if (options === void 0) {
    options = {};
  }
  var state = behavior.initialState;
  var observers = /* @__PURE__ */ new Set();
  var mailbox = [];
  var flushing = false;
  var flush = function() {
    if (flushing) {
      return;
    }
    flushing = true;
    while (mailbox.length > 0) {
      var event_1 = mailbox.shift();
      state = behavior.transition(state, event_1, actorCtx);
      observers.forEach(function(observer) {
        return observer.next(state);
      });
    }
    flushing = false;
  };
  var actor = toActorRef({
    id: options.id,
    send: function(event2) {
      mailbox.push(event2);
      flush();
    },
    getSnapshot: function() {
      return state;
    },
    subscribe: function(next, handleError, complete) {
      var observer = toObserver(next, handleError, complete);
      observers.add(observer);
      observer.next(state);
      return {
        unsubscribe: function() {
          observers.delete(observer);
        }
      };
    }
  });
  var actorCtx = {
    parent: options.parent,
    self: actor,
    id: options.id || "anonymous",
    observers
  };
  state = behavior.start ? behavior.start(actorCtx) : state;
  return actor;
}

// node_modules/xstate/es/interpreter.js
var DEFAULT_SPAWN_OPTIONS = {
  sync: false,
  autoForward: false
};
var InterpreterStatus;
(function(InterpreterStatus2) {
  InterpreterStatus2[InterpreterStatus2["NotStarted"] = 0] = "NotStarted";
  InterpreterStatus2[InterpreterStatus2["Running"] = 1] = "Running";
  InterpreterStatus2[InterpreterStatus2["Stopped"] = 2] = "Stopped";
})(InterpreterStatus || (InterpreterStatus = {}));
var Interpreter = function() {
  function Interpreter2(machine, options) {
    if (options === void 0) {
      options = Interpreter2.defaultOptions;
    }
    var _this = this;
    this.machine = machine;
    this.delayedEventsMap = {};
    this.listeners = /* @__PURE__ */ new Set();
    this.contextListeners = /* @__PURE__ */ new Set();
    this.stopListeners = /* @__PURE__ */ new Set();
    this.doneListeners = /* @__PURE__ */ new Set();
    this.eventListeners = /* @__PURE__ */ new Set();
    this.sendListeners = /* @__PURE__ */ new Set();
    this.initialized = false;
    this.status = InterpreterStatus.NotStarted;
    this.children = /* @__PURE__ */ new Map();
    this.forwardTo = /* @__PURE__ */ new Set();
    this._outgoingQueue = [];
    this.init = this.start;
    this.send = function(event2, payload) {
      if (isArray(event2)) {
        _this.batch(event2);
        return _this.state;
      }
      var _event = toSCXMLEvent(toEventObject(event2, payload));
      if (_this.status === InterpreterStatus.Stopped) {
        if (!IS_PRODUCTION) {
          warn(false, 'Event "'.concat(_event.name, '" was sent to stopped service "').concat(_this.machine.id, '". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(_event.data)));
        }
        return _this.state;
      }
      if (_this.status !== InterpreterStatus.Running && !_this.options.deferEvents) {
        throw new Error('Event "'.concat(_event.name, '" was sent to uninitialized service "').concat(
          _this.machine.id,
          '". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '
        ).concat(JSON.stringify(_event.data)));
      }
      _this.scheduler.schedule(function() {
        _this.forward(_event);
        var nextState = _this._nextState(_event);
        _this.update(nextState, _event);
      });
      return _this._state;
    };
    this.sendTo = function(event2, to, immediate) {
      var isParent = _this.parent && (to === SpecialTargets.Parent || _this.parent.id === to);
      var target = isParent ? _this.parent : isString(to) ? _this.children.get(to) || registry.get(to) : isActor(to) ? to : void 0;
      if (!target) {
        if (!isParent) {
          throw new Error("Unable to send event to child '".concat(to, "' from service '").concat(_this.id, "'."));
        }
        if (!IS_PRODUCTION) {
          warn(false, "Service '".concat(_this.id, "' has no parent: unable to send event ").concat(event2.type));
        }
        return;
      }
      if ("machine" in target) {
        if (_this.status !== InterpreterStatus.Stopped || _this.parent !== target || _this.state.done) {
          var scxmlEvent = __assign2(__assign2({}, event2), {
            name: event2.name === error ? "".concat(error2(_this.id)) : event2.name,
            origin: _this.sessionId
          });
          if (!immediate && _this.machine.config.predictableActionArguments) {
            _this._outgoingQueue.push([target, scxmlEvent]);
          } else {
            target.send(scxmlEvent);
          }
        }
      } else {
        if (!immediate && _this.machine.config.predictableActionArguments) {
          _this._outgoingQueue.push([target, event2.data]);
        } else {
          target.send(event2.data);
        }
      }
    };
    this._exec = function(action, context, _event, actionFunctionMap) {
      if (actionFunctionMap === void 0) {
        actionFunctionMap = _this.machine.options.actions;
      }
      var actionOrExec = action.exec || getActionFunction(action.type, actionFunctionMap);
      var exec = isFunction(actionOrExec) ? actionOrExec : actionOrExec ? actionOrExec.exec : action.exec;
      if (exec) {
        try {
          return exec(context, _event.data, !_this.machine.config.predictableActionArguments ? {
            action,
            state: _this.state,
            _event
          } : {
            action,
            _event
          });
        } catch (err) {
          if (_this.parent) {
            _this.parent.send({
              type: "xstate.error",
              data: err
            });
          }
          throw err;
        }
      }
      switch (action.type) {
        case send:
          var sendAction = action;
          if (typeof sendAction.delay === "number") {
            _this.defer(sendAction);
            return;
          } else {
            if (sendAction.to) {
              _this.sendTo(sendAction._event, sendAction.to, _event === initEvent);
            } else {
              _this.send(sendAction._event);
            }
          }
          break;
        case cancel:
          _this.cancel(action.sendId);
          break;
        case start: {
          if (_this.status !== InterpreterStatus.Running) {
            return;
          }
          var activity = action.activity;
          if (!_this.machine.config.predictableActionArguments && !_this.state.activities[activity.id || activity.type]) {
            break;
          }
          if (activity.type === ActionTypes.Invoke) {
            var invokeSource = toInvokeSource(activity.src);
            var serviceCreator = _this.machine.options.services ? _this.machine.options.services[invokeSource.type] : void 0;
            var id2 = activity.id, data = activity.data;
            if (!IS_PRODUCTION) {
              warn(
                !("forward" in activity),
                "`forward` property is deprecated (found in invocation of '".concat(activity.src, "' in in machine '").concat(_this.machine.id, "'). ") + "Please use `autoForward` instead."
              );
            }
            var autoForward = "autoForward" in activity ? activity.autoForward : !!activity.forward;
            if (!serviceCreator) {
              if (!IS_PRODUCTION) {
                warn(false, "No service found for invocation '".concat(activity.src, "' in machine '").concat(_this.machine.id, "'."));
              }
              return;
            }
            var resolvedData = data ? mapContext(data, context, _event) : void 0;
            if (typeof serviceCreator === "string") {
              return;
            }
            var source = isFunction(serviceCreator) ? serviceCreator(context, _event.data, {
              data: resolvedData,
              src: invokeSource,
              meta: activity.meta
            }) : serviceCreator;
            if (!source) {
              return;
            }
            var options2 = void 0;
            if (isMachine(source)) {
              source = resolvedData ? source.withContext(resolvedData) : source;
              options2 = {
                autoForward
              };
            }
            _this.spawn(source, id2, options2);
          } else {
            _this.spawnActivity(activity);
          }
          break;
        }
        case stop: {
          _this.stopChild(action.activity.id);
          break;
        }
        case log:
          var label = action.label, value = action.value;
          if (label) {
            _this.logger(label, value);
          } else {
            _this.logger(value);
          }
          break;
        default:
          if (!IS_PRODUCTION) {
            warn(false, "No implementation found for action type '".concat(action.type, "'"));
          }
          break;
      }
    };
    var resolvedOptions = __assign2(__assign2({}, Interpreter2.defaultOptions), options);
    var clock = resolvedOptions.clock, logger4 = resolvedOptions.logger, parent = resolvedOptions.parent, id = resolvedOptions.id;
    var resolvedId = id !== void 0 ? id : machine.id;
    this.id = resolvedId;
    this.logger = logger4;
    this.clock = clock;
    this.parent = parent;
    this.options = resolvedOptions;
    this.scheduler = new Scheduler({
      deferEvents: this.options.deferEvents
    });
    this.sessionId = registry.bookId();
  }
  Object.defineProperty(Interpreter2.prototype, "initialState", {
    get: function() {
      var _this = this;
      if (this._initialState) {
        return this._initialState;
      }
      return provide(this, function() {
        _this._initialState = _this.machine.initialState;
        return _this._initialState;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Interpreter2.prototype, "state", {
    get: function() {
      if (!IS_PRODUCTION) {
        warn(this.status !== InterpreterStatus.NotStarted, "Attempted to read state from uninitialized service '".concat(this.id, "'. Make sure the service is started first."));
      }
      return this._state;
    },
    enumerable: false,
    configurable: true
  });
  Interpreter2.prototype.execute = function(state, actionsConfig) {
    var e_1, _a3;
    try {
      for (var _b = __values(state.actions), _c = _b.next(); !_c.done; _c = _b.next()) {
        var action = _c.value;
        this.exec(action, state, actionsConfig);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a3 = _b.return))
          _a3.call(_b);
      } finally {
        if (e_1)
          throw e_1.error;
      }
    }
  };
  Interpreter2.prototype.update = function(state, _event) {
    var e_2, _a3, e_3, _b, e_4, _c, e_5, _d;
    var _this = this;
    state._sessionid = this.sessionId;
    this._state = state;
    if ((!this.machine.config.predictableActionArguments || _event === initEvent) && this.options.execute) {
      this.execute(this.state);
    } else {
      var item = void 0;
      while (item = this._outgoingQueue.shift()) {
        item[0].send(item[1]);
      }
    }
    this.children.forEach(function(child) {
      _this.state.children[child.id] = child;
    });
    if (this.devTools) {
      this.devTools.send(_event.data, state);
    }
    if (state.event) {
      try {
        for (var _e = __values(this.eventListeners), _f = _e.next(); !_f.done; _f = _e.next()) {
          var listener = _f.value;
          listener(state.event);
        }
      } catch (e_2_1) {
        e_2 = {
          error: e_2_1
        };
      } finally {
        try {
          if (_f && !_f.done && (_a3 = _e.return))
            _a3.call(_e);
        } finally {
          if (e_2)
            throw e_2.error;
        }
      }
    }
    try {
      for (var _g = __values(this.listeners), _h = _g.next(); !_h.done; _h = _g.next()) {
        var listener = _h.value;
        listener(state, state.event);
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_h && !_h.done && (_b = _g.return))
          _b.call(_g);
      } finally {
        if (e_3)
          throw e_3.error;
      }
    }
    try {
      for (var _j = __values(this.contextListeners), _k = _j.next(); !_k.done; _k = _j.next()) {
        var contextListener = _k.value;
        contextListener(this.state.context, this.state.history ? this.state.history.context : void 0);
      }
    } catch (e_4_1) {
      e_4 = {
        error: e_4_1
      };
    } finally {
      try {
        if (_k && !_k.done && (_c = _j.return))
          _c.call(_j);
      } finally {
        if (e_4)
          throw e_4.error;
      }
    }
    if (this.state.done) {
      var finalChildStateNode = state.configuration.find(function(sn) {
        return sn.type === "final" && sn.parent === _this.machine;
      });
      var doneData = finalChildStateNode && finalChildStateNode.doneData ? mapContext(finalChildStateNode.doneData, state.context, _event) : void 0;
      try {
        for (var _l = __values(this.doneListeners), _m = _l.next(); !_m.done; _m = _l.next()) {
          var listener = _m.value;
          listener(doneInvoke(this.id, doneData));
        }
      } catch (e_5_1) {
        e_5 = {
          error: e_5_1
        };
      } finally {
        try {
          if (_m && !_m.done && (_d = _l.return))
            _d.call(_l);
        } finally {
          if (e_5)
            throw e_5.error;
        }
      }
      this._stop();
      this._stopChildren();
    }
  };
  Interpreter2.prototype.onTransition = function(listener) {
    this.listeners.add(listener);
    if (this.status === InterpreterStatus.Running) {
      listener(this.state, this.state.event);
    }
    return this;
  };
  Interpreter2.prototype.subscribe = function(nextListenerOrObserver, _3, completeListener) {
    var _this = this;
    var observer = toObserver(nextListenerOrObserver, _3, completeListener);
    this.listeners.add(observer.next);
    if (this.status !== InterpreterStatus.NotStarted) {
      observer.next(this.state);
    }
    var completeOnce = function() {
      _this.doneListeners.delete(completeOnce);
      _this.stopListeners.delete(completeOnce);
      observer.complete();
    };
    if (this.status === InterpreterStatus.Stopped) {
      observer.complete();
    } else {
      this.onDone(completeOnce);
      this.onStop(completeOnce);
    }
    return {
      unsubscribe: function() {
        _this.listeners.delete(observer.next);
        _this.doneListeners.delete(completeOnce);
        _this.stopListeners.delete(completeOnce);
      }
    };
  };
  Interpreter2.prototype.onEvent = function(listener) {
    this.eventListeners.add(listener);
    return this;
  };
  Interpreter2.prototype.onSend = function(listener) {
    this.sendListeners.add(listener);
    return this;
  };
  Interpreter2.prototype.onChange = function(listener) {
    this.contextListeners.add(listener);
    return this;
  };
  Interpreter2.prototype.onStop = function(listener) {
    this.stopListeners.add(listener);
    return this;
  };
  Interpreter2.prototype.onDone = function(listener) {
    this.doneListeners.add(listener);
    return this;
  };
  Interpreter2.prototype.off = function(listener) {
    this.listeners.delete(listener);
    this.eventListeners.delete(listener);
    this.sendListeners.delete(listener);
    this.stopListeners.delete(listener);
    this.doneListeners.delete(listener);
    this.contextListeners.delete(listener);
    return this;
  };
  Interpreter2.prototype.start = function(initialState) {
    var _this = this;
    if (this.status === InterpreterStatus.Running) {
      return this;
    }
    this.machine._init();
    registry.register(this.sessionId, this);
    this.initialized = true;
    this.status = InterpreterStatus.Running;
    var resolvedState = initialState === void 0 ? this.initialState : provide(this, function() {
      return isStateConfig(initialState) ? _this.machine.resolveState(initialState) : _this.machine.resolveState(State.from(initialState, _this.machine.context));
    });
    if (this.options.devTools) {
      this.attachDev();
    }
    this.scheduler.initialize(function() {
      _this.update(resolvedState, initEvent);
    });
    return this;
  };
  Interpreter2.prototype._stopChildren = function() {
    this.children.forEach(function(child) {
      if (isFunction(child.stop)) {
        child.stop();
      }
    });
    this.children.clear();
  };
  Interpreter2.prototype._stop = function() {
    var e_6, _a3, e_7, _b, e_8, _c, e_9, _d, e_10, _e;
    try {
      for (var _f = __values(this.listeners), _g = _f.next(); !_g.done; _g = _f.next()) {
        var listener = _g.value;
        this.listeners.delete(listener);
      }
    } catch (e_6_1) {
      e_6 = {
        error: e_6_1
      };
    } finally {
      try {
        if (_g && !_g.done && (_a3 = _f.return))
          _a3.call(_f);
      } finally {
        if (e_6)
          throw e_6.error;
      }
    }
    try {
      for (var _h = __values(this.stopListeners), _j = _h.next(); !_j.done; _j = _h.next()) {
        var listener = _j.value;
        listener();
        this.stopListeners.delete(listener);
      }
    } catch (e_7_1) {
      e_7 = {
        error: e_7_1
      };
    } finally {
      try {
        if (_j && !_j.done && (_b = _h.return))
          _b.call(_h);
      } finally {
        if (e_7)
          throw e_7.error;
      }
    }
    try {
      for (var _k = __values(this.contextListeners), _l = _k.next(); !_l.done; _l = _k.next()) {
        var listener = _l.value;
        this.contextListeners.delete(listener);
      }
    } catch (e_8_1) {
      e_8 = {
        error: e_8_1
      };
    } finally {
      try {
        if (_l && !_l.done && (_c = _k.return))
          _c.call(_k);
      } finally {
        if (e_8)
          throw e_8.error;
      }
    }
    try {
      for (var _m = __values(this.doneListeners), _o = _m.next(); !_o.done; _o = _m.next()) {
        var listener = _o.value;
        this.doneListeners.delete(listener);
      }
    } catch (e_9_1) {
      e_9 = {
        error: e_9_1
      };
    } finally {
      try {
        if (_o && !_o.done && (_d = _m.return))
          _d.call(_m);
      } finally {
        if (e_9)
          throw e_9.error;
      }
    }
    if (!this.initialized) {
      return this;
    }
    this.initialized = false;
    this.status = InterpreterStatus.Stopped;
    this._initialState = void 0;
    try {
      for (var _p = __values(Object.keys(this.delayedEventsMap)), _q = _p.next(); !_q.done; _q = _p.next()) {
        var key = _q.value;
        this.clock.clearTimeout(this.delayedEventsMap[key]);
      }
    } catch (e_10_1) {
      e_10 = {
        error: e_10_1
      };
    } finally {
      try {
        if (_q && !_q.done && (_e = _p.return))
          _e.call(_p);
      } finally {
        if (e_10)
          throw e_10.error;
      }
    }
    this.scheduler.clear();
    this.scheduler = new Scheduler({
      deferEvents: this.options.deferEvents
    });
  };
  Interpreter2.prototype.stop = function() {
    var _this = this;
    var scheduler = this.scheduler;
    this._stop();
    scheduler.schedule(function() {
      var _event = toSCXMLEvent({
        type: "xstate.stop"
      });
      var nextState = provide(_this, function() {
        var exitActions = flatten(__spreadArray2([], __read(_this.state.configuration), false).sort(function(a82, b7) {
          return b7.order - a82.order;
        }).map(function(stateNode) {
          return toActionObjects(stateNode.onExit, _this.machine.options.actions);
        }));
        var _a3 = __read(resolveActions(_this.machine, _this.state, _this.state.context, _event, [exitActions], _this.machine.config.predictableActionArguments ? _this._exec : void 0, _this.machine.config.predictableActionArguments || _this.machine.config.preserveActionOrder), 2), resolvedActions = _a3[0], updatedContext = _a3[1];
        var newState = new State({
          value: _this.state.value,
          context: updatedContext,
          _event,
          _sessionid: _this.sessionId,
          historyValue: void 0,
          history: _this.state,
          actions: resolvedActions.filter(function(action) {
            return action.type !== raise && (action.type !== send || !!action.to && action.to !== SpecialTargets.Internal);
          }),
          activities: {},
          events: [],
          configuration: [],
          transitions: [],
          children: {},
          done: _this.state.done,
          tags: _this.state.tags,
          machine: _this.machine
        });
        newState.changed = true;
        return newState;
      });
      _this.update(nextState, _event);
      _this._stopChildren();
      registry.free(_this.sessionId);
    });
    return this;
  };
  Interpreter2.prototype.batch = function(events) {
    var _this = this;
    if (this.status === InterpreterStatus.NotStarted && this.options.deferEvents) {
      if (!IS_PRODUCTION) {
        warn(false, "".concat(events.length, ' event(s) were sent to uninitialized service "').concat(this.machine.id, '" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));
      }
    } else if (this.status !== InterpreterStatus.Running) {
      throw new Error(
        "".concat(events.length, ' event(s) were sent to uninitialized service "').concat(this.machine.id, '". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.')
      );
    }
    if (!events.length) {
      return;
    }
    var exec = !!this.machine.config.predictableActionArguments && this._exec;
    this.scheduler.schedule(function() {
      var e_11, _a3;
      var nextState = _this.state;
      var batchChanged = false;
      var batchedActions = [];
      var _loop_1 = function(event_12) {
        var _event = toSCXMLEvent(event_12);
        _this.forward(_event);
        nextState = provide(_this, function() {
          return _this.machine.transition(nextState, _event, void 0, exec || void 0);
        });
        batchedActions.push.apply(batchedActions, __spreadArray2([], __read(_this.machine.config.predictableActionArguments ? nextState.actions : nextState.actions.map(function(a82) {
          return bindActionToState(a82, nextState);
        })), false));
        batchChanged = batchChanged || !!nextState.changed;
      };
      try {
        for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {
          var event_1 = events_1_1.value;
          _loop_1(event_1);
        }
      } catch (e_11_1) {
        e_11 = {
          error: e_11_1
        };
      } finally {
        try {
          if (events_1_1 && !events_1_1.done && (_a3 = events_1.return))
            _a3.call(events_1);
        } finally {
          if (e_11)
            throw e_11.error;
        }
      }
      nextState.changed = batchChanged;
      nextState.actions = batchedActions;
      _this.update(nextState, toSCXMLEvent(events[events.length - 1]));
    });
  };
  Interpreter2.prototype.sender = function(event2) {
    return this.send.bind(this, event2);
  };
  Interpreter2.prototype._nextState = function(event2, exec) {
    var _this = this;
    if (exec === void 0) {
      exec = !!this.machine.config.predictableActionArguments && this._exec;
    }
    var _event = toSCXMLEvent(event2);
    if (_event.name.indexOf(errorPlatform) === 0 && !this.state.nextEvents.some(function(nextEvent) {
      return nextEvent.indexOf(errorPlatform) === 0;
    })) {
      throw _event.data.data;
    }
    var nextState = provide(this, function() {
      return _this.machine.transition(_this.state, _event, void 0, exec || void 0);
    });
    return nextState;
  };
  Interpreter2.prototype.nextState = function(event2) {
    return this._nextState(event2, false);
  };
  Interpreter2.prototype.forward = function(event2) {
    var e_12, _a3;
    try {
      for (var _b = __values(this.forwardTo), _c = _b.next(); !_c.done; _c = _b.next()) {
        var id = _c.value;
        var child = this.children.get(id);
        if (!child) {
          throw new Error("Unable to forward event '".concat(event2, "' from interpreter '").concat(this.id, "' to nonexistant child '").concat(id, "'."));
        }
        child.send(event2);
      }
    } catch (e_12_1) {
      e_12 = {
        error: e_12_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a3 = _b.return))
          _a3.call(_b);
      } finally {
        if (e_12)
          throw e_12.error;
      }
    }
  };
  Interpreter2.prototype.defer = function(sendAction) {
    var _this = this;
    this.delayedEventsMap[sendAction.id] = this.clock.setTimeout(function() {
      if (sendAction.to) {
        _this.sendTo(sendAction._event, sendAction.to, true);
      } else {
        _this.send(sendAction._event);
      }
    }, sendAction.delay);
  };
  Interpreter2.prototype.cancel = function(sendId) {
    this.clock.clearTimeout(this.delayedEventsMap[sendId]);
    delete this.delayedEventsMap[sendId];
  };
  Interpreter2.prototype.exec = function(action, state, actionFunctionMap) {
    if (actionFunctionMap === void 0) {
      actionFunctionMap = this.machine.options.actions;
    }
    this._exec(action, state.context, state._event, actionFunctionMap);
  };
  Interpreter2.prototype.removeChild = function(childId) {
    var _a3;
    this.children.delete(childId);
    this.forwardTo.delete(childId);
    (_a3 = this.state) === null || _a3 === void 0 ? true : delete _a3.children[childId];
  };
  Interpreter2.prototype.stopChild = function(childId) {
    var child = this.children.get(childId);
    if (!child) {
      return;
    }
    this.removeChild(childId);
    if (isFunction(child.stop)) {
      child.stop();
    }
  };
  Interpreter2.prototype.spawn = function(entity, name, options) {
    if (this.status !== InterpreterStatus.Running) {
      return createDeferredActor(entity, name);
    }
    if (isPromiseLike(entity)) {
      return this.spawnPromise(Promise.resolve(entity), name);
    } else if (isFunction(entity)) {
      return this.spawnCallback(entity, name);
    } else if (isSpawnedActor(entity)) {
      return this.spawnActor(entity, name);
    } else if (isObservable(entity)) {
      return this.spawnObservable(entity, name);
    } else if (isMachine(entity)) {
      return this.spawnMachine(entity, __assign2(__assign2({}, options), {
        id: name
      }));
    } else if (isBehavior(entity)) {
      return this.spawnBehavior(entity, name);
    } else {
      throw new Error('Unable to spawn entity "'.concat(name, '" of type "').concat(typeof entity, '".'));
    }
  };
  Interpreter2.prototype.spawnMachine = function(machine, options) {
    var _this = this;
    if (options === void 0) {
      options = {};
    }
    var childService = new Interpreter2(machine, __assign2(__assign2({}, this.options), {
      parent: this,
      id: options.id || machine.id
    }));
    var resolvedOptions = __assign2(__assign2({}, DEFAULT_SPAWN_OPTIONS), options);
    if (resolvedOptions.sync) {
      childService.onTransition(function(state) {
        _this.send(update, {
          state,
          id: childService.id
        });
      });
    }
    var actor = childService;
    this.children.set(childService.id, actor);
    if (resolvedOptions.autoForward) {
      this.forwardTo.add(childService.id);
    }
    childService.onDone(function(doneEvent) {
      _this.removeChild(childService.id);
      _this.send(toSCXMLEvent(doneEvent, {
        origin: childService.id
      }));
    }).start();
    return actor;
  };
  Interpreter2.prototype.spawnBehavior = function(behavior, id) {
    var actorRef = spawnBehavior(behavior, {
      id,
      parent: this
    });
    this.children.set(id, actorRef);
    return actorRef;
  };
  Interpreter2.prototype.spawnPromise = function(promise, id) {
    var _a3;
    var _this = this;
    var canceled = false;
    var resolvedData;
    promise.then(function(response) {
      if (!canceled) {
        resolvedData = response;
        _this.removeChild(id);
        _this.send(toSCXMLEvent(doneInvoke(id, response), {
          origin: id
        }));
      }
    }, function(errorData) {
      if (!canceled) {
        _this.removeChild(id);
        var errorEvent = error2(id, errorData);
        try {
          _this.send(toSCXMLEvent(errorEvent, {
            origin: id
          }));
        } catch (error3) {
          reportUnhandledExceptionOnInvocation(errorData, error3, id);
          if (_this.devTools) {
            _this.devTools.send(errorEvent, _this.state);
          }
          if (_this.machine.strict) {
            _this.stop();
          }
        }
      }
    });
    var actor = (_a3 = {
      id,
      send: function() {
        return void 0;
      },
      subscribe: function(next, handleError, complete) {
        var observer = toObserver(next, handleError, complete);
        var unsubscribed = false;
        promise.then(function(response) {
          if (unsubscribed) {
            return;
          }
          observer.next(response);
          if (unsubscribed) {
            return;
          }
          observer.complete();
        }, function(err) {
          if (unsubscribed) {
            return;
          }
          observer.error(err);
        });
        return {
          unsubscribe: function() {
            return unsubscribed = true;
          }
        };
      },
      stop: function() {
        canceled = true;
      },
      toJSON: function() {
        return {
          id
        };
      },
      getSnapshot: function() {
        return resolvedData;
      }
    }, _a3[symbolObservable] = function() {
      return this;
    }, _a3);
    this.children.set(id, actor);
    return actor;
  };
  Interpreter2.prototype.spawnCallback = function(callback, id) {
    var _a3;
    var _this = this;
    var canceled = false;
    var receivers = /* @__PURE__ */ new Set();
    var listeners = /* @__PURE__ */ new Set();
    var emitted;
    var receive = function(e142) {
      emitted = e142;
      listeners.forEach(function(listener) {
        return listener(e142);
      });
      if (canceled) {
        return;
      }
      _this.send(toSCXMLEvent(e142, {
        origin: id
      }));
    };
    var callbackStop;
    try {
      callbackStop = callback(receive, function(newListener) {
        receivers.add(newListener);
      });
    } catch (err) {
      this.send(error2(id, err));
    }
    if (isPromiseLike(callbackStop)) {
      return this.spawnPromise(callbackStop, id);
    }
    var actor = (_a3 = {
      id,
      send: function(event2) {
        return receivers.forEach(function(receiver) {
          return receiver(event2);
        });
      },
      subscribe: function(next) {
        var observer = toObserver(next);
        listeners.add(observer.next);
        return {
          unsubscribe: function() {
            listeners.delete(observer.next);
          }
        };
      },
      stop: function() {
        canceled = true;
        if (isFunction(callbackStop)) {
          callbackStop();
        }
      },
      toJSON: function() {
        return {
          id
        };
      },
      getSnapshot: function() {
        return emitted;
      }
    }, _a3[symbolObservable] = function() {
      return this;
    }, _a3);
    this.children.set(id, actor);
    return actor;
  };
  Interpreter2.prototype.spawnObservable = function(source, id) {
    var _a3;
    var _this = this;
    var emitted;
    var subscription = source.subscribe(function(value) {
      emitted = value;
      _this.send(toSCXMLEvent(value, {
        origin: id
      }));
    }, function(err) {
      _this.removeChild(id);
      _this.send(toSCXMLEvent(error2(id, err), {
        origin: id
      }));
    }, function() {
      _this.removeChild(id);
      _this.send(toSCXMLEvent(doneInvoke(id), {
        origin: id
      }));
    });
    var actor = (_a3 = {
      id,
      send: function() {
        return void 0;
      },
      subscribe: function(next, handleError, complete) {
        return source.subscribe(next, handleError, complete);
      },
      stop: function() {
        return subscription.unsubscribe();
      },
      getSnapshot: function() {
        return emitted;
      },
      toJSON: function() {
        return {
          id
        };
      }
    }, _a3[symbolObservable] = function() {
      return this;
    }, _a3);
    this.children.set(id, actor);
    return actor;
  };
  Interpreter2.prototype.spawnActor = function(actor, name) {
    this.children.set(name, actor);
    return actor;
  };
  Interpreter2.prototype.spawnActivity = function(activity) {
    var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity.type] : void 0;
    if (!implementation) {
      if (!IS_PRODUCTION) {
        warn(false, "No implementation found for activity '".concat(activity.type, "'"));
      }
      return;
    }
    var dispose = implementation(this.state.context, activity);
    this.spawnEffect(activity.id, dispose);
  };
  Interpreter2.prototype.spawnEffect = function(id, dispose) {
    var _a3;
    this.children.set(id, (_a3 = {
      id,
      send: function() {
        return void 0;
      },
      subscribe: function() {
        return {
          unsubscribe: function() {
            return void 0;
          }
        };
      },
      stop: dispose || void 0,
      getSnapshot: function() {
        return void 0;
      },
      toJSON: function() {
        return {
          id
        };
      }
    }, _a3[symbolObservable] = function() {
      return this;
    }, _a3));
  };
  Interpreter2.prototype.attachDev = function() {
    var global2 = getGlobal();
    if (this.options.devTools && global2) {
      if (global2.__REDUX_DEVTOOLS_EXTENSION__) {
        var devToolsOptions = typeof this.options.devTools === "object" ? this.options.devTools : void 0;
        this.devTools = global2.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign2(__assign2({
          name: this.id,
          autoPause: true,
          stateSanitizer: function(state) {
            return {
              value: state.value,
              context: state.context,
              actions: state.actions
            };
          }
        }, devToolsOptions), {
          features: __assign2({
            jump: false,
            skip: false
          }, devToolsOptions ? devToolsOptions.features : void 0)
        }), this.machine);
        this.devTools.init(this.state);
      }
      registerService(this);
    }
  };
  Interpreter2.prototype.toJSON = function() {
    return {
      id: this.id
    };
  };
  Interpreter2.prototype[symbolObservable] = function() {
    return this;
  };
  Interpreter2.prototype.getSnapshot = function() {
    if (this.status === InterpreterStatus.NotStarted) {
      return this.initialState;
    }
    return this._state;
  };
  Interpreter2.defaultOptions = {
    execute: true,
    deferEvents: true,
    clock: {
      setTimeout: function(fn, ms) {
        return setTimeout(fn, ms);
      },
      clearTimeout: function(id) {
        return clearTimeout(id);
      }
    },
    logger: console.log.bind(console),
    devTools: false
  };
  Interpreter2.interpret = interpret;
  return Interpreter2;
}();
var resolveSpawnOptions = function(nameOrOptions) {
  if (isString(nameOrOptions)) {
    return __assign2(__assign2({}, DEFAULT_SPAWN_OPTIONS), {
      name: nameOrOptions
    });
  }
  return __assign2(__assign2(__assign2({}, DEFAULT_SPAWN_OPTIONS), {
    name: uniqueId()
  }), nameOrOptions);
};
function spawn(entity, nameOrOptions) {
  var resolvedOptions = resolveSpawnOptions(nameOrOptions);
  return consume(function(service) {
    if (!IS_PRODUCTION) {
      var isLazyEntity = isMachine(entity) || isFunction(entity);
      warn(!!service || isLazyEntity, 'Attempted to spawn an Actor (ID: "'.concat(isMachine(entity) ? entity.id : "undefined", '") outside of a service. This will have no effect.'));
    }
    if (service) {
      return service.spawn(entity, resolvedOptions.name, resolvedOptions);
    } else {
      return createDeferredActor(entity, resolvedOptions.name);
    }
  });
}
function interpret(machine, options) {
  var interpreter = new Interpreter(machine, options);
  return interpreter;
}

// node_modules/xstate/es/invokeUtils.js
function toInvokeSource2(src) {
  if (typeof src === "string") {
    var simpleSrc = {
      type: src
    };
    simpleSrc.toString = function() {
      return src;
    };
    return simpleSrc;
  }
  return src;
}
function toInvokeDefinition(invokeConfig) {
  return __assign2(__assign2({
    type: invoke
  }, invokeConfig), {
    toJSON: function() {
      invokeConfig.onDone;
      invokeConfig.onError;
      var invokeDef = __rest2(invokeConfig, ["onDone", "onError"]);
      return __assign2(__assign2({}, invokeDef), {
        type: invoke,
        src: toInvokeSource2(invokeConfig.src)
      });
    }
  });
}

// node_modules/xstate/es/StateNode.js
var NULL_EVENT = "";
var STATE_IDENTIFIER = "#";
var WILDCARD = "*";
var EMPTY_OBJECT = {};
var isStateId = function(str) {
  return str[0] === STATE_IDENTIFIER;
};
var createDefaultOptions = function() {
  return {
    actions: {},
    guards: {},
    services: {},
    activities: {},
    delays: {}
  };
};
var validateArrayifiedTransitions = function(stateNode, event2, transitions) {
  var hasNonLastUnguardedTarget = transitions.slice(0, -1).some(function(transition) {
    return !("cond" in transition) && !("in" in transition) && (isString(transition.target) || isMachine(transition.target));
  });
  var eventText = event2 === NULL_EVENT ? "the transient event" : "event '".concat(event2, "'");
  warn(!hasNonLastUnguardedTarget, "One or more transitions for ".concat(eventText, " on state '").concat(stateNode.id, "' are unreachable. ") + "Make sure that the default transition is the last one defined.");
};
var StateNode = function() {
  function StateNode2(config, options, _context, _stateInfo) {
    if (_context === void 0) {
      _context = "context" in config ? config.context : void 0;
    }
    var _this = this;
    var _a3;
    this.config = config;
    this._context = _context;
    this.order = -1;
    this.__xstatenode = true;
    this.__cache = {
      events: void 0,
      relativeValue: /* @__PURE__ */ new Map(),
      initialStateValue: void 0,
      initialState: void 0,
      on: void 0,
      transitions: void 0,
      candidates: {},
      delayedTransitions: void 0
    };
    this.idMap = {};
    this.tags = [];
    this.options = Object.assign(createDefaultOptions(), options);
    this.parent = _stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.parent;
    this.key = this.config.key || (_stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.key) || this.config.id || "(machine)";
    this.machine = this.parent ? this.parent.machine : this;
    this.path = this.parent ? this.parent.path.concat(this.key) : [];
    this.delimiter = this.config.delimiter || (this.parent ? this.parent.delimiter : STATE_DELIMITER);
    this.id = this.config.id || __spreadArray2([this.machine.key], __read(this.path), false).join(this.delimiter);
    this.version = this.parent ? this.parent.version : this.config.version;
    this.type = this.config.type || (this.config.parallel ? "parallel" : this.config.states && Object.keys(this.config.states).length ? "compound" : this.config.history ? "history" : "atomic");
    this.schema = this.parent ? this.machine.schema : (_a3 = this.config.schema) !== null && _a3 !== void 0 ? _a3 : {};
    this.description = this.config.description;
    if (!IS_PRODUCTION) {
      warn(!("parallel" in this.config), 'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel ? "Replace with `type: 'parallel'`" : "Use `type: '".concat(this.type, "'`"), " in the config for state node '").concat(this.id, "' instead."));
    }
    this.initial = this.config.initial;
    this.states = this.config.states ? mapValues(this.config.states, function(stateConfig, key) {
      var _a4;
      var stateNode = new StateNode2(stateConfig, {}, void 0, {
        parent: _this,
        key
      });
      Object.assign(_this.idMap, __assign2((_a4 = {}, _a4[stateNode.id] = stateNode, _a4), stateNode.idMap));
      return stateNode;
    }) : EMPTY_OBJECT;
    var order = 0;
    function dfs(stateNode) {
      var e_1, _a4;
      stateNode.order = order++;
      try {
        for (var _b = __values(getAllChildren(stateNode)), _c = _b.next(); !_c.done; _c = _b.next()) {
          var child = _c.value;
          dfs(child);
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a4 = _b.return))
            _a4.call(_b);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
    }
    dfs(this);
    this.history = this.config.history === true ? "shallow" : this.config.history || false;
    this._transient = !!this.config.always || (!this.config.on ? false : Array.isArray(this.config.on) ? this.config.on.some(function(_a4) {
      var event2 = _a4.event;
      return event2 === NULL_EVENT;
    }) : NULL_EVENT in this.config.on);
    this.strict = !!this.config.strict;
    this.onEntry = toArray(this.config.entry || this.config.onEntry).map(function(action) {
      return toActionObject(action);
    });
    this.onExit = toArray(this.config.exit || this.config.onExit).map(function(action) {
      return toActionObject(action);
    });
    this.meta = this.config.meta;
    this.doneData = this.type === "final" ? this.config.data : void 0;
    this.invoke = toArray(this.config.invoke).map(function(invokeConfig, i67) {
      var _a4, _b;
      if (isMachine(invokeConfig)) {
        var invokeId = createInvokeId(_this.id, i67);
        _this.machine.options.services = __assign2((_a4 = {}, _a4[invokeId] = invokeConfig, _a4), _this.machine.options.services);
        return toInvokeDefinition({
          src: invokeId,
          id: invokeId
        });
      } else if (isString(invokeConfig.src)) {
        var invokeId = invokeConfig.id || createInvokeId(_this.id, i67);
        return toInvokeDefinition(__assign2(__assign2({}, invokeConfig), {
          id: invokeId,
          src: invokeConfig.src
        }));
      } else if (isMachine(invokeConfig.src) || isFunction(invokeConfig.src)) {
        var invokeId = invokeConfig.id || createInvokeId(_this.id, i67);
        _this.machine.options.services = __assign2((_b = {}, _b[invokeId] = invokeConfig.src, _b), _this.machine.options.services);
        return toInvokeDefinition(__assign2(__assign2({
          id: invokeId
        }, invokeConfig), {
          src: invokeId
        }));
      } else {
        var invokeSource = invokeConfig.src;
        return toInvokeDefinition(__assign2(__assign2({
          id: createInvokeId(_this.id, i67)
        }, invokeConfig), {
          src: invokeSource
        }));
      }
    });
    this.activities = toArray(this.config.activities).concat(this.invoke).map(function(activity) {
      return toActivityDefinition(activity);
    });
    this.transition = this.transition.bind(this);
    this.tags = toArray(this.config.tags);
  }
  StateNode2.prototype._init = function() {
    if (this.__cache.transitions) {
      return;
    }
    getAllStateNodes(this).forEach(function(stateNode) {
      return stateNode.on;
    });
  };
  StateNode2.prototype.withConfig = function(options, context) {
    var _a3 = this.options, actions = _a3.actions, activities = _a3.activities, guards = _a3.guards, services = _a3.services, delays = _a3.delays;
    return new StateNode2(this.config, {
      actions: __assign2(__assign2({}, actions), options.actions),
      activities: __assign2(__assign2({}, activities), options.activities),
      guards: __assign2(__assign2({}, guards), options.guards),
      services: __assign2(__assign2({}, services), options.services),
      delays: __assign2(__assign2({}, delays), options.delays)
    }, context !== null && context !== void 0 ? context : this.context);
  };
  StateNode2.prototype.withContext = function(context) {
    return new StateNode2(this.config, this.options, context);
  };
  Object.defineProperty(StateNode2.prototype, "context", {
    get: function() {
      return isFunction(this._context) ? this._context() : this._context;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "definition", {
    get: function() {
      return {
        id: this.id,
        key: this.key,
        version: this.version,
        context: this.context,
        type: this.type,
        initial: this.initial,
        history: this.history,
        states: mapValues(this.states, function(state) {
          return state.definition;
        }),
        on: this.on,
        transitions: this.transitions,
        entry: this.onEntry,
        exit: this.onExit,
        activities: this.activities || [],
        meta: this.meta,
        order: this.order || -1,
        data: this.doneData,
        invoke: this.invoke,
        description: this.description,
        tags: this.tags
      };
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.toJSON = function() {
    return this.definition;
  };
  Object.defineProperty(StateNode2.prototype, "on", {
    get: function() {
      if (this.__cache.on) {
        return this.__cache.on;
      }
      var transitions = this.transitions;
      return this.__cache.on = transitions.reduce(function(map, transition) {
        map[transition.eventType] = map[transition.eventType] || [];
        map[transition.eventType].push(transition);
        return map;
      }, {});
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "after", {
    get: function() {
      return this.__cache.delayedTransitions || (this.__cache.delayedTransitions = this.getDelayedTransitions(), this.__cache.delayedTransitions);
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "transitions", {
    get: function() {
      return this.__cache.transitions || (this.__cache.transitions = this.formatTransitions(), this.__cache.transitions);
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.getCandidates = function(eventName) {
    if (this.__cache.candidates[eventName]) {
      return this.__cache.candidates[eventName];
    }
    var transient = eventName === NULL_EVENT;
    var candidates = this.transitions.filter(function(transition) {
      var sameEventType = transition.eventType === eventName;
      return transient ? sameEventType : sameEventType || transition.eventType === WILDCARD;
    });
    this.__cache.candidates[eventName] = candidates;
    return candidates;
  };
  StateNode2.prototype.getDelayedTransitions = function() {
    var _this = this;
    var afterConfig = this.config.after;
    if (!afterConfig) {
      return [];
    }
    var mutateEntryExit = function(delay, i67) {
      var delayRef = isFunction(delay) ? "".concat(_this.id, ":delay[").concat(i67, "]") : delay;
      var eventType = after2(delayRef, _this.id);
      _this.onEntry.push(send2(eventType, {
        delay
      }));
      _this.onExit.push(cancel2(eventType));
      return eventType;
    };
    var delayedTransitions = isArray(afterConfig) ? afterConfig.map(function(transition, i67) {
      var eventType = mutateEntryExit(transition.delay, i67);
      return __assign2(__assign2({}, transition), {
        event: eventType
      });
    }) : flatten(Object.keys(afterConfig).map(function(delay, i67) {
      var configTransition = afterConfig[delay];
      var resolvedTransition = isString(configTransition) ? {
        target: configTransition
      } : configTransition;
      var resolvedDelay = !isNaN(+delay) ? +delay : delay;
      var eventType = mutateEntryExit(resolvedDelay, i67);
      return toArray(resolvedTransition).map(function(transition) {
        return __assign2(__assign2({}, transition), {
          event: eventType,
          delay: resolvedDelay
        });
      });
    }));
    return delayedTransitions.map(function(delayedTransition) {
      var delay = delayedTransition.delay;
      return __assign2(__assign2({}, _this.formatTransition(delayedTransition)), {
        delay
      });
    });
  };
  StateNode2.prototype.getStateNodes = function(state) {
    var _a3;
    var _this = this;
    if (!state) {
      return [];
    }
    var stateValue = state instanceof State ? state.value : toStateValue(state, this.delimiter);
    if (isString(stateValue)) {
      var initialStateValue = this.getStateNode(stateValue).initial;
      return initialStateValue !== void 0 ? this.getStateNodes((_a3 = {}, _a3[stateValue] = initialStateValue, _a3)) : [this, this.states[stateValue]];
    }
    var subStateKeys = Object.keys(stateValue);
    var subStateNodes = [this];
    subStateNodes.push.apply(subStateNodes, __spreadArray2([], __read(flatten(subStateKeys.map(function(subStateKey) {
      return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);
    }))), false));
    return subStateNodes;
  };
  StateNode2.prototype.handles = function(event2) {
    var eventType = getEventType(event2);
    return this.events.includes(eventType);
  };
  StateNode2.prototype.resolveState = function(state) {
    var stateFromConfig = state instanceof State ? state : State.create(state);
    var configuration = Array.from(getConfiguration([], this.getStateNodes(stateFromConfig.value)));
    return new State(__assign2(__assign2({}, stateFromConfig), {
      value: this.resolve(stateFromConfig.value),
      configuration,
      done: isInFinalState(configuration, this),
      tags: getTagsFromConfiguration(configuration),
      machine: this.machine
    }));
  };
  StateNode2.prototype.transitionLeafNode = function(stateValue, state, _event) {
    var stateNode = this.getStateNode(stateValue);
    var next = stateNode.next(state, _event);
    if (!next || !next.transitions.length) {
      return this.next(state, _event);
    }
    return next;
  };
  StateNode2.prototype.transitionCompoundNode = function(stateValue, state, _event) {
    var subStateKeys = Object.keys(stateValue);
    var stateNode = this.getStateNode(subStateKeys[0]);
    var next = stateNode._transition(stateValue[subStateKeys[0]], state, _event);
    if (!next || !next.transitions.length) {
      return this.next(state, _event);
    }
    return next;
  };
  StateNode2.prototype.transitionParallelNode = function(stateValue, state, _event) {
    var e_2, _a3;
    var transitionMap = {};
    try {
      for (var _b = __values(Object.keys(stateValue)), _c = _b.next(); !_c.done; _c = _b.next()) {
        var subStateKey = _c.value;
        var subStateValue = stateValue[subStateKey];
        if (!subStateValue) {
          continue;
        }
        var subStateNode = this.getStateNode(subStateKey);
        var next = subStateNode._transition(subStateValue, state, _event);
        if (next) {
          transitionMap[subStateKey] = next;
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a3 = _b.return))
          _a3.call(_b);
      } finally {
        if (e_2)
          throw e_2.error;
      }
    }
    var stateTransitions = Object.keys(transitionMap).map(function(key) {
      return transitionMap[key];
    });
    var enabledTransitions = flatten(stateTransitions.map(function(st) {
      return st.transitions;
    }));
    var willTransition = stateTransitions.some(function(st) {
      return st.transitions.length > 0;
    });
    if (!willTransition) {
      return this.next(state, _event);
    }
    var entryNodes = flatten(stateTransitions.map(function(t87) {
      return t87.entrySet;
    }));
    var configuration = flatten(Object.keys(transitionMap).map(function(key) {
      return transitionMap[key].configuration;
    }));
    return {
      transitions: enabledTransitions,
      entrySet: entryNodes,
      exitSet: flatten(stateTransitions.map(function(t87) {
        return t87.exitSet;
      })),
      configuration,
      source: state,
      actions: flatten(Object.keys(transitionMap).map(function(key) {
        return transitionMap[key].actions;
      }))
    };
  };
  StateNode2.prototype._transition = function(stateValue, state, _event) {
    if (isString(stateValue)) {
      return this.transitionLeafNode(stateValue, state, _event);
    }
    if (Object.keys(stateValue).length === 1) {
      return this.transitionCompoundNode(stateValue, state, _event);
    }
    return this.transitionParallelNode(stateValue, state, _event);
  };
  StateNode2.prototype.getTransitionData = function(state, event2) {
    return this._transition(state.value, state, toSCXMLEvent(event2));
  };
  StateNode2.prototype.next = function(state, _event) {
    var e_3, _a3;
    var _this = this;
    var eventName = _event.name;
    var actions = [];
    var nextStateNodes = [];
    var selectedTransition;
    try {
      for (var _b = __values(this.getCandidates(eventName)), _c = _b.next(); !_c.done; _c = _b.next()) {
        var candidate = _c.value;
        var cond = candidate.cond, stateIn = candidate.in;
        var resolvedContext = state.context;
        var isInState = stateIn ? isString(stateIn) && isStateId(stateIn) ? state.matches(toStateValue(this.getStateNodeById(stateIn).path, this.delimiter)) : matchesState(toStateValue(stateIn, this.delimiter), path(this.path.slice(0, -2))(state.value)) : true;
        var guardPassed = false;
        try {
          guardPassed = !cond || evaluateGuard(this.machine, cond, resolvedContext, _event, state);
        } catch (err) {
          throw new Error("Unable to evaluate guard '".concat(cond.name || cond.type, "' in transition for event '").concat(eventName, "' in state node '").concat(this.id, "':\n").concat(err.message));
        }
        if (guardPassed && isInState) {
          if (candidate.target !== void 0) {
            nextStateNodes = candidate.target;
          }
          actions.push.apply(actions, __spreadArray2([], __read(candidate.actions), false));
          selectedTransition = candidate;
          break;
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a3 = _b.return))
          _a3.call(_b);
      } finally {
        if (e_3)
          throw e_3.error;
      }
    }
    if (!selectedTransition) {
      return void 0;
    }
    if (!nextStateNodes.length) {
      return {
        transitions: [selectedTransition],
        entrySet: [],
        exitSet: [],
        configuration: state.value ? [this] : [],
        source: state,
        actions
      };
    }
    var allNextStateNodes = flatten(nextStateNodes.map(function(stateNode) {
      return _this.getRelativeStateNodes(stateNode, state.historyValue);
    }));
    var isInternal = !!selectedTransition.internal;
    var reentryNodes = [];
    if (!isInternal) {
      nextStateNodes.forEach(function(targetNode) {
        reentryNodes.push.apply(reentryNodes, __spreadArray2([], __read(_this.getExternalReentryNodes(targetNode)), false));
      });
    }
    return {
      transitions: [selectedTransition],
      entrySet: reentryNodes,
      exitSet: isInternal ? [] : [this],
      configuration: allNextStateNodes,
      source: state,
      actions
    };
  };
  StateNode2.prototype.getExternalReentryNodes = function(targetNode) {
    var nodes = [];
    var _a3 = __read(targetNode.order > this.order ? [targetNode, this] : [this, targetNode], 2), marker = _a3[0], possibleAncestor = _a3[1];
    while (marker && marker !== possibleAncestor) {
      nodes.push(marker);
      marker = marker.parent;
    }
    if (marker !== possibleAncestor) {
      return [];
    }
    nodes.push(possibleAncestor);
    return nodes;
  };
  StateNode2.prototype.getActions = function(resolvedConfig, isDone, transition, currentContext, _event, prevState, predictableExec) {
    var e_4, _a3, e_5, _b;
    var _this = this;
    var prevConfig = getConfiguration([], prevState ? this.getStateNodes(prevState.value) : [this]);
    try {
      for (var resolvedConfig_1 = __values(resolvedConfig), resolvedConfig_1_1 = resolvedConfig_1.next(); !resolvedConfig_1_1.done; resolvedConfig_1_1 = resolvedConfig_1.next()) {
        var sn = resolvedConfig_1_1.value;
        if (!has(prevConfig, sn) || has(transition.entrySet, sn.parent) && !has(transition.entrySet, sn)) {
          transition.entrySet.push(sn);
        }
      }
    } catch (e_4_1) {
      e_4 = {
        error: e_4_1
      };
    } finally {
      try {
        if (resolvedConfig_1_1 && !resolvedConfig_1_1.done && (_a3 = resolvedConfig_1.return))
          _a3.call(resolvedConfig_1);
      } finally {
        if (e_4)
          throw e_4.error;
      }
    }
    try {
      for (var prevConfig_1 = __values(prevConfig), prevConfig_1_1 = prevConfig_1.next(); !prevConfig_1_1.done; prevConfig_1_1 = prevConfig_1.next()) {
        var sn = prevConfig_1_1.value;
        if (!has(resolvedConfig, sn) || has(transition.exitSet, sn.parent)) {
          transition.exitSet.push(sn);
        }
      }
    } catch (e_5_1) {
      e_5 = {
        error: e_5_1
      };
    } finally {
      try {
        if (prevConfig_1_1 && !prevConfig_1_1.done && (_b = prevConfig_1.return))
          _b.call(prevConfig_1);
      } finally {
        if (e_5)
          throw e_5.error;
      }
    }
    var doneEvents = flatten(transition.entrySet.map(function(sn2) {
      var events = [];
      if (sn2.type !== "final") {
        return events;
      }
      var parent = sn2.parent;
      if (!parent.parent) {
        return events;
      }
      events.push(
        done(sn2.id, sn2.doneData),
        done(parent.id, sn2.doneData ? mapContext(sn2.doneData, currentContext, _event) : void 0)
      );
      var grandparent = parent.parent;
      if (grandparent.type === "parallel") {
        if (getChildren(grandparent).every(function(parentNode) {
          return isInFinalState(transition.configuration, parentNode);
        })) {
          events.push(done(grandparent.id));
        }
      }
      return events;
    }));
    transition.exitSet.sort(function(a82, b7) {
      return b7.order - a82.order;
    });
    transition.entrySet.sort(function(a82, b7) {
      return a82.order - b7.order;
    });
    var entryStates = new Set(transition.entrySet);
    var exitStates = new Set(transition.exitSet);
    var entryActions = Array.from(entryStates).map(function(stateNode) {
      var entryActions2 = stateNode.onEntry;
      var invokeActions = stateNode.activities.map(function(activity) {
        return start2(activity);
      });
      return toActionObjects(predictableExec ? __spreadArray2(__spreadArray2([], __read(entryActions2), false), __read(invokeActions), false) : __spreadArray2(__spreadArray2([], __read(invokeActions), false), __read(entryActions2), false), _this.machine.options.actions);
    }).concat([doneEvents.map(raise2)]);
    var exitActions = Array.from(exitStates).map(function(stateNode) {
      return toActionObjects(__spreadArray2(__spreadArray2([], __read(stateNode.onExit), false), __read(stateNode.activities.map(function(activity) {
        return stop2(activity);
      })), false), _this.machine.options.actions);
    });
    var actions = exitActions.concat([toActionObjects(transition.actions, this.machine.options.actions)]).concat(entryActions);
    if (isDone) {
      var stopActions = toActionObjects(flatten(__spreadArray2([], __read(resolvedConfig), false).sort(function(a82, b7) {
        return b7.order - a82.order;
      }).map(function(stateNode) {
        return stateNode.onExit;
      })), this.machine.options.actions).filter(function(action) {
        return action.type !== raise && (action.type !== send || !!action.to && action.to !== SpecialTargets.Internal);
      });
      return actions.concat([stopActions]);
    }
    return actions;
  };
  StateNode2.prototype.transition = function(state, event2, context, exec) {
    if (state === void 0) {
      state = this.initialState;
    }
    var _event = toSCXMLEvent(event2);
    var currentState;
    if (state instanceof State) {
      currentState = context === void 0 ? state : this.resolveState(State.from(state, context));
    } else {
      var resolvedStateValue = isString(state) ? this.resolve(pathToStateValue(this.getResolvedPath(state))) : this.resolve(state);
      var resolvedContext = context !== null && context !== void 0 ? context : this.machine.context;
      currentState = this.resolveState(State.from(resolvedStateValue, resolvedContext));
    }
    if (!IS_PRODUCTION && _event.name === WILDCARD) {
      throw new Error("An event cannot have the wildcard type ('".concat(WILDCARD, "')"));
    }
    if (this.strict) {
      if (!this.events.includes(_event.name) && !isBuiltInEvent(_event.name)) {
        throw new Error("Machine '".concat(this.id, "' does not accept event '").concat(_event.name, "'"));
      }
    }
    var stateTransition = this._transition(currentState.value, currentState, _event) || {
      transitions: [],
      configuration: [],
      entrySet: [],
      exitSet: [],
      source: currentState,
      actions: []
    };
    var prevConfig = getConfiguration([], this.getStateNodes(currentState.value));
    var resolvedConfig = stateTransition.configuration.length ? getConfiguration(prevConfig, stateTransition.configuration) : prevConfig;
    stateTransition.configuration = __spreadArray2([], __read(resolvedConfig), false);
    return this.resolveTransition(stateTransition, currentState, currentState.context, exec, _event);
  };
  StateNode2.prototype.resolveRaisedTransition = function(state, _event, originalEvent, predictableExec) {
    var _a3;
    var currentActions = state.actions;
    state = this.transition(state, _event, void 0, predictableExec);
    state._event = originalEvent;
    state.event = originalEvent.data;
    (_a3 = state.actions).unshift.apply(_a3, __spreadArray2([], __read(currentActions), false));
    return state;
  };
  StateNode2.prototype.resolveTransition = function(stateTransition, currentState, context, predictableExec, _event) {
    var e_6, _a3, e_7, _b;
    var _this = this;
    if (_event === void 0) {
      _event = initEvent;
    }
    var configuration = stateTransition.configuration;
    var willTransition = !currentState || stateTransition.transitions.length > 0;
    var resolvedConfiguration = willTransition ? stateTransition.configuration : currentState ? currentState.configuration : [];
    var isDone = isInFinalState(resolvedConfiguration, this);
    var resolvedStateValue = willTransition ? getValue(this.machine, configuration) : void 0;
    var historyValue = currentState ? currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : void 0 : void 0;
    var actionBlocks = this.getActions(new Set(resolvedConfiguration), isDone, stateTransition, context, _event, currentState, predictableExec);
    var activities = currentState ? __assign2({}, currentState.activities) : {};
    try {
      for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {
        var block = actionBlocks_1_1.value;
        try {
          for (var block_1 = (e_7 = void 0, __values(block)), block_1_1 = block_1.next(); !block_1_1.done; block_1_1 = block_1.next()) {
            var action = block_1_1.value;
            if (action.type === start) {
              activities[action.activity.id || action.activity.type] = action;
            } else if (action.type === stop) {
              activities[action.activity.id || action.activity.type] = false;
            }
          }
        } catch (e_7_1) {
          e_7 = {
            error: e_7_1
          };
        } finally {
          try {
            if (block_1_1 && !block_1_1.done && (_b = block_1.return))
              _b.call(block_1);
          } finally {
            if (e_7)
              throw e_7.error;
          }
        }
      }
    } catch (e_6_1) {
      e_6 = {
        error: e_6_1
      };
    } finally {
      try {
        if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a3 = actionBlocks_1.return))
          _a3.call(actionBlocks_1);
      } finally {
        if (e_6)
          throw e_6.error;
      }
    }
    var _c = __read(resolveActions(this, currentState, context, _event, actionBlocks, predictableExec, this.machine.config.predictableActionArguments || this.machine.config.preserveActionOrder), 2), resolvedActions = _c[0], updatedContext = _c[1];
    var _d = __read(partition(resolvedActions, function(action2) {
      return action2.type === raise || action2.type === send && action2.to === SpecialTargets.Internal;
    }), 2), raisedEvents = _d[0], nonRaisedActions = _d[1];
    var invokeActions = resolvedActions.filter(function(action2) {
      var _a4;
      return action2.type === start && ((_a4 = action2.activity) === null || _a4 === void 0 ? void 0 : _a4.type) === invoke;
    });
    var children2 = invokeActions.reduce(function(acc, action2) {
      acc[action2.activity.id] = createInvocableActor(action2.activity, _this.machine, updatedContext, _event);
      return acc;
    }, currentState ? __assign2({}, currentState.children) : {});
    var nextState = new State({
      value: resolvedStateValue || currentState.value,
      context: updatedContext,
      _event,
      _sessionid: currentState ? currentState._sessionid : null,
      historyValue: resolvedStateValue ? historyValue ? updateHistoryValue(historyValue, resolvedStateValue) : void 0 : currentState ? currentState.historyValue : void 0,
      history: !resolvedStateValue || stateTransition.source ? currentState : void 0,
      actions: resolvedStateValue ? nonRaisedActions : [],
      activities: resolvedStateValue ? activities : currentState ? currentState.activities : {},
      events: [],
      configuration: resolvedConfiguration,
      transitions: stateTransition.transitions,
      children: children2,
      done: isDone,
      tags: getTagsFromConfiguration(resolvedConfiguration),
      machine: this
    });
    var didUpdateContext = context !== updatedContext;
    nextState.changed = _event.name === update || didUpdateContext;
    var history = nextState.history;
    if (history) {
      delete history.history;
    }
    var hasAlwaysTransitions = !isDone && (this._transient || configuration.some(function(stateNode) {
      return stateNode._transient;
    }));
    if (!willTransition && (!hasAlwaysTransitions || _event.name === NULL_EVENT)) {
      return nextState;
    }
    var maybeNextState = nextState;
    if (!isDone) {
      if (hasAlwaysTransitions) {
        maybeNextState = this.resolveRaisedTransition(maybeNextState, {
          type: nullEvent
        }, _event, predictableExec);
      }
      while (raisedEvents.length) {
        var raisedEvent = raisedEvents.shift();
        maybeNextState = this.resolveRaisedTransition(maybeNextState, raisedEvent._event, _event, predictableExec);
      }
    }
    var changed = maybeNextState.changed || (history ? !!maybeNextState.actions.length || didUpdateContext || typeof history.value !== typeof maybeNextState.value || !stateValuesEqual(maybeNextState.value, history.value) : void 0);
    maybeNextState.changed = changed;
    maybeNextState.history = history;
    return maybeNextState;
  };
  StateNode2.prototype.getStateNode = function(stateKey) {
    if (isStateId(stateKey)) {
      return this.machine.getStateNodeById(stateKey);
    }
    if (!this.states) {
      throw new Error("Unable to retrieve child state '".concat(stateKey, "' from '").concat(this.id, "'; no child states exist."));
    }
    var result = this.states[stateKey];
    if (!result) {
      throw new Error("Child state '".concat(stateKey, "' does not exist on '").concat(this.id, "'"));
    }
    return result;
  };
  StateNode2.prototype.getStateNodeById = function(stateId) {
    var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;
    if (resolvedStateId === this.id) {
      return this;
    }
    var stateNode = this.machine.idMap[resolvedStateId];
    if (!stateNode) {
      throw new Error("Child state node '#".concat(resolvedStateId, "' does not exist on machine '").concat(this.id, "'"));
    }
    return stateNode;
  };
  StateNode2.prototype.getStateNodeByPath = function(statePath) {
    if (typeof statePath === "string" && isStateId(statePath)) {
      try {
        return this.getStateNodeById(statePath.slice(1));
      } catch (e142) {
      }
    }
    var arrayStatePath = toStatePath(statePath, this.delimiter).slice();
    var currentStateNode = this;
    while (arrayStatePath.length) {
      var key = arrayStatePath.shift();
      if (!key.length) {
        break;
      }
      currentStateNode = currentStateNode.getStateNode(key);
    }
    return currentStateNode;
  };
  StateNode2.prototype.resolve = function(stateValue) {
    var _a3;
    var _this = this;
    if (!stateValue) {
      return this.initialStateValue || EMPTY_OBJECT;
    }
    switch (this.type) {
      case "parallel":
        return mapValues(this.initialStateValue, function(subStateValue, subStateKey) {
          return subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;
        });
      case "compound":
        if (isString(stateValue)) {
          var subStateNode = this.getStateNode(stateValue);
          if (subStateNode.type === "parallel" || subStateNode.type === "compound") {
            return _a3 = {}, _a3[stateValue] = subStateNode.initialStateValue, _a3;
          }
          return stateValue;
        }
        if (!Object.keys(stateValue).length) {
          return this.initialStateValue || {};
        }
        return mapValues(stateValue, function(subStateValue, subStateKey) {
          return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;
        });
      default:
        return stateValue || EMPTY_OBJECT;
    }
  };
  StateNode2.prototype.getResolvedPath = function(stateIdentifier) {
    if (isStateId(stateIdentifier)) {
      var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];
      if (!stateNode) {
        throw new Error("Unable to find state node '".concat(stateIdentifier, "'"));
      }
      return stateNode.path;
    }
    return toStatePath(stateIdentifier, this.delimiter);
  };
  Object.defineProperty(StateNode2.prototype, "initialStateValue", {
    get: function() {
      var _a3;
      if (this.__cache.initialStateValue) {
        return this.__cache.initialStateValue;
      }
      var initialStateValue;
      if (this.type === "parallel") {
        initialStateValue = mapFilterValues(this.states, function(state) {
          return state.initialStateValue || EMPTY_OBJECT;
        }, function(stateNode) {
          return !(stateNode.type === "history");
        });
      } else if (this.initial !== void 0) {
        if (!this.states[this.initial]) {
          throw new Error("Initial state '".concat(this.initial, "' not found on '").concat(this.key, "'"));
        }
        initialStateValue = isLeafNode(this.states[this.initial]) ? this.initial : (_a3 = {}, _a3[this.initial] = this.states[this.initial].initialStateValue, _a3);
      } else {
        initialStateValue = {};
      }
      this.__cache.initialStateValue = initialStateValue;
      return this.__cache.initialStateValue;
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.getInitialState = function(stateValue, context) {
    this._init();
    var configuration = this.getStateNodes(stateValue);
    return this.resolveTransition({
      configuration,
      entrySet: configuration,
      exitSet: [],
      transitions: [],
      source: void 0,
      actions: []
    }, void 0, context !== null && context !== void 0 ? context : this.machine.context, void 0);
  };
  Object.defineProperty(StateNode2.prototype, "initialState", {
    get: function() {
      var initialStateValue = this.initialStateValue;
      if (!initialStateValue) {
        throw new Error("Cannot retrieve initial state from simple state '".concat(this.id, "'."));
      }
      return this.getInitialState(initialStateValue);
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "target", {
    get: function() {
      var target;
      if (this.type === "history") {
        var historyConfig = this.config;
        if (isString(historyConfig.target)) {
          target = isStateId(historyConfig.target) ? pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;
        } else {
          target = historyConfig.target;
        }
      }
      return target;
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.getRelativeStateNodes = function(relativeStateId, historyValue, resolve) {
    if (resolve === void 0) {
      resolve = true;
    }
    return resolve ? relativeStateId.type === "history" ? relativeStateId.resolveHistory(historyValue) : relativeStateId.initialStateNodes : [relativeStateId];
  };
  Object.defineProperty(StateNode2.prototype, "initialStateNodes", {
    get: function() {
      var _this = this;
      if (isLeafNode(this)) {
        return [this];
      }
      if (this.type === "compound" && !this.initial) {
        if (!IS_PRODUCTION) {
          warn(false, "Compound state node '".concat(this.id, "' has no initial state."));
        }
        return [this];
      }
      var initialStateNodePaths = toStatePaths(this.initialStateValue);
      return flatten(initialStateNodePaths.map(function(initialPath) {
        return _this.getFromRelativePath(initialPath);
      }));
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.getFromRelativePath = function(relativePath) {
    if (!relativePath.length) {
      return [this];
    }
    var _a3 = __read(relativePath), stateKey = _a3[0], childStatePath = _a3.slice(1);
    if (!this.states) {
      throw new Error("Cannot retrieve subPath '".concat(stateKey, "' from node with no states"));
    }
    var childStateNode = this.getStateNode(stateKey);
    if (childStateNode.type === "history") {
      return childStateNode.resolveHistory();
    }
    if (!this.states[stateKey]) {
      throw new Error("Child state '".concat(stateKey, "' does not exist on '").concat(this.id, "'"));
    }
    return this.states[stateKey].getFromRelativePath(childStatePath);
  };
  StateNode2.prototype.historyValue = function(relativeStateValue) {
    if (!Object.keys(this.states).length) {
      return void 0;
    }
    return {
      current: relativeStateValue || this.initialStateValue,
      states: mapFilterValues(this.states, function(stateNode, key) {
        if (!relativeStateValue) {
          return stateNode.historyValue();
        }
        var subStateValue = isString(relativeStateValue) ? void 0 : relativeStateValue[key];
        return stateNode.historyValue(subStateValue || stateNode.initialStateValue);
      }, function(stateNode) {
        return !stateNode.history;
      })
    };
  };
  StateNode2.prototype.resolveHistory = function(historyValue) {
    var _this = this;
    if (this.type !== "history") {
      return [this];
    }
    var parent = this.parent;
    if (!historyValue) {
      var historyTarget = this.target;
      return historyTarget ? flatten(toStatePaths(historyTarget).map(function(relativeChildPath) {
        return parent.getFromRelativePath(relativeChildPath);
      })) : parent.initialStateNodes;
    }
    var subHistoryValue = nestedPath(parent.path, "states")(historyValue).current;
    if (isString(subHistoryValue)) {
      return [parent.getStateNode(subHistoryValue)];
    }
    return flatten(toStatePaths(subHistoryValue).map(function(subStatePath) {
      return _this.history === "deep" ? parent.getFromRelativePath(subStatePath) : [parent.states[subStatePath[0]]];
    }));
  };
  Object.defineProperty(StateNode2.prototype, "stateIds", {
    get: function() {
      var _this = this;
      var childStateIds = flatten(Object.keys(this.states).map(function(stateKey) {
        return _this.states[stateKey].stateIds;
      }));
      return [this.id].concat(childStateIds);
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "events", {
    get: function() {
      var e_8, _a3, e_9, _b;
      if (this.__cache.events) {
        return this.__cache.events;
      }
      var states = this.states;
      var events = new Set(this.ownEvents);
      if (states) {
        try {
          for (var _c = __values(Object.keys(states)), _d = _c.next(); !_d.done; _d = _c.next()) {
            var stateId = _d.value;
            var state = states[stateId];
            if (state.states) {
              try {
                for (var _e = (e_9 = void 0, __values(state.events)), _f = _e.next(); !_f.done; _f = _e.next()) {
                  var event_1 = _f.value;
                  events.add("".concat(event_1));
                }
              } catch (e_9_1) {
                e_9 = {
                  error: e_9_1
                };
              } finally {
                try {
                  if (_f && !_f.done && (_b = _e.return))
                    _b.call(_e);
                } finally {
                  if (e_9)
                    throw e_9.error;
                }
              }
            }
          }
        } catch (e_8_1) {
          e_8 = {
            error: e_8_1
          };
        } finally {
          try {
            if (_d && !_d.done && (_a3 = _c.return))
              _a3.call(_c);
          } finally {
            if (e_8)
              throw e_8.error;
          }
        }
      }
      return this.__cache.events = Array.from(events);
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(StateNode2.prototype, "ownEvents", {
    get: function() {
      var events = new Set(this.transitions.filter(function(transition) {
        return !(!transition.target && !transition.actions.length && transition.internal);
      }).map(function(transition) {
        return transition.eventType;
      }));
      return Array.from(events);
    },
    enumerable: false,
    configurable: true
  });
  StateNode2.prototype.resolveTarget = function(_target) {
    var _this = this;
    if (_target === void 0) {
      return void 0;
    }
    return _target.map(function(target) {
      if (!isString(target)) {
        return target;
      }
      var isInternalTarget = target[0] === _this.delimiter;
      if (isInternalTarget && !_this.parent) {
        return _this.getStateNodeByPath(target.slice(1));
      }
      var resolvedTarget = isInternalTarget ? _this.key + target : target;
      if (_this.parent) {
        try {
          var targetStateNode = _this.parent.getStateNodeByPath(resolvedTarget);
          return targetStateNode;
        } catch (err) {
          throw new Error("Invalid transition definition for state node '".concat(_this.id, "':\n").concat(err.message));
        }
      } else {
        return _this.getStateNodeByPath(resolvedTarget);
      }
    });
  };
  StateNode2.prototype.formatTransition = function(transitionConfig) {
    var _this = this;
    var normalizedTarget = normalizeTarget(transitionConfig.target);
    var internal = "internal" in transitionConfig ? transitionConfig.internal : normalizedTarget ? normalizedTarget.some(function(_target) {
      return isString(_target) && _target[0] === _this.delimiter;
    }) : true;
    var guards = this.machine.options.guards;
    var target = this.resolveTarget(normalizedTarget);
    var transition = __assign2(__assign2({}, transitionConfig), {
      actions: toActionObjects(toArray(transitionConfig.actions)),
      cond: toGuard(transitionConfig.cond, guards),
      target,
      source: this,
      internal,
      eventType: transitionConfig.event,
      toJSON: function() {
        return __assign2(__assign2({}, transition), {
          target: transition.target ? transition.target.map(function(t87) {
            return "#".concat(t87.id);
          }) : void 0,
          source: "#".concat(_this.id)
        });
      }
    });
    return transition;
  };
  StateNode2.prototype.formatTransitions = function() {
    var e_10, _a3;
    var _this = this;
    var onConfig;
    if (!this.config.on) {
      onConfig = [];
    } else if (Array.isArray(this.config.on)) {
      onConfig = this.config.on;
    } else {
      var _b = this.config.on, _c = WILDCARD, _d = _b[_c], wildcardConfigs = _d === void 0 ? [] : _d, strictTransitionConfigs_1 = __rest2(_b, [typeof _c === "symbol" ? _c : _c + ""]);
      onConfig = flatten(Object.keys(strictTransitionConfigs_1).map(function(key) {
        if (!IS_PRODUCTION && key === NULL_EVENT) {
          warn(false, "Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. " + 'Please check the `on` configuration for "#'.concat(_this.id, '".'));
        }
        var transitionConfigArray = toTransitionConfigArray(key, strictTransitionConfigs_1[key]);
        if (!IS_PRODUCTION) {
          validateArrayifiedTransitions(_this, key, transitionConfigArray);
        }
        return transitionConfigArray;
      }).concat(toTransitionConfigArray(WILDCARD, wildcardConfigs)));
    }
    var eventlessConfig = this.config.always ? toTransitionConfigArray("", this.config.always) : [];
    var doneConfig = this.config.onDone ? toTransitionConfigArray(String(done(this.id)), this.config.onDone) : [];
    if (!IS_PRODUCTION) {
      warn(!(this.config.onDone && !this.parent), 'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id, '".'));
    }
    var invokeConfig = flatten(this.invoke.map(function(invokeDef) {
      var settleTransitions = [];
      if (invokeDef.onDone) {
        settleTransitions.push.apply(settleTransitions, __spreadArray2([], __read(toTransitionConfigArray(String(doneInvoke(invokeDef.id)), invokeDef.onDone)), false));
      }
      if (invokeDef.onError) {
        settleTransitions.push.apply(settleTransitions, __spreadArray2([], __read(toTransitionConfigArray(String(error2(invokeDef.id)), invokeDef.onError)), false));
      }
      return settleTransitions;
    }));
    var delayedTransitions = this.after;
    var formattedTransitions = flatten(__spreadArray2(__spreadArray2(__spreadArray2(__spreadArray2([], __read(doneConfig), false), __read(invokeConfig), false), __read(onConfig), false), __read(eventlessConfig), false).map(function(transitionConfig) {
      return toArray(transitionConfig).map(function(transition) {
        return _this.formatTransition(transition);
      });
    }));
    try {
      for (var delayedTransitions_1 = __values(delayedTransitions), delayedTransitions_1_1 = delayedTransitions_1.next(); !delayedTransitions_1_1.done; delayedTransitions_1_1 = delayedTransitions_1.next()) {
        var delayedTransition = delayedTransitions_1_1.value;
        formattedTransitions.push(delayedTransition);
      }
    } catch (e_10_1) {
      e_10 = {
        error: e_10_1
      };
    } finally {
      try {
        if (delayedTransitions_1_1 && !delayedTransitions_1_1.done && (_a3 = delayedTransitions_1.return))
          _a3.call(delayedTransitions_1);
      } finally {
        if (e_10)
          throw e_10.error;
      }
    }
    return formattedTransitions;
  };
  return StateNode2;
}();

// node_modules/xstate/es/Machine.js
var warned = false;
function createMachine(config, options) {
  if (!IS_PRODUCTION && !config.predictableActionArguments && !warned) {
    warned = true;
    console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html");
  }
  return new StateNode(config, options);
}

// node_modules/xstate/es/index.js
var assign3 = assign2;
var sendUpdate2 = sendUpdate;
var forwardTo2 = forwardTo;

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useInterpret.js
var import_react2 = __toESM(require_react());

// node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js
var import_react = __toESM(require_react());
var index = import_react.useLayoutEffect;
var use_isomorphic_layout_effect_browser_esm_default = index;

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useConstant.js
var React = __toESM(require_react());
function useConstant(fn) {
  var ref = React.useRef();
  if (!ref.current) {
    ref.current = { v: fn() };
  }
  return ref.current.v;
}

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useInterpret.js
var __assign3 = function() {
  __assign3 = Object.assign || function(t87) {
    for (var s62, i67 = 1, n45 = arguments.length; i67 < n45; i67++) {
      s62 = arguments[i67];
      for (var p17 in s62)
        if (Object.prototype.hasOwnProperty.call(s62, p17))
          t87[p17] = s62[p17];
    }
    return t87;
  };
  return __assign3.apply(this, arguments);
};
var __rest3 = function(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
};
var __read2 = function(o101, n45) {
  var m29 = typeof Symbol === "function" && o101[Symbol.iterator];
  if (!m29)
    return o101;
  var i67 = m29.call(o101), r61, ar = [], e142;
  try {
    while ((n45 === void 0 || n45-- > 0) && !(r61 = i67.next()).done)
      ar.push(r61.value);
  } catch (error3) {
    e142 = { error: error3 };
  } finally {
    try {
      if (r61 && !r61.done && (m29 = i67["return"]))
        m29.call(i67);
    } finally {
      if (e142)
        throw e142.error;
    }
  }
  return ar;
};
function useIdleInterpreter(getMachine, options) {
  var machine = useConstant(function() {
    return typeof getMachine === "function" ? getMachine() : getMachine;
  });
  if (typeof getMachine !== "function") {
    var _a3 = __read2((0, import_react2.useState)(machine), 1), initialMachine = _a3[0];
    if (getMachine !== initialMachine) {
      console.warn("Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\nPlease make sure that you pass the same Machine as argument each time.");
    }
  }
  var context = options.context, guards = options.guards, actions = options.actions, activities = options.activities, services = options.services, delays = options.delays, rehydratedState = options.state, interpreterOptions = __rest3(options, ["context", "guards", "actions", "activities", "services", "delays", "state"]);
  var service = useConstant(function() {
    var machineConfig = {
      context,
      guards,
      actions,
      activities,
      services,
      delays
    };
    var machineWithConfig = machine.withConfig(machineConfig, function() {
      return __assign3(__assign3({}, machine.context), context);
    });
    return interpret(machineWithConfig, interpreterOptions);
  });
  use_isomorphic_layout_effect_browser_esm_default(function() {
    Object.assign(service.machine.options.actions, actions);
    Object.assign(service.machine.options.guards, guards);
    Object.assign(service.machine.options.activities, activities);
    Object.assign(service.machine.options.services, services);
    Object.assign(service.machine.options.delays, delays);
  }, [actions, guards, activities, services, delays]);
  return service;
}
function useInterpret(getMachine) {
  var _a3 = [];
  for (var _i = 1; _i < arguments.length; _i++) {
    _a3[_i - 1] = arguments[_i];
  }
  var _b = __read2(_a3, 2), _c = _b[0], options = _c === void 0 ? {} : _c, observerOrListener = _b[1];
  var service = useIdleInterpreter(getMachine, options);
  (0, import_react2.useEffect)(function() {
    if (!observerOrListener) {
      return;
    }
    var sub = service.subscribe(toObserver(observerOrListener));
    return function() {
      sub.unsubscribe();
    };
  }, [observerOrListener]);
  (0, import_react2.useEffect)(function() {
    var rehydratedState = options.state;
    service.start(rehydratedState ? State.create(rehydratedState) : void 0);
    return function() {
      service.stop();
      service.status = InterpreterStatus.NotStarted;
    };
  }, []);
  return service;
}

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useActor.js
var import_react4 = __toESM(require_react());
var import_shim = __toESM(require_shim());
function isActorWithState(actorRef) {
  return "state" in actorRef;
}

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useSelector.js
var import_react5 = __toESM(require_react());
var import_with_selector2 = __toESM(require_with_selector());

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/utils.js
function getServiceSnapshot(service) {
  return service.status !== 0 ? service.state : service.machine.initialState;
}

// node_modules/@aws-amplify/ui-react-core/node_modules/@xstate/react/es/useSelector.js
function isService(actor) {
  return "state" in actor && "machine" in actor;
}
var defaultCompare = function(a82, b7) {
  return a82 === b7;
};
var defaultGetSnapshot = function(a82, initialStateCacheRef) {
  if (isService(a82)) {
    if (a82.status === 0 && initialStateCacheRef.current) {
      return initialStateCacheRef.current;
    }
    var snapshot = getServiceSnapshot(a82);
    initialStateCacheRef.current = a82.status === 0 ? snapshot : null;
    return snapshot;
  }
  return isActorWithState(a82) ? a82.state : void 0;
};
function useSelector(actor, selector, compare, getSnapshot) {
  if (compare === void 0) {
    compare = defaultCompare;
  }
  var initialStateCacheRef = (0, import_react5.useRef)(null);
  var subscribe = (0, import_react5.useCallback)(function(handleStoreChange) {
    var unsubscribe = actor.subscribe(handleStoreChange).unsubscribe;
    return unsubscribe;
  }, [actor]);
  var boundGetSnapshot = (0, import_react5.useCallback)(function() {
    if (getSnapshot) {
      return getSnapshot(actor);
    }
    return defaultGetSnapshot(actor, initialStateCacheRef);
  }, [actor, getSnapshot]);
  var selectedSnapshot = (0, import_with_selector2.useSyncExternalStoreWithSelector)(subscribe, boundGetSnapshot, boundGetSnapshot, selector, compare);
  return selectedSnapshot;
}

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/actor.js
var t2 = function(t87) {
  var n45;
  return null === (n45 = t87.context.actorRef) || void 0 === n45 ? void 0 : n45.getSnapshot();
};
var n = function(n45) {
  var o101;
  return null === (o101 = t2(n45)) || void 0 === o101 ? void 0 : o101.context;
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/context.js
var import_includes = __toESM(require_includes());

// node_modules/@aws-amplify/ui/dist/esm/types/authenticator/user.js
var o;
var e;
!function(o101) {
  o101.Apple = "SignInWithApple", o101.Amazon = "LoginWithAmazon", o101.Facebook = "Facebook", o101.Google = "Google";
}(o || (o = {})), function(o101) {
  o101.Email = "email", o101.PhoneNumber = "phone_number";
}(e || (e = {}));

// node_modules/@aws-amplify/ui/node_modules/tslib/tslib.es6.js
var __assign4 = function() {
  __assign4 = Object.assign || function __assign5(t87) {
    for (var s62, i67 = 1, n45 = arguments.length; i67 < n45; i67++) {
      s62 = arguments[i67];
      for (var p17 in s62)
        if (Object.prototype.hasOwnProperty.call(s62, p17))
          t87[p17] = s62[p17];
    }
    return t87;
  };
  return __assign4.apply(this, arguments);
};
function __rest4(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
}
function __awaiter(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e142) {
        reject(e142);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e142) {
        reject(e142);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _3 = { label: 0, sent: function() {
    if (t87[0] & 1)
      throw t87[1];
    return t87[1];
  }, trys: [], ops: [] }, f21, y9, t87, g14;
  return g14 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g14[Symbol.iterator] = function() {
    return this;
  }), g14;
  function verb(n45) {
    return function(v5) {
      return step([n45, v5]);
    };
  }
  function step(op) {
    if (f21)
      throw new TypeError("Generator is already executing.");
    while (_3)
      try {
        if (f21 = 1, y9 && (t87 = op[0] & 2 ? y9["return"] : op[0] ? y9["throw"] || ((t87 = y9["return"]) && t87.call(y9), 0) : y9.next) && !(t87 = t87.call(y9, op[1])).done)
          return t87;
        if (y9 = 0, t87)
          op = [op[0] & 2, t87.value];
        switch (op[0]) {
          case 0:
          case 1:
            t87 = op;
            break;
          case 4:
            _3.label++;
            return { value: op[1], done: false };
          case 5:
            _3.label++;
            y9 = op[1];
            op = [0];
            continue;
          case 7:
            op = _3.ops.pop();
            _3.trys.pop();
            continue;
          default:
            if (!(t87 = _3.trys, t87 = t87.length > 0 && t87[t87.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _3 = 0;
              continue;
            }
            if (op[0] === 3 && (!t87 || op[1] > t87[0] && op[1] < t87[3])) {
              _3.label = op[1];
              break;
            }
            if (op[0] === 6 && _3.label < t87[1]) {
              _3.label = t87[1];
              t87 = op;
              break;
            }
            if (t87 && _3.label < t87[2]) {
              _3.label = t87[2];
              _3.ops.push(op);
              break;
            }
            if (t87[2])
              _3.ops.pop();
            _3.trys.pop();
            continue;
        }
        op = body.call(thisArg, _3);
      } catch (e142) {
        op = [6, e142];
        y9 = 0;
      } finally {
        f21 = t87 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
function __spreadArray3(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i67 = 0, l29 = from.length, ar; i67 < l29; i67++) {
      if (ar || !(i67 in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i67);
        ar[i67] = from[i67];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
}

// node_modules/@aws-amplify/ui/dist/esm/types/authenticator/attributes.js
var r = ["birthdate", "email", "family_name", "given_name", "middle_name", "name", "nickname", "phone_number", "preferred_username", "profile", "website"];
var n2 = ["username", "email", "phone_number"];
var m = __spreadArray3(__spreadArray3(__spreadArray3([], n2, true), r, true), ["confirmation_code", "password", "confirm_password"], false);

// node_modules/@aws-amplify/ui/dist/esm/types/primitives/componentClassName.js
var e2;
!function(e142) {
  e142.Alert = "amplify-alert", e142.AlertIcon = "amplify-alert__icon", e142.AlertHeading = "amplify-alert__heading", e142.AlertBody = "amplify-alert__body", e142.AlertDismiss = "amplify-alert__dismiss", e142.Autocomplete = "amplify-autocomplete", e142.AutocompleteMenu = "amplify-autocomplete__menu", e142.AutocompleteMenuEmpty = "amplify-autocomplete__menu--empty", e142.AutocompleteMenuFooter = "amplify-autocomplete__menu__footer", e142.AutocompleteMenuHeader = "amplify-autocomplete__menu__header", e142.AutocompleteMenuLoading = "amplify-autocomplete__menu--loading", e142.AutocompleteMenuOption = "amplify-autocomplete__menu__option", e142.AutocompleteMenuOptions = "amplify-autocomplete__menu__options", e142.Badge = "amplify-badge", e142.Button = "amplify-button", e142.ButtonGroup = "amplify-buttongroup", e142.ButtonLoaderWrapper = "amplify-button__loader-wrapper", e142.Card = "amplify-card", e142.Checkbox = "amplify-checkbox", e142.CheckboxButton = "amplify-checkbox__button", e142.CheckboxIcon = "amplify-checkbox__icon", e142.CheckboxInput = "amplify-checkbox__input", e142.CheckboxLabel = "amplify-checkbox__label", e142.CheckboxField = "amplify-checkboxfield", e142.Collection = "amplify-collection", e142.CollectionItems = "amplify-collection-items", e142.CollectionSearch = "amplify-collection-search", e142.CollectionPagination = "amplify-collection-pagination", e142.CountryCodeSelect = "amplify-countrycodeselect", e142.DialCodeSelect = "amplify-dialcodeselect", e142.Divider = "amplify-divider", e142.DividerLabel = "amplify-divider--label", e142.Expander = "amplify-expander", e142.ExpanderContent = "amplify-expander__content", e142.ExpanderContentText = "amplify-expander__content__text", e142.ExpanderHeader = "amplify-expander__header", e142.ExpanderIcon = "amplify-expander__icon", e142.ExpanderItem = "amplify-expander__item", e142.ExpanderTrigger = "amplify-expander__trigger", e142.Field = "amplify-field", e142.FieldDescription = "amplify-field__description", e142.FieldErrorMessage = "amplify-field__error-message", e142.FieldGroup = "amplify-field-group", e142.FieldGroupControl = "amplify-field-group__control", e142.FieldGroupOuterEnd = "amplify-field-group__outer-end", e142.FieldGroupOuterStart = "amplify-field-group__outer-start", e142.FieldGroupInnerEnd = "amplify-field-group__inner-end", e142.FieldGroupInnerStart = "amplify-field-group__inner-start", e142.FieldGroupIcon = "amplify-field-group__icon", e142.FieldGroupIconButton = "amplify-field-group__icon-button", e142.FieldGroupHasInnerEnd = "amplify-field-group--has-inner-end", e142.FieldGroupHasInnerStart = "amplify-field-group--has-inner-start", e142.FieldShowPassword = "amplify-field__show-password", e142.FieldGroupFieldWrapper = "amplify-field-group__field-wrapper", e142.Flex = "amplify-flex", e142.Grid = "amplify-grid", e142.Heading = "amplify-heading", e142.HighlightMatch = "amplify-highlightmatch", e142.HighlightMatchHighlighted = "amplify-highlightmatch__highlighted", e142.Icon = "amplify-icon", e142.Image = "amplify-image", e142.Input = "amplify-input", e142.Label = "amplify-label", e142.Link = "amplify-link", e142.Loader = "amplify-loader", e142.LoaderDeterminate = "amplify-loader--determinate", e142.LoaderPercentageText = "amplify-loader__percentage-text", e142.MenuContent = "amplify-menu-content", e142.MenuContentWrapper = "amplify-menu-content-wrapper", e142.MenuItem = "amplify-menu-content__item", e142.MenuTrigger = "amplify-menu-trigger", e142.Pagination = "amplify-pagination", e142.PaginationItemButton = "amplify-pagination__item-button", e142.PaginationItemCurrent = "amplify-pagination__item-current", e142.PaginationItemEllipsis = "amplify-pagination__item-ellipsis", e142.PasswordField = "amplify-passwordfield", e142.PhoneNumberField = "amplify-phonenumberfield", e142.Placeholder = "amplify-placeholder", e142.Radio = "amplify-radio", e142.RadioButton = "amplify-radio__button", e142.RadioInput = "amplify-radio__input", e142.RadioLabel = "amplify-radio__label", e142.RadioGroupField = "amplify-radiogroupfield", e142.RadioGroup = "amplify-radiogroup", e142.Rating = "amplify-rating", e142.ScrollView = "amplify-scrollview", e142.SearchField = "amplify-searchfield", e142.SearchFieldClear = "amplify-searchfield__clear", e142.SearchFieldSearch = "amplify-searchfield__search", e142.Select = "amplify-select", e142.SelectField = "amplify-selectfield", e142.SelectWrapper = "amplify-select__wrapper", e142.SelectIconWrapper = "amplify-select__icon-wrapper", e142.SliderField = "amplify-sliderfield", e142.SliderFieldGroup = "amplify-sliderfield__group", e142.SliderFieldLabel = "amplify-sliderfield__label", e142.SliderFieldRange = "amplify-sliderfield__range", e142.SliderFieldRoot = "amplify-sliderfield__root", e142.SliderFieldThumb = "amplify-sliderfield__thumb", e142.SliderFieldTrack = "amplify-sliderfield__track", e142.StepperField = "amplify-stepperfield", e142.StepperFieldButtonDecrease = "amplify-stepperfield__button--decrease", e142.StepperFieldButtonIncrease = "amplify-stepperfield__button--increase", e142.StepperFieldInput = "amplify-stepperfield__input", e142.SwitchField = "amplify-switchfield", e142.SwitchLabel = "amplify-switch-label", e142.SwitchThumb = "amplify-switch-thumb", e142.SwitchTrack = "amplify-switch-track", e142.SwitchWrapper = "amplify-switch__wrapper", e142.Table = "amplify-table", e142.TableCaption = "amplify-table__caption", e142.TableBody = "amplify-table__body", e142.TableTd = "amplify-table__td", e142.TableTh = "amplify-table__th", e142.TableFoot = "amplify-table__foot", e142.TableHead = "amplify-table__head", e142.TableRow = "amplify-table__row", e142.Tabs = "amplify-tabs", e142.TabItems = "amplify-tabs-item", e142.Text = "amplify-text", e142.Textarea = "amplify-textarea", e142.TextAreaField = "amplify-textareafield", e142.TextField = "amplify-textfield", e142.ToggleButton = "amplify-togglebutton", e142.ToggleButtonGroup = "amplify-togglebuttongroup", e142.VisuallyHidden = "amplify-visually-hidden";
}(e2 || (e2 = {}));

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/context.js
var n3 = function(i67) {
  var t87, n45 = null === (t87 = null == i67 ? void 0 : i67.context.config) || void 0 === t87 ? void 0 : t87.loginMechanisms;
  return (null != n45 ? n45 : ["username"])[0];
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/facade.js
var n4 = function(e142) {
  var t87 = function(t88) {
    return function(r61) {
      return e142({ type: t88, data: r61 });
    };
  };
  return { initializeMachine: t87("INIT"), resendCode: t87("RESEND"), signOut: t87("SIGN_OUT"), submitForm: t87("SUBMIT"), updateForm: t87("CHANGE"), updateBlur: t87("BLUR"), toFederatedSignIn: t87("FEDERATED_SIGN_IN"), toResetPassword: t87("RESET_PASSWORD"), toSignIn: t87("SIGN_IN"), toSignUp: t87("SIGN_UP"), skipVerification: t87("SKIP") };
};
var i2 = function(e142) {
  var n45, i67, s62, a82, o101, u20 = null !== (n45 = n(e142)) && void 0 !== n45 ? n45 : {}, c22 = u20.codeDeliveryDetails, d10 = u20.remoteError, l29 = u20.unverifiedContactMethods, v5 = u20.validationError, f21 = (null !== (s62 = null === (i67 = e142.context) || void 0 === i67 ? void 0 : i67.config) && void 0 !== s62 ? s62 : {}).socialProviders, m29 = null !== (a82 = null == u20 ? void 0 : u20.user) && void 0 !== a82 ? a82 : null === (o101 = e142.context) || void 0 === o101 ? void 0 : o101.user, h12 = v5 && Object.keys(v5).length > 0, g14 = t2(e142), p17 = e142.hasTag("pending") || (null == g14 ? void 0 : g14.hasTag("pending")), S = function() {
    switch (true) {
      case e142.matches("idle"):
        return "idle";
      case e142.matches("setup"):
        return "setup";
      case e142.matches("signOut"):
        return "signOut";
      case e142.matches("authenticated"):
        return "authenticated";
      case (null == g14 ? void 0 : g14.matches("confirmSignUp")):
        return "confirmSignUp";
      case (null == g14 ? void 0 : g14.matches("confirmSignIn")):
        return "confirmSignIn";
      case (null == g14 ? void 0 : g14.matches("setupTOTP")):
        return "setupTOTP";
      case (null == g14 ? void 0 : g14.matches("signIn")):
        return "signIn";
      case (null == g14 ? void 0 : g14.matches("signUp")):
        return "signUp";
      case (null == g14 ? void 0 : g14.matches("forceNewPassword")):
        return "forceNewPassword";
      case (null == g14 ? void 0 : g14.matches("resetPassword")):
        return "resetPassword";
      case (null == g14 ? void 0 : g14.matches("confirmResetPassword")):
        return "confirmResetPassword";
      case (null == g14 ? void 0 : g14.matches("verifyUser")):
        return "verifyUser";
      case (null == g14 ? void 0 : g14.matches("confirmVerifyUser")):
        return "confirmVerifyUser";
      case e142.matches("signIn.runActor"):
        return "transition";
      default:
        return console.debug("Cannot infer `route` from Authenticator state:", e142.value), null;
    }
  }(), I2 = function(e143) {
    switch (e143) {
      case "idle":
      case "setup":
        return "configuring";
      case "authenticated":
        return "authenticated";
      default:
        return "unauthenticated";
    }
  }(S);
  return { authStatus: I2, codeDeliveryDetails: c22, error: d10, hasValidationErrors: h12, isPending: p17, route: S, socialProviders: f21, unverifiedContactMethods: l29, user: m29, validationErrors: v5 };
};
var s = function(t87) {
  var r61 = t87.send, s62 = t87.state, a82 = n4(r61), o101 = i2(s62);
  return __assign4(__assign4({}, a82), o101);
};

// node_modules/@aws-amplify/ui/dist/esm/i18n/country-dial-codes.js
var r2 = ["+1", "+7", "+20", "+27", "+30", "+31", "+32", "+33", "+34", "+36", "+39", "+40", "+41", "+43", "+44", "+45", "+46", "+47", "+48", "+49", "+51", "+52", "+53", "+54", "+55", "+56", "+57", "+58", "+60", "+61", "+62", "+63", "+64", "+65", "+66", "+81", "+82", "+84", "+86", "+90", "+91", "+92", "+93", "+94", "+95", "+98", "+212", "+213", "+216", "+218", "+220", "+221", "+222", "+223", "+224", "+225", "+226", "+227", "+228", "+229", "+230", "+231", "+232", "+233", "+234", "+235", "+236", "+237", "+238", "+239", "+240", "+241", "+242", "+243", "+244", "+245", "+246", "+248", "+249", "+250", "+251", "+252", "+253", "+254", "+255", "+256", "+257", "+258", "+260", "+261", "+262", "+263", "+264", "+265", "+266", "+267", "+268", "+269", "+290", "+291", "+297", "+298", "+299", "+345", "+350", "+351", "+352", "+353", "+354", "+355", "+356", "+357", "+358", "+359", "+370", "+371", "+372", "+373", "+374", "+375", "+376", "+377", "+378", "+379", "+380", "+381", "+382", "+385", "+386", "+387", "+389", "+420", "+421", "+423", "+500", "+501", "+502", "+503", "+504", "+505", "+506", "+507", "+508", "+509", "+537", "+590", "+591", "+593", "+594", "+595", "+596", "+597", "+598", "+599", "+670", "+672", "+673", "+674", "+675", "+676", "+677", "+678", "+679", "+680", "+681", "+682", "+683", "+685", "+686", "+687", "+688", "+689", "+690", "+691", "+692", "+850", "+852", "+853", "+855", "+856", "+872", "+880", "+886", "+960", "+961", "+962", "+963", "+964", "+965", "+966", "+967", "+968", "+970", "+971", "+972", "+973", "+974", "+975", "+976", "+977", "+992", "+993", "+994", "+995", "+996", "+998"];

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/de.js
var e3 = { "Account recovery requires verified contact information": "Zur\xFCcksetzen des Account ben\xF6tigt einen verifizierten Account", "Back to Sign In": "Zur\xFCck zur Anmeldung", "Change Password": "Passwort \xE4ndern", Changing: "\xC4ndern von", Code: "Code", "Confirm Password": "Passwort best\xE4tigen", "Confirm Sign Up": "Registrierung best\xE4tigen", "Confirm SMS Code": "SMS-Code best\xE4tigen", "Confirm TOTP Code": "TOTP-Code best\xE4tigen", Confirm: "Best\xE4tigen", "Confirmation Code": "Best\xE4tigungs-Code", Confirming: "Wird best\xE4tigt", "Create a new account": "Einen neuen Account erstellen", "Create Account": "Account erstellen", "Creating Account": "Account wird erstellt", "Dismiss alert": "Warnung verwerfen", Email: "Email", "Enter your code": "Geben Sie Ihren Code ein", "Enter your email": "Geben Sie Ihre Email ein", "Enter your phone number": "Geben Sie Ihre Telefonnummer ein", "Enter your username": "Geben Sie Ihren Benutzernamen ein", "Forgot your password?": "Passwort vergessen? ", "Hide password": "Passwort verbergen", Loading: "Wird geladen", "New password": "Neues Passwort", Password: "Passwort", "Phone Number": "Telefonnummer", "Resend Code": "Code erneut senden", "Reset your Password": "Zur\xFCcksetzen des Passwort", "Reset your password": "Zur\xFCcksetzen des passwort", "Send code": "Code senden", "Send Code": "Code senden", Sending: "Wird gesendet", "Setup TOTP": "TOTP einrichten", "Show password": "Passwort anzeigen", "Sign in to your account": "Melden Sie sich mit Ihrem Account an", "Sign In with Amazon": "Mit Amazon anmelden", "Sign In with Apple": "Mit Apple anmelden", "Sign In with Facebook": "Mit Facebook anmelden", "Sign In with Google": "Mit Google anmelden", "Sign in": "Anmelden", "Sign In": "Anmelden", "Signing in": "Wird angemeldet", Skip: "\xDCberspringen", Submit: "Abschicken", Submitting: "Wird gesendet", Username: "Benutzername", "Verify Contact": "Kontakt verifizieren", Verify: "Verifizieren", "An account with the given email already exists.": "Ein Account mit dieser Email existiert bereits.", "Confirm a Code": "Code best\xE4tigen", "Confirm Sign In": "Anmeldung best\xE4tigen", "Create account": "Hier registrieren", "Enter your password": "Geben Sie Ihr Passwort ein", "Forgot Password": "Passwort vergessen", "Have an account? ": "Schon registriert? ", "Incorrect username or password": "Falscher Benutzername oder falsches Passwort", "Invalid password format": "Ung\xFCltiges Passwort-Format", "Invalid phone number format": "Ung\xFCltiges Telefonummern-Format. Benutze eine Nummer im Format: +12345678900", "It may take a minute to arrive.": "Es k\xF6nnte eine Minute dauern, bis der Code eintrifft.", "Lost your code? ": "Code verloren? ", "New Password": "Neues Passwort", "No account? ": "Kein Account? ", or: "oder", "Password attempts exceeded": "Die maximale Anzahl der fehlerhaften Anmeldeversuche wurde erreicht", "Reset password": "Passwort zur\xFCcksetzen", "Sign Out": "Abmelden", "Sign Up": "Registrieren", "User already exists": "Dieser Benutzer existiert bereits", "User does not exist": "Dieser Benutzer existiert nicht", "Username cannot be empty": "Benutzername darf nicht leer sein", "We Emailed You": "Email wurde versendet", "Your code is on the way. To log in, enter the code we emailed to": "Ihr Best\xE4tigungscode ist unterwegs. Um sich einzuloggen geben Sie den Code ein, den wir verschickt haben an", "Your code is on the way. To log in, enter the code we texted to": "Ihr Best\xE4tigungscode ist unterwegs. Um sich einzuloggen geben Sie den Code ein, den wir verschickt haben an" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/en.js
var n5 = { "Account recovery requires verified contact information": "Account recovery requires verified contact information", "Back to Sign In": "Back to Sign In", "Change Password": "Change Password", Changing: "Changing", Code: "Code", "Confirm Password": "Confirm Password", "Confirm Sign Up": "Confirm Sign Up", "Confirm SMS Code": "Confirm SMS Code", "Confirm TOTP Code": "Confirm TOTP Code", Confirm: "Confirm", "Confirmation Code": "Confirmation Code", Confirming: "Confirming", "Create a new account": "Create a new account", "Create Account": "Create Account", "Creating Account": "Creating Account", "Dismiss alert": "Dismiss alert", Email: "Email", "Enter your code": "Enter your code", "Enter your email": "Enter your email", "Enter your phone number": "Enter your phone number", "Enter your username": "Enter your username", "Forgot password?": "Forgot password?", "Forgot your password?": "Forgot your password?", "Hide password": "Hide password", Loading: "Loading", "New password": "New password", Password: "Password", "Phone Number": "Phone Number", "Resend Code": "Resend Code", "Reset your password": "Reset your password", "Reset your Password": "Reset your Password", "Send code": "Send code", "Send Code": "Send Code", Sending: "Sending", "Setup TOTP": "Setup TOTP", "Show password": "Show password", "Sign in to your account": "Sign in to your account", "Sign In with Amazon": "Sign In with Amazon", "Sign In with Apple": "Sign In with Apple", "Sign In with Facebook": "Sign In with Facebook", "Sign In with Google": "Sign In with Google", "Sign in": "Sign in", "Sign In": "Sign In", "Signing in": "Signing in", Skip: "Skip", Submit: "Submit", Submitting: "Submitting", Username: "Username", "Verify Contact": "Verify Contact", Verify: "Verify" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/es.js
var e4 = { "Account recovery requires verified contact information": "La recuperaci\xF3n de la cuenta requiere informaci\xF3n de contacto verificada", "Back to Sign In": "Volver a inicio de sesi\xF3n", "Change Password": "Cambiar contrase\xF1a", Changing: "Cambiando", Code: "C\xF3digo", "Confirm Password": "Confirmar contrase\xF1a", "Confirm Sign Up": "Confirmar registro", "Confirm SMS Code": "Confirmar el c\xF3digo de SMS", "Confirm TOTP Code": "Confirmar c\xF3digo TOTP", Confirm: "Confirmar", "Confirmation Code": "C\xF3digo de confirmaci\xF3n", Confirming: "Confirmando", "Create a new account": "Crear una cuenta nueva", "Create Account": "Crear cuenta", "Creating Account": "Creando cuenta", "Dismiss alert": "Descartar alerta", Email: "Email", "Enter your code": "Ingrese el c\xF3digo", "Enter your email": "Escriba su Email", "Enter your phone number": "Ingrese el n\xFAmero de tel\xE9fono", "Enter your username": "Ingrese el nombre de usuario", "Forgot your password?": "\xBFOlvid\xF3 su contrase\xF1a?", "Hide password": "Ocultar contrase\xF1a", Loading: "Cargando", "New password": "Nueva contrase\xF1a", Password: "Contrase\xF1a", "Phone Number": "N\xFAmero de tel\xE9fono", "Resend Code": "Reenviar c\xF3digo", "Reset your password": "Restablecer su contrase\xF1a", "Reset your Password": "Restablecer su Contrase\xF1a", "Send code": "Enviar c\xF3digo", "Send Code": "Enviar c\xF3digo", Sending: "Enviando", "Setup TOTP": "Configurar TOTP", "Show password": "Mostrar contrase\xF1a", "Sign in to your account": "Iniciar sesi\xF3n en tu cuenta", "Sign In with Amazon": "Iniciar Sesi\xF3n con Amazon", "Sign In with Apple": "Iniciar Sesi\xF3n con Apple", "Sign In with Facebook": "Iniciar Sesi\xF3n con Facebook", "Sign In with Google": "Iniciar Sesi\xF3n con Google", "Sign in": "Iniciar sesi\xF3n", "Sign In": "Iniciar Sesi\xF3n", "Signing in": "Iniciando sesi\xF3n", Skip: "Omitir", Submit: "Enviar", Submitting: "Enviando", Username: "Nombre de usuario", "Verify Contact": "Verificar contacto", Verify: "Verificar", "An account with the given email already exists.": "Ya existe una cuenta con el correo ingresado.", "Confirm a Code": "Confirmar un c\xF3digo", "Confirm Sign In": "Confirmar inicio de sesi\xF3n", "Forgot Password": "Olvid\xE9 mi contrase\xF1a", "Incorrect username or password.": "Nombre de usuario o contrase\xF1a incorrecta", "Invalid password format": "Formato de contrase\xF1a inv\xE1lido", "Invalid phone number format": "Formato de n\xFAmero de tel\xE9fono inv\xE1lido", "Loading...": "Cargando...", "New Password": "Nueva contrase\xF1a", or: "o", "Resend a Code": "Reenviar un c\xF3digo", "Sign Out": "Cerrar sesi\xF3n", "Sign Up with Amazon": "Crear cuenta con Amazon", "Sign Up with Apple": "Crear cuenta con Apple", "Sign Up with Facebook": "Crear cuenta con Facebook", "Sign Up with Google": "Crear cuenta con Google", "Sign Up": "Crear cuenta", "User already exists": "El usuario ya existe", "User does not exist": "El usuario no existe", "Username cannot be empty": "El nombre de usuario no puede estar vac\xEDo", "Your passwords must match": "Las contrase\xF1as deben coincidir" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/fr.js
var e5 = { "Account recovery requires verified contact information": "La r\xE9cup\xE9ration du compte n\xE9cessite des informations de contact v\xE9rifi\xE9es", "Back to Sign In": "Retour \xE0 la connexion", "Change Password": "Modifier le mot de passe", Changing: "Modification en cours", Code: "Code", "Confirm Password": "Confirmez le mot de passe", "Confirm Sign Up": "Confirmer l'inscription", "Confirm SMS Code": "Confirmer le code SMS", "Confirm TOTP Code": "Confirmer le code TOTP", Confirm: "Confirmer", "Confirmation Code": "Code de confirmation", Confirming: "Confirmation", "Create a new account": "Cr\xE9er un nouveau compte", "Create Account": "Cr\xE9er un compte", "Creating Account": "Cr\xE9ation d'un compte", "Dismiss alert": "Supprimer l'alerte", Email: "Email", "Enter your code": "Saisissez cotre code de confirmation", "Enter your email": "Saisissez votre adresse email", "Enter your phone number": "Saisissez votre num\xE9ro de t\xE9l\xE9phone", "Enter your username": "Saisissez votre nom d'utilisateur", "Forgot your password?": "Mot de passe oubli\xE9 ? ", "Hide password": "Masquer le mot de passe", Loading: "Chargement en cours", "New password": "Nouveau mot de passe", Password: "Mot de passe", "Phone Number": "Num\xE9ro de t\xE9l\xE9phone", "Resend Code": "Renvoyer le code", "Reset your Password": "R\xE9initialiser votre mot de passe", "Reset your password": "R\xE9initialisez votre mot de passe", "Send code": "Envoyer le code", "Send Code": "M'envoyer un code", Sending: "Envoi en cours", "Setup TOTP": "Configuration de TOTP", "Show password": "Afficher le mot de passe", "Sign in to your account": "Connexion \xE0 votre compte", "Sign In with Amazon": "Se connecter avec Amazon", "Sign In with Apple": "Se connecter avec Apple", "Sign In with Facebook": "Se connecter avec Facebook", "Sign In with Google": "Se connecter avec Google", "Sign in": "Se connecter", "Sign In": "Se connecter", "Signing in": "Connexion en cours", Skip: "Passer", Submit: "Soumettre", Submitting: "Envoi en cours", Username: "Nom d'utilisateur", "Verify Contact": "V\xE9rifier le contact", Verify: "V\xE9rifier", "An account with the given email already exists.": "Un utilisateur avec cette adresse email existe d\xE9j\xE0.", Change: "Modifier", "Confirm a Code": "Confirmer un code", "Confirm Sign In": "Confirmer la connexion", "Create account": "Cr\xE9er un compte", "Enter your password": "Saisissez votre mot de passe", "Forgot Password": "Mot de passe oubli\xE9", "Have an account? ": "D\xE9j\xE0 un compte ? ", Hello: "Bonjour", "Incorrect username or password": "Identifiant ou mot de passe incorrect", "Invalid password format": "Format de mot de passe invalide", "Invalid phone number format": "Format de num\xE9ro de t\xE9l\xE9phone invalide. Veuillez utiliser un format +12345678900", "Loading...": "Chargement...", "Lost your code? ": "Vous avez perdu votre code ? ", "Network error": "Erreur r\xE9seau", "New Password": "Nouveau mot de passe", "No account? ": "Pas de compte ? ", or: "ou", "Resend a Code": "Renvoyer un code", "Reset password": "R\xE9initialisez votre mot de passe", Send: "Envoyer", "Sign In with AWS": "Se connecter avec AWS", "Sign Out": "D\xE9connexion", "Sign Up": "S'inscrire", SMS: "SMS", "User already exists": "L'utilisateur existe d\xE9j\xE0", "User does not exist": "L'utilisateur n'existe pas", "Username cannot be empty": "Le nom d'utilisateur doit \xEAtre renseign\xE9", "Username/client id combination not found.": "L'utilisateur n'existe pas" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/it.js
var o2 = { "Account recovery requires verified contact information": "Il ripristino dell'account richiede informazioni di contatto verificate", "Back to Sign In": "Torna alla schermata di accesso", "Change Password": "Cambia la password", Changing: "Modifica in corso", Code: "Codice", "Confirm Password": "Conferma la password", "Confirm Sign Up": "Conferma registrazione", "Confirm SMS Code": "Conferma codice SMS", "Confirm TOTP Code": "Conferma codice TOTP", Confirm: "Conferma", "Confirmation Code": "Codice di verifica", Confirming: "Conferma in corso", "Create a new account": "Crea un nuovo account", "Create Account": "Crea Account", "Creating Account": "Creazione account in corso", "Dismiss alert": "Ignora l'avviso", Email: "Email", "Enter your code": "Inserisci il tuo codice", "Enter your email": "Inserisci la tua e-mail", "Enter your phone number": 'Inserisci il tuo numero di telefono"', "Enter your username": "Inserisci il tuo nome utente", "Forgot your password?": "Password dimenticata?", "Hide password": "Nascondi password", Loading: "Caricamento in corso", "New password": "Nuova password", Password: "Password", "Phone Number": "Numero di telefono", "Resend Code": "Invia nuovamente il codice", "Reset your Password": "Reimposta la tua Password", "Reset your password": "Reimposta la tua password", "Send code": "Invia codice", "Send Code": "Invia codice", Sending: "Invio in corso", "Setup TOTP": "Configura TOTP", "Show password": "Mostra password", "Sign in to your account": "Accedi al tuo account", "Sign In with Amazon": "Accedi con Amazon", "Sign In with Apple": "Accedi con Apple", "Sign In with Facebook": "Accedi con Facebook", "Sign In with Google": "Accedi con Google", "Sign in": "Accedi", "Sign In": "Accedi", "Signing in": "Accesso in corso", Skip: "Salta", Submit: "Invia", Submitting: "Invio in corso", Username: "Nome utente", "Verify Contact": "Verifica contatto", Verify: "Verifica", "An account with the given email already exists.": "Questa email \xE8 gi\xE0 utilizzata da un altro account.", "Confirm a Code": "Conferma un codice", "Confirm Sign In": "Conferma l'accesso", "Create account": "Crea account", "Enter your password": "Inserisci la tua password", "Forgot Password": "Password dimenticata", "Have an account? ": "Gi\xE0 registrato?", "Incorrect username or password": "Nome utente o password errati", "Invalid password format": "Formato della password non valido", "Invalid phone number format": "Formato del numero di telefono non valido", "Lost your code?": "Codice smarrito?", "New Password": "Nuova password", "No account? ": "Non hai un account?", or: "o", "Password attempts exceeded": "Il numero massimo di tentativi di accesso falliti \xE8 stato raggiunto", "Reset password": "Reimposta password", "Sign Out": "Esci", "Sign Up": "Registrati", "User already exists": "Utente gi\xE0 esistente", "User does not exist": "Utente inesistente", "Username cannot be empty": "Il nome utente non pu\xF2 essere vuoto" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/ja.js
var e6 = { "Account recovery requires verified contact information": "\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u5FA9\u65E7\u306B\u306F\u78BA\u8A8D\u6E08\u307F\u306E\u9023\u7D61\u5148\u304C\u5FC5\u8981\u3067\u3059", "Back to Sign In": "\u30B5\u30A4\u30F3\u30A4\u30F3\u306B\u623B\u308B", "Change Password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5909\u3048\u308B ", Changing: "\u5909\u66F4\u4E2D", Code: "\u30B3\u30FC\u30C9", "Confirm Password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u306E\u78BA\u8A8D", "Confirm Sign Up": "\u767B\u9332\u3059\u308B", "Confirm SMS Code": "SMS \u30B3\u30FC\u30C9\u3092\u78BA\u8A8D", "Confirm TOTP Code": "TOTP \u30B3\u30FC\u30C9\u3092\u78BA\u8A8D", Confirm: "\u78BA\u5B9A", "Confirmation Code": "\u78BA\u8A8D\u30B3\u30FC\u30C9", Confirming: "\u78BA\u8A8D\u4E2D", "Create a new account": "\u65B0\u3057\u3044\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u308B", "Create Account": "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u308B", "Creating Account": "\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u4F5C\u6210\u4E2D", "Dismiss alert": "\u30A2\u30E9\u30FC\u30C8\u3092\u9589\u3058\u308B", Email: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9", "Enter your code": "\u30B3\u30FC\u30C9\u3092\u5165\u529B", "Enter your email": "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B", "Enter your phone number": "\u96FB\u8A71\u756A\u53F7\u3092\u5165\u529B", "Enter your username": "\u30E6\u30FC\u30B6\u30FC\u540D\u3092\u5165\u529B ", "Forgot your password?": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u307E\u3057\u305F\u304B\uFF1F ", "Hide password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u975E\u8868\u793A", Loading: "\u30ED\u30FC\u30C9\u4E2D", "New password": "\u65B0\u3057\u3044\u30D1\u30B9\u30EF\u30FC\u30C9", Password: "\u30D1\u30B9\u30EF\u30FC\u30C9 ", "Phone Number": "\u96FB\u8A71\u756A\u53F7", "Resend Code": "\u30B3\u30FC\u30C9\u3092\u518D\u9001\u4FE1", "Reset your Password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8", "Reset your password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8\u3059\u308B", "Send code": "\u30B3\u30FC\u30C9\u3092\u9001\u4FE1", "Send Code": "\u30B3\u30FC\u30C9\u3092\u9001\u4FE1", Sending: "\u9001\u4FE1\u4E2D", "Setup TOTP": "TOTP \u3092\u30BB\u30C3\u30C8\u30A2\u30C3\u30D7", "Show password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8868\u793A", "Sign in to your account": "\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u30B5\u30A4\u30F3\u30A4\u30F3 ", "Sign In with Amazon": "Amazon\u3067\u30B5\u30A4\u30F3\u30A4\u30F3", "Sign In with Apple": "Apple \u3067\u30B5\u30A4\u30F3\u30A4\u30F3", "Sign In with Facebook": "Facebook\u3067\u30B5\u30A4\u30F3\u30A4\u30F3", "Sign In with Google": "Google\u3067\u30B5\u30A4\u30F3\u30A4\u30F3", "Sign In": "\u30B5\u30A4\u30F3\u30A4\u30F3 ", "Sign in": "\u30B5\u30A4\u30F3\u30A4\u30F3", "Signing in": "\u30B5\u30A4\u30F3\u30A4\u30F3\u4E2D", Skip: "\u30B9\u30AD\u30C3\u30D7", Submit: "\u9001\u4FE1", Submitting: "\u9001\u4FE1\u4E2D", Username: "\u30E6\u30FC\u30B6\u30FC\u540D ", "Verify Contact": "\u9023\u7D61\u5148\u3092\u78BA\u8A8D", Verify: "\u78BA\u8A8D", "An account with the given email already exists.": "\u5165\u529B\u3055\u308C\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u304C\u65E2\u306B\u5B58\u5728\u3057\u307E\u3059", "Confirm a Code": "\u30B3\u30FC\u30C9\u3092\u78BA\u8A8D", "Confirm Sign In": "\u30B5\u30A4\u30F3\u30A4\u30F3\u3059\u308B", "Create account": "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u308B ", "Enter your password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B ", "Forgot Password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u305F ", "Have an account? ": "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u6301\u3063\u3066\u3044\u307E\u3059\u304B\uFF1F", "Incorrect username or password": "\u30E6\u30FC\u30B6\u30FC\u540D\u304B\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u7570\u306A\u308A\u307E\u3059 ", "Invalid password format": "\u30D1\u30B9\u30EF\u30FC\u30C9\u306E\u5F62\u5F0F\u304C\u7121\u52B9\u3067\u3059 ", "Invalid phone number format": "\u4E0D\u6B63\u306A\u96FB\u8A71\u756A\u53F7\u306E\u5F62\u5F0F\u3067\u3059\u3002\n+12345678900 \u306E\u5F62\u5F0F\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044", "It may take a minute to arrive.": "\u30B3\u30FC\u30C9\u3092\u53D7\u4FE1\u3059\u308B\u307E\u3067\u6570\u5206\u304B\u304B\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002", "Lost your code? ": "\u30B3\u30FC\u30C9\u3092\u5931\u304F\u3057\u307E\u3057\u305F\u304B\uFF1F", "New Password": "\u65B0\u3057\u3044\u30D1\u30B9\u30EF\u30FC\u30C9", "No account? ": "\u30A2\u30AB\u30A6\u30F3\u30C8\u304C\u7121\u3044\u3068\u304D ", or: "\u53C8\u306F", "Password attempts exceeded": "\u30B5\u30A4\u30F3\u30A4\u30F3\u306E\u8A66\u884C\u56DE\u6570\u304C\u4E0A\u9650\u306B\u9054\u3057\u307E\u3057\u305F", "Reset password": "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8 ", "Sign Out": "\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8 ", "Sign Up": "\u767B\u9332 ", "User already exists": "\u65E2\u306B\u30E6\u30FC\u30B6\u30FC\u304C\u5B58\u5728\u3057\u3066\u3044\u307E\u3059 ", "User does not exist": "\u30E6\u30FC\u30B6\u30FC\u304C\u5B58\u5728\u3057\u307E\u305B\u3093 ", "Username cannot be empty": "\u30E6\u30FC\u30B6\u30FC\u540D\u306F\u5165\u529B\u5FC5\u9808\u3067\u3059", "We Emailed You": "\u30B3\u30FC\u30C9\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F", "Your code is on the way. To log in, enter the code we emailed to": "\u30ED\u30B0\u30A4\u30F3\u3059\u308B\u306B\u306F\u3001\u30E1\u30FC\u30EB\u306B\u8A18\u8F09\u3055\u308C\u305F\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u9001\u4FE1\u5148:", "Your code is on the way. To log in, enter the code we texted to": "\u30ED\u30B0\u30A4\u30F3\u3059\u308B\u306B\u306F\u3001\u30C6\u30AD\u30B9\u30C8\u30E1\u30C3\u30BB\u30FC\u30B8\u306B\u8A18\u8F09\u3055\u308C\u305F\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u9001\u4FE1\u5148:" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/kr.js
var e7 = { "Account recovery requires verified contact information": "\uACC4\uC815 \uBCF5\uAD6C\uB97C \uC704\uD574 \uC5F0\uB77D\uCC98 \uD655\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4", "Back to Sign In": "\uB85C\uADF8\uC778\uC73C\uB85C \uB3CC\uC544\uAC00\uAE30", "Change Password": "\uBE44\uBC00\uBC88\uD638 \uBCC0\uACBD\uD558\uAE30", Changing: "\uBCC0\uACBD\uC911", Code: "\uCF54\uB4DC", "Confirm Password": "\uBE44\uBC00\uBC88\uD638 \uC7AC\uD655\uC778", "Confirm Sign Up": "\uD68C\uC6D0\uAC00\uC785 \uD655\uC778", "Confirm SMS Code": "\uD734\uB300\uD3F0 \uBCF8\uC778 \uD655\uC778", "Confirm TOTP Code": "TOTP \uC778\uC99D\uBC88\uD638 \uD655\uC778", Confirm: "\uD655\uC778", "Confirmation Code": "\uC778\uC99D\uBC88\uD638", Confirming: "\uD655\uC778\uC911", "Create a new account": "\uD68C\uC6D0\uAC00\uC785", "Create Account": "\uD68C\uC6D0\uAC00\uC785", "Creating Account": "\uD68C\uC6D0\uAC00\uC785\uC911", "Dismiss alert": "\uC54C\uB9BC \uBB34\uC2DC", Email: "\uC774\uBA54\uC77C", "Enter your code": "\uC778\uC99D\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694", "Enter your email": "\uC774\uBA54\uC77C \uC785\uB825", "Enter your phone number": "\uC804\uD654\uBC88\uD638 \uC785\uB825", "Enter your username": "\uC544\uC774\uB514\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694", "Hide password": "\uBE44\uBC00\uBC88\uD638 \uC228\uAE30\uAE30", Loading: "\uB85C\uB529\uC911", "New password": "\uC0C8 \uBE44\uBC00\uBC88\uD638", Password: "\uBE44\uBC00\uBC88\uD638", "Phone Number": "\uC804\uD654\uBC88\uD638", "Resend Code": "\uC778\uC99D\uBC88\uD638 \uC7AC\uC804\uC1A1", "Reset your password": "\uBE44\uBC00\uBC88\uD638 \uC7AC\uC124\uC815", "Reset your Password": "\uBE44\uBC00\uBC88\uD638 \uC7AC\uC124\uC815", "Send code": "\uC778\uC99D\uCF54\uB4DC \uBCF4\uB0B4\uAE30", "Send Code": "\uCF54\uB4DC \uC804\uC1A1", Sending: "\uC804\uC1A1\uC911", "Setup TOTP": "TOTP \uC124\uC815\uD558\uAE30", "Show password": "\uBE44\uBC00\uBC88\uD638 \uBCF4\uC774\uAE30", "Sign in to your account": "\uB85C\uADF8\uC778", "Sign In with Amazon": "Amazon \uB85C\uADF8\uC778", "Sign In with Apple": "Apple \uB85C\uADF8\uC778", "Sign In with Facebook": "Facebook \uB85C\uADF8\uC778", "Sign In with Google": "Google \uB85C\uADF8\uC778", "Sign in": "\uB85C\uADF8\uC778", "Sign In": "\uB85C\uADF8\uC778", "Signing in": "\uB85C\uADF8\uC778\uC911", Skip: "\uB2E4\uC74C\uC5D0 \uD558\uAE30", Submit: "\uD655\uC778", Submitting: "\uD655\uC778\uC911", Username: "\uC544\uC774\uB514", "Verify Contact": "\uC5F0\uB77D\uCC98 \uD655\uC778", Verify: "\uC778\uC99D", Birthdate: "\uC0DD\uB144\uC6D4\uC77C", "Family Name": "\uC131", "Forgot your password?": "\uBE44\uBC00\uBC88\uD638\uB97C \uC78A\uC73C\uC168\uB098\uC694?", "Given Name": "\uC774\uB984", Name: "\uC131\uD568", Nickname: "\uB2C9\uB124\uC784", "Preferred Username": "\uB2C9\uB124\uC784", Profile: "\uD504\uB85C\uD544", "Reset Password": "\uBE44\uBC00\uBC88\uD638 \uC7AC\uC124\uC815", Website: "\uC6F9\uC0AC\uC774\uD2B8" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/nl.js
var e8 = { "Account recovery requires verified contact information": "Accountherstel vereist geverifieerde contactgegevens", "Back to Sign In": "Terug naar inloggen", "Change Password": "Wachtwoord wijzigen", Changing: "Wordt aangepast", Code: "Code", "Confirm Password": "Bevestig Wachtwoord", "Confirm Sign Up": "Bevestig inschrijving", "Confirm SMS Code": "Bevestig SMS Code", "Confirm TOTP Code": "Bevestig TOTP Code", Confirm: "Bevestig", "Confirmation Code": "Bevestigingscode", Confirming: "Bevestigen", "Create a new account": "Nieuw account aanmaken", "Create Account": "Account aanmaken", "Creating Account": "Account wordt aangemaakt", "Dismiss alert": "Waarschuwing sluiten", Email: "E-mail", "Enter your code": "Vul je code in", "Enter your email": "Vul je e-mail in", "Enter your phone number": "Vul je telefoonnummer in", "Enter your username": "Vul je gebruikersnaam in", "Forgot your password?": "Wachtwoord vergeten? ", "Hide password": "Verberg wachtwoord", Loading: "Laden", "New password": "Nieuw wachtwoord", Password: "Wachtwoord", "Phone Number": "Telefoonnummer", "Resend Code": "Verstuur code nogmaals", "Reset your password": "Reset je wachtwoord", "Reset your Password": "Wachtwoord resetten", "Send code": "Verstuur code", "Send Code": "Verstuur Code", Sending: "Versturen", "Setup TOTP": "TOTP Instellingen", "Show password": "Toon wachtwoord", "Sign in to your account": "Inloggen op je account", "Sign In with Amazon": "Inloggen met Amazon", "Sign In with Apple": "Inloggen met Apple", "Sign In with Facebook": "Inloggen met Facebook", "Sign In with Google": "Inloggen met Google", "Sign in": "Inloggen", "Sign In": "Inloggen", "Signing in": "Inloggen", Skip: "Overslaan", Submit: "Versturen", Submitting: "Wordt verstuurd", Username: "Gebruikersnaam", "Verify Contact": "Verifieer Contact", Verify: "Verifieer" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/pl.js
var o3 = { "Account recovery requires verified contact information": "Odzyskanie konta wymaga zweryfikowanych danych kontaktowych", "Back to Sign In": "Powr\xF3t do logowania", "Change Password": "Zmie\u0144 has\u0142o", Changing: "Zmienianie", Code: "Kod", "Confirm Password": "Potwierd\u017A Has\u0142o", "Confirm Sign Up": "Potwierd\u017A rejestracj\u0119", "Confirm SMS Code": "Potwierd\u017A kod SMS", "Confirm TOTP Code": "Potwierd\u017A has\u0142o jednorazowe", Confirm: "Potwierd\u017A", "Confirmation Code": "Kod potwierdzenia", Confirming: "Potwierdzanie", "Create a new account": "Utw\xF3rz nowe konto", "Create Account": "Utw\xF3rz konto", "Creating Account": "Tworzenie konta", "Dismiss alert": "Odrzu\u0107 alert", Email: "E-mail", "Enter your code": "Wprowad\u017A sw\xF3j kod", "Enter your email": "Wpisz sw\xF3j adres e-mail", "Enter your phone number": "Wpisz sw\xF3j numer telefonu", "Enter your username": "Wprowad\u017A swoj\u0105 nazw\u0119 u\u017Cytkownika", "Forgot your password?": "Zapomnia\u0142e\u015B has\u0142a? ", "Hide password": "Ukryj has\u0142o", Loading: "\u0141adowanie", "New password": "Nowe has\u0142o", Password: "Has\u0142o", "Phone Number": "Numer telefonu", "Resend Code": "Wy\u015Blij kod ponownie", "Reset your password": "Zresetuj swoje has\u0142o", "Reset your Password": "Zresetuj swoje has\u0142o", "Send code": "Wy\u015Blij kod", "Send Code": "Zresetuj has\u0142o", Sending: "Wysy\u0142anie", "Setup TOTP": "Konfiguruj TOTP", "Show password": "Poka\u017C has\u0142o", "Sign in to your account": "Zaloguj si\u0119 na swoje konto", "Sign In with Amazon": "Zaloguj z Amazon", "Sign In with Apple": "Zaloguj z Apple", "Sign In with Facebook": "Zaloguj z Facebook", "Sign In with Google": "Zaloguj z Google", "Sign In": "Logowanie", "Sign in": "Zaloguj", "Signing in": "Logowanie", Skip: "Pomi\u0144", Submit: "Wy\u015Blij", Submitting: "Wysy\u0142anie", Username: "Nazwa u\u017Cytkownika", "Verify Contact": "Weryfikacja danych kontaktowych", Verify: "Zweryfikuj", Birthdate: "Data urodzenia", "Family Name": "Nazwisko", "Given Name": "Pierwsze imi\u0119", "Middle Name": "Drugie imi\u0119", Name: "Imi\u0119 i nazwisko", Nickname: "Pseudonim", "Preferred Username": "Preferowana nazwa u\u017Cytkownika", Profile: "Profil", Website: "Strona internetowa" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/pt.js
var o4 = { "Account recovery requires verified contact information": "A recupera\xE7\xE3o da conta requer informa\xE7\xF5es de contato verificadas", "Back to Sign In": "Voltar para Entrar", "Change Password": "Mudar senha", Changing: "Mudando", Code: "C\xF3digo", "Confirm Password": "Confirme a Senha", "Confirm Sign Up": "Confirmar inscri\xE7\xE3o", "Confirm SMS Code": "Confirme o c\xF3digo SMS", "Confirm TOTP Code": "Confirme o c\xF3digo TOTP", Confirm: "confirme", "Confirmation Code": "C\xF3digo de confirma\xE7\xE3o", Confirming: "Confirmando", "Create a new account": "Criar uma nova conta", "Create Account": "Criar Conta", "Creating Account": "Criando conta", "Dismiss alert": "Descartar alerta", Email: "O email", "Enter your code": "Insira seu c\xF3digo", "Enter your email": "Digite seu e-mail", "Enter your phone number": "Digite seu n\xFAmero de telefone", "Enter your username": "entre com seu nome de usu\xE1rio", "Forgot your password?": "Esqueceu sua senha? ", "Hide password": "Esconder a senha", Loading: "Carregando", "New password": "Nova Senha", Password: "Senha", "Phone Number": "N\xFAmero de telefone", "Resend Code": "Reenviar c\xF3digo", "Reset your password": "Redefina sua senha", "Reset your Password": "Redefina sua senha", "Send code": "Enviar c\xF3digo", "Send Code": "Enviar c\xF3digo", Sending: "Enviando", "Setup TOTP": "Configurar TOTP", "Show password": "Mostrar senha", "Sign in to your account": "Fa\xE7a login em sua conta", "Sign In with Amazon": "Entrar com a Amazon", "Sign In with Apple": "Entrar com a Apple", "Sign In with Facebook": "Entrar com o Facebook", "Sign In with Google": "Fa\xE7a login no Google", "Sign in": "Entrar", "Sign In": "Entrar", "Signing in": "Entrando", Skip: "Pular", Submit: "Enviar", Submitting: "Enviando", Username: "Nome do usu\xE1rio", "Verify Contact": "Verificar contato", Verify: "Verificar" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/zh.js
var o5 = { "Account recovery requires verified contact information": "\u8D26\u6237\u6062\u590D\u9700\u8981\u9A8C\u8BC1\u8FC7\u7684\u8054\u7CFB\u65B9\u5F0F", "Back to Sign In": "\u56DE\u5230\u767B\u5F55", "Change Password": "\u66F4\u6539\u5BC6\u7801", Changing: "\u6B63\u5728\u4FEE\u6539", Code: "\u786E\u8BA4\u7801", "Confirm Password": "\u786E\u8BA4\u5BC6\u7801", "Confirm Sign Up": "\u786E\u8BA4\u6CE8\u518C", "Confirm SMS Code": "\u786E\u8BA4\u77ED\u4FE1\u9A8C\u8BC1\u7801", "Confirm TOTP Code": "\u786E\u8BA4 TOTP \u4EE3\u7801", Confirm: "\u786E\u8BA4", "Confirmation Code": "\u786E\u8BA4\u7801", Confirming: "\u6B63\u5728\u786E\u8BA4", "Create a new account": "\u521B\u5EFA\u65B0\u8D26\u6237", "Create Account": "\u521B\u5EFA\u8D26\u6237", "Creating Account": "\u6B63\u5728\u521B\u5EFA\u8D26\u6237", "Dismiss alert": "\u5173\u95ED\u8B66\u62A5", Email: "\u90AE\u7BB1", "Enter your code": "\u8F93\u5165\u9A8C\u8BC1\u7801", "Enter your email": "\u8F93\u5165\u7535\u5B50\u90AE\u4EF6", "Enter your phone number": "\u8F93\u5165\u7535\u8BDD\u53F7\u7801", "Enter your username": "\u8F93\u5165\u7528\u6237\u540D", "Forgot your password?": "\u5FD8\u8BB0\u5BC6\u7801\u4E86\uFF1F", "Hide password": "\u9690\u85CF\u5BC6\u7801", Loading: "\u6B63\u5728\u52A0\u8F7D", "New password": "\u65B0\u5BC6\u7801", Password: "\u5BC6\u7801", "Phone Number": "\u7535\u8BDD", "Resend Code": "\u91CD\u53D1\u9A8C\u8BC1\u7801", "Reset your password": "\u91CD\u7F6E\u5BC6\u7801", "Reset your Password": "\u91CD\u7F6E\u5BC6\u7801", "Send Code": "\u53D1\u9001\u786E\u8BA4\u7801", "Send code": "\u53D1\u9001\u9A8C\u8BC1\u7801", Sending: "\u6B63\u5728\u53D1\u9001", "Setup TOTP": "\u8BBE\u7F6E TOTP", "Show password": "\u663E\u793A\u5BC6\u7801", "Sign in to your account": "\u767B\u5F55\u8D26\u6237", "Sign In with Amazon": "\u901A\u8FC7 Amazon \u767B\u5F55", "Sign In with Apple": "\u901A\u8FC7 Apple \u767B\u5F55", "Sign In with Facebook": "\u901A\u8FC7 Facebook \u767B\u5F55", "Sign In with Google": "\u901A\u8FC7 Google \u767B\u5F55", "Sign in": "\u767B\u5F55", "Sign In": "\u767B\u5F55", "Signing in": "\u6B63\u5728\u767B\u5F55", Skip: "\u8DF3\u8FC7", Submit: "\u63D0\u4EA4", Submitting: "\u6B63\u5728\u63D0\u4EA4", Username: "\u7528\u6237\u540D", "Verify Contact": "\u9A8C\u8BC1\u8054\u7CFB\u65B9\u5F0F", Verify: "\u9A8C\u8BC1", "Confirm a Code": "\u786E\u8BA4\u7801", "Confirm Sign In": "\u786E\u8BA4\u767B\u5F55", "Forgot Password": "\u5FD8\u8BB0\u5BC6\u7801", "Incorrect username or password": "\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF", "Invalid password format": "\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF", "Invalid phone number format": "\u7535\u8BDD\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u4F7F\u7528\u683C\u5F0F +12345678900", "New Password": "\u65B0\u5BC6\u7801", or: "\u6216\u8005", "Resend a Code": "\u91CD\u53D1\u786E\u8BA4\u7801", "Sign Out": "\u9000\u51FA", "Sign Up": "\u6CE8\u518C", "User already exists": "\u7528\u6237\u5DF2\u7ECF\u5B58\u5728", "User does not exist": "\u7528\u6237\u4E0D\u5B58\u5728" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/sv.js
var n6 = { "Account recovery requires verified contact information": "F\xF6r att \xE5terst\xE4lla kontot beh\xF6ver du ett verifierat konto", "Back to Sign In": "Tillbaka till inloggningen", "Change Password": "Byt l\xF6senord", Changing: "\xC4ndra", Code: "Kod", "Confirm Password": "Bekr\xE4fta l\xF6senord", "Confirm Sign Up": "Bekr\xE4fta registrering", "Confirm SMS Code": "Bekr\xE4fta SMS-kod", "Confirm TOTP Code": "Bekr\xE4fta TOTP-kod", Confirm: "Bekr\xE4fta", "Confirmation Code": "Verifikationskod", Confirming: "Bekr\xE4ftar", "Create a new account": "Skapa ett nytt konto", "Create Account": "Skapa konto", "Creating Account": "Skapar konto", "Dismiss alert": "Avvisa varning", Email: "E-post", "Enter your code": "Skriv din kod", "Enter your email": "Fyll i din e-post", "Enter your phone number": "Ange ditt telefonnummer", "Enter your username": "Ange ditt anv\xE4ndarnamn", "Forgot your password?": "Gl\xF6mt ditt l\xF6senord? ", "Hide password": "D\xF6lj l\xF6senord", Loading: "Laddar", "New password": "Nytt l\xF6senord", Password: "L\xF6senord", "Phone Number": "Telefonnummer", "Resend Code": "Skicka koden igen", "Reset your password": "\xC5terst\xE4ll ditt l\xF6senord", "Reset your Password": "\xC5terst\xE4ll ditt l\xF6senord", "Send code": "Skicka kod", "Send Code": "Skicka kod", Sending: "Skickar", "Setup TOTP": "Konfigurera TOTP", "Show password": "Visa l\xF6senord", "Sign in to your account": "Logga in till ditt konto", "Sign In with Amazon": "Logga in med Amazon", "Sign In with Apple": "Logga in med Apple", "Sign In with Facebook": "Logga in med Facebook", "Sign In with Google": "Logga in med Google", "Sign in": "Logga in", "Sign In": "Logga in", "Signing in": "Loggar in", Skip: "Hoppa \xF6ver", Submit: "Skicka", Submitting: "Skickar in", Username: "Anv\xE4ndarnamn", "Verify Contact": "Verifiera kontakt", Verify: "Verifiera", "An account with the given email already exists.": "Det finns redan ett konto med denna e-postadress", "Confirm a Code": "Bekr\xE4fta koden", "Confirm Sign In": "Bekr\xE4fta inloggning", "Create account": "Skapa konto", "Enter your password": "Ange ditt l\xF6senord", "Forgot Password": "Gl\xF6mt l\xF6senordet", "Have an account? ": "Redan registrerad? ", "Incorrect username or password": "Felaktigt anv\xE4ndarnamn eller l\xF6senord", "Invalid password format": "Ogiltigt l\xF6senordsformat", "Invalid phone number format": "Ogiltigt format f\xF6r telefonnummer", "Lost your code? ": "F\xF6rlorat koden? ", "New Password": "Nytt l\xF6senord", "No account? ": "Inget konto? ", or: "eller", "Password attempts exceeded": "Maximalt antal felaktiga inloggningsf\xF6rs\xF6k har uppn\xE5tts", "Reset password": "\xC5terst\xE4ll l\xF6senord", "Sign Out": "Logga ut", "Sign Up": "Registrering", "User already exists": "Anv\xE4ndaren finns redan", "User does not exist": "Anv\xE4ndaren finns inte", "Username cannot be empty": "Anv\xE4ndarnamnet kan inte vara tomt", "We Emailed You": "Vi har skickat e-post till dig" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/id.js
var a = { "Account recovery requires verified contact information": "Pemulihan akun memerlukan informasi kontak terverifikasi", "Back to Sign In": "Kembali ke Masuk", "Change Password": "Ubah kata sandi", Changing: "Mengubah", Code: "Kode", "Confirm Password": "Konfirmasi kata sandi", "Confirm Sign Up": "Konfirmasi Pendaftaran", "Confirm SMS Code": "Konfirmasi Kode SMS", "Confirm TOTP Code": "Konfirmasi Kode TOTP", Confirm: "Konfirmasi", "Confirmation Code": "Kode Konfirmasi", Confirming: "Mengkonfirmasi", "Create a new account": "Buat akun baru", "Create Account": "Buat Akun", "Creating Account": "Membuat Akun", "Dismiss alert": "Hentikan pemberitahuan", Email: "Email", "Enter your code": "Masukkan kode anda", "Enter your email": "Masukkan email anda", "Enter your phone number": "Masukkan nomor telepon anda", "Enter your username": "Masukkan nama akun anda", "Forgot your password?": "Lupa kata sandi? ", "Hide password": "Sembunyikan kata sandi", Loading: "Memuat", "New password": "Kata sandi baru", Password: "Kata sandi", "Phone Number": "Nomor telepon", "Resend Code": "Kirim ulang kodenya", "Reset your Password": "Reset Kata Sandi", "Reset your password": "Ubah kata sandi anda", "Send code": "Kirim kode", "Send Code": "Kirim Kode", Sending: "Mengirim", "Setup TOTP": "Siapkan TOTP", "Show password": "Tampilkan kata sandi", "Sign in to your account": "Masuk akun anda", "Sign In with Amazon": "Masuk dengan Amazon", "Sign In with Apple": "Masuk dengan Apple", "Sign In with Facebook": "Masuk dengan Facebook", "Sign In with Google": "Masuk dengan Google", "Sign in": "Masuk", "Sign In": "Masuk", "Signing in": "Memasuki", Skip: "Lewati", Submit: "Ajukan", Submitting: "Mengajukan", Username: "Nama akun", "Verify Contact": "Verifikasi Kontak", Verify: "Verifikasi", "An account with the given email already exists.": "Akun dengan email tersebut sudah terdaftar.", "Attempt limit exceeded, please try after some time.": "Batas percobaan terlampaui, mohon coba lagi setelah beberapa waktu.", "Cannot reset password for the user as there is no registered/verified email or phone_number": "Tidak dapat mengatur ulang kata sandi karena tidak ada email terdaftar / terverifikasi atau nomor telepon", Change: "Ubah", "Confirm a Code": "Konfirmasi kode", "Create account": "Buat akun", "Enter your password": "Masukkan kata sandi anda", "Forgot Password": "Lupa kata sandi", "Have an account? ": "Sudah punya akun? ", Hello: "Halo", "Incorrect username or password.": "Nama akun atau kata sandi salah.", "Invalid phone number format": "Nomor telepon tidak sesuai dengan format.", "Invalid verification code provided, please try again.": "Kode verifikasi tidak sesuai, mohon coba lagi.", "It may take a minute to arrive.": "Mungkin perlu beberapa waktu untuk tiba.", "Lost your code? ": "Kode anda hilang?", Name: "Nama", "Network error": "Galat jaringan", "No account? ": "Tidak ada akun?", or: "atau", "Password did not conform with policy: Password not long enough": "Kata sandi tidak sesuai dengan aturan: Kata sandi kurang panjang", "Resend a Code": "Renvoyer un code", "Reset password": "Ubah kata sandi anda", Send: "Kirim", "Sign In with AWS": "Masuk dengan AWS", "Sign Up with Amazon": "Daftar dengan Amazon", "Sign Up with AWS": "Daftar dengan AWS", "Sign Up with Facebook": "Daftar dengan Facebook", "Sign Up with Google": "Daftar dengan Google", SMS: "SMS", "User already exists": "Akun sudah terdaftar", "User does not exist.": "Akun tidak terdaftar.", "User is disabled.": "Akun dinonaktifkan.", "Username cannot be empty": "Nama akun tidak boleh kosong", "Username/client id combination not found.": "Nama akun atau id tidak ditemukan.", "We Emailed You": "Kami mengirimkanmu email", "Your code is on the way. To log in, enter the code we emailed to": "Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami emailkan ke", "Your code is on the way. To log in, enter the code we texted to": "Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami tuliskan ke", "Your passwords must match": "Kata sandi harus sama" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/tr.js
var e9 = { "Account recovery requires verified contact information": "Hesap kurtarma, do\u011Frulanm\u0131\u015F ileti\u015Fim bilgilerini gerektirir", "Back to Sign In": "Oturum A\xE7maya Geri D\xF6n", "Change Password": "\u015Eifreyi De\u011Fi\u015Ftir", Changing: "De\u011Fi\u015Ftiriliyor", Code: "Kod", "Confirm Password": "\u015Eifreyi Do\u011Frula", "Confirm Sign Up": "Kay\u0131t \u0130\u015Flemini Do\u011Frula", "Confirm SMS Code": "SMS Kodunu Do\u011Frula", "Confirm TOTP Code": "Tek Kullan\u0131ml\u0131k \u015Eifreyi Do\u011Frula", Confirm: "Do\u011Frula", "Confirmation Code": "Do\u011Frulama Kodu", Confirming: "Do\u011Frulan\u0131yor", "Create a new account": "Yeni bir hesap olu\u015Ftur", "Create Account": "Hesap Olu\u015Ftur", "Creating Account": "Hesap Olu\u015Fturuluyor", "Dismiss alert": "Uyar\u0131y\u0131 reddet", Email: "E-posta", "Enter your code": "Kodu girin", "Enter your email": "E-posta adresinizi girin", "Enter your phone number": "Telefon numaran\u0131z\u0131 girin", "Enter your username": "Kullan\u0131c\u0131 ad\u0131n\u0131z\u0131 girin", "Forgot your password?": "\u015Eifrenizi mi unuttunuz?", "Hide password": "\u015Eifreyi gizle", Loading: "Y\xFCkleniyor", "New password": "Yeni \u015Fifre", Password: "\u015Eifre", "Phone Number": "Telefon Numaras\u0131", "Resend Code": "Kodu Yeniden G\xF6nder", "Reset your password": "\u015Eifrenizi s\u0131f\u0131rlay\u0131n", "Reset your Password": "\u015Eifrenizi S\u0131f\u0131rlay\u0131n", "Send code": "Kod g\xF6nder", "Send Code": "Kod G\xF6nder", Sending: "G\xF6nderiliyor", "Setup TOTP": "Tek kullan\u0131ml\u0131k \u015Fifre kurulumu yap", "Show password": "\u015Eifreyi g\xF6ster", "Sign in to your account": "Hesab\u0131n\u0131zda oturum a\xE7\u0131n", "Sign In with Amazon": "Amazon ile Oturum A\xE7", "Sign In with Apple": "Apple ile Oturum A\xE7", "Sign In with Facebook": "Facebook ile Oturum A\xE7", "Sign In with Google": "Google ile Oturum A\xE7", "Sign in": "Oturum a\xE7", "Sign In": "Oturum A\xE7", "Signing in": "Oturum a\xE7\u0131l\u0131yor", Skip: "Atla", Submit: "G\xF6nder", Submitting: "G\xF6nderiliyor", Username: "Kullan\u0131c\u0131 ad\u0131", "Verify Contact": "Ki\u015Fiyi Do\u011Frula", Verify: "Do\u011Frula", "An account with the given email already exists.": "Bu e-postaya ait zaten bir hesap var.", "Confirm Sign In": "Oturum A\xE7may\u0131 Do\u011Frula", "Have an account? ": "Hesab\u0131n\u0131z var m\u0131? ", "Incorrect username or password": "Yanl\u0131\u015F kullan\u0131c\u0131 ad\u0131 ya da \u015Fifre", "Invalid password format": "Ge\xE7ersiz parola format\u0131", "Invalid phone number format": "Ge\xE7ersiz telefon numaras\u0131 format\u0131", "Lost your code? ": "Kodu mu kaybettiniz? ", "No account? ": "Hesab\u0131n\u0131z yok mu? ", or: "veya", "Password attempts exceeded": "Maksimum oturum a\xE7ma giri\u015Fimi a\u015F\u0131ld\u0131", "Sign Out": "\xC7\u0131k\u0131\u015F yap", "Sign Up": "Kay\u0131t Ol", "User already exists": "Bu kullan\u0131c\u0131 zaten var", "User does not exist": "B\xF6yle bir kullan\u0131c\u0131 mevcut de\u011Fil", "Username cannot be empty": "Kullan\u0131c\u0131 ad\u0131 bo\u015F olamaz" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/ru.js
var o6 = { "Account recovery requires verified contact information": "\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0443\u0447\u0435\u0442\u043D\u043E\u0439 \u0437\u0430\u043F\u0438\u0441\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0438 \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438", "Back to Sign In": "\u041D\u0430\u0437\u0430\u0434, \u0447\u0442\u043E\u0431\u044B \u0432\u043E\u0439\u0442\u0438", "Change Password": "\u0438\u0437\u043C\u0435\u043D\u044F\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C", Changing: "\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435", Code: "\u041A\u043E\u0434", "Confirm Password": "\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u043E\u043B\u044F", "Confirm Sign Up": "\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F", "Confirm SMS Code": "\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 CMC-\u041A\u043E\u0434", "Confirm TOTP Code": "\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 TOTP-\u041A\u043E\u0434", Confirm: "\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0442\u044C", "Confirmation Code": "\u043A\u043E\u0434 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F", Confirming: "\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435", "Create a new account": "\u0421\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u0443\u0447\u0435\u0442\u043D\u0443\u044E \u0437\u0430\u043F\u0438\u0441\u044C", "Create Account": "\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0443\u0447\u0435\u0442\u043D\u0443\u044E \u0437\u0430\u043F\u0438\u0441\u044C", "Creating Account": "\u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0443\u0447\u0435\u0442\u043D\u0430\u044F \u0437\u0430\u043F\u0438\u0441\u044C", "Dismiss alert": "\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043E\u043F\u043E\u0432\u0435\u0449\u0435\u043D\u0438\u0435", Email: "\u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430", "Enter your code": "\u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0430\u0448 \u041A\u043E\u0434", "Enter your email": "\u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0430\u0448 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430", "Enter your phone number": "\u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0430\u0448 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430", "Enter your username": "\u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0430\u0448 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F", "Forgot your password?": "\u0417\u0430\u0431\u044B\u043B\u0438 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C?", "Hide password": "\u0421\u043A\u0440\u044B\u0432\u0430\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C", Loading: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430", "New password": "\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C", Password: "\u041F\u0430\u0440\u043E\u043B\u044C", "Phone Number": "\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430", "Resend Code": "\u041E\u0442\u043F\u0440\u0430\u0432\u044C \u0435\u0449\u0435 \u0440\u0430\u0437 \u041A\u043E\u0434", "Reset your password": "\u0441\u0431\u0440\u043E\u0441 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C", "Reset your Password": "\u0441\u0431\u0440\u043E\u0441 \u0432\u0430\u0448 \u041F\u0430\u0440\u043E\u043B\u044C", "Send code": "\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u041A\u043E\u0434", "Send Code": "\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u041A\u043E\u0434", Sending: "\u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0430", "Setup TOTP": "\u041D\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044C TOTP", "Show password": "\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C", "Sign in to your account": "\u0437\u043D\u0430\u043A \u0432 \u0441\u0432\u043E\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442", "Sign In with Amazon": "\u0437\u043D\u0430\u043A \u0432 \u0441 Amazon", "Sign In with Apple": "\u0437\u043D\u0430\u043A \u0432 \u0441 Apple", "Sign In with Facebook": "\u0437\u043D\u0430\u043A \u0432 \u0441 Facebook", "Sign In with Google": "\u0437\u043D\u0430\u043A \u0432 \u0441 Google", "Sign in": "\u0437\u043D\u0430\u043A \u0432", "Sign In": "\u0437\u043D\u0430\u043A \u0432", "Signing in": "\u043F\u043E\u0434\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432", Skip: "\u041F\u0440\u043E\u043F\u0443\u0441\u043A\u0430\u0442\u044C", Submit: "\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u043D\u0430 \u0440\u0430\u0441\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u0438\u0435", Submitting: "\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0432", Username: "\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F", "Verify Contact": "\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u043A\u043E\u043D\u0442\u0430\u043A\u0442", Verify: "\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/authenticator/defaultTexts.js
var N = { BACK_SIGN_IN: "Back to Sign In", BIRTHDATE: "Birthdate", CHANGE_PASSWORD: "Change Password", CHANGING_PASSWORD: "Changing", CODE: "Code", CONFIRM_PASSWORD: "Confirm Password", CONFIRM_RESET_PASSWORD_HEADING: "Reset your Password", CONFIRM_SIGNUP_HEADING: "Confirm Sign Up", CONFIRM_SMS: "Confirm SMS Code", CONFIRM_TOTP: "Confirm TOTP Code", CONFIRM: "Confirm", CONFIRMATION_CODE: "Confirmation Code", CONFIRMING: "Confirming", CREATE_ACCOUNT: "Create Account", CREATING_ACCOUNT: "Creating Account", EMAIL_ADDRESS: "Email", ENTER_CODE: "Enter your code", ENTER_USERNAME: "Enter your username", FAMILY_NAME: "Family Name", GIVEN_NAME: "Given Name", FORGOT_PASSWORD: "Forgot Password?", FORGOT_YOUR_PASSWORD: "Forgot your password?", HIDE_PASSWORD: "Hide password", LOADING: "Loading", LOGIN_NAME: "Username", MIDDLE_NAME: "Middle Name", NAME: "Name", NICKNAME: "Nickname", NEW_PASSWORD: "New password", PASSWORD: "Password", PHONE_NUMBER: "Phone Number", PREFERRED_USERNAME: "Preferred Username", PROFILE: "Profile", RESEND_CODE: "Resend Code", RESET_PASSWORD_HEADING: "Reset your password", RESET_PASSWORD: "Reset Password", SEND_CODE: "Send code", SENDING: "Sending", SETUP_TOTP: "Setup TOTP", SHOW_PASSWORD: "Show password", SIGN_IN_BUTTON: "Sign in", SIGN_IN_TAB: "Sign In", SIGN_IN_WITH_AMAZON: "Sign In with Amazon", SIGN_IN_WITH_APPLE: "Sign In with Apple", SIGN_IN_WITH_FACEBOOK: "Sign In with Facebook", SIGN_IN_WITH_GOOGLE: "Sign In with Google", SIGN_IN: "Sign in to your account", SIGN_UP_BUTTON: "Create a new account", SIGNING_IN_BUTTON: "Signing in", SKIP: "Skip", SUBMIT: "Submit", SUBMITTING: "Submitting", UPPERCASE_COPY: "COPY", VERIFY_CONTACT: "Verify Contact", VERIFY_HEADING: "Account recovery requires verified contact information", VERIFY: "Verify", WEBSITE: "Website" };

// node_modules/@aws-amplify/ui/dist/esm/i18n/dictionaries/index.js
var d = __assign4({}, e3);
var v = __assign4({}, n5);
var x = __assign4({}, e4);
var k = __assign4({}, e5);
var z = __assign4({}, o2);
var T = __assign4({}, e6);
var b = __assign4({}, e7);
var g = __assign4({}, e8);
var q = __assign4({}, o3);
var w = __assign4({}, o4);
var y = __assign4({}, o5);
var A = __assign4({}, n6);
var B = __assign4({}, a);
var C = __assign4({}, e9);
var E = __assign4({}, o6);
var F = __assign4({}, N);

// node_modules/@aws-amplify/ui/dist/esm/i18n/translations.js
var x2 = __assign4({}, F);
function b2(r61) {
  return I18n.get(r61);
}
var k2 = { de: d, en: v, es: x, fr: k, id: B, it: z, ja: T, kr: b, nl: g, pl: q, pt: w, zh: y, sv: A, tr: C, ru: E };

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/constants.js
var r3 = { birthdate: { label: "Birthdate", placeholder: "Enter your Birthdate", type: "date", autocomplete: "bday", isRequired: true }, confirmation_code: { label: "Confirmation Code", placeholder: "Enter your Confirmation Code", type: "number", autocomplete: "one-time-code", isRequired: true }, confirm_password: { label: "Confirm Password", placeholder: "Please confirm your Password", type: "password", autocomplete: "new-password", isRequired: true }, email: { label: "Email", placeholder: "Enter your Email", type: "email", autocomplete: "username", isRequired: true }, family_name: { label: "Family Name", placeholder: "Enter your Family Name", type: "text", autocomplete: "family-name", isRequired: true }, given_name: { label: "Given Name", placeholder: "Enter your Given Name", type: "text", autocomplete: "given-name", isRequired: true }, middle_name: { label: "Middle Name", placeholder: "Enter your Middle Name", type: "text", autocomplete: "additional-name", isRequired: true }, name: { label: "Name", placeholder: "Enter your Name", type: "text", autocomplete: "name", isRequired: true }, nickname: { label: "Nickname", placeholder: "Enter your Nickname", type: "text", autocomplete: "tel", isRequired: true }, password: { label: "Password", placeholder: "Enter your Password", type: "password", autocomplete: "new-password", isRequired: true }, phone_number: { label: "Phone Number", placeholder: "Enter your Phone Number", type: "tel", autocomplete: "tel", dialCode: "+1", dialCodeList: r2, isRequired: true }, preferred_username: { label: "Preferred Username", placeholder: "Enter your Preferred Username", type: "text", isRequired: true }, profile: { label: "Profile", placeholder: "Add your Profile", type: "url", autocomplete: "url", isRequired: true }, website: { label: "Website", placeholder: "Add your Website", type: "url", autocomplete: "url", isRequired: true }, username: { label: "Username", placeholder: "Enter your Username", type: "text", autocomplete: "username", isRequired: true } };
var a2 = ["^", "$", "*", ".", "[", "]", "{", "}", "(", ")", "?", '"', "!", "@", "#", "%", "&", "/", "\\", ",", ">", "<", "'", ":", ";", "|", "_", "~", "`", "=", "+", "-", " "];

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/form.js
var o7 = function(r61) {
  return m.includes(r61);
};
var i3 = function(r61) {
  return r61 ? (t87 = r61, Array.isArray(t87) ? r61 : [r61]) : null;
  var t87;
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/utils.js
var import_waitFor = __toESM(require_waitFor());
var u = function(t87) {
  for (var n45 = t87.trim().split(""), e142 = 0; e142 < n45.length; e142++)
    e142 > 0 && e142 < n45.length - 1 && (n45[e142] = "*");
  return n45.join("");
};
var i4 = function(t87) {
  if (t87.length < 4)
    return t87;
  for (var n45 = t87.split(""), e142 = 0; e142 < n45.length - 4; e142++)
    n45[e142] = "*";
  return n45.join("");
};
var c = function(e142) {
  return __awaiter(void 0, void 0, void 0, function() {
    return __generator(this, function(t87) {
      switch (t87.label) {
        case 0:
          return t87.trys.push([0, 2, , 3]), [4, (0, import_waitFor.waitFor)(e142, function(t88) {
            return t2(t88).matches("autoSignIn");
          })];
        case 1:
        case 2:
          return t87.sent(), [3, 3];
        case 3:
          return [2];
      }
    });
  });
};
var s2 = function(e142, r61) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t87, a82, u20, i67;
    return __generator(this, function(n45) {
      switch (n45.label) {
        case 0:
          switch (t87 = r61.send, a82 = r61.getSnapshot(), e142.payload.event) {
            case "tokenRefresh":
              return [3, 1];
            case "autoSignIn":
              return [3, 2];
            case "autoSignIn_failure":
              return [3, 5];
            case "signOut":
            case "tokenRefresh_failure":
              return [3, 7];
          }
          return [3, 8];
        case 1:
          return a82.matches("authenticated.idle") && t87("TOKEN_REFRESH"), [3, 9];
        case 2:
          return a82.matches("authenticated") ? [3, 4] : [4, c(r61)];
        case 3:
          n45.sent(), (null == (u20 = t2(r61.getSnapshot())) ? void 0 : u20.matches("autoSignIn")) && t87({ type: "AUTO_SIGN_IN", data: e142.payload.data }), n45.label = 4;
        case 4:
          return [3, 9];
        case 5:
          return [4, c(r61)];
        case 6:
          return n45.sent(), (null == (i67 = t2(r61.getSnapshot())) ? void 0 : i67.matches("autoSignIn")) && t87({ type: "AUTO_SIGN_IN_FAILURE", data: e142.payload.data }), [3, 9];
        case 7:
          return a82.matches("authenticated.idle") && t87("SIGN_OUT"), [3, 9];
        case 8:
          return [3, 9];
        case 9:
          return [2];
      }
    });
  });
};
var h = function(t87, n45) {
  return void 0 === n45 && (n45 = s2), Hub.listen("auth", function(t88, n46) {
    return function(e142) {
      n46(e142, t88);
    };
  }(t87, n45), "authenticator-hub-handler");
};
var l = function(t87) {
  return a2.some(function(n45) {
    return t87.includes(n45);
  });
};
var f = function(t87, n45, e142) {
  return encodeURI("otpauth://totp/".concat(t87, ":").concat(n45, "?secret=").concat(e142, "&issuer=").concat(t87));
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/formFields/defaults.js
var i5 = function(r61, e142) {
  var a82 = n(r61).country_code, s62 = r3[e142];
  return "tel" === s62.type && (s62 = __assign4(__assign4({}, s62), { dialCode: a82 })), s62;
};
var c2 = function(r61) {
  var e142 = n3(r61);
  return __assign4(__assign4({}, i5(r61, e142)), { autocomplete: "username" });
};
var d2 = function(r61) {
  return { confirmation_code: __assign4(__assign4({}, i5(r61, "confirmation_code")), { label: "Code *", placeholder: "Code" }) };
};
var u2 = { signIn: function(r61) {
  return { username: __assign4({}, c2(r61)), password: __assign4(__assign4({}, i5(r61, "password")), { autocomplete: "current-password" }) };
}, signUp: function(e142) {
  for (var n45 = e142.context.config, t87 = n45.loginMechanisms, d10 = n45.signUpAttributes, u20 = n3(e142), f21 = {}, m29 = 0, l29 = Array.from(new Set(__spreadArray3(__spreadArray3(__spreadArray3([], t87, true), ["password", "confirm_password"], false), d10, true))); m29 < l29.length; m29++) {
    var p17 = l29[m29];
    if (o7(p17)) {
      var w3 = p17 === u20 ? c2(e142) : i5(e142, p17);
      f21[p17] = __assign4({}, w3);
    } else
      console.debug("Authenticator does not have a default implementation for ".concat(p17, ". Customize SignUp FormFields to add your own."));
  }
  return f21;
}, confirmSignUp: function(r61) {
  return { confirmation_code: __assign4(__assign4({}, i5(r61, "confirmation_code")), { placeholder: "Enter your code" }) };
}, confirmSignIn: d2, forceNewPassword: function(n45) {
  for (var t87 = t2(n45).context.requiredAttributes, a82 = {}, c22 = 0, d10 = Array.from(new Set(__spreadArray3(["password", "confirm_password"], t87, true))); c22 < d10.length; c22++) {
    var u20 = d10[c22];
    o7(u20) ? a82[u20] = __assign4({}, i5(n45, u20)) : console.debug("Authenticator does not have a default implementation for ".concat(u20, ". Customize ForceNewPassword FormFields to add your own."));
  }
  return a82;
}, resetPassword: function(r61) {
  var e142 = n3(r61), n45 = r3[e142].label;
  return { username: __assign4(__assign4({}, c2(r61)), { label: "Enter your ".concat(n45.toLowerCase()), placeholder: "Enter your ".concat(n45.toLowerCase()) }) };
}, confirmResetPassword: function(r61) {
  return __assign4(__assign4({}, d2(r61)), { password: __assign4(__assign4({}, i5(r61, "password")), { label: "New Password", placeholder: "New Password" }), confirm_password: __assign4(__assign4({}, i5(r61, "confirm_password")), { label: "Confirm Password", placeholder: "Confirm Password" }) });
}, confirmVerifyUser: d2, setupTOTP: d2 };

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/formFields/util.js
var import_cloneDeep = __toESM(require_cloneDeep());
var t3 = function(e142) {
  for (var t87 = __assign4({}, e142), n45 = 0, i67 = Object.entries(e142); n45 < i67.length; n45++) {
    var l29 = i67[n45], c22 = l29[0], u20 = l29[1], a82 = u20.label, f21 = u20.placeholder;
    t87[c22] = __assign4(__assign4({}, u20), { label: a82 ? b2(a82) : void 0, placeholder: f21 ? b2(f21) : void 0 });
  }
  return t87;
};
var n7 = function(r61) {
  return Object.entries(r61).sort(function(r62, e142) {
    return (r62[1].order || Number.MAX_VALUE) - (e142[1].order || Number.MAX_VALUE);
  }).filter(function(r62) {
    return void 0 !== r62[1];
  });
};
var i6 = function(o101, t87) {
  void 0 === t87 && (t87 = {});
  var n45 = (0, import_cloneDeep.default)(o101);
  return Object.keys(t87).forEach(function(e142) {
    n45[e142] = __assign4(__assign4({}, n45[e142]), t87[e142]);
  }), n45;
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/formFields/formFields.js
var e11 = function(r61, i67) {
  var n45 = (0, u2[r61])(i67);
  return t3(n45);
};
var u3 = function(o101, t87) {
  var n45, u20, f21 = e11(o101, t87), l29 = (null === (u20 = null === (n45 = t2(t87).context) || void 0 === n45 ? void 0 : n45.formFields) || void 0 === u20 ? void 0 : u20[o101]) || {}, v5 = i6(f21, l29);
  return delete v5.QR, v5;
};
var f2 = function(r61, o101) {
  var t87 = u3(r61, o101);
  return n7(t87);
};

// node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/textUtil.js
var n8 = { amazon: "Amazon", apple: "Apple", facebook: "Facebook", google: "Google" };
var r5 = { getBackToSignInText: function() {
  return b2(x2.BACK_SIGN_IN);
}, getChangePasswordText: function() {
  return b2(x2.CHANGE_PASSWORD);
}, getChangingText: function() {
  return b2(x2.CHANGING_PASSWORD);
}, getConfirmText: function() {
  return b2(x2.CONFIRM);
}, getConfirmingText: function() {
  return b2(x2.CONFIRMING);
}, getCopyText: function() {
  return b2(x2.UPPERCASE_COPY);
}, getHidePasswordText: function() {
  return b2(x2.HIDE_PASSWORD);
}, getLoadingText: function() {
  return b2(x2.LOADING);
}, getResendCodeText: function() {
  return b2(x2.RESEND_CODE);
}, getSendCodeText: function() {
  return b2(x2.SEND_CODE);
}, getSendingText: function() {
  return b2(x2.SENDING);
}, getShowPasswordText: function() {
  return b2(x2.SHOW_PASSWORD);
}, getSubmitText: function() {
  return b2(x2.SUBMIT);
}, getSubmittingText: function() {
  return b2(x2.SUBMITTING);
}, getSignInTabText: function() {
  return b2(x2.SIGN_IN_TAB);
}, getSignUpTabText: function() {
  return b2(x2.CREATE_ACCOUNT);
}, getForgotPasswordText: function(n45) {
  return b2(n45 ? x2.FORGOT_PASSWORD : x2.FORGOT_YOUR_PASSWORD);
}, getSigningInText: function() {
  return b2(x2.SIGNING_IN_BUTTON);
}, getSignInText: function() {
  return b2(x2.SIGN_IN_BUTTON);
}, getCreatingAccountText: function() {
  return b2(x2.CREATING_ACCOUNT);
}, getCreateAccountText: function() {
  return b2(x2.CREATE_ACCOUNT);
}, getDeliveryMessageText: function(t87) {
  var n45 = null != t87 ? t87 : {}, r61 = n45.DeliveryMedium, o101 = n45.Destination, i67 = "EMAIL" === r61;
  if (!i67 && !("SMS" === r61))
    return b2("Your code is on the way. To log in, enter the code we sent you. It may take a minute to arrive.");
  var u20 = b2("Your code is on the way. To log in, enter the code we ".concat(i67 ? "emailed" : "texted", " to")), c22 = b2("It may take a minute to arrive.");
  return "".concat(u20, " ").concat(o101, ". ").concat(c22);
}, getDeliveryMethodText: function(t87) {
  var n45 = (null != t87 ? t87 : {}).DeliveryMedium, r61 = "EMAIL" === n45;
  return b2(r61 || "SMS" !== n45 ? "We ".concat(r61 ? "Emailed" : "Texted", " You") : "We Sent A Code");
}, getChallengeText: function(n45) {
  switch (n45) {
    case "SMS_MFA":
      return b2(x2.CONFIRM_SMS);
    case "SOFTWARE_TOKEN_MFA":
      return b2(x2.CONFIRM_TOTP);
    default:
      throw new Error("".concat(b2("Unexpected challengeName encountered in ConfirmSignIn:"), " ").concat(n45));
  }
}, getResetYourPasswordText: function() {
  return b2(x2.RESET_PASSWORD);
}, getSetupTOTPText: function() {
  return b2(x2.SETUP_TOTP);
}, getSetupTOTPInstructionsText: function() {
  return b2("Copy and paste the secret key below into an authenticator app and then enter the code in the text field below.");
}, getCopiedText: function() {
  return b2("COPIED");
}, getSignInWithFederationText: function(t87, r61) {
  return b2("Sign ".concat("signIn" === t87 ? "In" : "Up", " with ").concat(n8[r61]));
}, getSkipText: function() {
  return b2(x2.SKIP);
}, getVerifyText: function() {
  return b2(x2.VERIFY);
}, getVerifyContactText: function() {
  return b2(x2.VERIFY_CONTACT);
}, getAccountRecoveryInfoText: function() {
  return b2(x2.VERIFY_HEADING);
} };

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/index.js
var import_actions10 = __toESM(require_actions());

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actions.js
var import_actions6 = __toESM(require_actions());
var t4 = function(e142) {
  return (0, import_actions6.stop)(e142);
};
var o8 = (0, import_actions6.assign)({ attributeToVerify: function(e142) {
} });
var u4 = (0, import_actions6.assign)({ challengeName: function(e142) {
} });
var a3 = (0, import_actions6.assign)({ requiredAttributes: function(e142) {
} });
var i7 = (0, import_actions6.assign)({ remoteError: function(e142) {
  return "";
} });
var c3 = (0, import_actions6.assign)({ formValues: function(e142) {
  return {};
} });
var s3 = (0, import_actions6.assign)({ touched: function(e142) {
  return {};
} });
var d3 = (0, import_actions6.assign)({ unverifiedContactMethods: function(e142) {
} });
var l2 = (0, import_actions6.assign)({ username: function(e142) {
} });
var f3 = (0, import_actions6.assign)({ validationError: function(e142) {
  return {};
} });
var m2 = (0, import_actions6.assign)({ challengeName: function(e142, r61) {
  var n45;
  return null === (n45 = r61.data) || void 0 === n45 ? void 0 : n45.challengeName;
} });
var v2 = (0, import_actions6.assign)({ requiredAttributes: function(e142, r61) {
  var n45, t87;
  return null === (t87 = null === (n45 = r61.data) || void 0 === n45 ? void 0 : n45.challengeParam) || void 0 === t87 ? void 0 : t87.requiredAttributes;
} });
var h2 = (0, import_actions6.assign)({ redirectIntent: function(e142) {
  return "confirmPasswordReset";
} });
var V = (0, import_actions6.assign)({ redirectIntent: function(e142) {
  return "confirmSignUp";
} });
var b3 = (0, import_actions6.assign)({ authAttributes: function(e142, r61) {
  var n45, t87, o101 = e142.loginMechanisms[0];
  return { username: null !== (n45 = e142.formValues[o101]) && void 0 !== n45 ? n45 : e142.formValues.username, password: null === (t87 = e142.formValues) || void 0 === t87 ? void 0 : t87.password };
} });
var p = (0, import_actions6.assign)({ validationError: function(e142, r61) {
  return r61.data;
} });
var g2 = (0, import_actions6.assign)({ remoteError: function(e142, r61) {
  var n45;
  return "NoUserPoolError" === r61.data.name ? "Configuration error (see console) \u2013 please contact the administrator" : (null === (n45 = r61.data) || void 0 === n45 ? void 0 : n45.message) || r61.data;
} });
var _ = (0, import_actions6.assign)({ unverifiedContactMethods: function(e142, r61) {
  return r61.data.unverified;
} });
var y2 = (0, import_actions6.assign)({ user: function(e142, r61) {
  return r61.data.user || r61.data;
} });
var A2 = (0, import_actions6.assign)({ username: function(e142, r61) {
  var n45 = e142.formValues, t87 = n45.username, o101 = n45.country_code;
  return o101 && (t87 = "".concat(o101).concat(t87)), t87;
} });
var E2 = (0, import_actions6.assign)({ codeDeliveryDetails: function(e142, r61) {
  return r61.data.codeDeliveryDetails;
} });
var D = (0, import_actions6.assign)({ authAttributes: function(e142, r61) {
  return { username: e142.formValues.username };
} });
var M = (0, import_actions6.assign)({ formValues: function(r61, n45) {
  var t87, o101 = n45.data, u20 = o101.name, a82 = o101.value;
  return __assign4(__assign4({}, r61.formValues), ((t87 = {})[u20] = a82, t87));
} });
var N2 = (0, import_actions6.assign)({ formValues: function(r61, n45) {
  return __assign4(__assign4({}, r61.formValues), n45.data);
} });
var q2 = (0, import_actions6.assign)({ touched: function(r61, n45) {
  var t87, o101 = n45.data.name;
  return __assign4(__assign4({}, r61.touched), ((t87 = {})["".concat(o101)] = true, t87));
} });
var w2 = (0, import_actions6.assign)({ formValues: function(r61, n45) {
  var t87, o101, u20 = r61.loginMechanisms[0], a82 = void 0 === u20 ? "username" : u20;
  if (!r61.formValues.phone_number && "phone_number" !== a82)
    return r61.formValues;
  var i67 = r61.formValues, c22 = r61.country_code, s62 = i67.phone_number ? "phone_number" : "username", d10 = "".concat(null !== (o101 = i67.country_code) && void 0 !== o101 ? o101 : c22).concat(i67[s62]).replace(/[^A-Z0-9+]/gi, ""), l29 = __assign4(__assign4({}, i67), ((t87 = {})[s62] = d10, t87));
  return delete l29.country_code, l29;
} });

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signIn.js
var import_get = __toESM(require_get());
var import_isEmpty2 = __toESM(require_isEmpty());

// node_modules/@aws-amplify/ui/dist/esm/validators/index.js
var import_isEmpty = __toESM(require_isEmpty());
var import_merge = __toESM(require_merge());
var n10 = function(n45, s62, m29, a82) {
  return __awaiter(void 0, void 0, void 0, function() {
    var r61, l29;
    return __generator(this, function(o101) {
      switch (o101.label) {
        case 0:
          return [4, Promise.all(a82.map(function(r62) {
            return r62(n45, s62, m29);
          }))];
        case 1:
          return r61 = o101.sent(), l29 = import_merge.default.apply(void 0, __spreadArray3([{}], r61, false)), (0, import_isEmpty.default)(l29) ? [2, Promise.resolve()] : [2, Promise.reject(l29)];
      }
    });
  });
};

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/defaultServices.js
var import_includes2 = __toESM(require_includes());
var import_cloneDeep2 = __toESM(require_cloneDeep());
var e12 = { getAmplifyConfig: function() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Amplify.configure()];
    });
  });
}, getCurrentUser: function() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.currentAuthenticatedUser()];
    });
  });
}, handleSignUp: function(i67) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.signUp(__assign4(__assign4({}, i67), { autoSignIn: { enabled: true } }))];
    });
  });
}, handleSignIn: function(r61) {
  var i67 = r61.username, s62 = r61.password;
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.signIn(i67, s62)];
    });
  });
}, handleConfirmSignIn: function(r61) {
  var i67 = r61.user, s62 = r61.code, e142 = r61.mfaType;
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.confirmSignIn(i67, s62, e142)];
    });
  });
}, handleConfirmSignUp: function(r61) {
  var i67 = r61.username, s62 = r61.code;
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      switch (t87.label) {
        case 0:
          return [4, Auth.confirmSignUp(i67, s62)];
        case 1:
          return [2, t87.sent()];
      }
    });
  });
}, handleForgotPasswordSubmit: function(r61) {
  var i67 = r61.username, s62 = r61.code, e142 = r61.password;
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.forgotPasswordSubmit(i67, s62, e142)];
    });
  });
}, handleForgotPassword: function(r61) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2, Auth.forgotPassword(r61)];
    });
  });
}, validateCustomSignUp: function(r61, i67) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2];
    });
  });
}, validateFormPassword: function(r61, i67, o101) {
  return __awaiter(this, void 0, void 0, function() {
    var t87, e142, u20, a82;
    return __generator(this, function(n45) {
      return t87 = r61.password, i67.password && o101 ? (e142 = [], u20 = +(null == o101 ? void 0 : o101.passwordPolicyMinLength), t87.length < u20 && e142.push("Password must have at least ".concat(u20, " characters")), null == (a82 = null == o101 ? void 0 : o101.passwordPolicyCharacters) || a82.forEach(function(n46) {
        switch (n46) {
          case "REQUIRES_LOWERCASE":
            /[a-z]/.test(t87) || e142.push("Password must have lower case letters");
            break;
          case "REQUIRES_UPPERCASE":
            /[A-Z]/.test(t87) || e142.push("Password must have upper case letters");
            break;
          case "REQUIRES_NUMBERS":
            /[0-9]/.test(t87) || e142.push("Password must have numbers");
            break;
          case "REQUIRES_SYMBOLS":
            l(t87) || e142.push("Password must have special characters");
        }
      }), [2, 0 !== e142.length ? { password: e142 } : null]) : [2, null];
    });
  });
}, validateConfirmPassword: function(r61, i67) {
  return __awaiter(this, void 0, void 0, function() {
    var t87, o101, s62, e142;
    return __generator(this, function(n45) {
      return t87 = r61.password, o101 = r61.confirm_password, s62 = i67.confirm_password, e142 = i67.password, t87 || o101 ? (t87 || o101) && t87 !== o101 && (s62 && e142 || (null == t87 ? void 0 : t87.length) >= 6 && (null == o101 ? void 0 : o101.length) >= 6) ? [2, { confirm_password: "Your passwords must match" }] : [2] : [2, null];
    });
  });
}, validatePreferredUsername: function(r61, i67) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t87) {
      return [2];
    });
  });
} };

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signIn.js
var F2 = ["SMS_MFA", "SOFTWARE_TOKEN_MFA"];
var k3 = function(e142) {
  return (0, import_get.default)(e142, "data.challengeName");
};
var O = function(e142, t87) {
  return e142 === t87;
};
var D2 = function(e142) {
  return F2.includes(e142);
};
function M2(o101) {
  var F4 = o101.services;
  return createMachine({ initial: "init", id: "signInActor", predictableActionArguments: true, states: { init: { always: [{ target: "autoSignIn.submit", cond: "shouldAutoSubmit" }, { target: "autoSignIn", cond: "shouldAutoSignIn" }, { target: "signIn" }] }, signIn: { initial: "edit", exit: ["clearFormValues", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, CHANGE: { actions: "handleInput" }, FEDERATED_SIGN_IN: "federatedSignIn" } }, federatedSignIn: { tags: ["pending"], entry: ["sendUpdate", "clearError"], invoke: { src: "federatedSignIn", onError: { actions: "setRemoteError" } } }, submit: { tags: ["pending"], entry: ["parsePhoneNumber", "clearError", "sendUpdate"], invoke: { src: "signIn", onDone: [{ cond: "shouldSetupTOTP", actions: ["setUser", "setChallengeName"], target: "#signInActor.setupTOTP" }, { cond: "shouldConfirmSignIn", actions: ["setUser", "setChallengeName"], target: "#signInActor.confirmSignIn" }, { cond: "shouldForceChangePassword", actions: ["setUser", "setChallengeName", "setRequiredAttributes"], target: "#signInActor.forceNewPassword" }, { actions: "setUser", target: "verifying" }], onError: [{ cond: "shouldRedirectToConfirmSignUp", actions: ["setCredentials", "setConfirmSignUpIntent"], target: "rejected" }, { cond: "shouldRedirectToConfirmResetPassword", actions: ["setUsernameAuthAttributes", "setConfirmResetPasswordIntent"], target: "rejected" }, { actions: "setRemoteError", target: "edit" }] } }, verifying: { tags: ["pending"], entry: ["clearError", "sendUpdate"], invoke: { src: "checkVerifiedContact", onDone: [{ cond: "shouldRequestVerification", target: "#signInActor.verifyUser", actions: "setUnverifiedContactMethods" }, { target: "resolved" }], onError: { actions: "setRemoteError", target: "edit" } } }, resolved: { always: "#signInActor.resolved" }, rejected: { always: "#signInActor.rejected" } } }, autoSignIn: { initial: "pending", states: { pending: { tags: ["pending"], entry: ["clearError", "sendUpdate"], on: { AUTO_SIGN_IN: [{ cond: "shouldSetupTOTP", actions: ["setUser", "setChallengeName"], target: "#signInActor.setupTOTP" }, { cond: "shouldConfirmSignIn", actions: ["setUser", "setChallengeName"], target: "#signInActor.confirmSignIn" }, { cond: "shouldForceChangePassword", actions: ["setUser", "setChallengeName", "setRequiredAttributes"], target: "#signInActor.forceNewPassword" }, { actions: "setUser", target: "#signInActor.resolved" }], AUTO_SIGN_IN_FAILURE: { actions: "setRemoteError", target: "pending" } } }, submit: { tags: ["pending"], entry: ["clearError", "sendUpdate"], invoke: { src: "signIn", onDone: [{ cond: "shouldSetupTOTP", actions: ["setUser", "setChallengeName"], target: "#signInActor.setupTOTP" }, { cond: "shouldConfirmSignIn", actions: ["setUser", "setChallengeName"], target: "#signInActor.confirmSignIn" }, { cond: "shouldForceChangePassword", actions: ["setUser", "setChallengeName", "setRequiredAttributes"], target: "#signInActor.forceNewPassword" }, { actions: "setUser", target: "#signInActor.resolved" }], onError: { actions: "setRemoteError", target: "#signInActor.signIn" } } }, resolved: { always: "#signInActor.resolved" }, rejected: { always: "#signInActor.rejected" } } }, confirmSignIn: { initial: "edit", exit: ["clearFormValues", "clearError", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, SIGN_IN: "#signInActor.signIn", CHANGE: { actions: "handleInput" } } }, submit: { tags: ["pending"], entry: ["clearError", "sendUpdate"], invoke: { src: "confirmSignIn", onDone: { target: "#signInActor.resolved", actions: ["setUser", "clearChallengeName", "clearRequiredAttributes"] }, onError: { target: "edit", actions: "setRemoteError" } } } } }, forceNewPassword: { type: "parallel", exit: ["clearFormValues", "clearError", "clearTouched"], states: { validation: { initial: "pending", states: { pending: { invoke: { src: "validateFields", onDone: { target: "valid", actions: "clearValidationError" }, onError: { target: "invalid", actions: "setFieldErrors" } } }, valid: { entry: "sendUpdate" }, invalid: { entry: "sendUpdate" } }, on: { SIGN_IN: "#signInActor.signIn", CHANGE: { actions: "handleInput", target: ".pending" }, BLUR: { actions: "handleBlur", target: ".pending" } } }, submit: { initial: "idle", entry: "clearError", states: { idle: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "validate" } } }, validate: { entry: "sendUpdate", invoke: { src: "validateFields", onDone: { target: "pending", actions: "clearValidationError" }, onError: { target: "idle", actions: "setFieldErrors" } } }, pending: { tags: ["pending"], entry: ["sendUpdate", "clearError"], invoke: { src: "forceNewPassword", onDone: [{ cond: "shouldConfirmSignIn", actions: ["setUser", "setChallengeName"], target: "#signInActor.confirmSignIn" }, { cond: "shouldSetupTOTP", actions: ["setUser", "setChallengeName"], target: "#signInActor.setupTOTP" }, { target: "resolved", actions: ["setUser", "setCredentials"] }], onError: { target: "idle", actions: "setRemoteError" } } }, resolved: { type: "final", always: "#signInActor.resolved" } } } } }, setupTOTP: { initial: "edit", exit: ["clearFormValues", "clearError", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, SIGN_IN: "#signInActor.signIn", CHANGE: { actions: "handleInput" } } }, submit: { tags: ["pending"], entry: ["sendUpdate", "clearError"], invoke: { src: "verifyTotpToken", onDone: { actions: ["clearChallengeName", "clearRequiredAttributes"], target: "#signInActor.resolved" }, onError: { actions: "setRemoteError", target: "edit" } } } } }, verifyUser: { initial: "edit", exit: ["clearFormValues", "clearError", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, SKIP: "#signInActor.resolved", CHANGE: { actions: "handleInput" } } }, submit: { tags: ["pending"], entry: "clearError", invoke: { src: "verifyUser", onDone: { target: "#signInActor.confirmVerifyUser" }, onError: { actions: "setRemoteError", target: "edit" } } } } }, confirmVerifyUser: { initial: "edit", exit: ["clearFormValues", "clearError", "clearUnverifiedContactMethods", "clearAttributeToVerify", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, SKIP: "#signInActor.resolved", CHANGE: { actions: "handleInput" } } }, submit: { tags: ["pending"], entry: "clearError", invoke: { src: "confirmVerifyUser", onDone: { target: "#signInActor.resolved" }, onError: { actions: "setRemoteError", target: "edit" } } } } }, resolved: { type: "final", data: function(e142) {
    return { user: e142.user };
  } }, rejected: { type: "final", data: function(e142, t87) {
    return { intent: e142.redirectIntent, authAttributes: e142.authAttributes };
  } } } }, { actions: { clearAttributeToVerify: o8, clearChallengeName: u4, clearRequiredAttributes: a3, clearError: i7, clearFormValues: c3, clearTouched: s3, clearUnverifiedContactMethods: d3, clearValidationError: f3, handleInput: M, handleSubmit: N2, handleBlur: q2, parsePhoneNumber: w2, setChallengeName: m2, setConfirmResetPasswordIntent: h2, setConfirmSignUpIntent: V, setRequiredAttributes: v2, setCredentials: b3, setFieldErrors: p, setRemoteError: g2, setUnverifiedContactMethods: _, setUser: y2, setUsernameAuthAttributes: D, sendUpdate: sendUpdate2() }, guards: { shouldAutoSignIn: function(e142) {
    return "autoSignIn" === (null == e142 ? void 0 : e142.intent);
  }, shouldAutoSubmit: function(e142) {
    return "autoSignInSubmit" === (null == e142 ? void 0 : e142.intent);
  }, shouldConfirmSignIn: function(e142, t87) {
    return D2(k3(t87));
  }, shouldForceChangePassword: function(e142, t87) {
    return O(k3(t87), "NEW_PASSWORD_REQUIRED");
  }, shouldRedirectToConfirmResetPassword: function(e142, t87) {
    return "PasswordResetRequiredException" === t87.data.code;
  }, shouldRedirectToConfirmSignUp: function(e142, t87) {
    return "UserNotConfirmedException" === t87.data.code;
  }, shouldRequestVerification: function(e142, t87) {
    var r61 = t87.data, n45 = r61.unverified, i67 = r61.verified;
    return (0, import_isEmpty2.default)(i67) && !(0, import_isEmpty2.default)(n45);
  }, shouldSetupTOTP: function(e142, t87) {
    return O(k3(t87), "MFA_SETUP");
  } }, services: { signIn: function(n45) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, i67, o102, s62, a82, c22, d10;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = n45.authAttributes, i67 = void 0 === e142 ? {} : e142, o102 = n45.formValues, s62 = void 0 === o102 ? {} : o102, a82 = __assign4(__assign4({}, i67), s62), c22 = a82.username, d10 = a82.password, [4, F4.handleSignIn({ username: c22, password: d10 })];
          case 1:
            return [2, t87.sent()];
        }
      });
    });
  }, confirmSignIn: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, n45, o102, s62;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = r61.challengeName, n45 = r61.user, o102 = r61.formValues.confirmation_code, s62 = D2(e142) ? e142 : void 0, [4, F4.handleConfirmSignIn({ user: n45, code: o102, mfaType: s62 })];
          case 1:
            return t87.sent(), [4, Auth.currentAuthenticatedUser()];
          case 2:
            return [2, t87.sent()];
        }
      });
    });
  }, forceNewPassword: function(o102) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, s62, a82, c22, d10, u20, l29, g14, f21;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            e142 = o102.user, s62 = o102.formValues, a82 = s62.password, s62.confirm_password, c22 = s62.phone_number, d10 = s62.country_code, u20 = __rest4(s62, ["password", "confirm_password", "phone_number", "country_code"]), c22 && (l29 = "".concat(d10).concat(c22).replace(/[^A-Z0-9+]/gi, ""), u20 = __assign4(__assign4({}, u20), { phone_number: l29 })), t87.label = 1;
          case 1:
            return t87.trys.push([1, 3, , 4]), [4, Auth.completeNewPassword(e142, a82, u20)];
          case 2:
            return (g14 = t87.sent()).challengeName ? [2, g14] : [2, Auth.currentAuthenticatedUser()];
          case 3:
            return f21 = t87.sent(), [2, Promise.reject(f21)];
          case 4:
            return [2];
        }
      });
    });
  }, verifyTotpToken: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, n45, o102;
      return __generator(this, function(t87) {
        return e142 = r61.formValues, n45 = r61.user, o102 = e142.confirmation_code, [2, Auth.verifyTotpToken(n45, o102)];
      });
    });
  }, federatedSignIn: function(r61, n45) {
    return __awaiter(this, void 0, void 0, function() {
      var e142;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = n45.data.provider, [4, Auth.federatedSignIn({ provider: e142 })];
          case 1:
            return [2, t87.sent()];
        }
      });
    });
  }, checkVerifiedContact: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = r61.user, [4, Auth.verifiedContact(e142)];
          case 1:
            return [2, t87.sent()];
        }
      });
    });
  }, verifyUser: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, n45;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = r61.formValues.unverifiedAttr, [4, Auth.verifyCurrentUserAttribute(e142)];
          case 1:
            return n45 = t87.sent(), r61.attributeToVerify = e142, [2, n45];
        }
      });
    });
  }, confirmVerifyUser: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, n45;
      return __generator(this, function(t87) {
        switch (t87.label) {
          case 0:
            return e142 = r61.attributeToVerify, n45 = r61.formValues.confirmation_code, [4, Auth.verifyCurrentUserAttributeSubmit(e142, n45)];
          case 1:
            return [2, t87.sent()];
        }
      });
    });
  }, validateFields: function(r61) {
    return __awaiter(this, void 0, void 0, function() {
      return __generator(this, function(e142) {
        return [2, n10(r61.formValues, r61.touched, r61.passwordSettings, [e12.validateConfirmPassword])];
      });
    });
  } } });
}

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signOut.js
var n11 = createMachine({ initial: "pending", id: "signOutActor", predictableActionArguments: true, states: { pending: { tags: ["pending"], invoke: { src: "signOut", onDone: "resolved", onError: "rejected" } }, resolved: { type: "final" }, rejected: { type: "final" } } }, { services: { signOut: function() {
  return Auth.signOut();
} } });

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/resetPassword.js
function E3(E4) {
  var h12 = E4.services;
  return createMachine({ id: "resetPasswordActor", initial: "init", predictableActionArguments: true, states: { init: { always: [{ target: "confirmResetPassword", cond: "shouldAutoConfirmReset" }, { target: "resetPassword" }] }, resetPassword: { initial: "edit", exit: ["clearFormValues", "clearError", "clearTouched"], states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, CHANGE: { actions: "handleInput" }, BLUR: { actions: "handleBlur" } } }, submit: { tags: ["pending"], entry: ["sendUpdate", "setUsername", "clearError"], invoke: { src: "resetPassword", onDone: { target: "#resetPasswordActor.confirmResetPassword" }, onError: { actions: ["setRemoteError"], target: "edit" } } } } }, confirmResetPassword: { type: "parallel", exit: ["clearFormValues", "clearError", "clearUsername", "clearTouched"], states: { validation: { initial: "pending", states: { pending: { invoke: { src: "validateFields", onDone: { target: "valid", actions: "clearValidationError" }, onError: { target: "invalid", actions: "setFieldErrors" } } }, valid: { entry: "sendUpdate" }, invalid: { entry: "sendUpdate" } }, on: { CHANGE: { actions: "handleInput", target: ".pending" }, BLUR: { actions: "handleBlur", target: ".pending" } } }, submission: { initial: "idle", states: { idle: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "validate" }, RESEND: "resendCode", CHANGE: { actions: "handleInput" }, BLUR: { actions: "handleBlur" } } }, validate: { entry: "sendUpdate", invoke: { src: "validateFields", onDone: { target: "pending", actions: "clearValidationError" }, onError: { target: "idle", actions: "setFieldErrors" } } }, resendCode: { tags: ["pending"], entry: ["clearError", "sendUpdate"], invoke: { src: "resetPassword", onDone: { target: "idle" }, onError: { actions: "setRemoteError", target: "idle" } } }, pending: { tags: ["pending"], entry: ["clearError", "sendUpdate"], invoke: { src: "confirmResetPassword", onDone: { actions: "clearUsername", target: "#resetPasswordActor.resolved" }, onError: { actions: "setRemoteError", target: "idle" } } } } } } }, resolved: { type: "final" } } }, { actions: { clearError: i7, clearFormValues: c3, clearTouched: s3, clearUsername: l2, clearValidationError: f3, handleInput: M, handleSubmit: N2, handleBlur: q2, setFieldErrors: p, setRemoteError: g2, setUsername: A2, sendUpdate: sendUpdate2() }, guards: { shouldAutoConfirmReset: function(e142, r61) {
    return !(!e142.intent || "confirmPasswordReset" !== e142.intent);
  } }, services: { resetPassword: function(t87) {
    return __awaiter(this, void 0, void 0, function() {
      var e142;
      return __generator(this, function(r61) {
        return e142 = t87.username, [2, h12.handleForgotPassword(e142)];
      });
    });
  }, confirmResetPassword: function(t87) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, n45, s62, o101;
      return __generator(this, function(r61) {
        return e142 = t87.username, n45 = t87.formValues, s62 = n45.confirmation_code, o101 = n45.password, [2, h12.handleForgotPasswordSubmit({ username: e142, code: s62, password: o101 })];
      });
    });
  }, validateFields: function(t87, n45) {
    return __awaiter(this, void 0, void 0, function() {
      return __generator(this, function(e142) {
        return [2, n10(t87.formValues, t87.touched, t87.passwordSettings, [e12.validateConfirmPassword])];
      });
    });
  } } });
}

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/signUp.js
var import_get2 = __toESM(require_get());
var import_pickBy = __toESM(require_pickBy());
function y3(y9) {
  var C7 = y9.services;
  return createMachine({ id: "signUpActor", initial: "init", predictableActionArguments: true, states: { init: { always: [{ target: "confirmSignUp", cond: "shouldInitConfirmSignUp" }, { target: "signUp" }] }, signUp: { type: "parallel", exit: ["clearError", "clearFormValues", "clearTouched"], states: { validation: { initial: "pending", states: { pending: { invoke: { src: "validateSignUp", onDone: { target: "valid", actions: "clearValidationError" }, onError: { target: "invalid", actions: "setFieldErrors" } } }, valid: { entry: "sendUpdate" }, invalid: { entry: "sendUpdate" } }, on: { CHANGE: { actions: "handleInput", target: ".pending" }, BLUR: { actions: "handleBlur", target: ".pending" } } }, submission: { initial: "idle", states: { idle: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "validate" }, FEDERATED_SIGN_IN: "federatedSignIn" } }, federatedSignIn: { tags: ["pending"], entry: ["sendUpdate", "clearError"], invoke: { src: "federatedSignIn", onDone: "#signUpActor.resolved", onError: { actions: "setRemoteError" } } }, validate: { entry: "sendUpdate", invoke: { src: "validateSignUp", onDone: { target: "pending", actions: "clearValidationError" }, onError: { target: "idle", actions: "setFieldErrors" } } }, pending: { tags: ["pending"], entry: ["parsePhoneNumber", "sendUpdate", "clearError"], invoke: { src: "signUp", onDone: [{ cond: "shouldSkipConfirm", target: "skipConfirm", actions: ["setUser", "setCredentials"] }, { target: "resolved", actions: ["setUser", "setCredentials", "setCodeDeliveryDetails"] }], onError: { target: "idle", actions: "setRemoteError" } } }, skipConfirm: { always: { target: "#signUpActor.resolved", actions: "setAutoSignInIntent" } }, resolved: { type: "final", always: "#signUpActor.confirmSignUp" } } } } }, confirmSignUp: { initial: "edit", states: { edit: { entry: "sendUpdate", on: { SUBMIT: { actions: "handleSubmit", target: "submit" }, CHANGE: { actions: "handleInput" }, BLUR: { actions: "handleBlur" }, RESEND: "resend" } }, resend: { tags: ["pending"], entry: "sendUpdate", invoke: { src: "resendConfirmationCode", onDone: { target: "edit" }, onError: [{ target: "#signUpActor.resolved", actions: "setAutoSignInIntent", cond: "isUserAlreadyConfirmed" }, { target: "edit", actions: "setRemoteError" }] } }, submit: { tags: ["pending"], entry: ["sendUpdate", "clearError"], invoke: { src: "confirmSignUp", onDone: { target: "#signUpActor.resolved", actions: "setAutoSignInIntent" }, onError: { target: "edit", actions: "setRemoteError" } } } } }, resolved: { type: "final", data: function(e142, n45) {
    var t87 = e142.authAttributes, i67 = t87.username, a82 = t87.password;
    return { user: (0, import_get2.default)(n45, "data.user") || e142.user, authAttributes: { username: i67, password: a82 }, intent: e142.intent };
  } } } }, { guards: { isUserAlreadyConfirmed: function(e142, n45) {
    return "User is already confirmed." === n45.data.message;
  }, shouldInitConfirmSignUp: function(e142) {
    return e142.intent && "confirmSignUp" === e142.intent;
  }, shouldSkipConfirm: function(e142, n45) {
    return n45.data.userConfirmed;
  } }, actions: { clearError: i7, clearFormValues: c3, clearTouched: s3, clearValidationError: f3, handleInput: M, handleSubmit: N2, handleBlur: q2, parsePhoneNumber: w2, setCredentials: b3, setFieldErrors: p, setRemoteError: g2, setCodeDeliveryDetails: E2, setUser: y2, sendUpdate: sendUpdate2(), setAutoSignInIntent: assign3({ intent: function(e142) {
    return "confirmSignUp" === (null == e142 ? void 0 : e142.intent) ? "autoSignInSubmit" : "autoSignIn";
  } }) }, services: { confirmSignUp: function(t87, i67) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, i68, a82, s62, o101;
      return __generator(this, function(n45) {
        switch (n45.label) {
          case 0:
            return e142 = t87.user, i68 = t87.authAttributes, a82 = t87.formValues, s62 = a82.confirmation_code, o101 = (0, import_get2.default)(e142, "username") || (0, import_get2.default)(i68, "username"), [4, C7.handleConfirmSignUp({ username: o101, code: s62 })];
          case 1:
            return [2, n45.sent()];
        }
      });
    });
  }, resendConfirmationCode: function(i67, a82) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, a83, s62;
      return __generator(this, function(n45) {
        return e142 = i67.user, a83 = i67.authAttributes, s62 = (0, import_get2.default)(e142, "username") || (0, import_get2.default)(a83, "username"), [2, Auth.resendSignUp(s62)];
      });
    });
  }, federatedSignIn: function(r61, i67) {
    return __awaiter(this, void 0, void 0, function() {
      var e142;
      return __generator(this, function(n45) {
        switch (n45.label) {
          case 0:
            return e142 = i67.data.provider, [4, Auth.federatedSignIn({ provider: e142 })];
          case 1:
            return [2, n45.sent()];
        }
      });
    });
  }, signUp: function(t87, r61) {
    return __awaiter(this, void 0, void 0, function() {
      var e142, r62, a82, s62, o101, d10, c22;
      return __generator(this, function(n45) {
        switch (n45.label) {
          case 0:
            return e142 = t87.formValues, r62 = t87.loginMechanisms, a82 = r62[0], o101 = (s62 = e142)[void 0 === a82 ? "username" : a82], d10 = s62.password, c22 = (0, import_pickBy.default)(e142, function(e143, n46) {
              switch (n46) {
                case "address":
                case "birthdate":
                case "email":
                case "family_name":
                case "gender":
                case "given_name":
                case "locale":
                case "middle_name":
                case "name":
                case "nickname":
                case "phone_number":
                case "picture":
                case "preferred_username":
                case "profile":
                case "updated_at":
                case "website":
                case "zoneinfo":
                  return true;
                default:
                  return n46.startsWith("custom:");
              }
            }), [4, C7.handleSignUp({ username: o101, password: d10, attributes: c22 })];
          case 1:
            return [2, n45.sent()];
        }
      });
    });
  }, validateSignUp: function(t87, r61) {
    return __awaiter(this, void 0, void 0, function() {
      return __generator(this, function(e142) {
        return [2, n10(t87.formValues, t87.touched, t87.passwordSettings, [C7.validateFormPassword, C7.validateConfirmPassword, C7.validatePreferredUsername, C7.validateCustomSignUp])];
      });
    });
  } } });
}

// node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/index.js
function f4() {
  return createMachine({ id: "authenticator", initial: "idle", context: { user: void 0, config: {}, services: e12, actorRef: void 0, hasSetup: false }, predictableActionArguments: true, states: { idle: { invoke: { src: "getCurrentUser", onDone: { actions: "setUser", target: "authenticated" }, onError: { target: "setup" } } }, setup: { initial: "waitConfig", states: { waitConfig: { on: { INIT: { actions: ["configure", "setHasSetup"], target: "applyConfig" } } }, applyConfig: { invoke: { src: "getAmplifyConfig", onDone: { actions: "applyAmplifyConfig", target: "goToInitialState" } } }, goToInitialState: { always: [{ target: "#authenticator.signUp", cond: "isInitialStateSignUp" }, { target: "#authenticator.resetPassword", cond: "isInitialStateResetPassword" }, { target: "#authenticator.signIn" }] } } }, signIn: { initial: "spawnActor", states: { spawnActor: { always: { actions: "spawnSignInActor", target: "runActor" } }, runActor: { entry: "clearActorDoneData", exit: "stopSignInActor" } }, on: { SIGN_UP: "signUp", RESET_PASSWORD: "resetPassword", "done.invoke.signInActor": [{ target: "signUp", actions: "setActorDoneData", cond: "shouldRedirectToSignUp" }, { target: "resetPassword", actions: "setActorDoneData", cond: "shouldRedirectToResetPassword" }, { target: "authenticated", actions: "setActorDoneData" }] } }, signUp: { initial: "spawnActor", states: { spawnActor: { always: { actions: "spawnSignUpActor", target: "runActor" } }, runActor: { entry: "clearActorDoneData", exit: "stopSignUpActor" }, autoSignIn: { invoke: { src: "getCurrentUser", onDone: "#authenticator.authenticated", onError: "#authenticator.setup.goToInitialState" } } }, on: { SIGN_IN: "signIn", "done.invoke.signUpActor": { target: "#authenticator.signIn", actions: "setActorDoneData", cond: "shouldAutoSignIn" } } }, resetPassword: { initial: "spawnActor", states: { spawnActor: { always: { actions: "spawnResetPasswordActor", target: "runActor" } }, runActor: { entry: "clearActorDoneData", exit: "stopResetPasswordActor" } }, on: { SIGN_IN: "signIn", "done.invoke.resetPasswordActor": { target: "signIn", actions: "setActorDoneData" } } }, signOut: { initial: "spawnActor", states: { spawnActor: { always: { actions: "spawnSignOutActor", target: "runActor" } }, runActor: { entry: "clearActorDoneData", exit: ["stopSignOutActor", "clearUser"] } }, on: { "done.invoke.signOutActor": [{ target: "setup", cond: "shouldSetup" }, { target: "setup.goToInitialState" }] } }, authenticated: { initial: "idle", states: { idle: { on: { TOKEN_REFRESH: "refreshUser" } }, refreshUser: { invoke: { src: "getCurrentUser", onDone: { actions: "setUser", target: "idle" }, onError: { target: "#authenticator.signOut" } } } }, on: { SIGN_OUT: "signOut" } } }, on: { CHANGE: { actions: "forwardToActor" }, BLUR: { actions: "forwardToActor" }, SUBMIT: { actions: "forwardToActor" }, FEDERATED_SIGN_IN: { actions: "forwardToActor" }, AUTO_SIGN_IN: { actions: "forwardToActor" }, RESEND: { actions: "forwardToActor" }, SIGN_IN: { actions: "forwardToActor" }, SKIP: { actions: "forwardToActor" } } }, { actions: { forwardToActor: (0, import_actions10.choose)([{ cond: "hasActor", actions: forwardTo2(function(t87) {
    return t87.actorRef;
  }) }]), setUser: assign3({ user: function(t87, o101) {
    return o101.data;
  } }), setActorDoneData: assign3({ actorDoneData: function(o101, n45) {
    var r61, i67;
    return { authAttributes: __assign4({}, null === (r61 = n45.data) || void 0 === r61 ? void 0 : r61.authAttributes), intent: null === (i67 = n45.data) || void 0 === i67 ? void 0 : i67.intent };
  }, user: function(t87, o101) {
    var n45;
    return null === (n45 = o101.data) || void 0 === n45 ? void 0 : n45.user;
  } }), clearUser: assign3({ user: void 0 }), clearActorDoneData: assign3({ actorDoneData: void 0 }), applyAmplifyConfig: assign3({ config: function(t87, n45) {
    var r61, i67, e142, a82, s62, c22, u20, d10, l29, g14 = null !== (i67 = null === (r61 = n45.data.aws_cognito_username_attributes) || void 0 === r61 ? void 0 : r61.map(function(t88) {
      return t88.toLowerCase();
    })) && void 0 !== i67 ? i67 : [], v5 = null !== (a82 = null === (e142 = n45.data.aws_cognito_verification_mechanisms) || void 0 === e142 ? void 0 : e142.map(function(t88) {
      return t88.toLowerCase();
    })) && void 0 !== a82 ? a82 : [], f21 = null !== (c22 = null === (s62 = n45.data.aws_cognito_signup_attributes) || void 0 === s62 ? void 0 : s62.map(function(t88) {
      return t88.toLowerCase();
    })) && void 0 !== c22 ? c22 : [], A3 = null !== (d10 = null === (u20 = n45.data.aws_cognito_social_providers) || void 0 === u20 ? void 0 : u20.map(function(t88) {
      return t88.toLowerCase();
    })) && void 0 !== d10 ? d10 : [], w3 = n45.data.aws_cognito_password_protection_settings || {};
    0 === g14.length && g14.push("username");
    var S = t87.config, m29 = S.loginMechanisms, h12 = S.signUpAttributes, D3 = S.socialProviders, I2 = S.initialState;
    return { loginMechanisms: null != m29 ? m29 : g14, formFields: null !== (l29 = p2(S.formFields)) && void 0 !== l29 ? l29 : {}, passwordSettings: w3, signUpAttributes: null != h12 ? h12 : Array.from(new Set(__spreadArray3(__spreadArray3([], v5, true), f21, true))), socialProviders: null != D3 ? D3 : A3.sort(), initialState: I2 };
  } }), spawnSignInActor: assign3({ actorRef: function(t87, o101) {
    var n45, r61, i67, e142, s62, c22, d10 = t87.services, l29 = M2({ services: d10 }).withContext({ authAttributes: null !== (r61 = null === (n45 = t87.actorDoneData) || void 0 === n45 ? void 0 : n45.authAttributes) && void 0 !== r61 ? r61 : {}, user: t87.user, intent: null === (i67 = t87.actorDoneData) || void 0 === i67 ? void 0 : i67.intent, country_code: "+1", formValues: {}, touched: {}, validationError: {}, loginMechanisms: null === (e142 = t87.config) || void 0 === e142 ? void 0 : e142.loginMechanisms, socialProviders: null === (s62 = t87.config) || void 0 === s62 ? void 0 : s62.socialProviders, formFields: null === (c22 = t87.config) || void 0 === c22 ? void 0 : c22.formFields });
    return spawn(l29, { name: "signInActor" });
  } }), spawnSignUpActor: assign3({ actorRef: function(t87, o101) {
    var n45, r61, i67, e142, s62, c22, u20, d10 = t87.services, l29 = y3({ services: d10 }).withContext({ authAttributes: null !== (r61 = null === (n45 = t87.actorDoneData) || void 0 === n45 ? void 0 : n45.authAttributes) && void 0 !== r61 ? r61 : {}, country_code: "+1", intent: null === (i67 = t87.actorDoneData) || void 0 === i67 ? void 0 : i67.intent, formValues: {}, touched: {}, validationError: {}, loginMechanisms: null === (e142 = t87.config) || void 0 === e142 ? void 0 : e142.loginMechanisms, socialProviders: null === (s62 = t87.config) || void 0 === s62 ? void 0 : s62.socialProviders, formFields: null === (c22 = t87.config) || void 0 === c22 ? void 0 : c22.formFields, passwordSettings: null === (u20 = t87.config) || void 0 === u20 ? void 0 : u20.passwordSettings });
    return spawn(l29, { name: "signUpActor" });
  } }), spawnResetPasswordActor: assign3({ actorRef: function(t87, o101) {
    var n45, r61, i67, e142, s62 = t87.services, c22 = E3({ services: s62 }).withContext({ formValues: {}, touched: {}, intent: null === (n45 = t87.actorDoneData) || void 0 === n45 ? void 0 : n45.intent, username: null === (i67 = null === (r61 = t87.actorDoneData) || void 0 === r61 ? void 0 : r61.authAttributes) || void 0 === i67 ? void 0 : i67.username, formFields: null === (e142 = t87.config) || void 0 === e142 ? void 0 : e142.formFields, validationError: {} });
    return spawn(c22, { name: "resetPasswordActor" });
  } }), spawnSignOutActor: assign3({ actorRef: function(t87) {
    var o101 = n11.withContext({ user: t87.user });
    return spawn(o101, { name: "signOutActor" });
  } }), stopSignInActor: t4("signInActor"), stopSignUpActor: t4("signUpActor"), stopResetPasswordActor: t4("resetPasswordActor"), stopSignOutActor: t4("signOutActor"), configure: assign3(function(o101, r61) {
    var i67 = r61.data, e142 = i67.services, a82 = __rest4(i67, ["services"]);
    return { services: __assign4(__assign4({}, e12), e142), config: a82 };
  }), setHasSetup: assign3({ hasSetup: true }) }, guards: { isInitialStateSignUp: function(t87) {
    return "signUp" === t87.config.initialState;
  }, isInitialStateResetPassword: function(t87) {
    return "resetPassword" === t87.config.initialState;
  }, shouldRedirectToSignUp: function(t87, o101) {
    var n45;
    return "confirmSignUp" === (null === (n45 = o101.data) || void 0 === n45 ? void 0 : n45.intent);
  }, shouldRedirectToResetPassword: function(t87, o101) {
    var n45;
    return "confirmPasswordReset" === (null === (n45 = o101.data) || void 0 === n45 ? void 0 : n45.intent);
  }, shouldAutoSignIn: function(t87, o101) {
    var n45, r61;
    return "autoSignIn" === (null === (n45 = o101.data) || void 0 === n45 ? void 0 : n45.intent) || "autoSignInSubmit" === (null === (r61 = o101.data) || void 0 === r61 ? void 0 : r61.intent);
  }, shouldSetup: function(t87) {
    return false === t87.hasSetup;
  }, hasActor: function(t87) {
    return !!t87.actorRef;
  } }, services: { getCurrentUser: function(t87, o101) {
    return t87.services.getCurrentUser();
  }, getAmplifyConfig: function(t87, o101) {
    return t87.services.getAmplifyConfig();
  } } });
}
function p2(t87) {
  return t87 && Object.keys(t87).forEach(function(o101) {
    Object.keys(t87[o101]).forEach(function(n45) {
      var r61 = t87[o101][n45];
      r61.required = r61.isRequired;
    });
  }), t87;
}

// node_modules/@aws-amplify/ui/dist/esm/theme/createTheme.js
var import_deepExtend = __toESM(require_deepExtend());
var import_flattenProperties = __toESM(require_flattenProperties());

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/borderWidths.js
var a4 = { small: { value: "1px" }, medium: { value: "2px" }, large: { value: "3px" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/colors.js
var l3 = { red: { 10: { value: "hsl(0, 75%, 95%)" }, 20: { value: "hsl(0, 75%, 85%)" }, 40: { value: "hsl(0, 75%, 75%)" }, 60: { value: "hsl(0, 50%, 50%)" }, 80: { value: "hsl(0, 95%, 30%)" }, 90: { value: "hsl(0, 100%, 20%)" }, 100: { value: "hsl(0, 100%, 15%)" } }, orange: { 10: { value: "hsl(30, 75%, 95%)" }, 20: { value: "hsl(30, 75%, 85%)" }, 40: { value: "hsl(30, 75%, 75%)" }, 60: { value: "hsl(30, 50%, 50%)" }, 80: { value: "hsl(30, 95%, 30%)" }, 90: { value: "hsl(30, 100%, 20%)" }, 100: { value: "hsl(30, 100%, 15%)" } }, yellow: { 10: { value: "hsl(60, 75%, 95%)" }, 20: { value: "hsl(60, 75%, 85%)" }, 40: { value: "hsl(60, 75%, 75%)" }, 60: { value: "hsl(60, 50%, 50%)" }, 80: { value: "hsl(60, 95%, 30%)" }, 90: { value: "hsl(60, 100%, 20%)" }, 100: { value: "hsl(60, 100%, 15%)" } }, green: { 10: { value: "hsl(130, 60%, 95%)" }, 20: { value: "hsl(130, 60%, 90%)" }, 40: { value: "hsl(130, 44%, 63%)" }, 60: { value: "hsl(130, 43%, 46%)" }, 80: { value: "hsl(130, 33%, 37%)" }, 90: { value: "hsl(130, 27%, 29%)" }, 100: { value: "hsl(130, 22%, 23%)" } }, teal: { 10: { value: "hsl(190, 75%, 95%)" }, 20: { value: "hsl(190, 75%, 85%)" }, 40: { value: "hsl(190, 70%, 70%)" }, 60: { value: "hsl(190, 50%, 50%)" }, 80: { value: "hsl(190, 95%, 30%)" }, 90: { value: "hsl(190, 100%, 20%)" }, 100: { value: "hsl(190, 100%, 15%)" } }, blue: { 10: { value: "hsl(220, 95%, 95%)" }, 20: { value: "hsl(220, 85%, 85%)" }, 40: { value: "hsl(220, 70%, 70%)" }, 60: { value: "hsl(220, 50%, 50%)" }, 80: { value: "hsl(220, 95%, 30%)" }, 90: { value: "hsl(220, 100%, 20%)" }, 100: { value: "hsl(220, 100%, 15%)" } }, purple: { 10: { value: "hsl(300, 95%, 95%)" }, 20: { value: "hsl(300, 85%, 85%)" }, 40: { value: "hsl(300, 70%, 70%)" }, 60: { value: "hsl(300, 50%, 50%)" }, 80: { value: "hsl(300, 95%, 30%)" }, 90: { value: "hsl(300, 100%, 20%)" }, 100: { value: "hsl(300, 100%, 15%)" } }, pink: { 10: { value: "hsl(340, 95%, 95%)" }, 20: { value: "hsl(340, 90%, 85%)" }, 40: { value: "hsl(340, 70%, 70%)" }, 60: { value: "hsl(340, 50%, 50%)" }, 80: { value: "hsl(340, 95%, 30%)" }, 90: { value: "hsl(340, 100%, 20%)" }, 100: { value: "hsl(340, 100%, 15%)" } }, neutral: { 10: { value: "hsl(210, 5%, 98%)" }, 20: { value: "hsl(210, 5%, 94%)" }, 40: { value: "hsl(210, 5%, 87%)" }, 60: { value: "hsl(210, 8%, 55%)" }, 80: { value: "hsl(210, 10%, 40%)" }, 90: { value: "hsl(210, 25%, 25%)" }, 100: { value: "hsl(210, 50%, 10%)" } }, brand: { primary: { 10: { value: "{colors.teal.10.value}" }, 20: { value: "{colors.teal.20.value}" }, 40: { value: "{colors.teal.40.value}" }, 60: { value: "{colors.teal.60.value}" }, 80: { value: "{colors.teal.80.value}" }, 90: { value: "{colors.teal.90.value}" }, 100: { value: "{colors.teal.100.value}" } }, secondary: { 10: { value: "{colors.purple.10.value}" }, 20: { value: "{colors.purple.20.value}" }, 40: { value: "{colors.purple.40.value}" }, 60: { value: "{colors.purple.60.value}" }, 80: { value: "{colors.purple.80.value}" }, 90: { value: "{colors.purple.90.value}" }, 100: { value: "{colors.purple.100.value}" } } }, font: { primary: { value: "{colors.neutral.100.value}" }, secondary: { value: "{colors.neutral.90.value}" }, tertiary: { value: "{colors.neutral.80.value}" }, disabled: { value: "{colors.neutral.60.value}" }, inverse: { value: "{colors.white.value}" }, interactive: { value: "{colors.brand.primary.80.value}" }, hover: { value: "{colors.brand.primary.90.value}" }, focus: { value: "{colors.brand.primary.100.value}" }, active: { value: "{colors.brand.primary.100.value}" }, info: { value: "{colors.blue.90.value}" }, warning: { value: "{colors.orange.90.value}" }, error: { value: "{colors.red.90.value}" }, success: { value: "{colors.green.90.value}" } }, background: { primary: { value: "{colors.white.value}" }, secondary: { value: "{colors.neutral.10.value}" }, tertiary: { value: "{colors.neutral.20.value}" }, quaternary: { value: "{colors.neutral.60.value}" }, disabled: { value: "{colors.background.tertiary.value}" }, info: { value: "{colors.blue.20.value}" }, warning: { value: "{colors.orange.20.value}" }, error: { value: "{colors.red.20.value}" }, success: { value: "{colors.green.20.value}" } }, border: { primary: { value: "{colors.neutral.60.value}" }, secondary: { value: "{colors.neutral.40.value}" }, tertiary: { value: "{colors.neutral.20.value}" }, disabled: { value: "{colors.border.tertiary.value}" }, pressed: { value: "{colors.brand.primary.100.value}" }, focus: { value: "{colors.brand.primary.100.value}" }, error: { value: "{colors.red.80.value}" } }, shadow: { primary: { value: "hsla(210, 50%, 10%, 0.25)" }, secondary: { value: "hsla(210, 50%, 10%, 0.15)" }, tertiary: { value: "hsla(210, 50%, 10%, 0.05)" } }, overlay: { 10: { value: "hsla(0, 0%, 0%, 0.1)" }, 20: { value: "hsla(0, 0%, 0%, 0.2)" }, 30: { value: "hsla(0, 0%, 0%, 0.3)" }, 40: { value: "hsla(0, 0%, 0%, 0.4)" }, 50: { value: "hsla(0, 0%, 0%, 0.5)" }, 60: { value: "hsla(0, 0%, 0%, 0.6)" }, 70: { value: "hsla(0, 0%, 0%, 0.7)" }, 80: { value: "hsla(0, 0%, 0%, 0.8)" }, 90: { value: "hsla(0, 0%, 0%, 0.9)" } }, black: { value: "hsl(0, 0%, 0%)" }, white: { value: "hsl(0, 0%, 100%)" }, transparent: { value: "transparent" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/alert.js
var o10 = { alignItems: { value: "center" }, justifyContent: { value: "space-between" }, color: { value: "{colors.font.primary.value}" }, backgroundColor: { value: "{colors.background.tertiary.value}" }, paddingBlock: { value: "{space.small.value}" }, paddingInline: { value: "{space.medium.value}" }, icon: { size: { value: "{fontSizes.xl.value}" } }, heading: { fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.bold.value}" } }, info: { color: { value: "{colors.font.info.value}" }, backgroundColor: { value: "{colors.background.info.value}" } }, error: { color: { value: "{colors.font.error.value}" }, backgroundColor: { value: "{colors.background.error.value}" } }, warning: { color: { value: "{colors.font.warning.value}" }, backgroundColor: { value: "{colors.background.warning.value}" } }, success: { color: { value: "{colors.font.success.value}" }, backgroundColor: { value: "{colors.background.success.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/autocomplete.js
var a5 = { menu: { width: { value: "100%" }, marginBlockStart: { value: "{space.xxxs}" }, backgroundColor: { value: "{colors.background.primary}" }, borderColor: { value: "{colors.border.primary}" }, borderWidth: { value: "{borderWidths.small}" }, borderStyle: { value: "solid" }, borderRadius: { value: "{radii.small}" }, options: { display: { value: "flex" }, flexDirection: { value: "column" }, maxHeight: { value: "300px" } }, option: { backgroundColor: { value: "{colors.background.primary}" }, color: { value: "currentcolor" }, cursor: { value: "pointer" }, transitionDuration: { value: "{time.short}" }, transitionProperty: { value: "background-color, color" }, transitionTimingFunction: { value: "ease" }, _active: { backgroundColor: { value: "{colors.brand.primary.80}" }, color: { value: "{colors.white}" } } }, _empty: { display: { value: "flex" } }, _loading: { alignItems: { value: "center" }, display: { value: "flex" }, gap: { value: "{space.xxxs}" } }, spaceShared: { paddingBlock: { value: "{space.xs}" }, paddingInline: { value: "{space.small}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/authenticator.js
var e13 = { maxWidth: { value: "60rem" }, modal: { width: { value: "{space.relative.full}" }, height: { value: "{space.relative.full}" }, backgroundColor: { value: "{colors.overlay.50.value}" }, top: { value: "{space.zero}" }, left: { value: "{space.zero}" } }, container: { widthMax: { value: "30rem" } }, router: { borderWidth: { value: "{borderWidths.small.value}" }, borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" }, backgroundColor: { value: "{colors.background.primary.value}" }, boxShadow: { value: "{shadows.medium.value}" } }, footer: { paddingBottom: { value: "{space.medium.value}" } }, form: { padding: { value: "{space.xl.value}" } }, state: { inactive: { backgroundColor: { value: "{colors.background.secondary.value}" } } }, orContainer: { color: { value: "{colors.neutral.80.value}" }, orLine: { backgroundColor: { value: "{colors.background.primary.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/badge.js
var a6 = { color: { value: "{colors.font.primary.value}" }, lineHeight: { value: 1 }, fontWeight: { value: "{fontWeights.semibold.value}" }, fontSize: { value: "{fontSizes.small.value}" }, textAlign: { value: "center" }, paddingVertical: { value: "{space.xs.value}" }, paddingHorizontal: { value: "{space.small.value}" }, backgroundColor: { value: "{colors.background.tertiary.value}" }, borderRadius: { value: "{radii.xl.value}" }, info: { color: { value: "{colors.font.info.value}" }, backgroundColor: { value: "{colors.background.info.value}" } }, warning: { color: { value: "{colors.font.warning.value}" }, backgroundColor: { value: "{colors.background.warning.value}" } }, success: { color: { value: "{colors.font.success.value}" }, backgroundColor: { value: "{colors.background.success.value}" } }, error: { color: { value: "{colors.font.error.value}" }, backgroundColor: { value: "{colors.background.error.value}" } }, small: { fontSize: { value: "{fontSizes.xs.value}" }, paddingVertical: { value: "{space.xxs.value}" }, paddingHorizontal: { value: "{space.xs.value}" } }, large: { fontSize: { value: "{fontSizes.medium.value}" }, paddingVertical: { value: "{space.small.value}" }, paddingHorizontal: { value: "{space.medium.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/button.js
var o11 = { fontWeight: { value: "{fontWeights.bold.value}" }, transitionDuration: { value: "{components.fieldcontrol.transitionDuration.value}" }, fontSize: { value: "{components.fieldcontrol.fontSize.value}" }, lineHeight: { value: "{components.fieldcontrol.lineHeight.value}" }, paddingBlockStart: { value: "{components.fieldcontrol.paddingBlockStart.value}" }, paddingBlockEnd: { value: "{components.fieldcontrol.paddingBlockEnd.value}" }, paddingInlineStart: { value: "{components.fieldcontrol.paddingInlineStart.value}" }, paddingInlineEnd: { value: "{components.fieldcontrol.paddingInlineEnd.value}" }, borderColor: { value: "{components.fieldcontrol.borderColor.value}" }, borderWidth: { value: "{components.fieldcontrol.borderWidth.value}" }, borderStyle: { value: "{components.fieldcontrol.borderStyle.value}" }, borderRadius: { value: "{components.fieldcontrol.borderRadius.value}" }, color: { value: "{colors.font.primary.value}" }, _hover: { color: { value: "{colors.font.focus.value}" }, backgroundColor: { value: "{colors.brand.primary.10.value}" }, borderColor: { value: "{colors.brand.primary.60.value}" } }, _focus: { color: { value: "{colors.font.focus.value}" }, backgroundColor: { value: "{colors.brand.primary.10.value}" }, borderColor: { value: "{colors.border.focus.value}" }, boxShadow: { value: "{components.fieldcontrol._focus.boxShadow.value}" } }, _active: { color: { value: "{colors.font.active.value}" }, backgroundColor: { value: "{colors.brand.primary.20.value}" }, borderColor: { value: "{colors.brand.primary.100.value}" } }, _loading: { color: { value: "{colors.font.disabled.value}" }, backgroundColor: { value: "transparent" }, borderColor: { value: "{colors.border.tertiary.value}" } }, _disabled: { color: { value: "{colors.font.disabled.value}" }, backgroundColor: { value: "transparent" }, borderColor: { value: "{colors.border.tertiary.value}" } }, primary: { borderColor: { value: "transparent" }, borderWidth: { value: "{borderWidths.small.value}" }, borderStyle: { value: "solid" }, backgroundColor: { value: "{colors.brand.primary.80.value}" }, color: { value: "{colors.font.inverse.value}" }, _disabled: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.background.disabled.value}" }, color: { value: "{colors.font.disabled.value}" } }, _loading: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.background.disabled.value}" }, color: { value: "{colors.font.disabled.value}" } }, _hover: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.90.value}" }, color: { value: "{colors.font.inverse.value}" } }, _focus: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.90.value}" }, color: { value: "{colors.font.inverse.value}" }, boxShadow: { value: "{components.fieldcontrol._focus.boxShadow.value}" } }, _active: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.100.value}" }, color: { value: "{colors.font.inverse.value}" } } }, menu: { borderWidth: { value: "{space.zero.value}" }, backgroundColor: { value: "transparent" }, justifyContent: { value: "start" }, _hover: { color: { value: "{colors.font.inverse.value}" }, backgroundColor: { value: "{colors.brand.primary.80.value}" } }, _focus: { color: { value: "{colors.font.inverse.value}" }, backgroundColor: { value: "{colors.brand.primary.80.value}" } }, _active: { color: { value: "{colors.font.inverse.value}" }, backgroundColor: { value: "{colors.brand.primary.90.value}" } }, _disabled: { color: { value: "{colors.font.disabled.value}" } } }, link: { backgroundColor: { value: "transparent" }, borderColor: { value: "transparent" }, borderWidth: { value: "{space.zero.value}" }, color: { value: "{colors.font.interactive.value}" }, _hover: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.10.value}" }, color: { value: "{colors.font.hover.value}" } }, _focus: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.10.value}" }, color: { value: "{colors.font.focus.value}" }, boxShadow: { value: "{components.fieldcontrol._focus.boxShadow.value}" } }, _active: { borderColor: { value: "transparent" }, backgroundColor: { value: "{colors.brand.primary.20.value}" }, color: { value: "{colors.font.active.value}" } }, _disabled: { borderColor: { value: "transparent" }, backgroundColor: { value: "transparent" }, color: { value: "{colors.font.disabled.value}" } }, _loading: { borderColor: { value: "transparent" }, backgroundColor: { value: "transparent" }, color: { value: "{colors.font.disabled.value}" } } }, small: { fontSize: { value: "{components.fieldcontrol.small.fontSize.value}" }, paddingBlockStart: { value: "{components.fieldcontrol.small.paddingBlockStart.value}" }, paddingBlockEnd: { value: "{components.fieldcontrol.small.paddingBlockEnd.value}" }, paddingInlineStart: { value: "{components.fieldcontrol.small.paddingInlineStart.value}" }, paddingInlineEnd: { value: "{components.fieldcontrol.small.paddingInlineEnd.value}" } }, large: { fontSize: { value: "{components.fieldcontrol.large.fontSize.value}" }, paddingBlockStart: { value: "{components.fieldcontrol.large.paddingBlockStart.value}" }, paddingBlockEnd: { value: "{components.fieldcontrol.large.paddingBlockEnd.value}" }, paddingInlineStart: { value: "{components.fieldcontrol.large.paddingInlineStart.value}" }, paddingInlineEnd: { value: "{components.fieldcontrol.large.paddingInlineEnd.value}" } }, loaderWrapper: { alignItems: { value: "center" }, gap: { value: "{space.xs.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/card.js
var a7 = { backgroundColor: { value: "{colors.background.primary.value}" }, borderRadius: { value: "{radii.xs.value}" }, borderWidth: { value: "0" }, borderStyle: { value: "solid" }, borderColor: { value: "transparent" }, boxShadow: { value: "none" }, padding: { value: "{space.medium.value}" }, outlined: { backgroundColor: { value: "{components.card.backgroundColor.value}" }, borderRadius: { value: "{radii.xs.value}" }, borderWidth: { value: "{borderWidths.small.value}" }, borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" }, boxShadow: { value: "{components.card.boxShadow.value}" } }, elevated: { backgroundColor: { value: "{components.card.backgroundColor.value}" }, borderRadius: { value: "{radii.xs.value}" }, borderWidth: { value: "0" }, borderStyle: { value: "solid" }, borderColor: { value: "transparent" }, boxShadow: { value: "{shadows.medium.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/checkbox.js
var e14 = { cursor: { value: "pointer" }, alignItems: { value: "center" }, _disabled: { cursor: { value: "not-allowed" } }, button: { position: { value: "relative" }, alignItems: { value: "center" }, justifyContent: { value: "center" }, color: { value: "{colors.font.inverse.value}" }, before: { width: { value: "100%" }, height: { value: "100%" }, borderWidth: { value: "{borderWidths.medium.value}" }, borderRadius: { value: "20%" }, borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" } }, _focus: { outlineColor: { value: "{colors.transparent.value}" }, outlineStyle: { value: "solid" }, outlineWidth: { value: "{outlineWidths.medium.value}" }, outlineOffset: { value: "{outlineOffsets.medium.value}" }, borderColor: { value: "{colors.transparent.value}" }, boxShadow: { value: { offsetX: "0px", offsetY: "0px", blurRadius: "0px", spreadRadius: "2px", color: "{colors.border.focus.value}" } } }, _disabled: { borderColor: { value: "{colors.border.disabled.value}" } }, _error: { borderColor: { value: "{colors.border.error.value}" }, _focus: { borderColor: { value: "{colors.transparent.value}" }, boxShadow: { value: { offsetX: "0px", offsetY: "0px", blurRadius: "0px", spreadRadius: "2px", color: "{colors.border.error.value}" } } } } }, icon: { backgroundColor: { value: "{colors.brand.primary.80.value}" }, borderRadius: { value: "20%" }, opacity: { value: "{opacities.0.value}" }, transform: { value: "scale(0)" }, transitionProperty: { value: "all" }, transitionDuration: { value: "{time.short.value}" }, transitionTimingFunction: { value: "ease-in-out" }, _checked: { opacity: { value: "{opacities.100.value}" }, transform: { value: "scale(1)" }, _disabled: { backgroundColor: { value: "{colors.background.disabled.value}" } } }, _indeterminate: { opacity: { value: "{opacities.100.value}" }, transform: { value: "scale(1)" }, _disabled: { backgroundColor: { value: "{colors.background.disabled.value}" } } } }, label: { _disabled: { color: { value: "{colors.font.disabled.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/checkboxField.js
var e15 = { alignItems: { value: "flex-start" }, alignContent: { value: "center" }, flexDirection: { value: "column" }, justifyContent: { value: "center" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/collection.js
var o12 = { pagination: { current: { color: { value: "{components.pagination.current.color}" }, backgroundColor: { value: "{components.pagination.current.backgroundColor}" } }, button: { color: { value: "{components.pagination.button.color}" }, _hover: { backgroundColor: { value: "{components.pagination.button.hover.backgroundColor}" }, color: { value: "{components.pagination.button.hover.color}" } }, _disabled: { color: { value: "{components.pagination.button.disabled.color}" } } } }, search: { input: { color: { value: "{components.searchfield.color}" } }, button: { color: { value: "{components.searchfield.button.color}" }, _active: { backgroundColor: { value: "{components.searchfield.button._active.backgroundColor}" }, borderColor: { value: "{components.searchfield.button._active.borderColor}" }, color: { value: "{components.searchfield.button._active.color}" } }, _disabled: { backgroundColor: { value: "{components.searchfield.button._disabled.backgroundColor}" }, borderColor: { value: "{components.searchfield.button._disabled.borderColor}" }, color: { value: "{components.searchfield.button._disabled.color}" } }, _focus: { backgroundColor: { value: "{components.searchfield.button._focus.backgroundColor}" }, borderColor: { value: "{components.searchfield.button._focus.borderColor}" }, color: { value: "{components.searchfield.button._focus.color}" } }, _hover: { backgroundColor: { value: "{components.searchfield.button._hover.backgroundColor}" }, borderColor: { value: "{components.searchfield.button._hover.borderColor}" }, color: { value: "{components.searchfield.button._hover.color}" } } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/copy.js
var e16 = { fontSize: { value: "{fontSizes.xs}" }, gap: { value: "{space.relative.medium}" }, svg: { path: { fill: { value: "{colors.font.primary}" } } }, toolTip: { bottom: { value: "{space.large}" }, color: { value: "{colors.teal.100}" }, fontSize: { value: "{fontSizes.xxs}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/dialCodeSelect.js
var e17 = { height: { value: "{space.relative.full.value}" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/divider.js
var e18 = { borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" }, borderWidth: { value: "{borderWidths.medium.value}" }, label: { color: { value: "{colors.font.tertiary.value}" }, paddingInline: { value: "{space.medium.value}" }, fontSize: { value: "{fontSizes.small.value}" }, backgroundColor: { value: "{colors.background.primary.value}" } }, small: { borderWidth: { value: "{borderWidths.small.value}" } }, large: { borderWidth: { value: "{borderWidths.large.value}" } }, opacity: { value: "{opacities.60.value}" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/expander.js
var a8 = { display: { value: "block" }, backgroundColor: { value: "{colors.background.primary.value}" }, borderRadius: { value: "{radii.medium.value}" }, boxShadow: { value: "{shadows.large.value}" }, width: { value: "100%" }, item: { marginTop: { value: "1px" }, boxShadow: { value: "{shadows.small.value}" }, borderBottomLeftRadius: { value: "{radii.medium.value}" }, borderBottomRightRadius: { value: "{radii.medium.value}" }, borderTopLeftRadius: { value: "{radii.medium.value}" }, borderTopRightRadius: { value: "{radii.medium.value}" }, borderStartStartRadius: { value: "{radii.medium.value}" }, borderStartEndRadius: { value: "{radii.medium.value}" }, borderEndStartRadius: { value: "{radii.medium.value}" }, borderEndEndRadius: { value: "{radii.medium.value}" }, _focus: { boxShadow: { value: { offsetX: "0", offsetY: "0", blurRadius: "0", spreadRadius: "2px", color: "{colors.border.focus.value}" } } } }, header: { boxShadow: { value: { offsetX: "0", offsetY: "1px", blurRadius: "0", color: "{colors.overlay.20.value}" } } }, trigger: { minHeight: { value: "3rem" }, paddingInlineStart: { value: "{space.large.value}" }, paddingInlineEnd: { value: "{space.large.value}" }, alignItems: { value: "center" }, justifyContent: { value: "space-between" }, _hover: { backgroundColor: { value: "{colors.overlay.10.value}" } } }, content: { paddingInlineStart: { value: "{space.large.value}" }, paddingInlineEnd: { value: "{space.large.value}" }, text: { color: { value: "{colors.font.secondary.value}" }, paddingBlockStart: { value: "{space.medium.value}" }, paddingBlockEnd: { value: "{space.medium.value}" } }, _open: { animationDuration: { value: "{time.medium.value}" }, animationTimingFunction: { value: "cubic-bezier(0.87, 0, 0.13, 1)" } }, _closed: { animationDuration: { value: "{time.medium.value}" }, animationTimingFunction: { value: "cubic-bezier(0.87, 0, 0.13, 1)" } } }, icon: { transitionDuration: { value: "{time.medium.value}" }, transitionTimingFunction: { value: "cubic-bezier(0.87, 0, 0.13, 1)" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/field.js
var e19 = { gap: { value: "{space.xs.value}" }, fontSize: { value: "{fontSizes.medium.value}" }, small: { gap: { value: "{space.xxxs.value}" }, fontSize: { value: "{fontSizes.small.value}" } }, large: { gap: { value: "{space.small.value}" }, fontSize: { value: "{fontSizes.large.value}" } }, label: { color: { value: "{colors.font.secondary.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/fieldControl.js
var e20 = { borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" }, borderWidth: { value: "{borderWidths.small.value}" }, borderRadius: { value: "{radii.small.value}" }, color: { value: "{colors.font.primary.value}" }, paddingBlockStart: { value: "{space.xs.value}" }, paddingBlockEnd: { value: "{space.xs.value}" }, paddingInlineStart: { value: "{space.medium.value}" }, paddingInlineEnd: { value: "{space.medium.value}" }, fontSize: { value: "{components.field.fontSize.value}" }, lineHeight: { value: "{lineHeights.medium.value}" }, transitionDuration: { value: "{time.medium.value}" }, outlineColor: { value: "{colors.transparent.value}" }, outlineStyle: { value: "solid" }, outlineWidth: { value: "{outlineWidths.medium.value}" }, outlineOffset: { value: "{outlineOffsets.medium.value}" }, small: { fontSize: { value: "{components.field.small.fontSize.value}" }, paddingBlockStart: { value: "{space.xxs.value}" }, paddingBlockEnd: { value: "{space.xxs.value}" }, paddingInlineStart: { value: "{space.small.value}" }, paddingInlineEnd: { value: "{space.small.value}" } }, large: { fontSize: { value: "{components.field.large.fontSize.value}" }, paddingBlockStart: { value: "{space.xs.value}" }, paddingBlockEnd: { value: "{space.xs.value}" }, paddingInlineStart: { value: "{space.medium.value}" }, paddingInlineEnd: { value: "{space.medium.value}" } }, quiet: { borderStyle: { value: "none" }, borderInlineStart: { value: "none" }, borderInlineEnd: { value: "none" }, borderBlockStart: { value: "none" }, borderRadius: { value: "0" }, _focus: { borderBlockEndColor: { value: "{colors.border.focus.value}" }, boxShadow: { value: { offsetX: "0px", offsetY: "1px", color: "{colors.border.focus.value}", blurRadius: "0px" } } }, _error: { borderBlockEndColor: { value: "{colors.border.error.value}" }, _focus: { boxShadow: { value: { offsetX: "0px", offsetY: "1px", color: "{colors.border.error.value}", blurRadius: "0px" } } } } }, _focus: { borderColor: { value: "{colors.border.focus.value}" }, boxShadow: { value: { offsetX: "0px", offsetY: "0px", blurRadius: "0px", spreadRadius: "1px", color: "{colors.border.focus.value}" } } }, _disabled: { color: { value: "{colors.font.disabled.value}" }, cursor: { value: "not-allowed" }, borderColor: { value: "{colors.transparent.value}" }, backgroundColor: { value: "{colors.background.disabled.value}" } }, _error: { borderColor: { value: "{colors.border.error.value}" }, _focus: { boxShadow: { value: { offsetX: "0px", offsetY: "0px", blurRadius: "0px", spreadRadius: "1px", color: "{colors.border.error.value}" } } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/fieldGroup.js
var e21 = { gap: { value: "{space.zero.value}" }, vertical: { alignItems: { value: "center" } }, outer: { alignItems: { value: "center" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/fieldMessages.js
var o13 = { error: { color: { value: "{colors.font.error.value}" }, fontSize: { value: "{fontSizes.small.value}" } }, description: { color: { value: "{colors.font.secondary.value}" }, fontStyle: { value: "italic" }, fontSize: { value: "{fontSizes.small.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/flex.js
var a9 = { gap: { value: "{space.medium.value}" }, justifyContent: { value: "normal" }, alignItems: { value: "stretch" }, alignContent: { value: "normal" }, flexWrap: { value: "nowrap" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/heading.js
var e22 = { color: { value: "{colors.font.primary.value}" }, lineHeight: { value: "{lineHeights.small.value}" }, 1: { fontSize: { value: "{fontSizes.xxxxl.value}" }, fontWeight: { value: "{fontWeights.light.value}" } }, 2: { fontSize: { value: "{fontSizes.xxxl.value}" }, fontWeight: { value: "{fontWeights.normal.value}" } }, 3: { fontSize: { value: "{fontSizes.xxl.value}" }, fontWeight: { value: "{fontWeights.medium.value}" } }, 4: { fontSize: { value: "{fontSizes.xl.value}" }, fontWeight: { value: "{fontWeights.semibold.value}" } }, 5: { fontSize: { value: "{fontSizes.large.value}" }, fontWeight: { value: "{fontWeights.bold.value}" } }, 6: { fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.extrabold.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/highlightMatch.js
var t6 = { highlighted: { fontWeight: { value: "{fontWeights.bold}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/icon.js
var e23 = { lineHeight: { value: 1 }, height: { value: "1em" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/image.js
var i10 = { maxWidth: { value: "100%" }, height: { value: "auto" }, objectFit: { value: "initial" }, objectPosition: { value: "initial" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/inAppMessaging.js
var e24 = { banner: { height: { value: "150px " }, width: { value: "400px " } }, button: { backgroundColor: { value: "#e8e8e8" }, borderRadius: { value: "5px" }, color: { value: "black" } }, dialog: { height: { value: "50vh" }, minHeight: { value: "400px" }, minWidth: { value: "400px" }, width: { value: "30vw" } }, header: { fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.extrabold.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/link.js
var o14 = { active: { color: { value: "{colors.font.active.value}" } }, color: { value: "{colors.font.interactive.value}" }, focus: { color: { value: "{colors.font.focus.value}" } }, hover: { color: { value: "{colors.font.hover.value}" } }, visited: { color: { value: "{colors.font.interactive.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/loader.js
var e25 = { width: { value: "{fontSizes.medium.value}" }, height: { value: "{fontSizes.medium.value}" }, fontSize: { value: "{fontSizes.xs.value}" }, strokeEmpty: { value: "{colors.neutral.20.value}" }, strokeFilled: { value: "{colors.brand.primary.80.value}" }, strokeLinecap: { value: "round" }, animationDuration: { value: "1s" }, small: { width: { value: "{fontSizes.small.value}" }, height: { value: "{fontSizes.small.value}" }, fontSize: { value: "{fontSizes.xxs.value}" } }, large: { width: { value: "{fontSizes.large.value}" }, height: { value: "{fontSizes.large.value}" }, fontSize: { value: "{fontSizes.small.value}" } }, linear: { width: { value: "100%" }, minWidth: { value: "5rem" }, fontSize: { value: "{fontSizes.medium.value}" }, strokeWidth: { value: "{fontSizes.medium.value}" }, strokeFilled: { value: "{colors.brand.primary.80.value}" }, strokeEmpty: { value: "{colors.neutral.20.value}" }, strokeLinecap: { value: "round" }, animationDuration: { value: "1s" }, small: { strokeWidth: { value: "{fontSizes.small.value}" }, fontSize: { value: "{fontSizes.small.value}" } }, large: { strokeWidth: { value: "{fontSizes.large.value}" }, fontSize: { value: "{fontSizes.large.value}" } } }, text: { fill: { value: "{colors.font.primary.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/menu.js
var e26 = { backgroundColor: { value: "{colors.background.primary.value}" }, borderRadius: { value: "{radii.medium.value}" }, borderWidth: { value: "{borderWidths.small.value}" }, borderStyle: { value: "solid" }, borderColor: { value: "{colors.border.primary.value}" }, boxShadow: { value: "{shadows.large.value}" }, flexDirection: { value: "column" }, gap: { value: "{space.zero.value}" }, maxWidth: { value: "30rem" }, minWidth: { value: "14rem" }, small: { width: { value: "{fontSizes.medium.value}" }, height: { value: "{fontSizes.medium.value}" } }, large: { width: { value: "{fontSizes.xxxl.value}" }, height: { value: "{fontSizes.xxxl.value}" } }, item: { minHeight: { value: "2.5rem" }, paddingInlineStart: { value: "{space.medium.value}" }, paddingInlineEnd: { value: "{space.medium.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/pagination.js
var e27 = { current: { alignItems: { value: "center" }, justifyContent: { value: "center" }, color: { value: "{colors.font.inverse.value}" }, fontSize: { value: "{fontSizes.small.value}" }, backgroundColor: { value: "{colors.overlay.40.value}" } }, button: { color: { value: "{colors.font.primary.value}" }, paddingInlineStart: { value: "{space.xxs.value}" }, paddingInlineEnd: { value: "{space.xxs.value}" }, transitionProperty: { value: "background-color" }, transitionDuration: { value: "{time.medium.value}" }, hover: { backgroundColor: { value: "{colors.overlay.10.value}" }, color: { value: "{colors.font.primary.value}" } }, disabled: { color: { value: "{colors.font.disabled.value}" } } }, ellipsis: { alignItems: { value: "baseline" }, justifyContent: { value: "center" }, paddingInlineStart: { value: "{space.xs.value}" }, paddingInlineEnd: { value: "{space.xs.value}" } }, itemContainer: { marginLeft: { value: "{space.xxxs.value}" }, marginRight: { value: "{space.xxxs.value}" } }, itemShared: { height: { value: "{fontSizes.xxl.value}" }, minWidth: { value: "{fontSizes.xxl.value}" }, borderRadius: { value: "{fontSizes.medium.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/passwordField.js
var o15 = { color: { value: "{components.fieldcontrol.color.value}" }, button: { color: { value: "{components.button.color.value}" }, _active: { backgroundColor: { value: "{components.button._active.backgroundColor.value}" }, borderColor: { value: "{components.button._active.borderColor.value}" }, color: { value: "{components.button._active.color.value}" } }, _disabled: { backgroundColor: { value: "{components.button._disabled.backgroundColor.value}" }, borderColor: { value: "{components.button._disabled.borderColor.value}" }, color: { value: "{components.button._disabled.color.value}" } }, _focus: { backgroundColor: { value: "{components.button._focus.backgroundColor.value}" }, borderColor: { value: "{components.button._focus.borderColor.value}" }, color: { value: "{components.button._focus.color.value}" } }, _hover: { backgroundColor: { value: "{components.button._hover.backgroundColor.value}" }, borderColor: { value: "{components.button._hover.borderColor.value}" }, color: { value: "{components.button._hover.color.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/phoneNumberField.js
var o16 = { color: { value: "{components.fieldcontrol.color}" }, borderColor: { value: "{components.fieldcontrol.borderColor}" }, fontSize: { value: "{components.fieldcontrol.fontSize}" }, _focus: { borderColor: { value: "{components.fieldcontrol._focus.borderColor}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/placeholder.js
var a10 = { borderRadius: { value: "{radii.small.value}" }, transitionDuration: { value: "{time.long.value}" }, startColor: { value: "{colors.background.secondary.value}" }, endColor: { value: "{colors.background.tertiary.value}" }, small: { height: { value: "{space.small.value}" } }, default: { height: { value: "{space.medium.value}" } }, large: { height: { value: "{space.large.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/radio.js
var e28 = { alignItems: { value: "center" }, justifyContent: { value: "flex-start" }, gap: { value: "inherit" }, _disabled: { cursor: { value: "not-allowed" } }, button: { alignItems: { value: "center" }, justifyContent: { value: "center" }, width: { value: "{fontSizes.medium.value}" }, height: { value: "{fontSizes.medium.value}" }, boxSizing: { value: "border-box" }, borderWidth: { value: "{borderWidths.medium.value}" }, borderStyle: { value: "solid" }, borderRadius: { value: "50%" }, borderColor: { value: "{colors.border.primary.value}" }, color: { value: "{colors.background.primary.value}" }, backgroundColor: { value: "{colors.background.primary.value}" }, transitionProperty: { value: "all" }, transitionDuration: { value: "{time.medium.value}" }, outlineColor: { value: "{colors.transparent.value}" }, outlineStyle: { value: "solid" }, outlineWidth: { value: "{outlineWidths.medium.value}" }, outlineOffset: { value: "{outlineOffsets.medium.value}" }, padding: { value: "{borderWidths.medium.value}" }, small: { width: { value: "{fontSizes.small.value}" }, height: { value: "{fontSizes.small.value}" } }, large: { width: { value: "{fontSizes.large.value}" }, height: { value: "{fontSizes.large.value}" } }, _checked: { color: { value: "{colors.brand.primary.80.value}" }, _disabled: { color: { value: "{colors.background.disabled.value}" } } }, _focus: { borderColor: { value: "{colors.border.focus.value}" }, boxShadow: { value: "{components.fieldcontrol._focus.boxShadow.value}" } }, _error: { borderColor: { value: "{colors.border.error.value}" }, _focus: { boxShadow: { value: "{components.fieldcontrol._error._focus.boxShadow.value}" } } }, _disabled: { borderColor: { value: "{colors.border.disabled.value}" }, backgroundColor: { value: "{colors.background.primary.value}" } } }, label: { color: { value: "{components.text.color.value}" }, _disabled: { color: { value: "{colors.font.disabled.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/radioGroup.js
var o17 = { radio: { borderWidth: { value: "{components.radio.button.borderWidth}" }, borderColor: { value: "{components.radio.button.borderColor}" }, backgroundColor: { value: "{components.radio.button.backgroundColor}" }, _checked: { color: { value: "{components.radio.button._checked.color}" } }, label: { color: { value: "{components.radio.label.color}" } } }, label: { color: { value: "{components.field.label.color}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/rating.js
var l4 = { large: { size: { value: "{fontSizes.xxxl.value}" } }, default: { size: { value: "{fontSizes.xl.value}" } }, small: { size: { value: "{fontSizes.small.value}" } }, filled: { color: { value: "{colors.brand.secondary.80.value}" } }, empty: { color: { value: "{colors.background.tertiary.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/searchField.js
var o18 = { color: { value: "{components.fieldcontrol.color.value}" }, button: { color: { value: "{components.button.color.value}" }, backgroundColor: { value: "{colors.background.primary.value}" }, _active: { backgroundColor: { value: "{components.button._active.backgroundColor.value}" }, borderColor: { value: "{components.button._active.borderColor.value}" }, color: { value: "{components.button._active.color.value}" } }, _disabled: { backgroundColor: { value: "{components.button._disabled.backgroundColor.value}" }, borderColor: { value: "{components.button._disabled.borderColor.value}" }, color: { value: "{components.button._disabled.color.value}" } }, _focus: { backgroundColor: { value: "{components.button._focus.backgroundColor.value}" }, borderColor: { value: "{components.button._focus.borderColor.value}" }, color: { value: "{components.button._focus.color.value}" } }, _hover: { backgroundColor: { value: "{components.button._hover.backgroundColor.value}" }, borderColor: { value: "{components.button._hover.borderColor.value}" }, color: { value: "{components.button._hover.color.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/select.js
var e29 = { paddingInlineEnd: { value: "{space.xxl.value}" }, wrapper: { flex: { value: "1" }, display: { value: "block" }, position: { value: "relative" }, cursor: { value: "pointer" } }, iconWrapper: { alignItems: { value: "center" }, position: { value: "absolute" }, top: { value: "50%" }, right: { value: "{space.medium.value}" }, transform: { value: "translateY(-50%)" }, pointerEvents: { value: "none" } }, option: { backgroundColor: { value: "{colors.background.primary.value}" }, color: { value: "{colors.font.primary.value}" }, _disabled: { color: { value: "{colors.font.disabled.value}" } } }, whiteSpace: { value: "nowrap" }, minWidth: { value: "6.5rem" }, small: { minWidth: { value: "5.5rem" } }, large: { minWidth: { value: "7.5rem" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/selectField.js
var o19 = { borderColor: { value: "{components.fieldcontrol.borderColor}" }, color: { value: "{components.fieldcontrol.color}" }, flexDirection: { value: "column" }, fontSize: { value: "{components.fieldcontrol.fontSize}" }, _focus: { borderColor: { value: "{components.fieldcontrol._focus.borderColor}" } }, label: { color: { value: "{components.field.label.color}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/sliderField.js
var r8 = { paddingBlock: { value: "{space.xs.value}" }, track: { backgroundColor: { value: "{colors.background.quaternary.value}" }, borderRadius: { value: "9999px" }, height: { value: "0.375rem" }, minWidth: { value: "10rem" } }, range: { backgroundColor: { value: "{colors.brand.primary.80.value}" }, borderRadius: { value: "9999px" }, _disabled: { backgroundColor: { value: "{colors.background.disabled.value}" } } }, thumb: { width: { value: "1.25rem" }, height: { value: "1.25rem" }, backgroundColor: { value: "{colors.background.primary.value}" }, boxShadow: { value: "{shadows.small.value}" }, borderRadius: { value: "50%" }, borderWidth: { value: "{borderWidths.medium.value}" }, borderColor: { value: "{colors.border.primary.value}" }, borderStyle: { value: "solid" }, _disabled: { backgroundColor: { value: "{colors.background.disabled.value}" }, borderColor: { value: "transparent" }, boxShadow: { value: "none" } }, _hover: { backgroundColor: { value: "{colors.background.primary.value}" }, borderColor: { value: "{colors.border.focus.value}" } }, _focus: { borderColor: { value: "{colors.border.focus.value}" }, boxShadow: { value: { offsetX: "0", offsetY: "0", blurRadius: "0", spreadRadius: "2px", color: "{colors.border.focus.value}" } } } }, small: { track: { height: { value: "0.25rem" } }, thumb: { width: { value: "1rem" }, height: { value: "1rem" } } }, large: { track: { height: { value: "0.625rem" } }, thumb: { width: { value: "1.5rem" }, height: { value: "1.5rem" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/stepperField.js
var o20 = { borderColor: { value: "{components.fieldcontrol.borderColor}" }, flexDirection: { value: "column" }, input: { color: { value: "{components.fieldcontrol.color}" }, fontSize: { value: "{components.fieldcontrol.fontSize}" }, textAlign: { value: "center" } }, button: { color: { value: "{components.button.color}" }, backgroundColor: { value: "{colors.transparent}" }, _active: { color: { value: "{components.button._active.color}" }, backgroundColor: { value: "{components.button._active.backgroundColor}" } }, _focus: { color: { value: "{components.button._focus.color}" }, backgroundColor: { value: "{components.button._focus.backgroundColor}" } }, _disabled: { color: { value: "{components.button._disabled.color}" }, backgroundColor: { value: "{components.fieldcontrol._disabled.backgroundColor}" } }, _hover: { color: { value: "{components.button._hover.color}" }, backgroundColor: { value: "{components.button._hover.backgroundColor}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/switchField.js
var e30 = { _disabled: { opacity: { value: "{opacities.60.value}" } }, _focused: { shadow: { value: { offsetX: "0px", offsetY: "0px", blurRadius: "0px", spreadRadius: "2px", color: "{colors.border.focus.value}" } } }, fontSize: { value: "{fontSizes.medium.value}" }, large: { fontSize: { value: "{fontSizes.large.value}" } }, small: { fontSize: { value: "{fontSizes.small.value}" } }, label: { padding: { value: "{space.xs.value}" } }, thumb: { backgroundColor: { value: "{colors.background.primary.value}" }, borderColor: { value: "{colors.border.tertiary.value}" }, borderRadius: { value: "{radii.xxxl.value}" }, checked: { transform: { value: "{transforms.slideX.medium.value}" } }, transition: { duration: { value: "{time.medium.value}" } }, width: { value: "{space.relative.medium.value}" } }, track: { backgroundColor: { value: "{colors.background.quaternary.value}" }, borderRadius: { value: "{radii.xxxl.value}" }, checked: { backgroundColor: { value: "{colors.brand.primary.80.value}" } }, height: { value: "{space.relative.medium.value}" }, padding: { value: "{outlineWidths.medium.value}" }, transition: { duration: { value: "{time.short.value}" } }, width: { value: "{space.relative.xl.value}" }, _error: { backgroundColor: { value: "{colors.background.error.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/table.js
var e31 = { borderCollapse: { value: "collapse" }, display: { value: "table" }, width: { value: "100%" }, head: { display: { value: "table-header-group" }, verticalAlign: { value: "middle" } }, body: { display: { value: "table-row-group" }, verticalAlign: { value: "middle" } }, foot: { display: { value: "table-footer-group" }, verticalAlign: { value: "middle" } }, row: { display: { value: "table-row" }, verticalAlign: { value: "middle" }, hover: { backgroundColor: { value: "{colors.background.tertiary.value}" } }, striped: { backgroundColor: { value: "{colors.background.secondary.value}" } } }, header: { borderColor: { value: "{colors.border.tertiary.value}" }, borderStyle: { value: "solid" }, borderWidth: { value: "{borderWidths.small.value}" }, color: { value: "{colors.font.primary.value}" }, display: { value: "table-cell" }, fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.bold.value}" }, padding: { value: "{space.medium.value}" }, verticalAlign: { value: "middle" }, large: { fontSize: { value: "{fontSizes.large.value}" }, padding: { value: "{space.large.value}" } }, small: { fontSize: { value: "{fontSizes.small.value}" }, padding: { value: "{space.xs.value}" } } }, data: { borderColor: { value: "{colors.border.tertiary.value}" }, borderStyle: { value: "solid" }, borderWidth: { value: "{borderWidths.small.value}" }, color: { value: "{colors.font.primary.value}" }, display: { value: "table-cell" }, fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.normal.value}" }, padding: { value: "{space.medium.value}" }, verticalAlign: { value: "middle" }, large: { fontSize: { value: "{fontSizes.large.value}" }, padding: { value: "{space.large.value}" } }, small: { fontSize: { value: "{fontSizes.small.value}" }, padding: { value: "{space.xs.value}" } } }, caption: { captionSide: { value: "bottom" }, color: { value: "{colors.font.primary.value}" }, display: { value: "table-caption" }, fontSize: { value: "{fontSizes.medium.value}" }, textAlign: { value: "center" }, wordBreak: { value: "break-all" }, large: { fontSize: { value: "{fontSizes.large.value}" } }, small: { fontSize: { value: "{fontSizes.small.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/tabs.js
var e32 = { backgroundColor: { value: "transparent" }, borderColor: { value: "{colors.border.secondary.value}" }, borderStyle: { value: "solid" }, borderWidth: { value: "{borderWidths.medium.value}" }, gap: { value: "0" }, item: { backgroundColor: { value: "transparent" }, borderColor: { value: "{colors.border.secondary.value}" }, borderStyle: { value: "solid" }, borderWidth: { value: "{borderWidths.medium.value}" }, color: { value: "{colors.font.secondary.value}" }, fontSize: { value: "{fontSizes.medium.value}" }, fontWeight: { value: "{fontWeights.bold.value}" }, paddingVertical: { value: "{space.small.value}" }, paddingHorizontal: { value: "{space.medium.value}" }, textAlign: { value: "center" }, transitionDuration: { value: "{time.medium.value}" }, _hover: { color: { value: "{colors.font.hover.value}" } }, _focus: { color: { value: "{colors.font.focus.value}" } }, _active: { color: { value: "{colors.font.interactive.value}" }, borderColor: { value: "{colors.font.interactive.value}" }, backgroundColor: { value: "transparent" } }, _disabled: { color: { value: "{colors.font.disabled.value}" }, backgroundColor: { value: "transparent" }, borderColor: { value: "{colors.border.tertiary.value}" } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/text.js
var o21 = { color: { value: "{colors.font.primary.value}" }, primary: { color: { value: "{colors.font.primary.value}" } }, secondary: { color: { value: "{colors.font.secondary.value}" } }, tertiary: { color: { value: "{colors.font.tertiary.value}" } }, error: { color: { value: "{colors.font.error.value}" } }, warning: { color: { value: "{colors.font.warning.value}" } }, success: { color: { value: "{colors.font.success.value}" } }, info: { color: { value: "{colors.font.info.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/textAreaField.js
var o22 = { color: { value: "{components.fieldcontrol.color.value}" }, borderColor: { value: "{components.fieldcontrol.borderColor.value}" }, _focus: { borderColor: { value: "{components.fieldcontrol._focus.borderColor.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/textField.js
var o23 = { color: { value: "{components.fieldcontrol.color.value}" }, borderColor: { value: "{components.fieldcontrol.borderColor.value}" }, fontSize: { value: "{components.fieldcontrol.fontSize.value}" }, _focus: { borderColor: { value: "{components.fieldcontrol._focus.borderColor.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/toggleButton.js
var o24 = { borderColor: { value: "{colors.border.primary.value}" }, color: { value: "{colors.font.primary.value}" }, _hover: { backgroundColor: { value: "{colors.overlay.10.value}" } }, _focus: { borderColor: { value: "{colors.border.focus.value}" }, color: { value: "{colors.font.primary.value}" } }, _active: { backgroundColor: { value: "{colors.transparent.value}" } }, _disabled: { backgroundColor: { value: "{colors.transparent.value}" }, borderColor: { value: "{colors.border.disabled.value}" }, color: { value: "{colors.font.disabled.value}" } }, _pressed: { borderColor: { value: "{colors.border.pressed.value}" }, color: { value: "{colors.font.primary.value}" }, backgroundColor: { value: "{colors.overlay.20.value}" }, _hover: { backgroundColor: { value: "{colors.overlay.30.value}" } } }, primary: { backgroundColor: { value: "{colors.transparent.value}" }, borderWidth: { value: "{borderWidths.small.value}" }, _focus: { borderColor: { value: "{colors.border.focus.value}" }, backgroundColor: { value: "{colors.transparent.value}" }, boxShadow: { value: "{components.fieldcontrol._focus.boxShadow.value}" }, color: { value: "{colors.font.primary.value}" } }, _hover: { backgroundColor: { value: "{colors.overlay.10.value}" }, color: { value: "{colors.font.primary.value}" } }, _disabled: { borderColor: { value: "{colors.border.disabled.value}" }, backgroundColor: { value: "{colors.background.disabled.value}" }, color: { value: "{colors.font.disabled.value}" } }, _pressed: { backgroundColor: { value: "{colors.brand.primary.80.value}" }, borderColor: { value: "{colors.brand.primary.80.value}" }, color: { value: "{colors.background.primary.value}" }, _focus: { backgroundColor: { value: "{colors.border.focus.value}" }, borderColor: { value: "{colors.border.focus.value}" }, color: { value: "{colors.background.primary.value}" } }, _hover: { borderColor: { value: "{colors.brand.primary.60.value}" }, backgroundColor: { value: "{colors.brand.primary.60.value}" }, boxShadow: { value: "{colors.brand.primary.60.value}" }, color: { value: "{colors.background.primary.value}" } } } }, link: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.overlay.50.value}" }, _hover: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.overlay.50.value}" } }, _focus: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.overlay.50.value}" } }, _disabled: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.font.disabled.value}" } }, _pressed: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.overlay.90.value}" }, _focus: { backgroundColor: { value: "{colors.transparent.value}" }, color: { value: "{colors.overlay.90.value}" } }, _hover: { color: { value: "{colors.overlay.90.value}" }, backgroundColor: { value: "{colors.transparent.value}" } } } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/toggleButtonGroup.js
var e33 = { alignItems: { value: "center" }, alignContent: { value: "center" }, justifyContent: { value: "flex-start" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/components/index.js
var U = { alert: o10, authenticator: e13, autocomplete: a5, badge: a6, button: o11, card: a7, checkbox: e14, checkboxfield: e15, collection: o12, copy: e16, countrycodeselect: e17, divider: e18, expander: a8, field: e19, fieldcontrol: e20, fieldgroup: e21, fieldmessages: o13, flex: a9, heading: e22, icon: e23, highlightmatch: t6, image: i10, inappmessaging: e24, link: o14, loader: e25, menu: e26, pagination: e27, passwordfield: o15, phonenumberfield: o16, placeholder: a10, radio: e28, radiogroup: o17, rating: l4, searchfield: o18, select: e29, selectfield: o19, sliderfield: r8, stepperfield: o20, switchfield: e30, table: e31, tabs: e32, text: o21, textareafield: o22, textfield: o23, togglebutton: o24, togglebuttongroup: e33 };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/fonts.js
var e34 = { default: { variable: { value: "'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif" }, static: { value: "'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/fontSizes.js
var e35 = { xxxs: { value: "0.375rem" }, xxs: { value: "0.5rem" }, xs: { value: "0.75rem" }, small: { value: "0.875rem" }, medium: { value: "1rem" }, large: { value: "1.25rem" }, xl: { value: "1.5rem" }, xxl: { value: "2rem" }, xxxl: { value: "2.5rem" }, xxxxl: { value: "3rem" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/fontWeights.js
var l5 = { hairline: { value: 100 }, thin: { value: 200 }, light: { value: 300 }, normal: { value: 400 }, medium: { value: 500 }, semibold: { value: 600 }, bold: { value: 700 }, extrabold: { value: 800 }, black: { value: 900 } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/lineHeights.js
var a11 = { small: { value: "1.25" }, medium: { value: "1.5" }, large: { value: "2" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/opacities.js
var a12 = { 0: { value: "0" }, 10: { value: "0.1" }, 20: { value: "0.2" }, 30: { value: "0.3" }, 40: { value: "0.4" }, 50: { value: "0.5" }, 60: { value: "0.6" }, 70: { value: "0.7" }, 80: { value: "0.8" }, 90: { value: "0.9" }, 100: { value: "1" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/outlineOffsets.js
var a13 = { small: { value: "1px" }, medium: { value: "2px" }, large: { value: "3px" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/outlineWidths.js
var a14 = { small: { value: "1px" }, medium: { value: "2px" }, large: { value: "3px" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/radii.js
var e36 = { xs: { value: "0.125rem" }, small: { value: "0.25rem" }, medium: { value: "0.5rem" }, large: { value: "1rem" }, xl: { value: "2rem" }, xxl: { value: "4rem" }, xxxl: { value: "8rem" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/shadows.js
var o25 = { small: { value: { offsetX: "0px", offsetY: "2px", blurRadius: "4px", color: "{colors.shadow.tertiary.value}" } }, medium: { value: { offsetX: "0px", offsetY: "2px", blurRadius: "6px", color: "{colors.shadow.secondary.value}" } }, large: { value: { offsetX: "0px", offsetY: "4px", blurRadius: "12px", color: "{colors.shadow.primary.value}" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/space.js
var e37 = { zero: { value: "0" }, xxxs: { value: "0.25rem" }, xxs: { value: "0.375rem" }, xs: { value: "0.5rem" }, small: { value: "0.75rem" }, medium: { value: "1rem" }, large: { value: "1.5rem" }, xl: { value: "2.0rem" }, xxl: { value: "3.0rem" }, xxxl: { value: "4.5rem" }, relative: { xxxs: { value: "0.25em" }, xxs: { value: "0.375em" }, xs: { value: "0.5em" }, small: { value: "0.75em" }, medium: { value: "1em" }, large: { value: "1.5em" }, xl: { value: "2.0em" }, xxl: { value: "3.0em" }, xxxl: { value: "4.5em" }, full: { value: "100%" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/time.js
var e38 = { short: { value: "100ms" }, medium: { value: "250ms" }, long: { value: "500ms" } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/transforms.js
var e39 = { slideX: { small: { value: "translateX(0.5em)" }, medium: { value: "translateX(1em)" }, large: { value: "translateX(2em)" } } };

// node_modules/@aws-amplify/ui/dist/esm/theme/tokens/index.js
var h3 = { components: U, borderWidths: a4, colors: l3, fonts: e34, fontSizes: e35, fontWeights: l5, lineHeights: a11, opacities: a12, outlineOffsets: a13, outlineWidths: a14, radii: e36, shadows: o25, space: e37, time: e38, transforms: e39 };
var c4 = { colors: l3, borderWidths: a4, fontSizes: { xxs: e35.xxs, xs: e35.xs, small: e35.small, medium: e35.medium, large: e35.large, xl: e35.xl, xxl: e35.xxl, xxxl: e35.xxxl }, fontWeights: l5, opacities: a12, space: { xxs: e37.xxxs, xs: e37.xs, small: e37.small, medium: e37.medium, large: e37.large, xl: e37.xl, xxl: e37.xxl, xxxl: e37.xxxl }, radii: e36, time: e38 };

// node_modules/@aws-amplify/ui/dist/esm/theme/breakpoints.js
var a15 = { values: { base: 0, small: 480, medium: 768, large: 992, xl: 1280, xxl: 1536 }, defaultBreakpoint: "base" };

// node_modules/@aws-amplify/ui/dist/esm/theme/defaultTheme.js
var t7 = { tokens: h3, breakpoints: a15, name: "default-theme" };

// node_modules/@aws-amplify/ui/dist/esm/theme/utils.js
var import_has = __toESM(require_has());
var import_isObject = __toESM(require_isObject());
var import_isString = __toESM(require_isString());
var import_kebabCase = __toESM(require_kebabCase());
var import_usesReference = __toESM(require_usesReference());
var u5 = ["offsetX", "offsetY", "blurRadius", "spreadRadius", "color"];
function f5(r61) {
  if ((0, import_usesReference.default)(r61)) {
    var o101 = r61.replace(/\{|\}/g, "").replace(".value", "").split(".");
    return "var(--".concat(l6({ path: o101 }), ")");
  }
  return r61;
}
function s6(r61) {
  var o101 = r61.value;
  return (0, import_isString.default)(o101) ? f5(o101) : (0, import_isObject.default)(o101) && "offsetX" in o101 ? u5.map(function(t87) {
    var e142, a82;
    return f5(null !== (a82 = null !== (e142 = r61[t87]) && void 0 !== e142 ? e142 : o101[t87]) && void 0 !== a82 ? a82 : "");
  }).join(" ") : o101;
}
function l6(o101) {
  var t87 = o101.path;
  return "".concat((0, import_kebabCase.default)(__spreadArray3(["amplify"], void 0 === t87 ? [] : t87, true).join(" ")));
}
function p3(r61) {
  return (0, import_isObject.default)(r61) && (0, import_has.default)(r61, "value");
}
function c5(r61) {
  var e142 = r61.tokens, a82 = r61.path, n45 = void 0 === a82 ? [] : a82, i67 = r61.setupToken;
  if ((0, import_has.default)(e142, "value"))
    return i67({ token: e142, path: n45 });
  var u20 = {};
  for (var f21 in e142)
    if ((0, import_has.default)(e142, f21)) {
      var s62 = e142[f21], l29 = (0, import_isObject.default)(s62) ? s62 : { value: s62 };
      u20[f21] = c5({ tokens: l29, path: n45.concat(f21), setupToken: i67 });
    }
  return u20;
}

// node_modules/@aws-amplify/ui/dist/esm/theme/createTheme.js
var i11 = function(n45) {
  var t87 = n45.token, e142 = n45.path, o101 = "--".concat(l6({ path: e142 })), a82 = t87.value, i67 = s6(t87);
  return { name: o101, original: a82, path: e142, value: i67, toString: function() {
    return "var(".concat(o101, ")");
  } };
};
function m3(c22, r61) {
  void 0 === r61 && (r61 = t7);
  var m29 = (0, import_deepExtend.default)([{}, r61, c22]), s62 = c5({ tokens: m29.tokens, setupToken: i11 }), l29 = m29.breakpoints, p17 = m29.name, d10 = '[data-amplify-theme="'.concat(p17, '"] {\n') + (0, import_flattenProperties.default)(s62).map(function(n45) {
    return "".concat(n45.name, ": ").concat(n45.value, ";");
  }).join("\n") + "\n}\n", u20 = [];
  return m29.overrides && (u20 = m29.overrides.map(function(t87) {
    var o101 = c5({ tokens: t87.tokens, setupToken: i11 }), c23 = (0, import_flattenProperties.default)(o101).map(function(n45) {
      return "".concat(n45.name, ": ").concat(n45.value, ";");
    }).join("\n");
    if ("selector" in t87 && (d10 += "\n".concat(t87.selector, " {\n").concat(c23, "\n}\n")), "mediaQuery" in t87 && (d10 += "\n@media (".concat(t87.mediaQuery, ') {\n  [data-amplify-theme="').concat(p17, '"] {\n    ').concat(c23, "\n  }\n}\n")), "breakpoint" in t87) {
      var r62 = m29.breakpoints.values[t87.breakpoint];
      d10 += "\n@media (min-width: ".concat(r62, 'px) {\n  [data-amplify-theme="').concat(p17, '"] {\n    ').concat(c23, "\n  }\n}\n");
    }
    return "colorMode" in t87 && (d10 += "\n@media (prefers-color-scheme: ".concat(t87.colorMode, ') {\n          [data-amplify-theme="').concat(p17, '"][data-amplify-color-mode="system"] {\n').concat(c23, "\n}\n        }\n"), d10 += '\n[data-amplify-theme="'.concat(p17, '"][data-amplify-color-mode="').concat(t87.colorMode, '"] {\n').concat(c23, "\n}\n")), __assign4(__assign4({}, t87), { tokens: o101 });
  })), { tokens: s62, breakpoints: l29, name: p17, cssText: d10, overrides: u20 };
}

// node_modules/@aws-amplify/ui/dist/esm/theme/defaultDarkModeOverride.js
var l7 = { colors: { red: { 10: h3.colors.red[100], 20: h3.colors.red[90], 40: h3.colors.red[80], 80: h3.colors.red[40], 90: h3.colors.red[20], 100: h3.colors.red[10] }, orange: { 10: h3.colors.orange[100], 20: h3.colors.orange[90], 40: h3.colors.orange[80], 80: h3.colors.orange[40], 90: h3.colors.orange[20], 100: h3.colors.orange[10] }, yellow: { 10: h3.colors.yellow[100], 20: h3.colors.yellow[90], 40: h3.colors.yellow[80], 80: h3.colors.yellow[40], 90: h3.colors.yellow[20], 100: h3.colors.yellow[10] }, green: { 10: h3.colors.green[100], 20: h3.colors.green[90], 40: h3.colors.green[80], 80: h3.colors.green[40], 90: h3.colors.green[20], 100: h3.colors.green[10] }, teal: { 10: h3.colors.teal[100], 20: h3.colors.teal[90], 40: h3.colors.teal[80], 80: h3.colors.teal[40], 90: h3.colors.teal[20], 100: h3.colors.teal[10] }, blue: { 10: h3.colors.blue[100], 20: h3.colors.blue[90], 40: h3.colors.blue[80], 80: h3.colors.blue[40], 90: h3.colors.blue[20], 100: h3.colors.blue[10] }, purple: { 10: h3.colors.purple[100], 20: h3.colors.purple[90], 40: h3.colors.purple[80], 80: h3.colors.purple[40], 90: h3.colors.purple[20], 100: h3.colors.purple[10] }, pink: { 10: h3.colors.pink[100], 20: h3.colors.pink[90], 40: h3.colors.pink[80], 80: h3.colors.pink[40], 90: h3.colors.pink[20], 100: h3.colors.pink[10] }, neutral: { 10: h3.colors.neutral[100], 20: h3.colors.neutral[90], 40: h3.colors.neutral[80], 80: h3.colors.neutral[40], 90: h3.colors.neutral[20], 100: h3.colors.neutral[10] }, font: { primary: "{colors.white}", secondary: "{colors.neutral.100}", tertiary: "{colors.neutral.90}", inverse: "{colors.neutral.10}" }, background: { primary: "{colors.neutral.10}", secondary: "{colors.neutral.20}", tertiary: "{colors.neutral.40}" }, border: { primary: "{colors.neutral.60}", secondary: "{colors.neutral.40}", tertiary: "{colors.neutral.20}" }, overlay: { 10: "hsla(0, 0%, 100%, 0.1)", 20: "hsla(0, 0%, 100%, 0.2)", 30: "hsla(0, 0%, 100%, 0.3)", 40: "hsla(0, 0%, 100%, 0.4)", 50: "hsla(0, 0%, 100%, 0.5)", 60: "hsla(0, 0%, 100%, 0.6)", 70: "hsla(0, 0%, 100%, 0.7)", 80: "hsla(0, 0%, 100%, 0.8)", 90: "hsla(0, 0%, 100%, 0.9)" } } };
var e42 = { colorMode: "dark", tokens: l7 };
var s7 = __assign4({}, l7);

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/context/AuthenticatorContext.js
var import_react6 = __toESM(require_react());
var AuthenticatorContext = import_react6.default.createContext(null);

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/context/AuthenticatorProvider.js
function AuthenticatorProvider({ children: children2 }) {
  const parentProviderVal = (0, import_react7.useContext)(AuthenticatorContext);
  const service = useInterpret(f4);
  const value = (0, import_react7.useMemo)(() => !parentProviderVal ? { service } : parentProviderVal, [parentProviderVal, service]);
  const { service: activeService } = value;
  (0, import_react7.useEffect)(() => {
    const unsubscribe = h(activeService);
    return unsubscribe;
  }, [activeService]);
  return (0, import_jsx_runtime.jsx)(AuthenticatorContext.Provider, Object.assign({ value }, { children: children2 }));
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/node_modules/tslib/tslib.es6.js
function __rest5(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
}
function __awaiter2(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e142) {
        reject(e142);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e142) {
        reject(e142);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/useAuthenticator.js
var import_react9 = __toESM(require_react());
var import_jsx_runtime2 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/constants.js
var USE_AUTHENTICATOR_ERROR = "`useAuthenticator` must be used inside an `Authenticator.Provider`.";

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/utils.js
var import_isString2 = __toESM(require_isString());

// node_modules/@aws-amplify/ui-react-core/dist/esm/utils/index.js
var import_isEmpty3 = __toESM(require_isEmpty());
var import_isObject2 = __toESM(require_isObject());
function isEmptyArray(value) {
  return Array.isArray(value) && (0, import_isEmpty3.default)(value);
}
function areEmptyArrays(...values) {
  return values.every(isEmptyArray);
}
function isEmptyObject(value) {
  return (0, import_isObject2.default)(value) && !Array.isArray(value) && (0, import_isEmpty3.default)(value);
}
function areEmptyObjects(...values) {
  return values.every(isEmptyObject);
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/constants.js
var COMPONENT_ROUTE_KEYS = [
  "confirmResetPassword",
  "confirmSignIn",
  "confirmSignUp",
  "confirmVerifyUser",
  "forceNewPassword",
  "resetPassword",
  "setupTOTP",
  "signIn",
  "signUp",
  "verifyUser"
];

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/utils.js
var isComponentRouteKey = (route) => COMPONENT_ROUTE_KEYS.some((componentRoute) => componentRoute === route);

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/utils.js
var defaultComparator = () => false;
function areSelectorDepsEqual(currentDeps, nextDeps) {
  if (currentDeps.length !== nextDeps.length) {
    return false;
  }
  return currentDeps.every((currentDep, index3) => {
    const nextDep = nextDeps[index3];
    if (areEmptyArrays(currentDep, nextDep) || areEmptyObjects(currentDep, nextDep)) {
      return true;
    }
    return currentDep === nextDep;
  });
}
var getComparator = (selector) => (currentFacade, nextFacade) => {
  const currentSelectorDeps = selector(currentFacade);
  const nextSelectorDeps = selector(nextFacade);
  return areSelectorDepsEqual(currentSelectorDeps, nextSelectorDeps);
};
var getTotpSecretCodeCallback = (user) => function getTotpSecretCode() {
  return __awaiter2(this, void 0, void 0, function* () {
    return yield Auth.setupTOTP(user);
  });
};
var flattenFormFields = (fields) => fields.flatMap(([name, options]) => Object.assign({ name }, options));
var convertContactMethodsToFields = (unverifiedContactMethods) => {
  return unverifiedContactMethods && Object.entries(unverifiedContactMethods).map(([name, value]) => {
    const valueIsString = (0, import_isString2.default)(value);
    if (!valueIsString || !name) {
      return {};
    }
    return { name, label: value, type: "radio", value };
  });
};
var getMachineFields = (route, state, unverifiedContactMethods) => {
  if (isComponentRouteKey(route)) {
    return route === "verifyUser" ? convertContactMethodsToFields(unverifiedContactMethods) : flattenFormFields(f2(route, state));
  }
  return [];
};

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/useAuthenticator.js
function useAuthenticator(selector) {
  const context = import_react9.default.useContext(AuthenticatorContext);
  if (!context) {
    throw new Error(USE_AUTHENTICATOR_ERROR);
  }
  const { service } = context;
  const { send: send3 } = service;
  const xstateSelector = (0, import_react9.useCallback)((state) => Object.assign({}, s({ send: send3, state })), [send3]);
  const comparator = selector ? getComparator(selector) : defaultComparator;
  const facade = useSelector(service, xstateSelector, comparator);
  const { route, unverifiedContactMethods, user } = facade, rest = __rest5(facade, ["route", "unverifiedContactMethods", "user"]);
  const serviceSnapshot = service.getSnapshot();
  const fields = (0, import_react9.useMemo)(() => getMachineFields(route, serviceSnapshot, unverifiedContactMethods), [route, serviceSnapshot, unverifiedContactMethods]);
  return Object.assign(Object.assign({}, rest), {
    getTotpSecretCode: getTotpSecretCodeCallback(user),
    route,
    unverifiedContactMethods,
    user,
    fields
  });
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticatorRoute/useAuthenticatorRoute.js
var import_react11 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react-core/dist/esm/components/RenderNothing/RenderNothing.js
function RenderNothing(_3) {
  return null;
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticatorRoute/constants.js
var COMMON_ROUTE_MACHINE_KEYS = [
  "error",
  "isPending",
  "submitForm",
  "updateBlur",
  "updateForm"
];
var CONFIRM_RESET_PASSWORD_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "resendCode",
  "validationErrors"
];
var CONFIRM_SIGN_IN_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toSignIn",
  "user"
];
var CONFIRM_SIGN_UP_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "codeDeliveryDetails",
  "resendCode"
];
var CONFIRM_VERIFY_USER_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "skipVerification"
];
var FORCE_NEW_PASSWORD_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toSignIn",
  "validationErrors"
];
var RESET_PASSWORD_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toSignIn"
];
var SIGN_IN_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toFederatedSignIn",
  "toResetPassword",
  "toSignUp"
];
var SIGN_UP_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toSignIn",
  "validationErrors"
];
var SETUP_TOTP_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "toSignIn"
];
var VERIFY_USER_MACHINE_KEYS = [
  ...COMMON_ROUTE_MACHINE_KEYS,
  "skipVerification"
];

// node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticatorInitMachine/useAuthenticatorInitMachine.js
var import_react12 = __toESM(require_react());
var routeSelector2 = ({ route }) => [route];
function useAuthenticatorInitMachine(data) {
  const { route, initializeMachine } = useAuthenticator(routeSelector2);
  const hasInitialized = import_react12.default.useRef(false);
  import_react12.default.useEffect(() => {
    if (!hasInitialized.current && route === "setup") {
      initializeMachine(data);
      hasInitialized.current = true;
    }
  }, [initializeMachine, route, data]);
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/hooks/useInAppMessaging/useInAppMessaging.js
var import_react14 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/context/InAppMessagingContext/InAppMessagingContext.js
var import_react13 = __toESM(require_react());
var InAppMessagingContext = (0, import_react13.createContext)(null);

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/hooks/useInAppMessaging/useInAppMessaging.js
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
function useInAppMessaging() {
  const inAppMessagingContext = (0, import_react14.useContext)(InAppMessagingContext);
  if (!inAppMessagingContext) {
    throw new Error("InAppMessagingContext is empty, did you forget the InAppMessagingProvider?");
  }
  return inAppMessagingContext;
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/hooks/useMessage/useMessage.js
var import_isNil = __toESM(require_isNil());

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/hooks/useMessage/utils.js
var logger = new ConsoleLogger("Notifications.InAppMessaging");
var positions = {
  BOTTOM_BANNER: "bottom",
  MIDDLE_BANNER: "middle",
  TOP_BANNER: "top"
};
var getPositionProp = (layout) => positions[layout];
var getActionHandler = (actionParams, onMessageAction, onActionCallback) => ({
  onAction() {
    try {
      onMessageAction(actionParams);
    } catch (e142) {
      logger.error(`Message action failure: ${e142}`);
    } finally {
      onActionCallback();
    }
  }
});
var getButtonProps = (_a3, onMessageAction, onActionCallback) => {
  var { action, url } = _a3, baseButtonProps = __rest5(_a3, ["action", "url"]);
  return Object.assign(Object.assign({}, baseButtonProps), getActionHandler({ action, url }, onMessageAction, onActionCallback));
};
var getContentProps = (content, onMessageAction, onActionCallback) => {
  const props = {};
  if (!content) {
    return props;
  }
  const { primaryButton, secondaryButton } = content, restContent = __rest5(content, ["primaryButton", "secondaryButton"]);
  if (primaryButton) {
    props.primaryButton = getButtonProps(primaryButton, onMessageAction, onActionCallback);
  }
  if (secondaryButton) {
    props.secondaryButton = getButtonProps(secondaryButton, onMessageAction, onActionCallback);
  }
  return Object.assign(Object.assign({}, props), restContent);
};

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/hooks/useMessage/useMessage.js
var EMPTY_PROPS = Object.freeze({});
var logger2 = new ConsoleLogger("Notifications.InAppMessaging");
var { InAppMessaging } = Notifications_default;
function useMessage({ components, onMessageAction }) {
  const { clearMessage, message } = useInAppMessaging();
  const { BannerMessage, CarouselMessage, FullScreenMessage, ModalMessage } = components;
  if ((0, import_isNil.default)(message)) {
    return {
      Component: RenderNothing,
      props: EMPTY_PROPS
    };
  }
  const { content, layout } = message;
  const onActionCallback = () => {
    InAppMessaging.notifyMessageInteraction(message, InAppMessageInteractionEvent.MESSAGE_ACTION_TAKEN);
    clearMessage();
  };
  const onClose = () => {
    InAppMessaging.notifyMessageInteraction(message, InAppMessageInteractionEvent.MESSAGE_DISMISSED);
    clearMessage();
  };
  const onDisplay = () => {
    InAppMessaging.notifyMessageInteraction(message, InAppMessageInteractionEvent.MESSAGE_DISPLAYED);
  };
  switch (layout) {
    case "BOTTOM_BANNER":
    case "MIDDLE_BANNER":
    case "TOP_BANNER": {
      const props = Object.assign(Object.assign({}, getContentProps(content === null || content === void 0 ? void 0 : content[0], onMessageAction, onActionCallback)), {
        layout,
        onClose,
        onDisplay,
        position: getPositionProp(layout)
      });
      return { Component: BannerMessage, props };
    }
    case "CAROUSEL": {
      const props = {
        data: content === null || content === void 0 ? void 0 : content.map((item) => getContentProps(item, onMessageAction, onActionCallback)),
        layout,
        onClose,
        onDisplay
      };
      return { Component: CarouselMessage, props };
    }
    case "FULL_SCREEN": {
      const props = Object.assign(Object.assign({}, getContentProps(content === null || content === void 0 ? void 0 : content[0], onMessageAction, onActionCallback)), {
        layout,
        onClose,
        onDisplay
      });
      return { Component: FullScreenMessage, props };
    }
    case "MODAL": {
      const props = Object.assign(Object.assign({}, getContentProps(content === null || content === void 0 ? void 0 : content[0], onMessageAction, onActionCallback)), {
        layout,
        onClose,
        onDisplay
      });
      return { Component: ModalMessage, props };
    }
    default: {
      logger2.info(`Received unknown InAppMessage layout: ${layout}`);
      return {
        Component: RenderNothing,
        props: EMPTY_PROPS
      };
    }
  }
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/context/InAppMessagingProvider/InAppMessagingProvider.js
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
var import_react15 = __toESM(require_react());
var { InAppMessaging: InAppMessaging2 } = Notifications_default;
function InAppMessagingProvider({ children: children2 }) {
  const [message, setMessage] = (0, import_react15.useState)(null);
  (0, import_react15.useEffect)(() => {
    const listener = InAppMessaging2.onMessageReceived((message2) => {
      setMessage(message2);
    });
    return listener.remove;
  }, []);
  const clearMessage = (0, import_react15.useCallback)(() => {
    setMessage(null);
  }, []);
  const value = (0, import_react15.useMemo)(() => ({
    clearMessage,
    displayMessage: setMessage,
    message
  }), [clearMessage, message]);
  return (0, import_jsx_runtime4.jsx)(InAppMessagingContext.Provider, Object.assign({ value }, { children: children2 }));
}

// node_modules/@aws-amplify/ui-react-core/dist/esm/InAppMessaging/utils/handleMessageAction.js
var import_isString3 = __toESM(require_isString());
var logger3 = new ConsoleLogger("Notifications.InAppMessaging");
var handleMessageAction = ({ action, handleMessageLinkAction, url }) => {
  logger3.info(`Handle action: ${action}`);
  if (action === "LINK" || action === "DEEP_LINK") {
    if (!(0, import_isString3.default)(url)) {
      logger3.warn(`url must be of type string: ${url}`);
      return;
    }
    handleMessageLinkAction(url);
  }
};

// node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/usePreviousValue.js
var import_react16 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useHasValueUpdated.js
var import_isUndefined = __toESM(require_isUndefined());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/hooks/useCustomComponents/index.js
var o28 = __toESM(require_react());
var t10 = o28.createContext(null);
var e44 = () => {
  const e142 = o28.useContext(t10);
  if (!e142)
    throw new Error("`useCustomComponents` cannot be used outside of a `CustomComponentsContext.Provider`");
  return e142;
};

// node_modules/@aws-amplify/ui-react/node_modules/tslib/tslib.es6.js
function __rest6(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
}
function __awaiter3(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e142) {
        reject(e142);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e142) {
        reject(e142);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/View/View.js
var s10 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/styleUtils.js
var e47 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/types/style.js
var n15 = { alignContent: "alignContent", alignItems: "alignItems", alignSelf: "alignSelf", area: "gridArea", autoColumns: "gridAutoColumns", autoFlow: "gridAutoFlow", autoRows: "gridAutoRows", backgroundColor: "backgroundColor", backgroundImage: "backgroundImage", basis: "flexBasis", border: "border", borderRadius: "borderRadius", bottom: "bottom", boxShadow: "boxShadow", color: "color", column: "gridColumn", columnEnd: "gridColumnEnd", columnGap: "columnGap", columnSpan: "gridColumn", columnStart: "gridColumnStart", direction: "flexDirection", display: "display", flex: "flex", fontFamily: "fontFamily", fontSize: "fontSize", fontStyle: "fontStyle", fontWeight: "fontWeight", gap: "gap", grow: "flexGrow", height: "height", justifyContent: "justifyContent", left: "left", letterSpacing: "letterSpacing", lineHeight: "lineHeight", margin: "margin", marginBlock: "marginBlock", marginBlockEnd: "marginBlockEnd", marginBlockStart: "marginBlockStart", marginBottom: "marginBlockEnd", marginInline: "marginInline", marginInlineEnd: "marginInlineEnd", marginInlineStart: "marginInlineStart", marginLeft: "marginInlineStart", marginRight: "marginInlineEnd", marginTop: "marginBlockStart", maxHeight: "maxHeight", maxWidth: "maxWidth", minHeight: "minHeight", minWidth: "minWidth", objectFit: "objectFit", objectPosition: "objectPosition", opacity: "opacity", order: "order", overflow: "overflow", padding: "padding", paddingBlock: "paddingBlock", paddingBlockEnd: "paddingBlockEnd", paddingBlockStart: "paddingBlockStart", paddingBottom: "paddingBlockEnd", paddingInline: "paddingInline", paddingInlineEnd: "paddingInlineEnd", paddingInlineStart: "paddingInlineStart", paddingLeft: "paddingInlineStart", paddingRight: "paddingInlineEnd", paddingTop: "paddingBlockStart", position: "position", resize: "resize", right: "right", row: "gridRow", rowEnd: "gridRowEnd", rowGap: "rowGap", rowSpan: "gridRow", rowStart: "gridRowStart", shrink: "flexShrink", templateAreas: "gridTemplateAreas", templateColumns: "gridTemplateColumns", templateRows: "gridTemplateRows", textAlign: "textAlign", textDecoration: "textDecoration", textTransform: "textTransform", top: "top", transform: "transform", transformOrigin: "transformOrigin", width: "width", whiteSpace: "whiteSpace", wrap: "flexWrap" };
var i12 = Object.keys(n15);

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/constants.js
var t11 = { Alert: { className: e2.Alert, components: ["Alert"], description: "Top level element that wraps the Alert primitive" }, AlertIcon: { className: e2.AlertIcon, components: ["Alert"], description: "Class applied to Icon component within the Alert primitive" }, AlertHeading: { className: e2.AlertHeading, components: ["Alert"], description: "Class applied to the heading View" }, AlertBody: { className: e2.AlertBody, components: ["Alert"], description: "Class applied to the body View" }, AlertDismiss: { className: e2.AlertDismiss, components: ["Alert"], description: "Class applied to the close Button" }, Autocomplete: { className: e2.Autocomplete, components: ["Autocomplete"], description: "Top level element that wraps the Autocomplete primitive" }, AutocompleteMenu: { className: e2.AutocompleteMenu, components: ["Autocomplete"], description: "Top level element that wraps the dropdown menu" }, AutocompleteMenuEmpty: { className: e2.AutocompleteMenuEmpty, components: ["Autocomplete"], description: "Class applied to the no options slot of menu" }, AutocompleteMenuFooter: { className: e2.AutocompleteMenuFooter, components: ["Autocomplete"], description: "Class applied to menu footer" }, AutocompleteMenuHeader: { className: e2.AutocompleteMenuHeader, components: ["Autocomplete"], description: "Class applied to menu header" }, AutocompleteMenuLoading: { className: e2.AutocompleteMenuLoading, components: ["Autocomplete"], description: "Class applied to the loading slot of menu" }, AutocompleteMenuOption: { className: e2.AutocompleteMenuOption, components: ["Autocomplete"], description: "Class applied to each li option" }, AutocompleteMenuOptions: { className: e2.AutocompleteMenuOptions, components: ["Autocomplete"], description: "Class applied to ul container element" }, Badge: { className: e2.Badge, components: ["Badge"], description: "Top level element that wraps the Badge component" }, Button: { className: e2.Button, components: ["Button"], description: "Top level element that wraps the Button primitive" }, ButtonGroup: { className: e2.ButtonGroup }, ButtonLoaderWrapper: { className: e2.ButtonLoaderWrapper, components: ["Button"], description: "Class applied to the Loader component within the Button Loading state" }, Card: { className: e2.Card, components: ["Card"], description: "Top level element that wraps the Card primitive" }, Checkbox: { className: e2.Checkbox, components: ["Checkbox"], description: "Top level element that wraps the Checkbox primitive" }, CheckboxButton: { className: e2.CheckboxButton, components: ["Checkbox"], description: "Wrapper for the checked icon within the Checkbox primitive" }, CheckboxIcon: { className: e2.CheckboxIcon, components: ["Checkbox"], description: "Class applied to the checked icon within the Checkbox primitive" }, CheckboxInput: { className: e2.CheckboxInput, components: ["Checkbox"], description: "Class applied to the visually hidden checkbox input within the Checkbox primitive" }, CheckboxLabel: { className: e2.CheckboxLabel, components: ["Checkbox"], description: "Class applied to the label within the Checkbox primitive" }, CheckboxField: { className: e2.CheckboxField, components: ["CheckboxField"], description: "Top level element that wraps the CheckboxField primitive" }, Collection: { className: e2.Collection, components: ["Collection"], description: "Top level element that wraps the Collection primitive" }, CollectionItems: { className: e2.CollectionItems, components: ["Collection"], description: "Class applied to the element that wraps all the items in a collection" }, CollectionSearch: { className: e2.CollectionSearch, components: ["Collection"], description: "Class applied to the element that wraps the collection search box" }, CollectionPagination: { className: e2.CollectionPagination, components: ["Collection"], description: "Class applied to the element that wraps the pagination component in a collection" }, CountryCodeSelect: { className: e2.CountryCodeSelect, components: ["PhoneNumberField"], description: "Class applied to the Dial Code Select within the PhoneNumberField primitive" }, DialCodeSelect: { className: e2.DialCodeSelect, components: ["PhoneNumberField"], description: "Class applied to the Dial Code Select within the PhoneNumberField primitive" }, Divider: { className: e2.Divider, components: ["Divider"], description: "Top level element that wraps the Divider primitive" }, DividerLabel: { className: e2.DividerLabel, components: ["Divider"], description: "Class applied to the label of the Divider component" }, Expander: { className: e2.Expander, components: ["Expander"], description: "Top level element that wraps the Expander primitive" }, ExpanderContent: { className: e2.ExpanderContent, components: ["Expander"], description: "Expander content container" }, ExpanderContentText: { className: e2.ExpanderContentText, components: ["Expander"], description: "Expander content text" }, ExpanderHeader: { className: e2.ExpanderHeader, components: ["Expander"], description: "Expander item header" }, ExpanderIcon: { className: e2.ExpanderIcon, components: ["Expander"], description: "Icon to indicate whether an item is expanded or collapsed" }, ExpanderItem: { className: e2.ExpanderItem, components: ["Expander"], description: "Expander item(containier for header, trigger, and content)" }, ExpanderTrigger: { className: e2.ExpanderTrigger, components: ["Expander"], description: "Expander item trigger(button)" }, Field: { className: e2.Field }, FieldDescription: { className: e2.FieldDescription }, FieldErrorMessage: { className: e2.FieldErrorMessage }, FieldGroup: { className: e2.FieldGroup }, FieldGroupControl: { className: e2.FieldGroupControl }, FieldGroupOuterEnd: { className: e2.FieldGroupOuterEnd }, FieldGroupOuterStart: { className: e2.FieldGroupOuterStart }, FieldGroupInnerEnd: { className: e2.FieldGroupInnerEnd }, FieldGroupInnerStart: { className: e2.FieldGroupInnerStart }, FieldGroupIcon: { className: e2.FieldGroupIcon }, FieldGroupIconButton: { className: e2.FieldGroupIconButton }, FieldGroupHasInnerEnd: { className: e2.FieldGroupHasInnerEnd }, FieldGroupHasInnerStart: { className: e2.FieldGroupHasInnerStart }, FieldShowPassword: { className: e2.FieldShowPassword }, FieldGroupFieldWrapper: { className: e2.FieldGroupFieldWrapper }, Flex: { className: e2.Flex, components: ["Flex"], description: "Top level element that wraps the Flex primitive" }, Grid: { className: e2.Grid, components: ["Grid"], description: "Top level element that wraps the Grid primitive" }, Heading: { className: e2.Heading, components: ["Heading"], description: "Top level element that wraps the Heading primitive" }, HighlightMatch: { className: e2.HighlightMatch, components: ["HighlightMatch"], description: "Top level element that wraps the HighlightMatch primitive" }, HighlightMatchHighlighted: { className: e2.HighlightMatchHighlighted, components: ["HighlightMatch"], description: "Class applied to the highlighted text of the HighlightMatch primitive" }, Icon: { className: e2.Icon, components: ["Icon"], description: "Top level element that wraps the Icon primitive" }, Image: { className: e2.Image, components: ["Image"], description: "Top level element that wraps the Image primitive" }, Input: { className: e2.Input }, Label: { className: e2.Label }, Link: { className: e2.Link, components: ["Link"], description: "Top level element that wraps the Link primitive" }, Loader: { className: e2.Loader, components: ["Loader"], description: "Top level element that wraps the Loader primitive" }, LoaderDeterminate: { className: e2.LoaderDeterminate, components: ["Loader"], description: "Class applied to a determinate loader" }, LoaderPercentageText: { className: e2.LoaderPercentageText, components: ["Loader"], description: "Class applied to the percentage text of loader" }, MenuContent: { className: e2.MenuContent, components: ["Menu"], description: "Menu content container (Flex)" }, MenuContentWrapper: { className: e2.MenuContentWrapper, components: ["Menu"], description: "Menu content wrapper" }, MenuItem: { className: e2.MenuItem, components: ["Menu"], description: "Menu item button (MenuButton, wrapped in amplify-menu-content class)" }, MenuTrigger: { className: e2.MenuTrigger, components: ["Menu"], description: "Menu trigger button (MenuButton, not wrapped in amplify-menu-content class)" }, Pagination: { className: e2.Pagination, components: ["Pagination"], description: "Top level element that wraps the Pagination primitive" }, PaginationItemButton: { className: e2.PaginationItemButton, components: ["Pagination"], description: "Class applied to the pagination buttons" }, PaginationItemCurrent: { className: e2.PaginationItemCurrent, components: ["Pagination"], description: "Class applied to the currently selected pagination button" }, PaginationItemEllipsis: { className: e2.PaginationItemEllipsis, components: ["Pagination"], description: "Class applied to the ellipsis within the Pagination primitive" }, PasswordField: { className: e2.PasswordField, components: ["PasswordField"], description: "Top level element that wraps the PasswordField primitive" }, PhoneNumberField: { className: e2.PhoneNumberField, components: ["PhoneNumberField"], description: "Top level element that wraps the PhoneNumberField primitive" }, Placeholder: { className: e2.Placeholder, components: ["Placeholder"], description: "Top level element that wraps the Placeholder primitive" }, Radio: { className: e2.Radio, components: ["RadioGroupField", "Radio"], description: "Top level element that wraps the Radio primitive" }, RadioButton: { className: e2.RadioButton, components: ["RadioGroupField", "Radio"], description: "Class applied to the displayed radio button" }, RadioInput: { className: e2.RadioInput, components: ["RadioGroupField", "Radio"], description: "Class applied to the visually hidden radio input" }, RadioLabel: { className: e2.RadioLabel, components: ["RadioGroupField", "Radio"], description: "Class applied to the radio label" }, RadioGroupField: { className: e2.RadioGroupField, components: ["RadioGroupField"], description: "Top level element that wraps the RadioGroupField primitive" }, RadioGroup: { className: e2.RadioGroup, components: ["RadioGroupField"], description: "Class applied to the radio group wrapper" }, Rating: { className: e2.Rating, components: ["Rating"], description: "Top level element that wraps the Rating primitive" }, ScrollView: { className: e2.ScrollView, components: ["ScrollView"], description: "Top level element that wraps the ScrollView primitive" }, SearchField: { className: e2.SearchField, components: ["SearchField"], description: "Top level element that wraps the SearchField primitive" }, SearchFieldClear: { className: e2.SearchFieldClear, components: ["SearchField"], description: "Class applied to the search field clear button" }, SearchFieldSearch: { className: e2.SearchFieldSearch, components: ["SearchField"], description: "Class applied to the search button" }, Select: { className: e2.Select, components: ["Select", "SelectField"], description: "Class applied to the select element" }, SelectField: { className: e2.SelectField, components: ["SelectField"], description: "Top level element that wraps the SelectField primitive" }, SelectWrapper: { className: e2.SelectWrapper, components: ["Select", "SelectField"], description: "Class applied to the select wrapper" }, SelectIconWrapper: { className: e2.SelectIconWrapper, components: ["Select", "SelectField"], description: "Class applied to the select icon wrapper" }, SliderField: { className: e2.SliderField, components: ["SliderField"], description: "Top level element that wraps the SliderField primitive" }, SliderFieldGroup: { className: e2.SliderFieldGroup, components: ["SliderField"], description: "Class applied to the element that wraps the slider root" }, SliderFieldLabel: { className: e2.SliderFieldLabel, components: ["SliderField"], description: "Class applied to the slider label" }, SliderFieldRange: { className: e2.SliderFieldRange, components: ["SliderField"], description: "Class applied to the filled in portion of the slider track" }, SliderFieldRoot: { className: e2.SliderFieldRoot, components: ["SliderField"], description: "Class applied to the slider root which wraps the track and thumb" }, SliderFieldThumb: { className: e2.SliderFieldThumb, components: ["SliderField"], description: "Class applied to the slider thumb" }, SliderFieldTrack: { className: e2.SliderFieldTrack, components: ["SliderField"], description: "Class applied to the slider track" }, StepperField: { className: e2.StepperField, components: ["StepperField"], description: "Top level element that wraps the StepperField primitive" }, StepperFieldButtonDecrease: { className: e2.StepperFieldButtonDecrease, components: ["StepperField"], description: "Class applied to the decrease button" }, StepperFieldButtonIncrease: { className: e2.StepperFieldButtonIncrease, components: ["StepperField"], description: "Class applied to the increase button" }, StepperFieldInput: { className: e2.StepperFieldInput, components: ["StepperField"], description: "Class applied to the StepperField input" }, SwitchField: { className: e2.SwitchField, components: ["SwitchField"], description: "Top level element that wraps the SwitchField primitive" }, SwitchLabel: { className: e2.SwitchLabel, components: ["SwitchField"], description: "Class applied to the SwitchField label text" }, SwitchThumb: { className: e2.SwitchThumb, components: ["SwitchField"], description: "Class applied to the SwitchField thumb" }, SwitchTrack: { className: e2.SwitchTrack, components: ["SwitchField"], description: "Class applied to the SwitchField track" }, SwitchWrapper: { className: e2.SwitchWrapper, components: ["SwitchField"], description: "Class applied to the label element that wraps the SwitchField label and track" }, Table: { className: e2.Table, components: ["Table"], description: "Top level element that wraps the Table primitive" }, TableCaption: { className: e2.TableCaption, components: ["Table"], description: "Class applied to the content provided as the caption prop" }, TableBody: { className: e2.TableBody, components: ["Table"], description: "Class applied to TableBody component" }, TableTd: { className: e2.TableTd, components: ["Table"], description: 'Class applied to TableCell component rendered as a <td> element (<TableCell as="td" />)' }, TableTh: { className: e2.TableTh, components: ["Table"], description: 'Class applied to TableCell comopnent rendered as a <th> element (<TableCell as="th" />)' }, TableFoot: { className: e2.TableFoot, components: ["Table"], description: "Class applied to TableFoot component" }, TableHead: { className: e2.TableHead, components: ["Table"], description: "Class applied to TableHead component" }, TableRow: { className: e2.TableRow, components: ["Table"], description: "Class applied to TableRow component" }, Tabs: { className: e2.Tabs, components: ["Tabs"], description: "Top level element that wraps the Tabs primitive" }, TabItems: { className: e2.TabItems, components: ["Tabs"], description: "Top level element that wraps the TabItem primitive" }, Text: { className: e2.Text, components: ["Text"], description: "Top level element that wraps the Text primitive" }, Textarea: { className: e2.Textarea, components: ["TextAreaField"], description: "Class applied to the text area" }, TextAreaField: { className: e2.TextAreaField, components: ["TextAreaField"], description: "Top level element that wraps the TextAreaField primitive" }, TextField: { className: e2.TextField, components: ["TextField"], description: "Top level element that wraps the TextField primitive" }, ToggleButton: { className: e2.ToggleButton, components: ["ToggleButton"], description: "Top level element that wraps the ToggleButton primitive" }, ToggleButtonGroup: { className: e2.ToggleButtonGroup, components: ["ToggleButton", "ToggleButtonGroup"], description: "Top level element that wraps the ToggleButtonGroup primitive" }, VisuallyHidden: { className: e2.VisuallyHidden, components: ["VisuallyHidden"], description: "Top level element that wraps the VisuallyHidden primitive" } };
var a18 = { Alert: t11.Alert.className, AlertIcon: t11.AlertIcon.className, AlertHeading: t11.AlertHeading.className, AlertBody: t11.AlertBody.className, AlertDismiss: t11.AlertDismiss.className, Autocomplete: t11.Autocomplete.className, AutocompleteMenu: t11.AutocompleteMenu.className, AutocompleteMenuEmpty: t11.AutocompleteMenuEmpty.className, AutocompleteMenuFooter: t11.AutocompleteMenuFooter.className, AutocompleteMenuHeader: t11.AutocompleteMenuHeader.className, AutocompleteMenuLoading: t11.AutocompleteMenuLoading.className, AutocompleteMenuOption: t11.AutocompleteMenuOption.className, AutocompleteMenuOptions: t11.AutocompleteMenuOptions.className, Badge: t11.Badge.className, Button: t11.Button.className, ButtonGroup: t11.ButtonGroup.className, ButtonLoaderWrapper: t11.ButtonLoaderWrapper.className, Card: t11.Card.className, Checkbox: t11.Checkbox.className, CheckboxButton: t11.CheckboxButton.className, CheckboxIcon: t11.CheckboxIcon.className, CheckboxInput: t11.CheckboxInput.className, CheckboxLabel: t11.CheckboxLabel.className, CheckboxField: t11.CheckboxField.className, Collection: t11.Collection.className, CollectionItems: t11.CollectionItems.className, CollectionSearch: t11.CollectionSearch.className, CollectionPagination: t11.CollectionPagination.className, CountryCodeSelect: t11.CountryCodeSelect.className, DialCodeSelect: t11.DialCodeSelect.className, Divider: t11.Divider.className, DividerLabel: t11.DividerLabel.className, Expander: t11.Expander.className, ExpanderContent: t11.ExpanderContent.className, ExpanderContentText: t11.ExpanderContentText.className, ExpanderHeader: t11.ExpanderHeader.className, ExpanderIcon: t11.ExpanderIcon.className, ExpanderItem: t11.ExpanderItem.className, ExpanderTrigger: t11.ExpanderTrigger.className, Field: t11.Field.className, FieldDescription: t11.FieldDescription.className, FieldErrorMessage: t11.FieldErrorMessage.className, FieldGroup: t11.FieldGroup.className, FieldGroupControl: t11.FieldGroupControl.className, FieldGroupOuterEnd: t11.FieldGroupOuterEnd.className, FieldGroupOuterStart: t11.FieldGroupOuterStart.className, FieldGroupInnerEnd: t11.FieldGroupInnerEnd.className, FieldGroupInnerStart: t11.FieldGroupInnerStart.className, FieldGroupIcon: t11.FieldGroupIcon.className, FieldGroupIconButton: t11.FieldGroupIconButton.className, FieldGroupHasInnerEnd: t11.FieldGroupHasInnerEnd.className, FieldGroupHasInnerStart: t11.FieldGroupHasInnerStart.className, FieldShowPassword: t11.FieldShowPassword.className, FieldGroupFieldWrapper: t11.FieldGroupFieldWrapper.className, Flex: t11.Flex.className, Grid: t11.Grid.className, Heading: t11.Heading.className, HighlightMatch: t11.HighlightMatch.className, HighlightMatchHighlighted: t11.HighlightMatchHighlighted.className, Icon: t11.Icon.className, Image: t11.Image.className, Input: t11.Input.className, Label: t11.Label.className, Link: t11.Link.className, Loader: t11.Loader.className, LoaderDeterminate: t11.LoaderDeterminate.className, LoaderPercentageText: t11.LoaderPercentageText.className, MenuContent: t11.MenuContent.className, MenuContentWrapper: t11.MenuContentWrapper.className, MenuItem: t11.MenuItem.className, MenuTrigger: t11.MenuTrigger.className, Pagination: t11.Pagination.className, PaginationItemButton: t11.PaginationItemButton.className, PaginationItemCurrent: t11.PaginationItemCurrent.className, PaginationItemEllipsis: t11.PaginationItemEllipsis.className, PasswordField: t11.PasswordField.className, PhoneNumberField: t11.PhoneNumberField.className, Placeholder: t11.Placeholder.className, Radio: t11.Radio.className, RadioButton: t11.RadioButton.className, RadioInput: t11.RadioInput.className, RadioLabel: t11.RadioLabel.className, RadioGroupField: t11.RadioGroupField.className, RadioGroup: t11.RadioGroup.className, Rating: t11.Rating.className, ScrollView: t11.ScrollView.className, SearchField: t11.SearchField.className, SearchFieldClear: t11.SearchFieldClear.className, SearchFieldSearch: t11.SearchFieldSearch.className, Select: t11.Select.className, SelectField: t11.SelectField.className, SelectWrapper: t11.SelectWrapper.className, SelectIconWrapper: t11.SelectIconWrapper.className, SliderField: t11.SliderField.className, SliderFieldGroup: t11.SliderFieldGroup.className, SliderFieldLabel: t11.SliderFieldLabel.className, SliderFieldRange: t11.SliderFieldRange.className, SliderFieldRoot: t11.SliderFieldRoot.className, SliderFieldThumb: t11.SliderFieldThumb.className, SliderFieldTrack: t11.SliderFieldTrack.className, StepperField: t11.StepperField.className, StepperFieldButtonDecrease: t11.StepperFieldButtonDecrease.className, StepperFieldButtonIncrease: t11.StepperFieldButtonIncrease.className, StepperFieldInput: t11.StepperFieldInput.className, SwitchField: t11.SwitchField.className, SwitchLabel: t11.SwitchLabel.className, SwitchThumb: t11.SwitchThumb.className, SwitchTrack: t11.SwitchTrack.className, SwitchWrapper: t11.SwitchWrapper.className, Table: t11.Table.className, TableCaption: t11.TableCaption.className, TableBody: t11.TableBody.className, TableTd: t11.TableTd.className, TableTh: t11.TableTh.className, TableFoot: t11.TableFoot.className, TableHead: t11.TableHead.className, TableRow: t11.TableRow.className, Tabs: t11.Tabs.className, TabItems: t11.TabItems.className, Text: t11.Text.className, Textarea: t11.Textarea.className, TextAreaField: t11.TextAreaField.className, TextField: t11.TextField.className, ToggleButton: t11.ToggleButton.className, ToggleButtonGroup: t11.ToggleButtonGroup.className, VisuallyHidden: t11.VisuallyHidden.className };
var o29 = { Alert: { dismissButtonLabel: "Dismiss alert" }, Autocomplete: { emptyText: "No options found", loadingText: "Loading options..." }, Collection: { searchButtonLabel: "Search", searchNoResultsFound: "No results found" }, Fields: { clearButtonLabel: "Clear input" }, PaginationItem: { currentPageLabel: "Page", nextLabel: "Go to next page", pageLabel: "Go to page", previousLabel: "Go to previous page" }, PhoneNumberField: { countryCodeLabel: "Country code" }, SearchField: { searchButtonLabel: "Search" }, PasswordField: { passwordIsHidden: "Password is hidden", passwordIsShown: "Password is shown", showPassword: "Show password" }, StepperField: { increaseButtonLabel: "Increase to", decreaseButtonLabel: "Decrease to" } };
var l8 = { backgroundColor: "colors", color: "colors", borderRadius: "radii", fontSize: "fontSizes", fontWeight: "fontWeights", fontFamily: "fonts", lineHeight: "lineHeights", opacity: "opacities", boxShadow: "shadows", transform: "transforms", left: "space", right: "space", top: "space", bottom: "space", height: "space", width: "space", letterSpacing: "space", margin: "space", marginBlock: "space", marginBlockEnd: "space", marginBlockStart: "space", marginInline: "space", marginInlineEnd: "space", marginInlineStart: "space", marginLeft: "space", marginRight: "space", marginTop: "space", marginBottom: "space", maxHeight: "space", maxWidth: "space", minHeight: "space", minWidth: "space", padding: "space", paddingBlock: "space", paddingBlockEnd: "space", paddingBlockStart: "space", paddingInline: "space", paddingInlineEnd: "space", paddingInlineStart: "space", paddingLeft: "space", paddingRight: "space", paddingTop: "space", paddingBottom: "space", gap: "space", columnGap: "space", rowGap: "space" };
var i13 = "Escape";
var s8 = "Enter";
var n16 = "ArrowUp";
var p4 = "ArrowDown";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/utils.js
var o30 = (t87) => "string" == typeof t87 && t87.length > 0;
var e45 = (t87) => "function" == typeof t87;
var l9 = (t87) => "string" == typeof t87 && 0 === t87.length;
var i14 = (t87) => null == t87 || l9(t87);
var s9 = (t87, n45) => {
  const r61 = n45 - t87 + 1;
  return Array.from({ length: r61 }, (n46, r62) => r62 + t87);
};
var f6 = (t87, n45) => n45 ? `${t87}--${n45}` : null;
var p5 = (t87, n45, r61) => r61 ? `${t87}--${n45}` : null;
var u6 = (o101, e142, l29) => {
  if ("string" != typeof e142)
    return e142;
  if (e142.includes(" "))
    return e142.split(" ").map((t87) => u6(o101, t87, l29)).join(" ");
  const i67 = e142.split("."), s62 = l8[o101];
  let f21 = l29[s62];
  for (let t87 = 0; t87 < i67.length && f21; t87++)
    f21 = f21[i67[t87]];
  return p3(f21) ? `var(--${l6({ path: [l8[o101], ...i67] })})` : e142;
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/responsive/utils.js
var o31 = ({ breakpoint: o101, breakpoints: e142, propKey: n45, values: s62, tokens: i67 }) => {
  if (p3(s62))
    return s62.toString();
  if ("object" != typeof s62)
    return u6(n45, s62, i67);
  let p17 = {};
  const a82 = Object.keys(e142).sort((t87, r61) => e142[t87] - e142[r61]);
  return Array.isArray(s62) ? s62.map((t87, r61) => {
    p17[a82[r61]] = t87;
  }) : p17 = s62, (({ breakpoint: o102, breakpoints: e143, propKey: n46, values: s63, tokens: i68 }) => {
    if (void 0 !== s63[o102]) {
      const e144 = s63[o102];
      return p3(e144) ? e144.toString() : u6(n46, e144, i68);
    }
    const p18 = Object.keys(e143).sort((t87, r61) => e143[r61] - e143[t87]), a83 = p18.slice(p18.indexOf(o102));
    for (const o103 of a83)
      if (void 0 !== s63[o103]) {
        const e144 = s63[o103];
        return p3(e144) ? e144.toString() : u6(n46, e144, i68);
      }
    return null;
  })({ breakpoint: o101, breakpoints: e142, propKey: n45, values: p17, tokens: i67 });
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/responsive/useBreakpoint.js
var e46 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/responsive/getMediaQueries.js
var t12 = ({ breakpoints: t87 }) => {
  const n45 = Object.keys(t87).sort((n46, e142) => t87[e142] - t87[n46]);
  return n45.map((e142, r61) => {
    let i67 = "";
    const o101 = t87[e142], a82 = n45[r61 - 1], p17 = a82 ? t87[a82] - 1 : null;
    return o101 >= 0 && (i67 = `(min-width: ${o101}px)`), null !== p17 && (i67 && (i67 += " and "), i67 += `(max-width: ${p17}px)`), { breakpoint: e142, query: i67, maxWidth: p17, minWidth: o101 };
  });
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/responsive/useBreakpoint.js
var n17 = "undefined" == typeof window ? e46.useEffect : e46.useLayoutEffect;
var o32 = ({ breakpoints: o101, defaultBreakpoint: a82 }) => {
  const r61 = "undefined" != typeof window && void 0 !== window.matchMedia ? window.matchMedia : null, i67 = e46.useMemo(() => t12({ breakpoints: o101 }), [o101]), [s62, u20] = e46.useState(a82), c22 = e46.useCallback((e142, t87) => {
    e142 && u20(t87);
  }, [u20]);
  return n17(() => {
    if (!r61)
      return;
    const e142 = i67.map(({ query: e143, breakpoint: t87 }) => {
      const n45 = r61(e143);
      c22(n45.matches, t87);
      const o102 = (e144) => {
        e144.matches && u20(t87);
      };
      return n45.addEventListener("change", o102), () => n45.removeEventListener("change", o102);
    });
    return () => {
      e142.forEach((e143) => e143());
    };
  }, [o101, u20, r61, i67]), e46.useDebugValue(s62, (e142) => e142), s62;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/ThemeProvider/AmplifyContext.js
var t13 = __toESM(require_react());
var o33 = t13.createContext({ theme: m3() });

// node_modules/@aws-amplify/ui-react/dist/esm/hooks/useTheme.js
var o34 = __toESM(require_react());
var m4 = (o101) => void 0 === o101 || void 0 === o101.theme ? m3() : o101.theme;
var r9 = () => {
  const t87 = o34.useContext(o33);
  return m4(t87);
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/shared/styleUtils.js
var i15 = (o101) => "auto" === o101 || "number" == typeof o101 && !isNaN(o101) || "string" == typeof o101 && !isNaN(parseFloat(o101));
var u7 = (o101) => "auto" === o101 ? "auto" : `span ${o101}`;
var l10 = (o101) => {
  if (i15(o101))
    return u7(o101);
  if (Array.isArray(o101))
    return o101.map((o102) => u7(o102));
  if ("object" == typeof o101 && null != o101) {
    const e142 = {};
    return Object.entries(o101).forEach(([o102, r61]) => {
      e142[o102] = u7(r61);
    }), e142;
  }
  return null;
};
var m5 = (r61) => {
  const { rowSpan: t87, columnSpan: s62, row: n45, column: a82 } = r61, i67 = __rest6(r61, ["rowSpan", "columnSpan", "row", "column"]), { rowFromSpanValue: u20, columnFromSpanValue: m29 } = e47.useMemo(() => ({ rowFromSpanValue: l10(t87), columnFromSpanValue: l10(s62) }), [t87, s62]);
  return Object.assign({ row: i14(n45) ? u20 : n45, column: i14(a82) ? m29 : a82 }, i67);
};
var c6 = ({ props: o101 = {}, style: e142 = {}, breakpoint: s62, breakpoints: n45, tokens: p17 }) => {
  const i67 = {};
  return Object.keys(o101).filter((e143) => null != o101[e143]).forEach((u20) => {
    if (u20 in n15) {
      if (!l9(o101[u20])) {
        const a82 = o101[u20], i68 = n15[u20];
        e142 = Object.assign(Object.assign({}, e142), { [i68]: o31({ values: a82, breakpoint: s62, breakpoints: n45, propKey: u20, tokens: p17 }) });
      }
    } else
      i67[u20] = o101[u20];
  }), { propStyles: e142, nonStyleProps: i67 };
};
var f7 = (o101, r61) => {
  const { breakpoints: { values: t87, defaultBreakpoint: p17 }, tokens: a82 } = r9(), i67 = o32({ breakpoints: t87, defaultBreakpoint: p17 }), u20 = m5(o101);
  return e47.useMemo(() => c6({ props: u20, style: r61, breakpoint: i67, breakpoints: t87, tokens: a82 }), [u20, r61, t87, i67, a82]);
};
var k4 = (o101) => {
  const e142 = { styleProps: {}, rest: {} };
  return Object.keys(o101).forEach((t87) => {
    t87 in n15 ? e142.styleProps[t87] = o101[t87] : e142.rest[t87] = o101[t87];
  }), e142;
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/View/View.js
var a19 = s10.forwardRef((a82, r61) => {
  var { as: i67 = "div", children: l29, testId: d10, ariaLabel: o101, isDisabled: n45, style: b7 } = a82, m29 = __rest6(a82, ["as", "children", "testId", "ariaLabel", "isDisabled", "style"]);
  const { propStyles: p17, nonStyleProps: c22 } = f7(m29, b7);
  return s10.createElement(i67, Object.assign({ "aria-label": o101, "data-testid": d10, disabled: n45, ref: r61, style: p17 }, c22), l29);
});
a19.displayName = "View";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/Router/Router.js
var import_jsx_runtime61 = __toESM(require_jsx_runtime());
var import_react32 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ConfirmSignUp/ConfirmSignUp.js
var import_jsx_runtime41 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Button/Button.js
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
var import_classnames3 = __toESM(require_classnames());
var o35 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Flex/Flex.js
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
var s11 = __toESM(require_react());
var import_classnames = __toESM(require_classnames());
var t14 = s11.forwardRef((s62, t87) => {
  var { className: i67, children: c22 } = s62, l29 = __rest6(s62, ["className", "children"]);
  return (0, import_jsx_runtime5.jsx)(a19, Object.assign({ className: (0, import_classnames.default)(a18.Flex, i67), ref: t87 }, l29, { children: c22 }));
});
t14.displayName = "Flex";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Loader/Loader.js
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
var a21 = __toESM(require_react());
var import_classnames2 = __toESM(require_classnames());
var f8 = 84 * Math.PI;
var g3 = a21.forwardRef((a82, n45) => {
  var { className: d10, filledColor: c22, emptyColor: m29, size: y9, variation: p17, isDeterminate: g14 = false, isPercentageTextHidden: x5 = false, percentage: h12 = 0 } = a82, u20 = __rest6(a82, ["className", "filledColor", "emptyColor", "size", "variation", "isDeterminate", "isPercentageTextHidden", "percentage"]);
  h12 = Math.min(h12, 100);
  const v5 = `${h12 = Math.max(h12, 0)}%`, k6 = (0, import_classnames2.default)(a18.Loader, f6(a18.Loader, y9), f6(a18.Loader, p17), g14 ? a18.LoaderDeterminate : null, d10), j7 = (0, import_jsx_runtime6.jsxs)("g", { children: [(0, import_jsx_runtime6.jsx)("line", { x1: "0", x2: "100%", y1: "50%", y2: "50%", style: { stroke: String(m29) }, "data-testid": "linear-empty" }), (0, import_jsx_runtime6.jsx)("line", { x1: "0", x2: g14 ? v5 : "100%", y1: "50%", y2: "50%", style: { stroke: g14 && 0 === h12 ? "none" : c22 ? String(c22) : void 0 }, "data-testid": "linear-filled" }), g14 ? (0, import_jsx_runtime6.jsx)("text", Object.assign({ "aria-live": "polite", className: (0, import_classnames2.default)(a18.LoaderPercentageText, x5 ? a18.VisuallyHidden : null), x: `${-1 + h12}%`, y: "200%" }, { children: v5 })) : null] }), L = (0, import_jsx_runtime6.jsxs)("g", { children: [(0, import_jsx_runtime6.jsx)("circle", { cx: "50%", cy: "50%", r: "42%", strokeWidth: "8%", style: { stroke: String(m29) }, "data-testid": "circular-empty" }), (0, import_jsx_runtime6.jsx)("circle", { cx: "50%", cy: "50%", r: "42%", strokeWidth: "8%", style: { stroke: String(c22), strokeDasharray: g14 ? `${f8}% ${f8}%` : void 0, strokeDashoffset: g14 ? f8 - f8 * h12 / 100 + "%" : void 0 }, "data-testid": "circular-filled" }), g14 ? (0, import_jsx_runtime6.jsx)("text", Object.assign({ "aria-live": "polite", className: (0, import_classnames2.default)(a18.LoaderPercentageText, x5 ? a18.VisuallyHidden : null), x: "130%", y: "80%" }, { children: v5 })) : null] });
  return (0, import_jsx_runtime6.jsx)(a19, Object.assign({ as: "svg", className: k6, "data-size": y9, "data-variation": p17, ref: n45, role: "img" }, u20, { children: "linear" === p17 ? j7 : L }));
});
g3.displayName = "Loader";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Button/Button.js
var u8 = o35.forwardRef((o101, u20) => {
  var { className: p17, children: c22, isFullWidth: f21 = false, isDisabled: b7, isLoading: h12, loadingText: g14 = "", size: j7, type: B2 = "button", variation: x5 } = o101, w3 = __rest6(o101, ["className", "children", "isFullWidth", "isDisabled", "isLoading", "loadingText", "size", "type", "variation"]);
  const F4 = (0, import_classnames3.default)(a18.Button, a18.FieldGroupControl, f6(a18.Button, x5), f6(a18.Button, j7), p5(a18.Button, "disabled", b7 || h12 || w3.disabled), p5(a18.Button, "loading", h12), p5(a18.Button, "fullwidth", f21), p17);
  return (0, import_jsx_runtime7.jsx)(a19, Object.assign({ ref: u20, as: "button", className: F4, "data-fullwidth": f21, "data-loading": h12, "data-size": j7, "data-variation": x5, isDisabled: b7 || h12, type: B2 }, w3, { children: h12 ? (0, import_jsx_runtime7.jsxs)(t14, Object.assign({ as: "span", className: a18.ButtonLoaderWrapper }, { children: [(0, import_jsx_runtime7.jsx)(g3, { size: j7 }), g14 || null] })) : c22 }));
});
u8.displayName = "Button";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Heading/Heading.js
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
var a23 = __toESM(require_react());
var import_classnames4 = __toESM(require_classnames());
var n18 = { 1: "h1", 2: "h2", 3: "h3", 4: "h4", 5: "h5", 6: "h6" };
var c7 = a23.forwardRef((a82, c22) => {
  var { className: d10, children: l29, isTruncated: h12, level: f21 = 6 } = a82, p17 = __rest6(a82, ["className", "children", "isTruncated", "level"]);
  return (0, import_jsx_runtime8.jsx)(a19, Object.assign({ as: n18[f21], className: (0, import_classnames4.default)(a18.Heading, f6(a18.Heading, f21), p5(a18.Heading, "truncated", h12), d10), ref: c22 }, p17, { children: l29 }));
});
c7.displayName = "Heading";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Text/Text.js
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
var t16 = __toESM(require_react());
var import_classnames5 = __toESM(require_classnames());
var n19 = t16.forwardRef((t87, n45) => {
  var { as: c22 = "p", className: d10, children: f21, isTruncated: l29, variation: p17 } = t87, u20 = __rest6(t87, ["as", "className", "children", "isTruncated", "variation"]);
  const x5 = (0, import_classnames5.default)(a18.Text, f6(a18.Text, p17), p5(a18.Text, "truncated", l29), d10);
  return (0, import_jsx_runtime9.jsx)(a19, Object.assign({ as: c22, className: x5, "data-truncate": l29, "data-variation": p17, ref: n45 }, u20, { children: f21 }));
});
n19.displayName = "Text";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/hooks/useFormHandlers/useFormHandlers.js
var import_react17 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/helpers/utils.js
var n20 = (r61) => {
  const e142 = new FormData(r61.target);
  return Object.fromEntries(e142);
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/hooks/useFormHandlers/useFormHandlers.js
function a24() {
  const { submitForm: a82, updateBlur: m29, updateForm: u20 } = useAuthenticator((e142) => [e142.submitForm, e142.updateBlur, e142.updateForm]);
  return { handleBlur: (0, import_react17.useCallback)(({ target: { name: e142 } }) => {
    m29({ name: e142 });
  }, [m29]), handleChange: (0, import_react17.useCallback)(({ target: { checked: e142, name: t87, type: r61, value: a83 } }) => {
    u20({ name: t87, value: "checkbox" === r61 && !e142 ? void 0 : a83 });
  }, [u20]), handleSubmit: (0, import_react17.useCallback)((e142) => {
    e142.preventDefault(), a82(n20(e142));
  }, [a82]) };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/RemoteErrorMessage.js
var import_jsx_runtime17 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Alert/Alert.js
var import_jsx_runtime16 = __toESM(require_jsx_runtime());
var r13 = __toESM(require_react());
var import_classnames12 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Alert/AlertIcon.js
var import_jsx_runtime14 = __toESM(require_jsx_runtime());
var import_classnames10 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconCheckCircle.js
var import_jsx_runtime10 = __toESM(require_jsx_runtime());
var import_classnames6 = __toESM(require_classnames());
var o36 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime10.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames6.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime10.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime10.jsx)("path", { d: "M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconError.js
var import_jsx_runtime11 = __toESM(require_jsx_runtime());
var import_classnames7 = __toESM(require_classnames());
var o37 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime11.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames7.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime11.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime11.jsx)("path", { d: "M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconInfo.js
var import_jsx_runtime12 = __toESM(require_jsx_runtime());
var import_classnames8 = __toESM(require_classnames());
var o38 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime12.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames8.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime12.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime12.jsx)("path", { d: "M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconWarning.js
var import_jsx_runtime13 = __toESM(require_jsx_runtime());
var import_classnames9 = __toESM(require_classnames());
var o39 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime13.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames9.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime13.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime13.jsx)("path", { d: "M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Alert/AlertIcon.js
var a25 = ({ variation: a82, ariaHidden: c22 }) => {
  switch (a82) {
    case "info":
      return (0, import_jsx_runtime14.jsx)(o38, { "aria-hidden": c22, className: a18.AlertIcon });
    case "error":
      return (0, import_jsx_runtime14.jsx)(o37, { "aria-hidden": c22, className: a18.AlertIcon });
    case "warning":
      return (0, import_jsx_runtime14.jsx)(o39, { "aria-hidden": c22, className: a18.AlertIcon });
    case "success":
      return (0, import_jsx_runtime14.jsx)(o36, { "aria-hidden": c22, className: a18.AlertIcon });
    default:
      return null;
  }
};
a25.displayName = "AlertIcon";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconClose.js
var import_jsx_runtime15 = __toESM(require_jsx_runtime());
var import_classnames11 = __toESM(require_classnames());
var o40 = (o101) => {
  const { className: m29, size: n45 } = o101, a82 = __rest6(o101, ["className", "size"]);
  return (0, import_jsx_runtime15.jsx)(a19, Object.assign({ as: "span", width: n45 || "1em", height: n45 || "1em", className: (0, import_classnames11.default)(a18.Icon, m29) }, a82, { children: (0, import_jsx_runtime15.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: n45 && { width: n45, height: n45 } }, { children: (0, import_jsx_runtime15.jsx)("path", { d: "M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Alert/Alert.js
var h5 = r13.forwardRef((h12, j7) => {
  var { buttonRef: p17, children: u20, className: g14, dismissButtonLabel: A3 = o29.Alert.dismissButtonLabel, hasIcon: N5 = true, heading: v5, isDismissible: B2 = false, onDismiss: x5, variation: D3 } = h12, I2 = __rest6(h12, ["buttonRef", "children", "className", "dismissButtonLabel", "hasIcon", "heading", "isDismissible", "onDismiss", "variation"]);
  const [O2, L] = r13.useState(false), k6 = r13.useCallback(() => {
    L(!O2), e45(x5) && x5();
  }, [L, x5, O2]);
  return !O2 && (0, import_jsx_runtime16.jsxs)(t14, Object.assign({ className: (0, import_classnames12.default)(a18.Alert, g14, f6(a18.Alert, D3)), "data-variation": D3, ref: j7, role: "alert" }, I2, { children: [N5 && (0, import_jsx_runtime16.jsx)(a25, { variation: D3, ariaHidden: true }), (0, import_jsx_runtime16.jsxs)(a19, Object.assign({ flex: "1" }, { children: [v5 && (0, import_jsx_runtime16.jsx)(a19, Object.assign({ className: a18.AlertHeading }, { children: v5 })), (0, import_jsx_runtime16.jsx)(a19, Object.assign({ className: a18.AlertBody }, { children: u20 }))] })), B2 && (0, import_jsx_runtime16.jsx)(u8, Object.assign({ ariaLabel: A3, variation: "link", className: a18.AlertDismiss, onClick: k6, ref: p17 }, { children: (0, import_jsx_runtime16.jsx)(o40, { "aria-hidden": "true" }) }))] }));
});
h5.displayName = "Alert";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/RemoteErrorMessage.js
var m6 = () => {
  const { error: m29 } = useAuthenticator((r61) => [r61.error]);
  return (0, import_jsx_runtime17.jsx)(import_jsx_runtime17.Fragment, { children: m29 ? (0, import_jsx_runtime17.jsx)(h5, Object.assign({ variation: "error", isDismissible: true }, { children: b2(m29) })) : null });
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/FormFields.js
var import_jsx_runtime39 = __toESM(require_jsx_runtime());
var t35 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/FormField.js
var import_jsx_runtime38 = __toESM(require_jsx_runtime());
var t34 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PasswordField/PasswordField.js
var import_jsx_runtime31 = __toESM(require_jsx_runtime());
var import_classnames25 = __toESM(require_classnames());
var a32 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PasswordField/ShowPasswordButton.js
var import_jsx_runtime21 = __toESM(require_jsx_runtime());
var r16 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/VisuallyHidden/VisuallyHidden.js
var import_jsx_runtime18 = __toESM(require_jsx_runtime());
var a27 = __toESM(require_react());
var import_classnames13 = __toESM(require_classnames());
var o41 = a27.forwardRef((a82, o101) => {
  var { as: t87 = "span", children: l29, className: n45 } = a82, c22 = __rest6(a82, ["as", "children", "className"]);
  return (0, import_jsx_runtime18.jsx)(a19, Object.assign({ as: t87, className: (0, import_classnames13.default)(a18.VisuallyHidden, n45), ref: o101 }, c22, { children: l29 }));
});
o41.displayName = "VisuallyHidden";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PasswordField/ShowPasswordButton.js
var import_classnames16 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconVisibilityOff.js
var import_jsx_runtime19 = __toESM(require_jsx_runtime());
var import_classnames14 = __toESM(require_classnames());
var i20 = (i67) => {
  const { className: o101 } = i67, m29 = __rest6(i67, ["className"]);
  return (0, import_jsx_runtime19.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames14.default)(a18.Icon, o101) }, m29, { children: (0, import_jsx_runtime19.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime19.jsx)("path", { d: "M12 6.0002C15.79 6.0002 19.17 8.1302 20.82 11.5002C20.23 12.7202 19.4 13.7702 18.41 14.6202L19.82 16.0302C21.21 14.8002 22.31 13.2602 23 11.5002C21.27 7.1102 17 4.0002 12 4.0002C10.73 4.0002 9.51 4.2002 8.36 4.5702L10.01 6.2202C10.66 6.0902 11.32 6.0002 12 6.0002ZM10.93 7.14019L13 9.2102C13.57 9.4602 14.03 9.9202 14.28 10.4902L16.35 12.5602C16.43 12.2202 16.49 11.8602 16.49 11.4902C16.5 9.0102 14.48 7.0002 12 7.0002C11.63 7.0002 11.28 7.05019 10.93 7.14019ZM2.01 3.8702L4.69 6.5502C3.06 7.8302 1.77 9.5302 1 11.5002C2.73 15.8902 7 19.0002 12 19.0002C13.52 19.0002 14.98 18.7102 16.32 18.1802L19.74 21.6002L21.15 20.1902L3.42 2.4502L2.01 3.8702ZM9.51 11.3702L12.12 13.9802C12.08 13.9902 12.04 14.0002 12 14.0002C10.62 14.0002 9.5 12.8802 9.5 11.5002C9.5 11.4502 9.51 11.4202 9.51 11.3702V11.3702ZM6.11 7.97019L7.86 9.7202C7.63 10.2702 7.5 10.8702 7.5 11.5002C7.5 13.9802 9.52 16.0002 12 16.0002C12.63 16.0002 13.23 15.8702 13.77 15.6402L14.75 16.6202C13.87 16.8602 12.95 17.0002 12 17.0002C8.21 17.0002 4.83 14.8702 3.18 11.5002C3.88 10.0702 4.9 8.89019 6.11 7.97019Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconVisibility.js
var import_jsx_runtime20 = __toESM(require_jsx_runtime());
var import_classnames15 = __toESM(require_classnames());
var o42 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime20.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames15.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime20.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime20.jsx)("path", { d: "M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PasswordField/ShowPasswordButton.js
var { passwordIsHidden: l11, passwordIsShown: p6, showPassword: m7 } = o29.PasswordField;
var c8 = r16.forwardRef((r61, t87) => {
  var { fieldType: c22, passwordIsHiddenLabel: f21 = l11, passwordIsShownLabel: h12 = p6, showPasswordButtonLabel: b7 = m7, size: I2 } = r61, j7 = __rest6(r61, ["fieldType", "passwordIsHiddenLabel", "passwordIsShownLabel", "showPasswordButtonLabel", "size"]);
  return (0, import_jsx_runtime21.jsxs)(u8, Object.assign({ "aria-checked": "password" !== c22, ariaLabel: b7, className: a18.FieldShowPassword, ref: t87, role: "switch", size: I2 }, j7, { children: [(0, import_jsx_runtime21.jsx)(o41, Object.assign({ "aria-live": "polite" }, { children: "password" === c22 ? f21 : h12 })), (0, import_jsx_runtime21.jsx)("password" === c22 ? o42 : i20, { size: I2 })] }));
});
c8.displayName = "ShowPasswordButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/TextField/TextField.js
var import_jsx_runtime30 = __toESM(require_jsx_runtime());
var o49 = __toESM(require_react());
var import_classnames24 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Field/FieldClearButton.js
var import_jsx_runtime24 = __toESM(require_jsx_runtime());
var e60 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/FieldGroupIcon/FieldGroupIcon.js
var import_jsx_runtime22 = __toESM(require_jsx_runtime());
var s15 = __toESM(require_react());
var import_classnames17 = __toESM(require_classnames());
var m8 = s15.forwardRef((s62, m29) => {
  var { className: l29, children: t87, isVisible: c22 = true, excludeFromTabOrder: d10 = false } = s62, n45 = __rest6(s62, ["className", "children", "isVisible", "excludeFromTabOrder"]);
  return c22 ? (0, import_jsx_runtime22.jsx)(a19, Object.assign({ className: (0, import_classnames17.default)(a18.FieldGroupIcon, l29), ref: m29, tabIndex: d10 ? -1 : void 0 }, n45, { children: t87 })) : null;
});
m8.displayName = "FieldGroupIcon";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/FieldGroupIcon/FieldGroupIconButton.js
var import_jsx_runtime23 = __toESM(require_jsx_runtime());
var t24 = __toESM(require_react());
var import_classnames18 = __toESM(require_classnames());
var i23 = t24.forwardRef((t87, i67) => {
  var { children: n45, className: c22 } = t87, l29 = __rest6(t87, ["children", "className"]);
  return (0, import_jsx_runtime23.jsx)(m8, Object.assign({ as: u8, className: (0, import_classnames18.default)(a18.FieldGroupIconButton, c22), ref: i67 }, l29, { children: n45 }));
});
i23.displayName = "FieldGroupIconButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Field/FieldClearButton.js
var import_classnames19 = __toESM(require_classnames());
var s17 = o29.Fields.clearButtonLabel;
var m9 = e60.forwardRef((e142, t87) => {
  var { ariaLabel: m29 = s17, size: n45 } = e142, l29 = __rest6(e142, ["ariaLabel", "size"]);
  return (0, import_jsx_runtime24.jsx)(i23, Object.assign({ ariaLabel: m29, ref: t87 }, l29, { children: (0, import_jsx_runtime24.jsx)(o40, { size: n45 }) }));
});
m9.displayName = "FieldClearButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Field/FieldDescription.js
var import_jsx_runtime25 = __toESM(require_jsx_runtime());
var import_classnames20 = __toESM(require_classnames());
var a28 = (d10) => {
  var { descriptiveText: a82, labelHidden: l29 } = d10, o101 = __rest6(d10, ["descriptiveText", "labelHidden"]);
  return a82 ? (0, import_jsx_runtime25.jsx)(n19, Object.assign({ "data-testid": "qa-field-description", className: (0, import_classnames20.default)(a18.FieldDescription, { [a18.VisuallyHidden]: l29 }) }, o101, { children: a82 })) : null;
};
a28.displayName = "FieldDescription";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Field/FieldErrorMessage.js
var import_jsx_runtime26 = __toESM(require_jsx_runtime());
var a29 = (a82) => {
  var { errorMessage: t87, hasError: i67 } = a82, m29 = __rest6(a82, ["errorMessage", "hasError"]);
  return i67 && t87 ? (0, import_jsx_runtime26.jsx)(n19, Object.assign({ className: a18.FieldErrorMessage }, m29, { children: t87 })) : null;
};
a29.displayName = "FieldErrorMessage";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/FieldGroup/FieldGroup.js
var import_jsx_runtime27 = __toESM(require_jsx_runtime());
var t26 = __toESM(require_react());
var import_classnames21 = __toESM(require_classnames());
var d4 = t26.forwardRef((t87, d10) => {
  var { children: m29, className: p17, innerEndComponent: c22, innerStartComponent: u20, orientation: F4 = "horizontal", outerEndComponent: G, outerStartComponent: f21, variation: h12 } = t87, j7 = __rest6(t87, ["children", "className", "innerEndComponent", "innerStartComponent", "orientation", "outerEndComponent", "outerStartComponent", "variation"]);
  const O2 = null != c22, N5 = null != u20 ? a18.FieldGroupHasInnerStart : null, C7 = O2 ? a18.FieldGroupHasInnerEnd : null, E4 = (0, import_classnames21.default)(a18.FieldGroup, N5, C7, f6(a18.FieldGroup, F4), p17);
  return (0, import_jsx_runtime27.jsxs)(t14, Object.assign({ className: E4, "data-orientation": F4, ref: d10 }, j7, { children: [f21 && (0, import_jsx_runtime27.jsx)(a19, Object.assign({ className: (0, import_classnames21.default)(a18.FieldGroupOuterStart, f6(a18.FieldGroupOuterStart, h12)) }, { children: f21 })), (0, import_jsx_runtime27.jsxs)(a19, Object.assign({ className: (0, import_classnames21.default)(a18.FieldGroupFieldWrapper, f6(a18.FieldGroupFieldWrapper, F4)), "data-orientation": F4 }, { children: [u20 && (0, import_jsx_runtime27.jsx)(a19, Object.assign({ className: a18.FieldGroupInnerStart }, { children: u20 })), m29, c22 && (0, import_jsx_runtime27.jsx)(a19, Object.assign({ className: a18.FieldGroupInnerEnd }, { children: c22 }))] })), G && (0, import_jsx_runtime27.jsx)(a19, Object.assign({ className: (0, import_classnames21.default)(a18.FieldGroupOuterEnd, f6(a18.FieldGroupOuterEnd, h12)) }, { children: G }))] }));
});
d4.displayName = "FieldGroup";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Input/Input.js
var import_jsx_runtime28 = __toESM(require_jsx_runtime());
var a30 = __toESM(require_react());
var import_classnames22 = __toESM(require_classnames());
var l12 = a30.forwardRef((a82, l29) => {
  var { autoComplete: u20, checked: d10, className: p17, defaultChecked: c22, defaultValue: m29, id: f21, isDisabled: h12, isReadOnly: C7, isRequired: y9, size: v5, type: I2 = "text", hasError: k6 = false, value: b7, variation: j7, onBlur: R, onChange: V2, onCopy: g14, onCut: F4, onFocus: N5, onInput: O2, onPaste: q3, onSelect: w3, onWheel: x5 } = a82, z2 = __rest6(a82, ["autoComplete", "checked", "className", "defaultChecked", "defaultValue", "id", "isDisabled", "isReadOnly", "isRequired", "size", "type", "hasError", "value", "variation", "onBlur", "onChange", "onCopy", "onCut", "onFocus", "onInput", "onPaste", "onSelect", "onWheel"]);
  const B2 = (0, import_classnames22.default)(a18.Input, a18.FieldGroupControl, f6(a18.Input, j7), p5(a18.Input, "error", k6), f6(a18.Input, v5), p17);
  return (0, import_jsx_runtime28.jsx)(a19, Object.assign({ "aria-invalid": k6, as: "input", autoComplete: u20, checked: d10, className: B2, "data-size": v5, "data-variation": j7, defaultChecked: c22, defaultValue: m29, isDisabled: h12, id: f21, onBlur: R, onChange: V2, onCopy: g14, onCut: F4, onFocus: N5, onInput: O2, onPaste: q3, onSelect: w3, onWheel: x5, readOnly: C7, ref: l29, required: y9, type: I2, value: b7 }, z2));
});
l12.displayName = "Input";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Label/Label.js
var import_jsx_runtime29 = __toESM(require_jsx_runtime());
var e63 = __toESM(require_react());
var import_classnames23 = __toESM(require_classnames());
var m10 = e63.forwardRef((e142, m29) => {
  var { children: o101, className: t87, visuallyHidden: n45 } = e142, c22 = __rest6(e142, ["children", "className", "visuallyHidden"]);
  return (0, import_jsx_runtime29.jsx)(a19, Object.assign({ as: "label", className: (0, import_classnames23.default)(a18.Label, t87, { [a18.VisuallyHidden]: n45 }), ref: m29 }, c22, { children: o101 }));
});
m10.displayName = "Label";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/utils/useStableId.js
var t28 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/utils/useLayoutEffect.js
var o48 = __toESM(require_react());
var l13 = (null === globalThis || void 0 === globalThis ? void 0 : globalThis.document) ? o48.useLayoutEffect : () => {
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/utils/useStableId.js
var e64 = t28["useId".toString()] || (() => {
});
var i25 = 0;
var s19 = (r61) => {
  const [s62, n45] = t28.useState(e64());
  return l13(() => {
    r61 || n45((t87) => null != t87 ? t87 : String(i25++));
  }, [r61]), r61 || (s62 ? `amplify-id-${s62}` : "");
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/TextField/TextField.js
var j = o49.forwardRef((o101, j7) => {
  const { className: b7, descriptiveText: F4, errorMessage: C7, hasError: h12 = false, id: E4, innerEndComponent: v5, innerStartComponent: x5, label: S, labelHidden: g14 = false, outerEndComponent: y9, outerStartComponent: I2, size: T2, testId: z2, variation: H, inputStyles: M4 } = o101, N5 = __rest6(o101, ["className", "descriptiveText", "errorMessage", "hasError", "id", "innerEndComponent", "innerStartComponent", "label", "labelHidden", "outerEndComponent", "outerStartComponent", "size", "testId", "variation", "inputStyles"]), O2 = s19(E4), G = s19(), L = F4 ? G : void 0, { styleProps: w3, rest: B2 } = k4(N5);
  return (0, import_jsx_runtime30.jsxs)(t14, Object.assign({ className: (0, import_classnames24.default)(a18.Field, f6(a18.Field, T2), a18.TextField, b7), "data-size": T2, testId: z2 }, w3, { children: [(0, import_jsx_runtime30.jsx)(m10, Object.assign({ htmlFor: O2, visuallyHidden: g14 }, { children: S })), (0, import_jsx_runtime30.jsx)(a28, { id: G, labelHidden: g14, descriptiveText: F4 }), (0, import_jsx_runtime30.jsx)(d4, Object.assign({ outerStartComponent: I2, outerEndComponent: y9, innerStartComponent: x5, innerEndComponent: v5, variation: H }, { children: (0, import_jsx_runtime30.jsx)(l12, Object.assign({ "aria-describedby": L, hasError: h12, id: O2, ref: j7, size: T2, variation: H }, M4, B2)) })), (0, import_jsx_runtime30.jsx)(a29, { hasError: h12, errorMessage: C7 })] }));
});
j.displayName = "TextField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PasswordField/PasswordField.js
var l14 = a32.forwardRef((l29, w3) => {
  var { autoComplete: i67 = "current-password", label: n45, className: p17, hideShowPassword: m29 = false, passwordIsHiddenLabel: u20, passwordIsShownLabel: b7, showPasswordButtonLabel: f21, showPasswordButtonRef: h12, size: c22 } = l29, P2 = __rest6(l29, ["autoComplete", "label", "className", "hideShowPassword", "passwordIsHiddenLabel", "passwordIsShownLabel", "showPasswordButtonLabel", "showPasswordButtonRef", "size"]);
  const [L, S] = a32.useState("password"), B2 = a32.useCallback(() => {
    S("password" === L ? "text" : "password");
  }, [S, L]);
  return (0, import_jsx_runtime31.jsx)(j, Object.assign({ autoComplete: i67, outerEndComponent: m29 ? null : (0, import_jsx_runtime31.jsx)(c8, { fieldType: L, onClick: B2, passwordIsHiddenLabel: u20, passwordIsShownLabel: b7, ref: h12, size: c22, showPasswordButtonLabel: f21 }), size: c22, type: L, label: n45, className: (0, import_classnames25.default)(a18.PasswordField, p17), ref: w3 }, P2));
});
l14.displayName = "PasswordField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PhoneNumberField/PhoneNumberField.js
var import_jsx_runtime36 = __toESM(require_jsx_runtime());
var a35 = __toESM(require_react());
var import_classnames30 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PhoneNumberField/CountryCodeSelect.js
var import_jsx_runtime35 = __toESM(require_jsx_runtime());
var o53 = __toESM(require_react());
var import_classnames29 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SelectField/SelectField.js
var import_jsx_runtime34 = __toESM(require_jsx_runtime());
var s20 = __toESM(require_react());
var import_classnames28 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Select/Select.js
var import_jsx_runtime33 = __toESM(require_jsx_runtime());
var o52 = __toESM(require_react());
var import_classnames27 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconExpandMore.js
var import_jsx_runtime32 = __toESM(require_jsx_runtime());
var import_classnames26 = __toESM(require_classnames());
var o51 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime32.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames26.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime32.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime32.jsx)("path", { d: "M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Select/Select.js
var d5 = o52.forwardRef((o101, d10) => {
  var { autoComplete: p17, className: u20, size: f21, variation: h12, value: v5, defaultValue: j7, hasError: b7, icon: S = (0, import_jsx_runtime33.jsx)(o51, {}), iconColor: C7, children: N5, placeholder: x5, isDisabled: V2, isRequired: g14 } = o101, O2 = __rest6(o101, ["autoComplete", "className", "size", "variation", "value", "defaultValue", "hasError", "icon", "iconColor", "children", "placeholder", "isDisabled", "isRequired"]);
  const q3 = void 0 === v5 && void 0 === j7 && x5, w3 = (0, import_classnames27.default)(a18.Select, a18.FieldGroupControl, f6(a18.Select, f21), f6(a18.Select, h12), p5(a18.Select, "error", b7), u20);
  return (0, import_jsx_runtime33.jsxs)(a19, Object.assign({ className: a18.SelectWrapper }, { children: [(0, import_jsx_runtime33.jsxs)(a19, Object.assign({ "aria-invalid": b7, as: "select", autoComplete: p17, value: v5, defaultValue: q3 ? "" : j7, isDisabled: V2, required: g14, "data-size": f21, "data-variation": h12, className: w3, ref: d10 }, O2, { children: [x5 && (0, import_jsx_runtime33.jsx)("option", Object.assign({ value: "" }, { children: x5 })), N5] })), (0, import_jsx_runtime33.jsx)(t14, Object.assign({ className: a18.SelectIconWrapper, color: C7 }, { children: S }))] }));
});
d5.displayName = "Select";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SelectField/SelectField.js
var h6 = ({ children: e142, options: r61 }) => e142 ? ((null == r61 ? void 0 : r61.length) && console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."), e142) : null == r61 ? void 0 : r61.map((e143, r62) => (0, import_jsx_runtime34.jsx)("option", Object.assign({ label: e143, value: e143 }, { children: e143 }), `${e143}-${r62}`));
var f9 = s20.forwardRef((s62, f21) => {
  const { children: b7, className: j7, descriptiveText: u20, errorMessage: F4, hasError: g14 = false, id: v5, label: y9, labelHidden: S = false, options: x5, size: E4, testId: I2, inputStyles: z2 } = s62, H = __rest6(s62, ["children", "className", "descriptiveText", "errorMessage", "hasError", "id", "label", "labelHidden", "options", "size", "testId", "inputStyles"]), M4 = s19(v5), N5 = s19(), O2 = u20 ? N5 : void 0, { styleProps: T2, rest: w3 } = k4(H);
  return (0, import_jsx_runtime34.jsxs)(t14, Object.assign({ className: (0, import_classnames28.default)(a18.Field, a18.SelectField, j7), "data-size": E4, testId: I2 }, T2, { children: [(0, import_jsx_runtime34.jsx)(m10, Object.assign({ htmlFor: M4, visuallyHidden: S }, { children: y9 })), (0, import_jsx_runtime34.jsx)(a28, { id: N5, labelHidden: S, descriptiveText: u20 }), (0, import_jsx_runtime34.jsx)(d5, Object.assign({ "aria-describedby": O2, hasError: g14, id: M4, ref: f21, size: E4 }, w3, z2, { children: h6({ children: b7, options: x5 }) })), (0, import_jsx_runtime34.jsx)(a29, { hasError: g14, errorMessage: F4 })] }));
});
f9.displayName = "SelectField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PhoneNumberField/CountryCodeSelect.js
var l15 = o53.forwardRef((l29, m29) => {
  var { className: d10, dialCodeList: c22, isReadOnly: n45 } = l29, p17 = __rest6(l29, ["className", "dialCodeList", "isReadOnly"]);
  const f21 = null != c22 ? c22 : r2, u20 = o53.useMemo(() => f21.map((e142) => (0, import_jsx_runtime35.jsx)("option", Object.assign({ value: e142, disabled: n45 }, { children: e142 }), e142)), [f21, n45]);
  return (0, import_jsx_runtime35.jsx)(f9, Object.assign({ "aria-disabled": n45, autoComplete: "tel-country-code", className: (0, import_classnames29.default)(a18.CountryCodeSelect, a18.DialCodeSelect, d10), labelHidden: true, ref: m29 }, p17, { children: u20 }));
});
l15.displayName = "CountryCodeSelect";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/PhoneNumberField/PhoneNumberField.js
var n22 = a35.forwardRef((a82, n45) => {
  var { autoComplete: s62 = "tel-national", className: C7, countryCodeName: m29, countryCodeLabel: u20 = o29.PhoneNumberField.countryCodeLabel, countryCodeRef: y9, defaultCountryCode: c22, defaultDialCode: f21, dialCodeLabel: p17 = o29.PhoneNumberField.countryCodeLabel, dialCodeList: b7, dialCodeName: h12, dialCodeRef: N5, hasError: L, isDisabled: R, isReadOnly: D3, onCountryCodeChange: g14, onDialCodeChange: F4, onInput: j7, size: v5, type: O2, variation: x5 } = a82, z2 = __rest6(a82, ["autoComplete", "className", "countryCodeName", "countryCodeLabel", "countryCodeRef", "defaultCountryCode", "defaultDialCode", "dialCodeLabel", "dialCodeList", "dialCodeName", "dialCodeRef", "hasError", "isDisabled", "isReadOnly", "onCountryCodeChange", "onDialCodeChange", "onInput", "size", "type", "variation"]);
  const E4 = h12 || m29, P2 = p17 || u20, I2 = f21 || c22, S = F4 || g14, T2 = N5 || y9;
  return (0, import_jsx_runtime36.jsx)(j, Object.assign({ outerStartComponent: (0, import_jsx_runtime36.jsx)(l15, { defaultValue: I2, dialCodeList: b7, className: C7, hasError: L, isDisabled: R, isReadOnly: D3, label: P2, name: E4, onChange: S, ref: T2, size: v5, variation: x5 }), autoComplete: s62, className: (0, import_classnames30.default)(a18.PhoneNumberField, C7), hasError: L, isDisabled: R, isReadOnly: D3, onInput: j7, ref: n45, size: v5, type: "tel", variation: x5 }, z2));
});
n22.displayName = "PhoneNumberField";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/ValidationErrors.js
var import_jsx_runtime37 = __toESM(require_jsx_runtime());
var o55 = ({ errors: o101, id: m29 }) => (null == o101 ? void 0 : o101.length) > 0 ? (0, import_jsx_runtime37.jsx)(a19, Object.assign({ "data-amplify-sign-up-errors": true, id: m29 }, { children: o101.map((e142) => (0, import_jsx_runtime37.jsx)(n19, Object.assign({ role: "alert", variation: "error" }, { children: b2(e142) }), e142)) })) : null;

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/FormField.js
function c9(c22) {
  var { autocomplete: u20, dialCode: f21, name: b7, type: h12 } = c22, j7 = __rest6(c22, ["autocomplete", "dialCode", "name", "type"]);
  const { validationErrors: v5 } = useAuthenticator(({ validationErrors: r61 }) => [r61]), y9 = t34.useMemo(() => i3(v5[b7]), [b7, v5]), C7 = (null == y9 ? void 0 : y9.length) > 0, E4 = s19(), F4 = C7 ? E4 : void 0;
  return (0, import_jsx_runtime38.jsxs)(import_jsx_runtime38.Fragment, "tel" === h12 ? { children: [(0, import_jsx_runtime38.jsx)(n22, Object.assign({}, j7, { name: b7, defaultDialCode: f21, dialCodeName: "country_code", autoComplete: u20, hasError: C7, "aria-describedby": F4 })), (0, import_jsx_runtime38.jsx)(o55, { errors: y9, id: E4 })] } : "password" === h12 ? { children: [(0, import_jsx_runtime38.jsx)(l14, Object.assign({}, j7, { name: b7, autoComplete: u20, hasError: C7, "aria-describedby": F4 })), (0, import_jsx_runtime38.jsx)(o55, { errors: y9, id: E4 })] } : { children: [(0, import_jsx_runtime38.jsx)(j, Object.assign({}, j7, { name: b7, autoComplete: u20, hasError: C7, type: h12, "aria-describedby": F4 })), (0, import_jsx_runtime38.jsx)(o55, { errors: y9, id: E4 })] });
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/FormFields.js
function m11() {
  const { fields: m29 } = useAuthenticator(({ route: r61 }) => [r61]), c22 = t35.useRef(m29.map((e142, t87) => (0, import_jsx_runtime39.jsx)(c9, Object.assign({}, e142), t87))).current;
  return (0, import_jsx_runtime39.jsx)(import_jsx_runtime39.Fragment, { children: c22 });
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/RouteContainer/RouteContainer.js
var import_jsx_runtime40 = __toESM(require_jsx_runtime());
var r22 = (t87) => "signIn" === t87 || "signUp";
function n23({ children: n45, className: s62, variation: m29 = "default" }) {
  const { route: c22 } = useAuthenticator(({ route: t87 }) => [t87]), { components: { Header: p17, Footer: d10 } } = e44();
  return (0, import_jsx_runtime40.jsx)(a19, Object.assign({ className: s62, "data-amplify-authenticator": "", "data-variation": m29 }, { children: (0, import_jsx_runtime40.jsxs)(a19, Object.assign({ "data-amplify-container": "" }, { children: [(0, import_jsx_runtime40.jsx)(p17, {}), (0, import_jsx_runtime40.jsx)(a19, Object.assign({ "data-amplify-router": "", "data-amplify-router-content": r22(c22) ? void 0 : "" }, { children: n45 })), (0, import_jsx_runtime40.jsx)(d10, {})] })) }));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ConfirmSignUp/ConfirmSignUp.js
var { getDeliveryMessageText: f10, getDeliveryMethodText: g4, getConfirmingText: u9, getConfirmText: h7, getResendCodeText: j2 } = r5;
function b4({ className: t87, variation: n45 }) {
  const { isPending: g14, resendCode: v5, codeDeliveryDetails: y9 } = useAuthenticator((e142) => [e142.isPending, e142.resendCode, e142.codeDeliveryDetails]), { handleChange: x5, handleSubmit: C7 } = a24(), { components: { ConfirmSignUp: { Header: D3 = b4.Header, Footer: F4 = b4.Footer } } } = e44();
  return (0, import_jsx_runtime41.jsx)(n23, Object.assign({ className: t87, variation: n45 }, { children: (0, import_jsx_runtime41.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-confirmsignup": "", method: "post", onChange: x5, onSubmit: C7 }, { children: (0, import_jsx_runtime41.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: g14 }, { children: [(0, import_jsx_runtime41.jsx)(D3, {}), (0, import_jsx_runtime41.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime41.jsx)(n19, Object.assign({ className: "amplify-authenticator__subtitle" }, { children: f10(y9) })), (0, import_jsx_runtime41.jsx)(m11, {}), (0, import_jsx_runtime41.jsx)(m6, {}), (0, import_jsx_runtime41.jsx)(u8, Object.assign({ variation: "primary", isDisabled: g14, type: "submit", loadingText: u9(), isLoading: g14, fontWeight: "normal" }, { children: h7() })), (0, import_jsx_runtime41.jsx)(u8, Object.assign({ onClick: v5, type: "button", fontWeight: "normal" }, { children: j2() }))] })), (0, import_jsx_runtime41.jsx)(F4, {})] })) })) }));
}
b4.Header = () => {
  const { codeDeliveryDetails: i67 } = useAuthenticator((e142) => [e142.codeDeliveryDetails]);
  return (0, import_jsx_runtime41.jsx)(c7, Object.assign({ level: 4 }, { children: g4(i67) }));
}, b4.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ForceNewPassword/ForceNewPassword.js
var import_jsx_runtime42 = __toESM(require_jsx_runtime());
var { getChangePasswordText: g5, getChangingText: p7, getBackToSignInText: f11 } = r5;
var u10 = ({ className: o101, variation: d10 }) => {
  const { isPending: h12, toSignIn: j7 } = useAuthenticator((i67) => [i67.isPending, i67.toSignIn]), { handleBlur: F4, handleChange: b7, handleSubmit: x5 } = a24(), { components: { ForceNewPassword: { FormFields: C7 = u10.FormFields } } } = e44();
  return (0, import_jsx_runtime42.jsx)(n23, Object.assign({ className: o101, variation: d10 }, { children: (0, import_jsx_runtime42.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-forcenewpassword": "", method: "post", onChange: b7, onSubmit: x5, onBlur: F4 }, { children: (0, import_jsx_runtime42.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: h12 }, { children: [(0, import_jsx_runtime42.jsx)(c7, Object.assign({ level: 3 }, { children: g5() })), (0, import_jsx_runtime42.jsx)(C7, {}), (0, import_jsx_runtime42.jsx)(m6, {}), (0, import_jsx_runtime42.jsx)(u8, Object.assign({ isDisabled: h12, type: "submit", variation: "primary", isLoading: h12, loadingText: p7(), fontWeight: "normal" }, { children: g5() })), (0, import_jsx_runtime42.jsx)(u8, Object.assign({ onClick: j7, type: "button", fontWeight: "normal", variation: "link", size: "small" }, { children: f11() }))] })) })) }));
};
u10.FormFields = function() {
  return (0, import_jsx_runtime42.jsx)(m11, {});
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SetupTOTP/SetupTOTP.js
var import_jsx_runtime44 = __toESM(require_jsx_runtime());
var import_qrcode = __toESM(require_browser());
var r23 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/ConfirmSignInFooter.js
var import_jsx_runtime43 = __toESM(require_jsx_runtime());
var { getConfirmText: m12, getConfirmingText: s21, getBackToSignInText: a37 } = r5;
var g6 = () => {
  const { isPending: n45, toSignIn: g14 } = useAuthenticator((i67) => [i67.isPending, i67.toSignIn]);
  return (0, import_jsx_runtime43.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime43.jsx)(u8, Object.assign({ isDisabled: n45, type: "submit", variation: "primary", fontWeight: "normal", isLoading: n45, loadingText: s21() }, { children: m12() })), (0, import_jsx_runtime43.jsx)(u8, Object.assign({ onClick: g14, type: "button", variation: "link", fontWeight: "normal", size: "small" }, { children: a37() }))] }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SetupTOTP/SetupTOTP.js
var v3 = new ConsoleLogger("SetupTOTP-logger");
var { getSetupTOTPText: j3, getCopiedText: C3, getLoadingText: y4 } = r5;
var b5 = ({ className: a82, variation: s62 }) => {
  var d10;
  const { fields: j7, getTotpSecretCode: H, isPending: O2, user: w3 } = useAuthenticator((e142) => [e142.isPending]), { handleChange: S, handleSubmit: x5 } = a24(), { components: { SetupTOTP: { Header: T2 = b5.Header, Footer: F4 = b5.Footer } } } = e44(), [V2, P2] = r23.useState(true), [R, k6] = r23.useState(), [L, M4] = r23.useState("COPY"), [q3, Z] = r23.useState(""), { totpIssuer: D3 = "AWSCognito", totpUsername: E4 = null == w3 ? void 0 : w3.username } = null !== (d10 = null == j7 ? void 0 : j7.QR) && void 0 !== d10 ? d10 : {}, I2 = r23.useCallback(() => __awaiter3(void 0, void 0, void 0, function* () {
    try {
      const e142 = yield H();
      Z(e142);
      const t87 = f(D3, E4, e142), o101 = yield import_qrcode.default.toDataURL(t87);
      k6(o101);
    } catch (e142) {
      v3.error(e142);
    } finally {
      P2(false);
    }
  }), [H, D3, E4]);
  r23.useEffect(() => {
    R || I2();
  }, [I2, R]);
  return (0, import_jsx_runtime44.jsx)(n23, Object.assign({ className: a82, variation: s62 }, { children: (0, import_jsx_runtime44.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-setup-totp": "", method: "post", onChange: S, onSubmit: x5 }, { children: (0, import_jsx_runtime44.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: O2 }, { children: [(0, import_jsx_runtime44.jsx)(T2, {}), (0, import_jsx_runtime44.jsxs)(t14, Object.assign({ direction: "column" }, { children: [V2 ? (0, import_jsx_runtime44.jsxs)("p", { children: [y4(), "\u2026"] }) : (0, import_jsx_runtime44.jsx)("img", { "data-amplify-qrcode": true, src: R, alt: "qr code", width: "228", height: "228" }), (0, import_jsx_runtime44.jsxs)(t14, Object.assign({ "data-amplify-copy": true }, { children: [(0, import_jsx_runtime44.jsx)("div", { children: q3 }), (0, import_jsx_runtime44.jsxs)(t14, Object.assign({ "data-amplify-copy-svg": true, onClick: () => {
    navigator.clipboard.writeText(q3), M4(C3());
  } }, { children: [(0, import_jsx_runtime44.jsx)("div", Object.assign({ "data-amplify-copy-tooltip": true }, { children: L })), (0, import_jsx_runtime44.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime44.jsx)("path", { d: "M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z" }) }))] }))] })), (0, import_jsx_runtime44.jsx)(m11, {}), (0, import_jsx_runtime44.jsx)(m6, {})] })), (0, import_jsx_runtime44.jsx)(g6, {}), (0, import_jsx_runtime44.jsx)(F4, {})] })) })) }));
};
b5.Header = function() {
  return (0, import_jsx_runtime44.jsx)(c7, Object.assign({ level: 3 }, { children: j3() }));
}, b5.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/SignInSignUpTabs.js
var import_jsx_runtime52 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Tabs/Tabs.js
var import_jsx_runtime45 = __toESM(require_jsx_runtime());
var import_classnames31 = __toESM(require_classnames());

// node_modules/@radix-ui/react-tabs/dist/index.module.js
init_extends();
var import_react29 = __toESM(require_react());

// node_modules/@radix-ui/primitive/dist/index.module.js
function $e42e1063c40fb3ef$export$b9ecd428b558ff10(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {
  return function handleEvent(event2) {
    originalEventHandler === null || originalEventHandler === void 0 || originalEventHandler(event2);
    if (checkForDefaultPrevented === false || !event2.defaultPrevented)
      return ourEventHandler === null || ourEventHandler === void 0 ? void 0 : ourEventHandler(event2);
  };
}

// node_modules/@radix-ui/react-context/dist/index.module.js
var import_react18 = __toESM(require_react());
function $c512c27ab02ef895$export$50c7b4e9d9f19c1(scopeName, createContextScopeDeps = []) {
  let defaultContexts = [];
  function $c512c27ab02ef895$export$fd42f52fd3ae1109(rootComponentName, defaultContext) {
    const BaseContext = (0, import_react18.createContext)(defaultContext);
    const index3 = defaultContexts.length;
    defaultContexts = [
      ...defaultContexts,
      defaultContext
    ];
    function Provider(props) {
      const { scope, children: children2, ...context } = props;
      const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index3]) || BaseContext;
      const value = (0, import_react18.useMemo)(
        () => context,
        Object.values(context)
      );
      return (0, import_react18.createElement)(Context.Provider, {
        value
      }, children2);
    }
    function useContext13(consumerName, scope) {
      const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index3]) || BaseContext;
      const context = (0, import_react18.useContext)(Context);
      if (context)
        return context;
      if (defaultContext !== void 0)
        return defaultContext;
      throw new Error(`\`${consumerName}\` must be used within \`${rootComponentName}\``);
    }
    Provider.displayName = rootComponentName + "Provider";
    return [
      Provider,
      useContext13
    ];
  }
  const createScope = () => {
    const scopeContexts = defaultContexts.map((defaultContext) => {
      return (0, import_react18.createContext)(defaultContext);
    });
    return function useScope(scope) {
      const contexts = (scope === null || scope === void 0 ? void 0 : scope[scopeName]) || scopeContexts;
      return (0, import_react18.useMemo)(
        () => ({
          [`__scope${scopeName}`]: {
            ...scope,
            [scopeName]: contexts
          }
        }),
        [
          scope,
          contexts
        ]
      );
    };
  };
  createScope.scopeName = scopeName;
  return [
    $c512c27ab02ef895$export$fd42f52fd3ae1109,
    $c512c27ab02ef895$var$composeContextScopes(createScope, ...createContextScopeDeps)
  ];
}
function $c512c27ab02ef895$var$composeContextScopes(...scopes) {
  const baseScope = scopes[0];
  if (scopes.length === 1)
    return baseScope;
  const createScope1 = () => {
    const scopeHooks = scopes.map(
      (createScope) => ({
        useScope: createScope(),
        scopeName: createScope.scopeName
      })
    );
    return function useComposedScopes(overrideScopes) {
      const nextScopes1 = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {
        const scopeProps = useScope(overrideScopes);
        const currentScope = scopeProps[`__scope${scopeName}`];
        return {
          ...nextScopes,
          ...currentScope
        };
      }, {});
      return (0, import_react18.useMemo)(
        () => ({
          [`__scope${baseScope.scopeName}`]: nextScopes1
        }),
        [
          nextScopes1
        ]
      );
    };
  };
  createScope1.scopeName = baseScope.scopeName;
  return createScope1;
}

// node_modules/@radix-ui/react-roving-focus/dist/index.module.js
init_extends();
var import_react27 = __toESM(require_react());

// node_modules/@radix-ui/react-collection/dist/index.module.js
var import_react21 = __toESM(require_react());

// node_modules/@radix-ui/react-compose-refs/dist/index.module.js
var import_react19 = __toESM(require_react());
function $6ed0406888f73fc4$var$setRef(ref, value) {
  if (typeof ref === "function")
    ref(value);
  else if (ref !== null && ref !== void 0)
    ref.current = value;
}
function $6ed0406888f73fc4$export$43e446d32b3d21af(...refs) {
  return (node) => refs.forEach(
    (ref) => $6ed0406888f73fc4$var$setRef(ref, node)
  );
}
function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...refs) {
  return (0, import_react19.useCallback)($6ed0406888f73fc4$export$43e446d32b3d21af(...refs), refs);
}

// node_modules/@radix-ui/react-slot/dist/index.module.js
init_extends();
var import_react20 = __toESM(require_react());
var $5e63c961fc1ce211$export$8c6ed5c666ac1360 = (0, import_react20.forwardRef)((props, forwardedRef) => {
  const { children: children2, ...slotProps } = props;
  const childrenArray = import_react20.Children.toArray(children2);
  const slottable = childrenArray.find($5e63c961fc1ce211$var$isSlottable);
  if (slottable) {
    const newElement = slottable.props.children;
    const newChildren = childrenArray.map((child) => {
      if (child === slottable) {
        if (import_react20.Children.count(newElement) > 1)
          return import_react20.Children.only(null);
        return (0, import_react20.isValidElement)(newElement) ? newElement.props.children : null;
      } else
        return child;
    });
    return (0, import_react20.createElement)($5e63c961fc1ce211$var$SlotClone, _extends({}, slotProps, {
      ref: forwardedRef
    }), (0, import_react20.isValidElement)(newElement) ? (0, import_react20.cloneElement)(newElement, void 0, newChildren) : null);
  }
  return (0, import_react20.createElement)($5e63c961fc1ce211$var$SlotClone, _extends({}, slotProps, {
    ref: forwardedRef
  }), children2);
});
$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName = "Slot";
var $5e63c961fc1ce211$var$SlotClone = (0, import_react20.forwardRef)((props, forwardedRef) => {
  const { children: children2, ...slotProps } = props;
  if ((0, import_react20.isValidElement)(children2))
    return (0, import_react20.cloneElement)(children2, {
      ...$5e63c961fc1ce211$var$mergeProps(slotProps, children2.props),
      ref: $6ed0406888f73fc4$export$43e446d32b3d21af(forwardedRef, children2.ref)
    });
  return import_react20.Children.count(children2) > 1 ? import_react20.Children.only(null) : null;
});
$5e63c961fc1ce211$var$SlotClone.displayName = "SlotClone";
var $5e63c961fc1ce211$export$d9f1ccf0bdb05d45 = ({ children: children2 }) => {
  return (0, import_react20.createElement)(import_react20.Fragment, null, children2);
};
function $5e63c961fc1ce211$var$isSlottable(child) {
  return (0, import_react20.isValidElement)(child) && child.type === $5e63c961fc1ce211$export$d9f1ccf0bdb05d45;
}
function $5e63c961fc1ce211$var$mergeProps(slotProps, childProps) {
  const overrideProps = {
    ...childProps
  };
  for (const propName in childProps) {
    const slotPropValue = slotProps[propName];
    const childPropValue = childProps[propName];
    const isHandler = /^on[A-Z]/.test(propName);
    if (isHandler)
      overrideProps[propName] = (...args) => {
        childPropValue === null || childPropValue === void 0 || childPropValue(...args);
        slotPropValue === null || slotPropValue === void 0 || slotPropValue(...args);
      };
    else if (propName === "style")
      overrideProps[propName] = {
        ...slotPropValue,
        ...childPropValue
      };
    else if (propName === "className")
      overrideProps[propName] = [
        slotPropValue,
        childPropValue
      ].filter(Boolean).join(" ");
  }
  return {
    ...slotProps,
    ...overrideProps
  };
}

// node_modules/@radix-ui/react-collection/dist/index.module.js
function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(name) {
  const PROVIDER_NAME = name + "CollectionProvider";
  const [createCollectionContext, createCollectionScope] = $c512c27ab02ef895$export$50c7b4e9d9f19c1(PROVIDER_NAME);
  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(PROVIDER_NAME, {
    collectionRef: {
      current: null
    },
    itemMap: /* @__PURE__ */ new Map()
  });
  const CollectionProvider = (props) => {
    const { scope, children: children2 } = props;
    const ref = import_react21.default.useRef(null);
    const itemMap = import_react21.default.useRef(/* @__PURE__ */ new Map()).current;
    return import_react21.default.createElement(CollectionProviderImpl, {
      scope,
      itemMap,
      collectionRef: ref
    }, children2);
  };
  Object.assign(CollectionProvider, {
    displayName: PROVIDER_NAME
  });
  const COLLECTION_SLOT_NAME = name + "CollectionSlot";
  const CollectionSlot = import_react21.default.forwardRef((props, forwardedRef) => {
    const { scope, children: children2 } = props;
    const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);
    const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, context.collectionRef);
    return import_react21.default.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360, {
      ref: composedRefs
    }, children2);
  });
  Object.assign(CollectionSlot, {
    displayName: COLLECTION_SLOT_NAME
  });
  const ITEM_SLOT_NAME = name + "CollectionItemSlot";
  const ITEM_DATA_ATTR = "data-radix-collection-item";
  const CollectionItemSlot = import_react21.default.forwardRef((props, forwardedRef) => {
    const { scope, children: children2, ...itemData } = props;
    const ref = import_react21.default.useRef(null);
    const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
    const context = useCollectionContext(ITEM_SLOT_NAME, scope);
    import_react21.default.useEffect(() => {
      context.itemMap.set(ref, {
        ref,
        ...itemData
      });
      return () => void context.itemMap.delete(ref);
    });
    return import_react21.default.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360, {
      [ITEM_DATA_ATTR]: "",
      ref: composedRefs
    }, children2);
  });
  Object.assign(CollectionItemSlot, {
    displayName: ITEM_SLOT_NAME
  });
  function useCollection(scope) {
    const context = useCollectionContext(name + "CollectionConsumer", scope);
    const getItems = import_react21.default.useCallback(() => {
      const collectionNode = context.collectionRef.current;
      if (!collectionNode)
        return [];
      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));
      const items = Array.from(context.itemMap.values());
      const orderedItems = items.sort(
        (a82, b7) => orderedNodes.indexOf(a82.ref.current) - orderedNodes.indexOf(b7.ref.current)
      );
      return orderedItems;
    }, [
      context.collectionRef,
      context.itemMap
    ]);
    return getItems;
  }
  return [
    {
      Provider: CollectionProvider,
      Slot: CollectionSlot,
      ItemSlot: CollectionItemSlot
    },
    useCollection,
    createCollectionScope
  ];
}

// node_modules/@radix-ui/react-id/dist/index.module.js
var $2AODx$react = __toESM(require_react());

// node_modules/@radix-ui/react-use-layout-effect/dist/index.module.js
var import_react22 = __toESM(require_react());
var $9f79659886946c16$export$e5c5a5f917a5871c = Boolean(globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) ? import_react22.useLayoutEffect : () => {
};

// node_modules/@radix-ui/react-id/dist/index.module.js
var $1746a345f3d73bb7$var$useReactId = $2AODx$react["useId".toString()] || (() => void 0);
var $1746a345f3d73bb7$var$count = 0;
function $1746a345f3d73bb7$export$f680877a34711e37(deterministicId) {
  const [id, setId] = $2AODx$react.useState($1746a345f3d73bb7$var$useReactId());
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    if (!deterministicId)
      setId(
        (reactId) => reactId !== null && reactId !== void 0 ? reactId : String($1746a345f3d73bb7$var$count++)
      );
  }, [
    deterministicId
  ]);
  return deterministicId || (id ? `radix-${id}` : "");
}

// node_modules/@radix-ui/react-primitive/dist/index.module.js
init_extends();
var import_react23 = __toESM(require_react());
var import_react_dom = __toESM(require_react_dom());
var $8927f6f2acc4f386$var$NODES = [
  "a",
  "button",
  "div",
  "h2",
  "h3",
  "img",
  "li",
  "nav",
  "ol",
  "p",
  "span",
  "svg",
  "ul"
];
var $8927f6f2acc4f386$export$250ffa63cdc0d034 = $8927f6f2acc4f386$var$NODES.reduce((primitive, node) => {
  const Node = (0, import_react23.forwardRef)((props, forwardedRef) => {
    const { asChild, ...primitiveProps } = props;
    const Comp = asChild ? $5e63c961fc1ce211$export$8c6ed5c666ac1360 : node;
    (0, import_react23.useEffect)(() => {
      window[Symbol.for("radix-ui")] = true;
    }, []);
    return (0, import_react23.createElement)(Comp, _extends({}, primitiveProps, {
      ref: forwardedRef
    }));
  });
  Node.displayName = `Primitive.${node}`;
  return {
    ...primitive,
    [node]: Node
  };
}, {});
function $8927f6f2acc4f386$export$6d1a0317bde7de7f(target, event2) {
  if (target)
    (0, import_react_dom.flushSync)(
      () => target.dispatchEvent(event2)
    );
}

// node_modules/@radix-ui/react-use-callback-ref/dist/index.module.js
var import_react24 = __toESM(require_react());
function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(callback) {
  const callbackRef = (0, import_react24.useRef)(callback);
  (0, import_react24.useEffect)(() => {
    callbackRef.current = callback;
  });
  return (0, import_react24.useMemo)(
    () => (...args) => {
      var _callbackRef$current;
      return (_callbackRef$current = callbackRef.current) === null || _callbackRef$current === void 0 ? void 0 : _callbackRef$current.call(callbackRef, ...args);
    },
    []
  );
}

// node_modules/@radix-ui/react-use-controllable-state/dist/index.module.js
var import_react25 = __toESM(require_react());
function $71cd76cc60e0454e$export$6f32135080cb4c3({ prop, defaultProp, onChange = () => {
} }) {
  const [uncontrolledProp, setUncontrolledProp] = $71cd76cc60e0454e$var$useUncontrolledState({
    defaultProp,
    onChange
  });
  const isControlled = prop !== void 0;
  const value1 = isControlled ? prop : uncontrolledProp;
  const handleChange = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onChange);
  const setValue = (0, import_react25.useCallback)((nextValue) => {
    if (isControlled) {
      const setter = nextValue;
      const value = typeof nextValue === "function" ? setter(prop) : nextValue;
      if (value !== prop)
        handleChange(value);
    } else
      setUncontrolledProp(nextValue);
  }, [
    isControlled,
    prop,
    setUncontrolledProp,
    handleChange
  ]);
  return [
    value1,
    setValue
  ];
}
function $71cd76cc60e0454e$var$useUncontrolledState({ defaultProp, onChange }) {
  const uncontrolledState = (0, import_react25.useState)(defaultProp);
  const [value] = uncontrolledState;
  const prevValueRef = (0, import_react25.useRef)(value);
  const handleChange = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onChange);
  (0, import_react25.useEffect)(() => {
    if (prevValueRef.current !== value) {
      handleChange(value);
      prevValueRef.current = value;
    }
  }, [
    value,
    prevValueRef,
    handleChange
  ]);
  return uncontrolledState;
}

// node_modules/@radix-ui/react-direction/dist/index.module.js
var import_react26 = __toESM(require_react());
var $f631663db3294ace$var$DirectionContext = (0, import_react26.createContext)(void 0);
var $f631663db3294ace$export$c760c09fdd558351 = (props) => {
  const { dir, children: children2 } = props;
  return (0, import_react26.createElement)($f631663db3294ace$var$DirectionContext.Provider, {
    value: dir
  }, children2);
};
function $f631663db3294ace$export$b39126d51d94e6f3(localDir) {
  const globalDir = (0, import_react26.useContext)($f631663db3294ace$var$DirectionContext);
  return localDir || globalDir || "ltr";
}

// node_modules/@radix-ui/react-roving-focus/dist/index.module.js
var $d7bdfb9eb0fdf311$var$ENTRY_FOCUS = "rovingFocusGroup.onEntryFocus";
var $d7bdfb9eb0fdf311$var$EVENT_OPTIONS = {
  bubbles: false,
  cancelable: true
};
var $d7bdfb9eb0fdf311$var$GROUP_NAME = "RovingFocusGroup";
var [$d7bdfb9eb0fdf311$var$Collection, $d7bdfb9eb0fdf311$var$useCollection, $d7bdfb9eb0fdf311$var$createCollectionScope] = $e02a7d9cb1dc128c$export$c74125a8e3af6bb2($d7bdfb9eb0fdf311$var$GROUP_NAME);
var [$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext, $d7bdfb9eb0fdf311$export$c7109489551a4f4] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($d7bdfb9eb0fdf311$var$GROUP_NAME, [
  $d7bdfb9eb0fdf311$var$createCollectionScope
]);
var [$d7bdfb9eb0fdf311$var$RovingFocusProvider, $d7bdfb9eb0fdf311$var$useRovingFocusContext] = $d7bdfb9eb0fdf311$var$createRovingFocusGroupContext($d7bdfb9eb0fdf311$var$GROUP_NAME);
var $d7bdfb9eb0fdf311$export$8699f7c8af148338 = (0, import_react27.forwardRef)((props, forwardedRef) => {
  return (0, import_react27.createElement)($d7bdfb9eb0fdf311$var$Collection.Provider, {
    scope: props.__scopeRovingFocusGroup
  }, (0, import_react27.createElement)($d7bdfb9eb0fdf311$var$Collection.Slot, {
    scope: props.__scopeRovingFocusGroup
  }, (0, import_react27.createElement)($d7bdfb9eb0fdf311$var$RovingFocusGroupImpl, _extends({}, props, {
    ref: forwardedRef
  }))));
});
Object.assign($d7bdfb9eb0fdf311$export$8699f7c8af148338, {
  displayName: $d7bdfb9eb0fdf311$var$GROUP_NAME
});
var $d7bdfb9eb0fdf311$var$RovingFocusGroupImpl = (0, import_react27.forwardRef)((props, forwardedRef) => {
  const { __scopeRovingFocusGroup, orientation, loop = false, dir, currentTabStopId: currentTabStopIdProp, defaultCurrentTabStopId, onCurrentTabStopIdChange, onEntryFocus, ...groupProps } = props;
  const ref = (0, import_react27.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  const direction = $f631663db3294ace$export$b39126d51d94e6f3(dir);
  const [currentTabStopId = null, setCurrentTabStopId] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: currentTabStopIdProp,
    defaultProp: defaultCurrentTabStopId,
    onChange: onCurrentTabStopIdChange
  });
  const [isTabbingBackOut, setIsTabbingBackOut] = (0, import_react27.useState)(false);
  const handleEntryFocus = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onEntryFocus);
  const getItems = $d7bdfb9eb0fdf311$var$useCollection(__scopeRovingFocusGroup);
  const isClickFocusRef = (0, import_react27.useRef)(false);
  (0, import_react27.useEffect)(() => {
    const node = ref.current;
    if (node) {
      node.addEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS, handleEntryFocus);
      return () => node.removeEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS, handleEntryFocus);
    }
  }, [
    handleEntryFocus
  ]);
  return (0, import_react27.createElement)($d7bdfb9eb0fdf311$var$RovingFocusProvider, {
    scope: __scopeRovingFocusGroup,
    orientation,
    dir: direction,
    loop,
    currentTabStopId,
    onItemFocus: (0, import_react27.useCallback)(
      (tabStopId) => setCurrentTabStopId(tabStopId),
      [
        setCurrentTabStopId
      ]
    ),
    onItemShiftTab: (0, import_react27.useCallback)(
      () => setIsTabbingBackOut(true),
      []
    )
  }, (0, import_react27.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    tabIndex: isTabbingBackOut ? -1 : 0,
    "data-orientation": orientation
  }, groupProps, {
    ref: composedRefs,
    style: {
      outline: "none",
      ...props.style
    },
    onMouseDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onMouseDown, () => {
      isClickFocusRef.current = true;
    }),
    onFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onFocus, (event2) => {
      const isKeyboardFocus = !isClickFocusRef.current;
      if (event2.target === event2.currentTarget && isKeyboardFocus && !isTabbingBackOut) {
        const entryFocusEvent = new CustomEvent($d7bdfb9eb0fdf311$var$ENTRY_FOCUS, $d7bdfb9eb0fdf311$var$EVENT_OPTIONS);
        event2.currentTarget.dispatchEvent(entryFocusEvent);
        if (!entryFocusEvent.defaultPrevented) {
          const items = getItems().filter(
            (item) => item.focusable
          );
          const activeItem = items.find(
            (item) => item.active
          );
          const currentItem = items.find(
            (item) => item.id === currentTabStopId
          );
          const candidateItems = [
            activeItem,
            currentItem,
            ...items
          ].filter(Boolean);
          const candidateNodes = candidateItems.map(
            (item) => item.ref.current
          );
          $d7bdfb9eb0fdf311$var$focusFirst(candidateNodes);
        }
      }
      isClickFocusRef.current = false;
    }),
    onBlur: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      props.onBlur,
      () => setIsTabbingBackOut(false)
    )
  })));
});
var $d7bdfb9eb0fdf311$var$ITEM_NAME = "RovingFocusGroupItem";
var $d7bdfb9eb0fdf311$export$ab9df7c53fe8454 = (0, import_react27.forwardRef)((props, forwardedRef) => {
  const { __scopeRovingFocusGroup, focusable = true, active = false, ...itemProps } = props;
  const id = $1746a345f3d73bb7$export$f680877a34711e37();
  const context = $d7bdfb9eb0fdf311$var$useRovingFocusContext($d7bdfb9eb0fdf311$var$ITEM_NAME, __scopeRovingFocusGroup);
  const isCurrentTabStop = context.currentTabStopId === id;
  const getItems = $d7bdfb9eb0fdf311$var$useCollection(__scopeRovingFocusGroup);
  return (0, import_react27.createElement)($d7bdfb9eb0fdf311$var$Collection.ItemSlot, {
    scope: __scopeRovingFocusGroup,
    id,
    focusable,
    active
  }, (0, import_react27.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({
    tabIndex: isCurrentTabStop ? 0 : -1,
    "data-orientation": context.orientation
  }, itemProps, {
    ref: forwardedRef,
    onMouseDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onMouseDown, (event2) => {
      if (!focusable)
        event2.preventDefault();
      else
        context.onItemFocus(id);
    }),
    onFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      props.onFocus,
      () => context.onItemFocus(id)
    ),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      if (event2.key === "Tab" && event2.shiftKey) {
        context.onItemShiftTab();
        return;
      }
      if (event2.target !== event2.currentTarget)
        return;
      const focusIntent = $d7bdfb9eb0fdf311$var$getFocusIntent(event2, context.orientation, context.dir);
      if (focusIntent !== void 0) {
        event2.preventDefault();
        const items = getItems().filter(
          (item) => item.focusable
        );
        let candidateNodes = items.map(
          (item) => item.ref.current
        );
        if (focusIntent === "last")
          candidateNodes.reverse();
        else if (focusIntent === "prev" || focusIntent === "next") {
          if (focusIntent === "prev")
            candidateNodes.reverse();
          const currentIndex = candidateNodes.indexOf(event2.currentTarget);
          candidateNodes = context.loop ? $d7bdfb9eb0fdf311$var$wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);
        }
        setTimeout(
          () => $d7bdfb9eb0fdf311$var$focusFirst(candidateNodes)
        );
      }
    })
  })));
});
Object.assign($d7bdfb9eb0fdf311$export$ab9df7c53fe8454, {
  displayName: $d7bdfb9eb0fdf311$var$ITEM_NAME
});
var $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT = {
  ArrowLeft: "prev",
  ArrowUp: "prev",
  ArrowRight: "next",
  ArrowDown: "next",
  PageUp: "first",
  Home: "first",
  PageDown: "last",
  End: "last"
};
function $d7bdfb9eb0fdf311$var$getDirectionAwareKey(key, dir) {
  if (dir !== "rtl")
    return key;
  return key === "ArrowLeft" ? "ArrowRight" : key === "ArrowRight" ? "ArrowLeft" : key;
}
function $d7bdfb9eb0fdf311$var$getFocusIntent(event2, orientation, dir) {
  const key = $d7bdfb9eb0fdf311$var$getDirectionAwareKey(event2.key, dir);
  if (orientation === "vertical" && [
    "ArrowLeft",
    "ArrowRight"
  ].includes(key))
    return void 0;
  if (orientation === "horizontal" && [
    "ArrowUp",
    "ArrowDown"
  ].includes(key))
    return void 0;
  return $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT[key];
}
function $d7bdfb9eb0fdf311$var$focusFirst(candidates) {
  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;
  for (const candidate of candidates) {
    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT)
      return;
    candidate.focus();
    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT)
      return;
  }
}
function $d7bdfb9eb0fdf311$var$wrapArray(array, startIndex) {
  return array.map(
    (_3, index3) => array[(startIndex + index3) % array.length]
  );
}
var $d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9 = $d7bdfb9eb0fdf311$export$8699f7c8af148338;
var $d7bdfb9eb0fdf311$export$6d08773d2e66f8f2 = $d7bdfb9eb0fdf311$export$ab9df7c53fe8454;

// node_modules/@radix-ui/react-presence/dist/index.module.js
var import_react28 = __toESM(require_react());
var import_react_dom2 = __toESM(require_react_dom());
function $fe963b355347cc68$export$3e6543de14f8614f(initialState, machine) {
  return (0, import_react28.useReducer)((state, event2) => {
    const nextState = machine[state][event2];
    return nextState !== null && nextState !== void 0 ? nextState : state;
  }, initialState);
}
var $921a889cee6df7e8$export$99c2b779aa4e8b8b = (props) => {
  const { present, children: children2 } = props;
  const presence = $921a889cee6df7e8$var$usePresence(present);
  const child = typeof children2 === "function" ? children2({
    present: presence.isPresent
  }) : import_react28.Children.only(children2);
  const ref = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(presence.ref, child.ref);
  const forceMount = typeof children2 === "function";
  return forceMount || presence.isPresent ? (0, import_react28.cloneElement)(child, {
    ref
  }) : null;
};
$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName = "Presence";
function $921a889cee6df7e8$var$usePresence(present) {
  const [node1, setNode] = (0, import_react28.useState)();
  const stylesRef = (0, import_react28.useRef)({});
  const prevPresentRef = (0, import_react28.useRef)(present);
  const prevAnimationNameRef = (0, import_react28.useRef)("none");
  const initialState = present ? "mounted" : "unmounted";
  const [state, send3] = $fe963b355347cc68$export$3e6543de14f8614f(initialState, {
    mounted: {
      UNMOUNT: "unmounted",
      ANIMATION_OUT: "unmountSuspended"
    },
    unmountSuspended: {
      MOUNT: "mounted",
      ANIMATION_END: "unmounted"
    },
    unmounted: {
      MOUNT: "mounted"
    }
  });
  (0, import_react28.useEffect)(() => {
    const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);
    prevAnimationNameRef.current = state === "mounted" ? currentAnimationName : "none";
  }, [
    state
  ]);
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    const styles = stylesRef.current;
    const wasPresent = prevPresentRef.current;
    const hasPresentChanged = wasPresent !== present;
    if (hasPresentChanged) {
      const prevAnimationName = prevAnimationNameRef.current;
      const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(styles);
      if (present)
        send3("MOUNT");
      else if (currentAnimationName === "none" || (styles === null || styles === void 0 ? void 0 : styles.display) === "none")
        send3("UNMOUNT");
      else {
        const isAnimating = prevAnimationName !== currentAnimationName;
        if (wasPresent && isAnimating)
          send3("ANIMATION_OUT");
        else
          send3("UNMOUNT");
      }
      prevPresentRef.current = present;
    }
  }, [
    present,
    send3
  ]);
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    if (node1) {
      const handleAnimationEnd = (event2) => {
        const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);
        const isCurrentAnimation = currentAnimationName.includes(event2.animationName);
        if (event2.target === node1 && isCurrentAnimation)
          (0, import_react_dom2.flushSync)(
            () => send3("ANIMATION_END")
          );
      };
      const handleAnimationStart = (event2) => {
        if (event2.target === node1)
          prevAnimationNameRef.current = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);
      };
      node1.addEventListener("animationstart", handleAnimationStart);
      node1.addEventListener("animationcancel", handleAnimationEnd);
      node1.addEventListener("animationend", handleAnimationEnd);
      return () => {
        node1.removeEventListener("animationstart", handleAnimationStart);
        node1.removeEventListener("animationcancel", handleAnimationEnd);
        node1.removeEventListener("animationend", handleAnimationEnd);
      };
    } else
      send3("ANIMATION_END");
  }, [
    node1,
    send3
  ]);
  return {
    isPresent: [
      "mounted",
      "unmountSuspended"
    ].includes(state),
    ref: (0, import_react28.useCallback)((node) => {
      if (node)
        stylesRef.current = getComputedStyle(node);
      setNode(node);
    }, [])
  };
}
function $921a889cee6df7e8$var$getAnimationName(styles) {
  return (styles === null || styles === void 0 ? void 0 : styles.animationName) || "none";
}

// node_modules/@radix-ui/react-tabs/dist/index.module.js
var $69cb30bb0017df05$var$TABS_NAME = "Tabs";
var [$69cb30bb0017df05$var$createTabsContext, $69cb30bb0017df05$export$355f5bd209d7b13a] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($69cb30bb0017df05$var$TABS_NAME, [
  $d7bdfb9eb0fdf311$export$c7109489551a4f4
]);
var $69cb30bb0017df05$var$useRovingFocusGroupScope = $d7bdfb9eb0fdf311$export$c7109489551a4f4();
var [$69cb30bb0017df05$var$TabsProvider, $69cb30bb0017df05$var$useTabsContext] = $69cb30bb0017df05$var$createTabsContext($69cb30bb0017df05$var$TABS_NAME);
var $69cb30bb0017df05$export$b2539bed5023c21c = (0, import_react29.forwardRef)((props, forwardedRef) => {
  const { __scopeTabs, value: valueProp, onValueChange, defaultValue, orientation = "horizontal", dir, activationMode = "automatic", ...tabsProps } = props;
  const direction = $f631663db3294ace$export$b39126d51d94e6f3(dir);
  const [value, setValue] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: valueProp,
    onChange: onValueChange,
    defaultProp: defaultValue
  });
  return (0, import_react29.createElement)($69cb30bb0017df05$var$TabsProvider, {
    scope: __scopeTabs,
    baseId: $1746a345f3d73bb7$export$f680877a34711e37(),
    value,
    onValueChange: setValue,
    orientation,
    dir: direction,
    activationMode
  }, (0, import_react29.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    dir: direction,
    "data-orientation": orientation
  }, tabsProps, {
    ref: forwardedRef
  })));
});
Object.assign($69cb30bb0017df05$export$b2539bed5023c21c, {
  displayName: $69cb30bb0017df05$var$TABS_NAME
});
var $69cb30bb0017df05$var$TAB_LIST_NAME = "TabsList";
var $69cb30bb0017df05$export$9712d22edc0d78c1 = (0, import_react29.forwardRef)((props, forwardedRef) => {
  const { __scopeTabs, loop = true, ...listProps } = props;
  const context = $69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TAB_LIST_NAME, __scopeTabs);
  const rovingFocusGroupScope = $69cb30bb0017df05$var$useRovingFocusGroupScope(__scopeTabs);
  return (0, import_react29.createElement)($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9, _extends({
    asChild: true
  }, rovingFocusGroupScope, {
    orientation: context.orientation,
    dir: context.dir,
    loop
  }), (0, import_react29.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    role: "tablist",
    "aria-orientation": context.orientation
  }, listProps, {
    ref: forwardedRef
  })));
});
Object.assign($69cb30bb0017df05$export$9712d22edc0d78c1, {
  displayName: $69cb30bb0017df05$var$TAB_LIST_NAME
});
var $69cb30bb0017df05$var$TRIGGER_NAME = "TabsTrigger";
var $69cb30bb0017df05$export$8114b9fdfdf9f3ba = (0, import_react29.forwardRef)((props, forwardedRef) => {
  const { __scopeTabs, value, disabled = false, ...triggerProps } = props;
  const context = $69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TRIGGER_NAME, __scopeTabs);
  const rovingFocusGroupScope = $69cb30bb0017df05$var$useRovingFocusGroupScope(__scopeTabs);
  const triggerId = $69cb30bb0017df05$var$makeTriggerId(context.baseId, value);
  const contentId = $69cb30bb0017df05$var$makeContentId(context.baseId, value);
  const isSelected = value === context.value;
  return (0, import_react29.createElement)($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2, _extends({
    asChild: true
  }, rovingFocusGroupScope, {
    focusable: !disabled,
    active: isSelected
  }), (0, import_react29.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.button, _extends({
    type: "button",
    role: "tab",
    "aria-selected": isSelected,
    "aria-controls": contentId,
    "data-state": isSelected ? "active" : "inactive",
    "data-disabled": disabled ? "" : void 0,
    disabled,
    id: triggerId
  }, triggerProps, {
    ref: forwardedRef,
    onMouseDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onMouseDown, (event2) => {
      if (!disabled && event2.button === 0 && event2.ctrlKey === false)
        context.onValueChange(value);
      else
        event2.preventDefault();
    }),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      if ([
        " ",
        "Enter"
      ].includes(event2.key))
        context.onValueChange(value);
    }),
    onFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onFocus, () => {
      const isAutomaticActivation = context.activationMode !== "manual";
      if (!isSelected && !disabled && isAutomaticActivation)
        context.onValueChange(value);
    })
  })));
});
Object.assign($69cb30bb0017df05$export$8114b9fdfdf9f3ba, {
  displayName: $69cb30bb0017df05$var$TRIGGER_NAME
});
var $69cb30bb0017df05$var$CONTENT_NAME = "TabsContent";
var $69cb30bb0017df05$export$bd905d70e8fd2ebb = (0, import_react29.forwardRef)((props, forwardedRef) => {
  const { __scopeTabs, value, forceMount, children: children2, ...contentProps } = props;
  const context = $69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$CONTENT_NAME, __scopeTabs);
  const triggerId = $69cb30bb0017df05$var$makeTriggerId(context.baseId, value);
  const contentId = $69cb30bb0017df05$var$makeContentId(context.baseId, value);
  const isSelected = value === context.value;
  const isMountAnimationPreventedRef = (0, import_react29.useRef)(isSelected);
  (0, import_react29.useEffect)(() => {
    const rAF = requestAnimationFrame(
      () => isMountAnimationPreventedRef.current = false
    );
    return () => cancelAnimationFrame(rAF);
  }, []);
  return (0, import_react29.createElement)(
    $921a889cee6df7e8$export$99c2b779aa4e8b8b,
    {
      present: forceMount || isSelected
    },
    ({ present }) => (0, import_react29.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
      "data-state": isSelected ? "active" : "inactive",
      "data-orientation": context.orientation,
      role: "tabpanel",
      "aria-labelledby": triggerId,
      hidden: !present,
      id: contentId,
      tabIndex: 0
    }, contentProps, {
      ref: forwardedRef,
      style: {
        ...props.style,
        animationDuration: isMountAnimationPreventedRef.current ? "0s" : void 0
      }
    }), present && children2)
  );
});
Object.assign($69cb30bb0017df05$export$bd905d70e8fd2ebb, {
  displayName: $69cb30bb0017df05$var$CONTENT_NAME
});
function $69cb30bb0017df05$var$makeTriggerId(baseId, value) {
  return `${baseId}-trigger-${value}`;
}
function $69cb30bb0017df05$var$makeContentId(baseId, value) {
  return `${baseId}-content-${value}`;
}
var $69cb30bb0017df05$export$be92b6f5f03c0fe9 = $69cb30bb0017df05$export$b2539bed5023c21c;
var $69cb30bb0017df05$export$54c2e3dc7acea9f5 = $69cb30bb0017df05$export$9712d22edc0d78c1;
var $69cb30bb0017df05$export$41fb9f06171c75f4 = $69cb30bb0017df05$export$8114b9fdfdf9f3ba;
var $69cb30bb0017df05$export$7c6e2c02157bb7d2 = $69cb30bb0017df05$export$bd905d70e8fd2ebb;

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Tabs/Tabs.js
var o58 = __toESM(require_react());
var p8 = (a82) => null !== a82 && "object" == typeof a82 && a82.hasOwnProperty("props") && null != a82.props.title;
var f12 = o58.forwardRef((l29, d10) => {
  var { ariaLabel: f21, children: u20, className: b7, defaultIndex: h12 = 0, currentIndex: g14, onChange: j7, indicatorPosition: x5, spacing: y9 } = l29, I2 = __rest6(l29, ["ariaLabel", "children", "className", "defaultIndex", "currentIndex", "onChange", "indicatorPosition", "spacing"]);
  const N5 = o58.Children.map(u20, (a82) => null === a82 || "string" == typeof a82 && /\s/.test(a82) ? {} : p8(a82) ? a82.props : (console.warn("Amplify UI: <Tabs> component only accepts <TabItem> as children."), {})), v5 = { defaultValue: h12.toString(), value: null != g14 ? g14.toString() : void 0, onValueChange: j7 };
  return (0, import_jsx_runtime45.jsxs)($69cb30bb0017df05$export$be92b6f5f03c0fe9, Object.assign({}, v5, { children: [(0, import_jsx_runtime45.jsx)($69cb30bb0017df05$export$54c2e3dc7acea9f5, Object.assign({ "aria-label": f21 }, { children: (0, import_jsx_runtime45.jsx)(t14, Object.assign({ className: (0, import_classnames31.default)(a18.Tabs, b7), "data-indicator-position": x5, ref: d10 }, I2, { children: o58.Children.map(u20, (a82, e142) => p8(a82) ? o58.cloneElement(a82, { "data-spacing": y9, key: e142, value: `${e142}` }) : null) })) })), N5.map((a82, e142) => (0, import_jsx_runtime45.jsx)($69cb30bb0017df05$export$7c6e2c02157bb7d2, Object.assign({ value: `${e142}` }, { children: a82.children }), e142))] }));
});
var u11 = o58.forwardRef((e142, n45) => {
  var { className: s62, title: i67 } = e142, o101 = __rest6(e142, ["className", "title"]);
  return (0, import_jsx_runtime45.jsx)(a19, Object.assign({ as: $69cb30bb0017df05$export$41fb9f06171c75f4, className: (0, import_classnames31.default)(a18.TabItems, s62), ref: n45 }, o101, { children: i67 }));
});
f12.displayName = "Tabs", u11.displayName = "TabItem";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SignIn/SignIn.js
var import_jsx_runtime50 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/FederatedSignIn/FederatedSignIn.js
var import_jsx_runtime49 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Divider/Divider.js
var import_jsx_runtime46 = __toESM(require_jsx_runtime());
var import_classnames32 = __toESM(require_classnames());
var e72 = __toESM(require_react());
var m13 = e72.forwardRef((e142, m29) => {
  var { className: l29, orientation: n45 = "horizontal", size: d10, label: c22 } = e142, f21 = __rest6(e142, ["className", "orientation", "size", "label"]);
  const p17 = (0, import_classnames32.default)(a18.Divider, f6(a18.Divider, n45), f6(a18.Divider, d10), c22 ? a18.DividerLabel : null, l29);
  return (0, import_jsx_runtime46.jsx)(a19, Object.assign({ "aria-orientation": n45, as: "hr", className: p17, "data-size": d10, "data-label": c22, ref: m29 }, f21));
});
m13.displayName = "Divider";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/FederatedSignIn/FederatedSignInButtons/FederatedSignInButton.js
var import_jsx_runtime48 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/Icon.js
var import_jsx_runtime47 = __toESM(require_jsx_runtime());
var a39 = __toESM(require_react());
var import_react30 = __toESM(require_react());
var import_classnames33 = __toESM(require_classnames());
var o59 = { minX: 0, minY: 0, width: 24, height: 24 };
var n24 = a39.forwardRef((a82, n45) => {
  var { className: h12, as: c22 = "svg", fill: l29 = "currentColor", pathData: p17, viewBox: f21 = o59, children: d10, paths: w3 } = a82, g14 = __rest6(a82, ["className", "as", "fill", "pathData", "viewBox", "children", "paths"]);
  const j7 = f21.minX ? f21.minX : o59.minX, v5 = f21.minY ? f21.minY : o59.minY, x5 = f21.width ? f21.width : o59.width, N5 = f21.height ? f21.height : o59.height;
  let X;
  return d10 && (X = d10), w3 && (X = w3.map((i67, t87) => (0, import_react30.createElement)("path", Object.assign({}, i67, { key: t87 })))), p17 && (X = (0, import_jsx_runtime47.jsx)("path", { d: p17, fill: l29 })), (0, import_jsx_runtime47.jsx)(a19, Object.assign({ as: c22, className: (0, import_classnames33.default)(a18.Icon, h12), ref: n45, viewBox: `${j7} ${v5} ${x5} ${N5}` }, g14, { children: X }));
});
n24.displayName = "Icon";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/FederatedSignIn/FederatedSignInButtons/FederatedSignInButton.js
var n25 = () => (0, import_jsx_runtime48.jsx)("svg", Object.assign({ "aria-label": "Apple icon", className: "amplify-icon federated-sign-in-icon", fill: "#000", preserveAspectRatio: "xMidYMid", stroke: "#000", strokeWidth: "0", viewBox: "0 0 1024 1024", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime48.jsx)("path", { d: "M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z" }) }));
var s22 = () => (0, import_jsx_runtime48.jsxs)("svg", Object.assign({ "aria-label": "Google icon", className: "amplify-icon federated-sign-in-icon", viewBox: "0 0 256 262", xmlns: "http://www.w3.org/2000/svg", preserveAspectRatio: "xMidYMid" }, { children: [(0, import_jsx_runtime48.jsx)("path", { d: "M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027", fill: "#4285F4" }), (0, import_jsx_runtime48.jsx)("path", { d: "M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1", fill: "#34A853" }), (0, import_jsx_runtime48.jsx)("path", { d: "M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782", fill: "#FBBC05" }), (0, import_jsx_runtime48.jsx)("path", { d: "M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251", fill: "#EB4335" })] }));
var r26 = () => (0, import_jsx_runtime48.jsx)(n24, { className: "federated-sign-in-icon", ariaLabel: "Facebook icon", viewBox: { minX: 0, minY: 0, width: 279, height: 538 }, pathData: "M82.3409742,538 L82.3409742,292.936652 L0,292.936652 L0,196.990154 L82.2410458,196.990154 L82.2410458,126.4295 C82.2410458,44.575144 132.205229,0 205.252865,0 C240.227794,0 270.306232,2.59855099 279,3.79788222 L279,89.2502322 L228.536175,89.2502322 C188.964542,89.2502322 181.270057,108.139699 181.270057,135.824262 L181.270057,196.89021 L276.202006,196.89021 L263.810888,292.836708 L181.16913,292.836708 L181.16913,538 L82.3409742,538 Z", fill: "#1877F2" });
var c10 = () => (0, import_jsx_runtime48.jsxs)("svg", Object.assign({ "aria-label": "Amazon icon", className: "amplify-icon federated-sign-in-icon", viewBox: "0 0 243 264", xmlns: "http://www.w3.org/2000/svg", preserveAspectRatio: "xMidYMid" }, { children: [(0, import_jsx_runtime48.jsx)("path", { d: "M230.826 208.039C227.468 203.683 208.551 205.982 200.056 206.998C197.471 207.321 197.076 205.042 199.407 203.405C214.475 192.665 239.201 195.766 242.082 199.364C244.966 202.982 241.337 228.071 227.173 240.049C225.001 241.888 222.93 240.904 223.898 238.468C227.077 230.431 234.205 212.419 230.826 208.039ZM123.769 264C71.0234 264 39.0764 241.955 14.7853 217.542C9.97339 212.706 3.71799 206.296 0.311513 200.691C-1.09773 198.372 2.59096 195.022 5.04421 196.844C35.239 219.268 79.1012 239.538 122.53 239.538C151.82 239.538 188.046 227.47 217.669 214.868C222.147 212.966 222.147 219.18 221.512 221.061C221.183 222.032 206.515 236.221 186.247 247.047C167.304 257.166 143.397 264 123.769 264Z", fill: "#F2541B" }), (0, import_jsx_runtime48.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M142.943 111.185C142.943 124.756 143.268 136.054 136.406 148.123C130.856 157.913 122.027 163.95 112.222 163.95C98.8288 163.95 90.9806 153.772 90.9806 138.693C90.9806 109.036 117.677 103.647 142.943 103.647V111.185ZM178.166 196.081C175.858 198.15 171.635 198.22 169.914 196.894C157.974 187.684 149.89 173.688 149.89 173.688C130.706 193.156 117.127 199 92.2879 199C62.8772 199 40 180.905 40 144.729C40 116.461 55.3552 97.2408 77.2563 87.823C96.2094 79.5256 122.684 78.0173 142.943 75.7517C142.943 75.7517 144.633 53.933 138.699 45.9806C134.098 39.8163 126.272 36.9329 119.089 36.9329C106.127 36.8829 93.61 43.9051 91.1262 57.4188C90.4136 61.2829 87.5533 64.5261 84.54 64.206L51.0823 60.5922C48.5156 60.2951 45.0381 57.6639 45.8636 53.3081C53.644 12.3684 90.7373 0 123.989 0C140.983 0 163.21 4.51651 176.608 17.3349C193.597 33.1648 191.969 54.2755 191.969 77.2722V131.51C191.969 147.835 198.768 154.987 205.151 163.775C207.376 166.953 207.886 170.714 205.04 173.032C197.902 178.999 178.166 196.081 178.166 196.081Z", fill: "#F2541B" })] }));
var C4 = (l29) => {
  const { icon: C7, provider: p17, text: d10 } = l29, { toFederatedSignIn: m29 } = useAuthenticator();
  let f21;
  return "facebook" === C7 ? f21 = (0, import_jsx_runtime48.jsx)(r26, {}) : "google" === C7 ? f21 = (0, import_jsx_runtime48.jsx)(s22, {}) : "amazon" === C7 ? f21 = (0, import_jsx_runtime48.jsx)(c10, {}) : "apple" === C7 && (f21 = (0, import_jsx_runtime48.jsx)(n25, {})), (0, import_jsx_runtime48.jsxs)(u8, Object.assign({ onClick: (i67) => {
    i67.preventDefault(), m29({ provider: p17 });
  }, className: "federated-sign-in-button", fontWeight: "normal", gap: "1rem" }, { children: [f21, (0, import_jsx_runtime48.jsx)(n19, Object.assign({ as: "span" }, { children: d10 }))] }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/FederatedSignIn/FederatedSignIn.js
var { getSignInWithFederationText: c11 } = r5;
function p9() {
  const { route: i67, socialProviders: p17 } = useAuthenticator(({ route: e142, socialProviders: o101 }) => [e142, o101]);
  return 0 === p17.length ? null : (0, import_jsx_runtime49.jsxs)(t14, Object.assign({ direction: "column", padding: "0 0 1rem 0", className: "federated-sign-in-container" }, { children: [p17.map((e142) => {
    switch (e142) {
      case "amazon":
        return (0, import_jsx_runtime49.jsx)(C4, { icon: "amazon", provider: o.Amazon, text: c11(i67, e142) }, e142);
      case "apple":
        return (0, import_jsx_runtime49.jsx)(C4, { icon: "apple", provider: o.Apple, text: c11(i67, e142) }, e142);
      case "facebook":
        return (0, import_jsx_runtime49.jsx)(C4, { icon: "facebook", provider: o.Facebook, text: c11(i67, e142) }, e142);
      case "google":
        return (0, import_jsx_runtime49.jsx)(C4, { icon: "google", provider: o.Google, text: c11(i67, e142) }, e142);
      default:
        console.error(`Authenticator does not support ${e142}. Please open an issue: https://github.com/aws-amplify/amplify-ui/issues/choose`);
    }
  }), (0, import_jsx_runtime49.jsx)(m13, { size: "small", label: "or" })] }));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SignIn/SignIn.js
var { getSignInText: g7, getSigningInText: f13, getForgotPasswordText: u12 } = r5;
function h8() {
  const { isPending: r61 } = useAuthenticator((i67) => [i67.isPending]), { handleChange: u20, handleSubmit: j7 } = a24(), { components: { SignIn: { Header: F4 = h8.Header, Footer: b7 = h8.Footer } } } = e44();
  return (0, import_jsx_runtime50.jsxs)(a19, { children: [(0, import_jsx_runtime50.jsx)(F4, {}), (0, import_jsx_runtime50.jsxs)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-signin": "", method: "post", onSubmit: j7, onChange: u20 }, { children: [(0, import_jsx_runtime50.jsx)(p9, {}), (0, import_jsx_runtime50.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime50.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: r61 }, { children: [(0, import_jsx_runtime50.jsx)(o41, { children: (0, import_jsx_runtime50.jsx)("legend", { children: g7() }) }), (0, import_jsx_runtime50.jsx)(m11, {})] })), (0, import_jsx_runtime50.jsx)(m6, {}), (0, import_jsx_runtime50.jsx)(u8, Object.assign({ isDisabled: r61, isFullWidth: true, type: "submit", variation: "primary", isLoading: r61, loadingText: f13() }, { children: g7() }))] }))] })), (0, import_jsx_runtime50.jsx)(b7, {})] });
}
h8.Footer = () => {
  const { toResetPassword: i67 } = useAuthenticator((i68) => [i68.toResetPassword]);
  return (0, import_jsx_runtime50.jsx)(a19, Object.assign({ "data-amplify-footer": "" }, { children: (0, import_jsx_runtime50.jsx)(u8, Object.assign({ fontWeight: "normal", onClick: i67, size: "small", variation: "link" }, { children: u12() })) }));
}, h8.Header = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SignUp/SignUp.js
var import_jsx_runtime51 = __toESM(require_jsx_runtime());
var { getCreateAccountText: c12, getCreatingAccountText: p10 } = r5;
function f14() {
  const { hasValidationErrors: i67, isPending: u20 } = useAuthenticator((e142) => [e142.hasValidationErrors, e142.isPending]), { handleChange: h12, handleBlur: g14, handleSubmit: F4 } = a24(), { components: { SignUp: { Header: j7 = f14.Header, FormFields: b7 = f14.FormFields, Footer: x5 = f14.Footer } } } = e44();
  return (0, import_jsx_runtime51.jsxs)(a19, { children: [(0, import_jsx_runtime51.jsx)(j7, {}), (0, import_jsx_runtime51.jsxs)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-signup": "", method: "post", onChange: h12, onSubmit: F4, onBlur: g14 }, { children: [(0, import_jsx_runtime51.jsx)(p9, {}), (0, import_jsx_runtime51.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: u20 }, { children: [(0, import_jsx_runtime51.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime51.jsx)(b7, {}), (0, import_jsx_runtime51.jsx)(m6, {})] })), (0, import_jsx_runtime51.jsx)(u8, Object.assign({ isDisabled: i67 || u20, isFullWidth: true, type: "submit", variation: "primary", isLoading: u20, loadingText: p10() }, { children: c12() }))] }))] })), (0, import_jsx_runtime51.jsx)(x5, {})] });
}
f14.Header = function() {
  return null;
}, f14.FormFields = function() {
  return (0, import_jsx_runtime51.jsx)(m11, {});
}, f14.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/SignInSignUpTabs.js
var { getSignInTabText: m14, getSignUpTabText: p11 } = r5;
var l16 = ({ className: t87, hideSignUp: l29, variation: f21 }) => {
  const { route: j7, toSignIn: u20, toSignUp: d10 } = useAuthenticator((i67) => [i67.route, i67.toSignIn, i67.toSignUp]);
  return (0, import_jsx_runtime52.jsx)(n23, Object.assign({ className: t87, variation: f21 }, { children: l29 ? (0, import_jsx_runtime52.jsx)(a19, Object.assign({ "data-amplify-router-content": "" }, { children: "signIn" === j7 && (0, import_jsx_runtime52.jsx)(h8, {}) })) : (0, import_jsx_runtime52.jsxs)(f12, Object.assign({ indicatorPosition: "top", currentIndex: "signIn" === j7 ? 0 : 1, spacing: "equal", justifyContent: "center", onChange: () => "signIn" === j7 ? d10() : u20() }, { children: [(0, import_jsx_runtime52.jsx)(u11, Object.assign({ title: m14() }, { children: (0, import_jsx_runtime52.jsx)(a19, Object.assign({ "data-amplify-router-content": "" }, { children: "signIn" === j7 && (0, import_jsx_runtime52.jsx)(h8, {}) })) })), (0, import_jsx_runtime52.jsx)(u11, Object.assign({ title: p11() }, { children: (0, import_jsx_runtime52.jsx)(a19, Object.assign({ "data-amplify-router-content": "" }, { children: "signUp" === j7 && (0, import_jsx_runtime52.jsx)(f14, {}) })) }))] })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/VerifyUser/ConfirmVerifyUser.js
var import_jsx_runtime54 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/shared/TwoButtonSubmitFooter.js
var import_jsx_runtime53 = __toESM(require_jsx_runtime());
var { getSubmitText: a40, getSubmittingText: c13 } = r5;
var m15 = (n45) => {
  const { cancelButtonSendType: m29, cancelButtonText: l29, submitButtonText: u20 } = n45, { isPending: p17, resendCode: d10, skipVerification: b7, toSignIn: f21 } = useAuthenticator((t87) => [t87.isPending]), g14 = p17 ? (0, import_jsx_runtime53.jsxs)(import_jsx_runtime53.Fragment, { children: [c13(), "\u2026"] }) : (0, import_jsx_runtime53.jsx)(import_jsx_runtime53.Fragment, { children: a40() }), h12 = u20 || g14;
  return (0, import_jsx_runtime53.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime53.jsx)(u8, Object.assign({ fontWeight: "normal", variation: "primary", isDisabled: p17, type: "submit" }, { children: h12 })), (0, import_jsx_runtime53.jsx)(u8, Object.assign({ onClick: () => {
    switch (m29) {
      case "SKIP":
        b7();
        break;
      case "RESEND":
        d10();
        break;
      case "SIGN_IN":
        f21();
        break;
      default:
        return;
    }
  }, type: "button", variation: "link", fontWeight: "normal", size: "small" }, { children: l29 }))] }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/VerifyUser/ConfirmVerifyUser.js
var { getAccountRecoveryInfoText: u13, getSkipText: f15 } = r5;
var p12 = ({ className: r61, variation: i67 }) => {
  const { isPending: u20 } = useAuthenticator((e142) => [e142.isPending]), { handleChange: h12, handleSubmit: g14 } = a24(), { components: { ConfirmVerifyUser: { Header: j7 = p12.Header, Footer: F4 = p12.Footer } } } = e44();
  return (0, import_jsx_runtime54.jsx)(n23, Object.assign({ className: r61, variation: i67 }, { children: (0, import_jsx_runtime54.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-confirmverifyuser": "", method: "post", onChange: h12, onSubmit: g14 }, { children: (0, import_jsx_runtime54.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: u20 }, { children: [(0, import_jsx_runtime54.jsx)(j7, {}), (0, import_jsx_runtime54.jsx)(t14, Object.assign({ direction: "column" }, { children: (0, import_jsx_runtime54.jsx)(m11, {}) })), (0, import_jsx_runtime54.jsx)(m6, {}), (0, import_jsx_runtime54.jsx)(m15, { cancelButtonText: f15(), cancelButtonSendType: "SKIP" }), (0, import_jsx_runtime54.jsx)(F4, {})] })) })) }));
};
p12.Header = function() {
  return (0, import_jsx_runtime54.jsx)(c7, Object.assign({ level: 3 }, { children: u13() }));
}, p12.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/VerifyUser/VerifyUser.js
var import_jsx_runtime57 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Radio/Radio.js
var import_jsx_runtime55 = __toESM(require_jsx_runtime());
var t43 = __toESM(require_react());
var import_classnames34 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/RadioGroupField/context.js
var import_react31 = __toESM(require_react());
var o62 = import_react31.default.createContext({ name: "default" });
var r28 = () => (0, import_react31.useContext)(o62);

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Radio/Radio.js
var c14 = (t87, c22) => {
  var { children: h12, className: u20, id: b7, isDisabled: f21, testId: g14, value: R, labelPosition: j7, height: v5, width: x5, bottom: N5, left: I2, position: y9, padding: O2, right: w3, top: D3 } = t87, C7 = __rest6(t87, ["children", "className", "id", "isDisabled", "testId", "value", "labelPosition", "height", "width", "bottom", "left", "position", "padding", "right", "top"]);
  const { currentValue: F4, defaultValue: P2, name: V2, hasError: k6, isGroupDisabled: q3, isRequired: z2, isReadOnly: B2, onChange: E4, size: G, labelPosition: T2 } = r28(), H = q3 || f21 || B2 && P2 !== R, L = void 0 !== F4 ? R === F4 : void 0, A3 = void 0 !== P2 ? R === P2 : void 0, J = j7 || T2;
  return (0, import_jsx_runtime55.jsxs)(t14, Object.assign({ as: "label", className: (0, import_classnames34.default)(a18.Radio, p5(a18.Radio, "disabled", H), u20), "data-disabled": H, "data-label-position": J, width: x5, bottom: N5, top: D3, right: w3, left: I2, position: y9, padding: O2 }, { children: [h12 && (0, import_jsx_runtime55.jsx)(n19, Object.assign({ as: "span", className: a18.RadioLabel, "data-disabled": H }, { children: h12 })), (0, import_jsx_runtime55.jsx)(l12, Object.assign({ checked: L, className: (0, import_classnames34.default)(a18.VisuallyHidden, a18.RadioInput), defaultChecked: A3, hasError: k6, id: b7, isDisabled: H, isReadOnly: B2, isRequired: z2, onChange: E4, ref: c22, type: "radio", name: V2, value: R }, C7)), (0, import_jsx_runtime55.jsx)(t14, { "aria-hidden": "true", as: "span", className: (0, import_classnames34.default)(a18.RadioButton, f6(a18.RadioButton, G)), "data-size": G, testId: g14 })] }));
};
var h9 = t43.forwardRef(c14);
h9.displayName = "Radio";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/RadioGroupField/RadioGroupField.js
var import_jsx_runtime56 = __toESM(require_jsx_runtime());
var a42 = __toESM(require_react());
var import_classnames35 = __toESM(require_classnames());
var u14 = a42.forwardRef((u20, b7) => {
  var { children: p17, className: f21, defaultValue: h12, descriptiveText: j7, errorMessage: g14, hasError: F4 = false, id: v5, isDisabled: R, isRequired: x5, isReadOnly: y9, label: O2, labelHidden: E4 = false, labelPosition: M4, onChange: N5, name: z2, size: C7, value: D3 } = u20, G = __rest6(u20, ["children", "className", "defaultValue", "descriptiveText", "errorMessage", "hasError", "id", "isDisabled", "isRequired", "isReadOnly", "label", "labelHidden", "labelPosition", "onChange", "name", "size", "value"]);
  const H = s19(v5), P2 = s19(), V2 = s19(), q3 = j7 ? V2 : void 0, T2 = a42.useMemo(() => ({ currentValue: D3, defaultValue: h12, hasError: F4, isRequired: x5, isReadOnly: y9, isGroupDisabled: R, onChange: N5, size: C7, name: z2, labelPosition: M4 }), [h12, F4, R, x5, y9, N5, C7, z2, D3, M4]);
  return (0, import_jsx_runtime56.jsxs)(t14, Object.assign({ className: (0, import_classnames35.default)(a18.Field, a18.RadioGroupField, f21), "data-size": C7, ref: b7 }, G, { children: [(0, import_jsx_runtime56.jsx)(m10, Object.assign({ id: P2, visuallyHidden: E4 }, { children: O2 })), (0, import_jsx_runtime56.jsx)(a28, { id: V2, labelHidden: E4, descriptiveText: j7 }), (0, import_jsx_runtime56.jsx)(t14, Object.assign({ "aria-describedby": q3, "aria-labelledby": P2, className: a18.RadioGroup, id: H, role: "radiogroup" }, { children: (0, import_jsx_runtime56.jsx)(o62.Provider, Object.assign({ value: T2 }, { children: p17 })) })), (0, import_jsx_runtime56.jsx)(a29, { hasError: F4, errorMessage: g14 })] }));
});
u14.displayName = "RadioGroupField";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/VerifyUser/VerifyUser.js
var { getSkipText: j4, getVerifyText: v4, getVerifyContactText: x3, getAccountRecoveryInfoText: y5 } = r5;
var F3 = (e142, i67) => {
  const t87 = b2(e142);
  let r61 = i67;
  if ("Phone Number" === e142)
    r61 = i4(i67);
  else if ("Email" === e142) {
    const e143 = i67.split("@");
    r61 = `${u(e143[0])}@${e143[1]}`;
  }
  return `${t87}: ${r61}`;
};
var C5 = ({ className: r61, variation: n45 }) => {
  const { components: { VerifyUser: { Header: s62 = C5.Header, Footer: a82 = C5.Footer } } } = e44(), { isPending: d10, unverifiedContactMethods: y9 } = useAuthenticator(({ isPending: e142, unverifiedContactMethods: i67 }) => [e142, i67]), { handleChange: H, handleSubmit: R } = a24(), T2 = (0, import_jsx_runtime57.jsx)(import_jsx_runtime57.Fragment, d10 ? { children: "Verifying\u2026" } : { children: v4() }), O2 = (0, import_jsx_runtime57.jsx)(u14, Object.assign({ label: x3(), labelHidden: true, name: "verify_context", isDisabled: d10 }, { children: (S = y9, Object.entries(S).map(([i67, t87]) => (0, import_jsx_runtime57.jsx)(h9, Object.assign({ name: "unverifiedAttr", value: i67 }, { children: F3(r3[i67].label, t87) }), i67))) }));
  var S;
  return (0, import_jsx_runtime57.jsx)(n23, Object.assign({ className: r61, variation: n45 }, { children: (0, import_jsx_runtime57.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-verifyuser": "", method: "post", onChange: H, onSubmit: R }, { children: (0, import_jsx_runtime57.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: d10 }, { children: [(0, import_jsx_runtime57.jsx)(s62, {}), O2, (0, import_jsx_runtime57.jsx)(m6, {}), (0, import_jsx_runtime57.jsx)(m15, { cancelButtonText: j4(), cancelButtonSendType: "SKIP", submitButtonText: T2 }), (0, import_jsx_runtime57.jsx)(a82, {})] })) })) }));
};
C5.Header = function() {
  return (0, import_jsx_runtime57.jsx)(c7, Object.assign({ level: 3 }, { children: y5() }));
}, C5.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ConfirmSignIn/ConfirmSignIn.js
var import_jsx_runtime58 = __toESM(require_jsx_runtime());
var { getChallengeText: f16 } = r5;
var u15 = ({ className: o101, variation: n45 }) => {
  const { isPending: f21 } = useAuthenticator((e142) => [e142.isPending]), { handleChange: p17, handleSubmit: g14 } = a24(), { components: { ConfirmSignIn: { Header: h12 = u15.Header, Footer: j7 = u15.Footer } } } = e44();
  return (0, import_jsx_runtime58.jsx)(n23, Object.assign({ className: o101, variation: n45 }, { children: (0, import_jsx_runtime58.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-confirmsignin": "", method: "post", onChange: p17, onSubmit: g14 }, { children: (0, import_jsx_runtime58.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: f21 }, { children: [(0, import_jsx_runtime58.jsx)(h12, {}), (0, import_jsx_runtime58.jsxs)(t14, Object.assign({ direction: "column" }, { children: [(0, import_jsx_runtime58.jsx)(m11, {}), (0, import_jsx_runtime58.jsx)(m6, {})] })), (0, import_jsx_runtime58.jsx)(g6, {}), (0, import_jsx_runtime58.jsx)(j7, {})] })) })) }));
};
u15.Header = function() {
  const { user: { challengeName: r61 } } = useAuthenticator(({ user: e142 }) => [e142]);
  return (0, import_jsx_runtime58.jsx)(c7, Object.assign({ level: 3 }, { children: f16(r61) }));
}, u15.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ResetPassword/ConfirmResetPassword.js
var import_jsx_runtime59 = __toESM(require_jsx_runtime());
var { getResendCodeText: u16, getResetYourPasswordText: p13 } = r5;
var f17 = ({ className: r61, variation: i67 }) => {
  const { isPending: p17 } = useAuthenticator((e142) => [e142.isPending]), { handleBlur: h12, handleChange: g14, handleSubmit: j7 } = a24(), { components: { ConfirmResetPassword: { Header: F4 = f17.Header, Footer: b7 = f17.Footer } } } = e44();
  return (0, import_jsx_runtime59.jsx)(n23, Object.assign({ className: r61, variation: i67 }, { children: (0, import_jsx_runtime59.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-confirmresetpassword": "", method: "post", onSubmit: j7, onChange: g14, onBlur: h12 }, { children: (0, import_jsx_runtime59.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: p17 }, { children: [(0, import_jsx_runtime59.jsx)(F4, {}), (0, import_jsx_runtime59.jsx)(t14, Object.assign({ direction: "column" }, { children: (0, import_jsx_runtime59.jsx)(m11, {}) })), (0, import_jsx_runtime59.jsx)(m6, {}), (0, import_jsx_runtime59.jsx)(m15, { cancelButtonSendType: "RESEND", cancelButtonText: u16() }), (0, import_jsx_runtime59.jsx)(b7, {})] })) })) }));
};
f17.Header = function() {
  const o101 = p13();
  return (0, import_jsx_runtime59.jsx)(c7, Object.assign({ level: 3 }, { children: o101 }));
}, f17.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/ResetPassword/ResetPassword.js
var import_jsx_runtime60 = __toESM(require_jsx_runtime());
var { getBackToSignInText: p14, getSendingText: f18, getSendCodeText: g8, getResetYourPasswordText: h10 } = r5;
var j5 = ({ className: r61, variation: n45 }) => {
  const { isPending: h12 } = useAuthenticator((e142) => [e142.isPending]), { handleChange: x5, handleSubmit: b7 } = a24(), { components: { ResetPassword: { Header: F4 = j5.Header, Footer: T2 = j5.Footer } } } = e44();
  return (0, import_jsx_runtime60.jsx)(n23, Object.assign({ className: r61, variation: n45 }, { children: (0, import_jsx_runtime60.jsx)("form", Object.assign({ "data-amplify-form": "", "data-amplify-authenticator-resetpassword": "", method: "post", onChange: x5, onSubmit: b7 }, { children: (0, import_jsx_runtime60.jsxs)(t14, Object.assign({ as: "fieldset", direction: "column", isDisabled: h12 }, { children: [(0, import_jsx_runtime60.jsx)(F4, {}), (0, import_jsx_runtime60.jsx)(t14, Object.assign({ direction: "column" }, { children: (0, import_jsx_runtime60.jsx)(m11, {}) })), (0, import_jsx_runtime60.jsx)(m6, {}), (0, import_jsx_runtime60.jsx)(m15, { cancelButtonText: p14(), cancelButtonSendType: "SIGN_IN", submitButtonText: h12 ? (0, import_jsx_runtime60.jsxs)(import_jsx_runtime60.Fragment, { children: [f18(), "\u2026"] }) : (0, import_jsx_runtime60.jsx)(import_jsx_runtime60.Fragment, { children: g8() }) }), (0, import_jsx_runtime60.jsx)(T2, {})] })) })) }));
};
j5.Header = function() {
  return (0, import_jsx_runtime60.jsx)(c7, Object.assign({ level: 3 }, { children: h10() }));
}, j5.Footer = function() {
  return null;
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/utils.js
var n27 = (n45) => "signIn" === n45 || "signUp" === n45;

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/Router/Router.js
function d6() {
  return null;
}
function l17({ className: l29, hideSignUp: w3, variation: j7 }) {
  const { route: U2 } = useAuthenticator(({ route: r61 }) => [r61]), g14 = (0, import_react32.useMemo)(() => ((r61) => {
    switch (r61) {
      case "authenticated":
      case "idle":
      case "setup":
      case "transition":
        return d6;
      case "confirmSignUp":
        return b4;
      case "confirmSignIn":
        return u15;
      case "setupTOTP":
        return b5;
      case "signIn":
      case "signUp":
        return l16;
      case "forceNewPassword":
        return u10;
      case "resetPassword":
        return j5;
      case "confirmResetPassword":
        return f17;
      case "verifyUser":
        return C5;
      case "confirmVerifyUser":
        return p12;
      default:
        return console.warn(`Unhandled Authenticator route - please open an issue: ${r61}`), d6;
    }
  })(U2), [U2]);
  return (0, import_jsx_runtime61.jsx)(g14, { className: l29, hideSignUp: n27(U2) ? w3 : void 0, variation: j7 });
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/hooks/useCustomComponents/defaultComponents.js
var a43 = { Header: () => null, SignIn: { Header: h8.Header, Footer: h8.Footer }, SignUp: { Header: f14.Header, FormFields: f14.FormFields, Footer: f14.Footer }, ConfirmSignUp: { Header: b4.Header, Footer: b4.Footer }, SetupTOTP: { Header: b5.Header, Footer: b5.Footer }, ConfirmResetPassword: { Header: f17.Header, Footer: f17.Footer }, ConfirmSignIn: { Header: u15.Header, Footer: u15.Footer }, VerifyUser: { Header: C5.Header, Footer: C5.Footer }, ConfirmVerifyUser: { Header: p12.Header, Footer: p12.Footer }, ForceNewPassword: { FormFields: u10.FormFields }, ResetPassword: { Header: j5.Header, Footer: j5.Footer }, Footer: () => null };

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/Authenticator.js
function g9({ children: o101, className: a82, components: p17, formFields: u20, hideSignUp: c22, initialState: d10, loginMechanisms: g14, signUpAttributes: l29, services: j7, socialProviders: P2, variation: w3 }) {
  const { route: S, signOut: h12, user: O2 } = useAuthenticator(({ route: s62, signOut: e142, user: i67 }) => [s62, e142, i67]);
  useAuthenticatorInitMachine({ initialState: d10, loginMechanisms: g14, services: j7, signUpAttributes: l29, socialProviders: P2, formFields: u20 });
  const v5 = i41.useMemo(() => ({ components: Object.assign(Object.assign({}, a43), p17) }), [p17]);
  return "authenticated" === S || "signOut" === S ? o101 ? (0, import_jsx_runtime62.jsx)(import_jsx_runtime62.Fragment, { children: "function" == typeof o101 ? o101({ signOut: h12, user: O2 }) : o101 }) : null : (0, import_jsx_runtime62.jsx)(t10.Provider, Object.assign({ value: v5 }, { children: (0, import_jsx_runtime62.jsx)(l17, { className: a82, hideSignUp: c22, variation: w3 }) }));
}
function l18(e142) {
  return (0, import_jsx_runtime62.jsx)(AuthenticatorProvider, { children: (0, import_jsx_runtime62.jsx)(g9, Object.assign({}, e142)) });
}
l18.Provider = AuthenticatorProvider, l18.ResetPassword = j5, l18.SetupTOTP = b5, l18.SignIn = h8, l18.SignUp = f14, l18.ForceNewPassword = u10;

// node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/withAuthenticator.js
var import_jsx_runtime63 = __toESM(require_jsx_runtime());
function n28(n45, i67 = {}) {
  const { variation: o101 = "modal" } = i67;
  return function(a82) {
    return (0, import_jsx_runtime63.jsx)(l18, Object.assign({ variation: o101 }, i67, { children: (r61) => (0, import_jsx_runtime63.jsx)(n45, Object.assign({}, a82, r61)) }));
  };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/Geo/MapView/index.js
var import_jsx_runtime64 = __toESM(require_jsx_runtime());
var import_react47 = __toESM(require_react());
var import_maplibre_gl5 = __toESM(require_maplibre_gl());

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyMapLibreRequest.js
var import_maplibre_gl = __toESM(require_maplibre_gl());

// node_modules/maplibre-gl-js-amplify/lib/esm/utils.js
var urlEncodePeriods = (str) => {
  return str.replace(/\./g, "%2E");
};

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyMapLibreRequest.js
var __awaiter4 = function(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e142) {
        reject(e142);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e142) {
        reject(e142);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __rest7 = function(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
};
var _a2;
var AmplifyMapLibreRequest = class {
  constructor(currentCredentials, region) {
    this.refreshCredentials = () => __awaiter4(this, void 0, void 0, function* () {
      try {
        this.credentials = yield Credentials.get();
      } catch (e142) {
        console.error(`Failed to refresh credentials: ${e142}`);
        throw e142;
      }
    });
    this.refreshCredentialsWithRetry = () => __awaiter4(this, void 0, void 0, function* () {
      try {
        const MAX_DELAY_MS = 5 * 60 * 1e3;
        yield jitteredExponentialRetry(this.refreshCredentials, [], MAX_DELAY_MS);
        this.activeTimeout && clearTimeout(this.activeTimeout);
        const expiration = new Date(this.credentials.expiration);
        const timeout = expiration.getTime() - new Date().getTime() - 1e4;
        this.activeTimeout = window.setTimeout(this.refreshCredentialsWithRetry, timeout);
      } catch (e142) {
        console.error(`Failed to refresh credentials: ${e142}`);
      }
    });
    this.transformRequest = (url, resourceType) => {
      if (resourceType === "Style" && !url.includes("://")) {
        if (this.region == void 0) {
          throw new Error("AWS region for map is undefined. Please verify that the region is set in aws-exports.js or that you are providing an AWS region parameter to createMap");
        }
        url = `https://maps.geo.${this.region}.amazonaws.com/maps/v0/maps/${url}/style-descriptor`;
      }
      if (url.includes("amazonaws.com")) {
        const urlWithUserAgent = url + `?x-amz-user-agent=${encodeURIComponent(urlEncodePeriods(getAmplifyUserAgent()))}`;
        return {
          url: Signer.signUrl(urlWithUserAgent, {
            access_key: this.credentials.accessKeyId,
            secret_key: this.credentials.secretAccessKey,
            session_token: this.credentials.sessionToken
          })
        };
      }
    };
    this.credentials = currentCredentials;
    this.region = region;
    this.activeTimeout = null;
    this.refreshCredentialsWithRetry();
    Hub.listen("auth", (data) => {
      switch (data.payload.event) {
        case "signIn":
        case "signOut":
        case "tokenRefresh":
          this.refreshCredentialsWithRetry();
          break;
      }
    });
  }
};
_a2 = AmplifyMapLibreRequest;
AmplifyMapLibreRequest.createMapLibreMap = (options) => __awaiter4(void 0, void 0, void 0, function* () {
  const { region, mapConstructor = import_maplibre_gl.Map } = options, maplibreOption = __rest7(options, ["region", "mapConstructor"]);
  const defaultMap = Geo.getDefaultMap();
  const amplifyRequest = new AmplifyMapLibreRequest(yield Credentials.get(), region || defaultMap.region);
  const transformRequest = amplifyRequest.transformRequest;
  const map = new mapConstructor(Object.assign(Object.assign({}, maplibreOption), {
    style: options.style || defaultMap.mapName,
    transformRequest
  }));
  return map;
});

// node_modules/maplibre-gl-js-amplify/lib/esm/constants.js
var LOCATION_MARKER = "M24.8133 38.533C18.76 31.493 13 28.8264 13 20.8264C13.4827 14.9864 16.552 9.67169 21.368 6.33302C33.768 -2.26165 50.824 5.78902 52.0667 20.8264C52.0667 28.613 46.5733 31.6797 40.6533 38.373C32.4933 47.5464 35.4 63.093 32.4933 63.093C29.72 63.093 32.4933 47.5464 24.8133 38.533ZM32.4933 8.23969C26.5573 8.23969 21.7467 13.0504 21.7467 18.9864C21.7467 24.9224 26.5573 29.733 32.4933 29.733C38.4293 29.733 43.24 24.9224 43.24 18.9864C43.24 13.0504 38.4293 8.23969 32.4933 8.23969Z";
var MAP_STYLES;
(function(MAP_STYLES2) {
  MAP_STYLES2["ESRI_TOPOGRAPHIC"] = "VectorEsriTopographic";
  MAP_STYLES2["ESRI_STREETS"] = "VectorEsriStreets";
  MAP_STYLES2["ESRI_LIGHT_GRAY"] = "VectorEsriLightGrayCanvas";
  MAP_STYLES2["ESRI_DARK_GRAY"] = "VectorEsriDarkGrayCanvas";
  MAP_STYLES2["ESRI_NAVIGATION"] = "VectorEsriNavigation";
  MAP_STYLES2["HERE_BERLIN"] = "VectorHereBerlin";
})(MAP_STYLES || (MAP_STYLES = {}));
var FONT_DEFAULT_BY_STYLE = {
  [MAP_STYLES.ESRI_TOPOGRAPHIC]: "Noto Sans Regular",
  [MAP_STYLES.ESRI_STREETS]: "Arial Regular",
  [MAP_STYLES.ESRI_LIGHT_GRAY]: "Ubuntu Regular",
  [MAP_STYLES.ESRI_DARK_GRAY]: "Ubuntu Regular",
  [MAP_STYLES.ESRI_NAVIGATION]: "Arial Regular",
  [MAP_STYLES.HERE_BERLIN]: "Fira GO Regular"
};

// node_modules/maplibre-gl-js-amplify/lib/esm/drawUnclusteredLayer.js
var import_maplibre_gl2 = __toESM(require_maplibre_gl());

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyMapLibreGeocoder.js
var import_maplibre_gl_geocoder = __toESM(require_lib());
var import_maplibre_gl3 = __toESM(require_maplibre_gl());

// node_modules/maplibre-gl-js-amplify/lib/esm/createDefaultIcon.js
function createDefaultIcon() {
  const customIcon = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  const iconPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
  const iconCircle = document.createElement("circle");
  customIcon.setAttribute("viewBox", "0 0 64 64");
  customIcon.setAttribute("width", "32");
  customIcon.setAttribute("height", "32");
  iconPath.setAttribute("d", LOCATION_MARKER);
  iconPath.setAttribute("fill", "#5d8aff");
  iconCircle.setAttribute("fill", "white");
  iconCircle.setAttribute("cx", "50%");
  iconCircle.setAttribute("cy", "50%");
  iconCircle.setAttribute("r", "5");
  customIcon.appendChild(iconCircle);
  customIcon.appendChild(iconPath);
  return customIcon;
}

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyMapLibreGeocoder.js
var __awaiter5 = function(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e142) {
        reject(e142);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e142) {
        reject(e142);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __rest8 = function(s62, e142) {
  var t87 = {};
  for (var p17 in s62)
    if (Object.prototype.hasOwnProperty.call(s62, p17) && e142.indexOf(p17) < 0)
      t87[p17] = s62[p17];
  if (s62 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i67 = 0, p17 = Object.getOwnPropertySymbols(s62); i67 < p17.length; i67++) {
      if (e142.indexOf(p17[i67]) < 0 && Object.prototype.propertyIsEnumerable.call(s62, p17[i67]))
        t87[p17[i67]] = s62[p17[i67]];
    }
  return t87;
};
var AmplifyGeocoderAPI = {
  forwardGeocode: (config) => __awaiter5(void 0, void 0, void 0, function* () {
    const features = [];
    try {
      const data = yield Geo.searchByText(config.query, {
        biasPosition: config.bbox ? void 0 : config.proximity,
        searchAreaConstraints: config.bbox,
        countries: config.countries,
        maxResults: config.limit
      });
      if (data) {
        data.forEach((result) => {
          const { geometry } = result, otherResults = __rest8(result, ["geometry"]);
          features.push({
            type: "Feature",
            geometry: { type: "Point", coordinates: geometry.point },
            properties: Object.assign({}, otherResults),
            place_name: otherResults.label,
            text: otherResults.label,
            center: geometry.point
          });
        });
      }
    } catch (e142) {
      console.error(`Failed to forwardGeocode with error: ${e142}`);
    }
    return { features };
  }),
  reverseGeocode: (config) => __awaiter5(void 0, void 0, void 0, function* () {
    const features = [];
    try {
      const data = yield Geo.searchByCoordinates(config.query, {
        maxResults: config.limit
      });
      if (data && data.geometry) {
        const { geometry } = data, otherResults = __rest8(data, ["geometry"]);
        features.push({
          type: "Feature",
          geometry: { type: "Point", coordinates: geometry.point },
          properties: Object.assign({}, otherResults),
          place_name: otherResults.label,
          text: otherResults.label,
          center: geometry.point
        });
      }
    } catch (e142) {
      console.error(`Failed to reverseGeocode with error: ${e142}`);
    }
    return { features };
  }),
  getSuggestions: (config) => __awaiter5(void 0, void 0, void 0, function* () {
    const suggestions = [];
    try {
      const response = yield Geo.searchForSuggestions(config.query, {
        biasPosition: config.proximity,
        searchAreaConstraints: config.bbox,
        countries: config.countries,
        maxResults: config.limit
      });
      suggestions.push(...response);
    } catch (e142) {
      console.error(`Failed to get suggestions with error: ${e142}`);
    }
    return { suggestions };
  }),
  searchByPlaceId: (config) => __awaiter5(void 0, void 0, void 0, function* () {
    let feature2 = void 0;
    try {
      const place = yield Geo.searchByPlaceId(config.query);
      if (place) {
        const { geometry } = place, otherResults = __rest8(place, ["geometry"]);
        feature2 = {
          type: "Feature",
          geometry: { type: "Point", coordinates: geometry.point },
          properties: Object.assign({}, otherResults),
          place_name: otherResults.label,
          text: otherResults.label,
          center: geometry.point
        };
      }
      ;
    } catch (e142) {
      console.error(`Failed to get place with error: ${e142}`);
    }
    return { place: feature2 };
  })
};
function createAmplifyGeocoder(options) {
  return new import_maplibre_gl_geocoder.default(AmplifyGeocoderAPI, Object.assign({
    maplibregl: import_maplibre_gl3.default,
    showResultMarkers: { element: createDefaultIcon() },
    marker: { element: createDefaultIcon() },
    showResultsWhileTyping: options === null || options === void 0 ? void 0 : options.autocomplete
  }, options));
}

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyGeofenceControl/index.js
var import_maplibre_gl4 = __toESM(require_maplibre_gl());

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyGeofenceControl/ui.js
var import_debounce = __toESM(require_debounce2());

// node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyGeofenceControl/AmplifyMapDraw.js
var import_mapbox_gl_draw = __toESM(require_mapbox_gl_draw());
var import_maplibre_gl_draw_circle = __toESM(require_maplibre_gl_draw_circle());

// node_modules/react-map-gl/dist/esm/components/map.js
var React6 = __toESM(require_react());
var import_react35 = __toESM(require_react());

// node_modules/react-map-gl/dist/esm/components/use-map.js
var React5 = __toESM(require_react());
var import_react33 = __toESM(require_react());
var MountedMapsContext = React5.createContext(null);
function useMap() {
  var _a3;
  const maps = (_a3 = (0, import_react33.useContext)(MountedMapsContext)) === null || _a3 === void 0 ? void 0 : _a3.maps;
  const currentMap = (0, import_react33.useContext)(MapContext);
  const mapsWithCurrent = (0, import_react33.useMemo)(() => {
    return { ...maps, current: currentMap === null || currentMap === void 0 ? void 0 : currentMap.map };
  }, [maps, currentMap]);
  return mapsWithCurrent;
}

// node_modules/react-map-gl/dist/esm/utils/transform.js
function cloneTransform(tr) {
  const newTransform = tr.clone();
  newTransform.pixelsToGLUnits = tr.pixelsToGLUnits;
  return newTransform;
}
function transformToViewState(tr) {
  return {
    longitude: tr.center.lng,
    latitude: tr.center.lat,
    zoom: tr.zoom,
    pitch: tr.pitch,
    bearing: tr.bearing,
    padding: tr.padding
  };
}
function applyViewStateToTransform(tr, props) {
  const v5 = props.viewState || props;
  let changed = false;
  if ("longitude" in v5 && "latitude" in v5) {
    const center = tr.center;
    tr.center = new center.constructor(v5.longitude, v5.latitude);
    changed = changed || center !== tr.center;
  }
  if ("zoom" in v5) {
    const zoom = tr.zoom;
    tr.zoom = v5.zoom;
    changed = changed || zoom !== tr.zoom;
  }
  if ("bearing" in v5) {
    const bearing2 = tr.bearing;
    tr.bearing = v5.bearing;
    changed = changed || bearing2 !== tr.bearing;
  }
  if ("pitch" in v5) {
    const pitch = tr.pitch;
    tr.pitch = v5.pitch;
    changed = changed || pitch !== tr.pitch;
  }
  if (v5.padding && !tr.isPaddingEqual(v5.padding)) {
    changed = true;
    tr.padding = v5.padding;
  }
  return changed;
}

// node_modules/react-map-gl/dist/esm/utils/style-utils.js
var refProps = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"];
function normalizeStyle(style) {
  if (!style) {
    return null;
  }
  if (typeof style === "string") {
    return style;
  }
  if ("toJS" in style) {
    style = style.toJS();
  }
  if (!style.layers) {
    return style;
  }
  const layerIndex = {};
  for (const layer of style.layers) {
    layerIndex[layer.id] = layer;
  }
  const layers = style.layers.map((layer) => {
    const layerRef = layerIndex[layer.ref];
    let normalizedLayer = null;
    if ("interactive" in layer) {
      normalizedLayer = { ...layer };
      delete normalizedLayer.interactive;
    }
    if (layerRef) {
      normalizedLayer = normalizedLayer || { ...layer };
      delete normalizedLayer.ref;
      for (const propName of refProps) {
        if (propName in layerRef) {
          normalizedLayer[propName] = layerRef[propName];
        }
      }
    }
    return normalizedLayer || layer;
  });
  return { ...style, layers };
}

// node_modules/react-map-gl/dist/esm/utils/deep-equal.js
function arePointsEqual(a82, b7) {
  const ax = Array.isArray(a82) ? a82[0] : a82 ? a82.x : 0;
  const ay = Array.isArray(a82) ? a82[1] : a82 ? a82.y : 0;
  const bx = Array.isArray(b7) ? b7[0] : b7 ? b7.x : 0;
  const by = Array.isArray(b7) ? b7[1] : b7 ? b7.y : 0;
  return ax === bx && ay === by;
}
function deepEqual(a82, b7) {
  if (a82 === b7) {
    return true;
  }
  if (!a82 || !b7) {
    return false;
  }
  if (Array.isArray(a82)) {
    if (!Array.isArray(b7) || a82.length !== b7.length) {
      return false;
    }
    for (let i67 = 0; i67 < a82.length; i67++) {
      if (!deepEqual(a82[i67], b7[i67])) {
        return false;
      }
    }
    return true;
  } else if (Array.isArray(b7)) {
    return false;
  }
  if (typeof a82 === "object" && typeof b7 === "object") {
    const aKeys = Object.keys(a82);
    const bKeys = Object.keys(b7);
    if (aKeys.length !== bKeys.length) {
      return false;
    }
    for (const key of aKeys) {
      if (!b7.hasOwnProperty(key)) {
        return false;
      }
      if (!deepEqual(a82[key], b7[key])) {
        return false;
      }
    }
    return true;
  }
  return false;
}

// node_modules/react-map-gl/dist/esm/mapbox/mapbox.js
var pointerEvents = {
  mousedown: "onMouseDown",
  mouseup: "onMouseUp",
  mouseover: "onMouseOver",
  mousemove: "onMouseMove",
  click: "onClick",
  dblclick: "onDblClick",
  mouseenter: "onMouseEnter",
  mouseleave: "onMouseLeave",
  mouseout: "onMouseOut",
  contextmenu: "onContextMenu",
  touchstart: "onTouchStart",
  touchend: "onTouchEnd",
  touchmove: "onTouchMove",
  touchcancel: "onTouchCancel"
};
var cameraEvents = {
  movestart: "onMoveStart",
  move: "onMove",
  moveend: "onMoveEnd",
  dragstart: "onDragStart",
  drag: "onDrag",
  dragend: "onDragEnd",
  zoomstart: "onZoomStart",
  zoom: "onZoom",
  zoomend: "onZoomEnd",
  rotatestart: "onRotateStart",
  rotate: "onRotate",
  rotateend: "onRotateEnd",
  pitchstart: "onPitchStart",
  pitch: "onPitch",
  pitchend: "onPitchEnd"
};
var otherEvents = {
  wheel: "onWheel",
  boxzoomstart: "onBoxZoomStart",
  boxzoomend: "onBoxZoomEnd",
  boxzoomcancel: "onBoxZoomCancel",
  resize: "onResize",
  load: "onLoad",
  render: "onRender",
  idle: "onIdle",
  remove: "onRemove",
  data: "onData",
  styledata: "onStyleData",
  sourcedata: "onSourceData",
  error: "onError"
};
var settingNames = [
  "minZoom",
  "maxZoom",
  "minPitch",
  "maxPitch",
  "maxBounds",
  "projection",
  "renderWorldCopies"
];
var handlerNames = [
  "scrollZoom",
  "boxZoom",
  "dragRotate",
  "dragPan",
  "keyboard",
  "doubleClickZoom",
  "touchZoomRotate",
  "touchPitch"
];
var Mapbox = class {
  constructor(MapClass, props, container) {
    this._map = null;
    this._internalUpdate = false;
    this._inRender = false;
    this._hoveredFeatures = null;
    this._deferredEvents = {
      move: false,
      zoom: false,
      pitch: false,
      rotate: false
    };
    this._onEvent = (e142) => {
      const cb = this.props[otherEvents[e142.type]];
      if (cb) {
        cb(e142);
      }
    };
    this._onPointerEvent = (e142) => {
      if (e142.type === "mousemove" || e142.type === "mouseout") {
        this._updateHover(e142);
      }
      const cb = this.props[pointerEvents[e142.type]];
      if (cb) {
        if (this.props.interactiveLayerIds && e142.type !== "mouseover" && e142.type !== "mouseout") {
          const features = this._hoveredFeatures || this._map.queryRenderedFeatures(e142.point, {
            layers: this.props.interactiveLayerIds
          });
          if (!features.length) {
            return;
          }
          e142.features = features;
        }
        cb(e142);
        delete e142.features;
      }
    };
    this._onCameraEvent = (e142) => {
      if (!this._internalUpdate) {
        const cb = this.props[cameraEvents[e142.type]];
        if (cb) {
          cb(e142);
        }
      }
      if (e142.type in this._deferredEvents) {
        this._deferredEvents[e142.type] = false;
      }
    };
    this._MapClass = MapClass;
    this.props = props;
    this._initialize(container);
  }
  get map() {
    return this._map;
  }
  get transform() {
    return this._renderTransform;
  }
  setProps(props) {
    const oldProps = this.props;
    this.props = props;
    const settingsChanged = this._updateSettings(props, oldProps);
    if (settingsChanged) {
      this._renderTransform = cloneTransform(this._map.transform);
    }
    const sizeChanged = this._updateSize(props);
    const viewStateChanged = this._updateViewState(props, true);
    this._updateStyle(props, oldProps);
    this._updateStyleComponents(props, oldProps);
    this._updateHandlers(props, oldProps);
    if (settingsChanged || sizeChanged || viewStateChanged && !this._map.isMoving()) {
      this.redraw();
    }
  }
  static reuse(props, container) {
    const that = Mapbox.savedMaps.pop();
    if (!that) {
      return null;
    }
    const map = that.map;
    const oldContainer = map.getContainer();
    container.className = oldContainer.className;
    while (oldContainer.childNodes.length > 0) {
      container.appendChild(oldContainer.childNodes[0]);
    }
    map._container = container;
    if (props.initialViewState) {
      that._updateViewState(props.initialViewState, false);
    }
    map.resize();
    that.setProps({ ...props, styleDiffing: false });
    if (map.isStyleLoaded()) {
      map.fire("load");
    } else {
      map.once("styledata", () => map.fire("load"));
    }
    return that;
  }
  _initialize(container) {
    const { props } = this;
    const mapOptions = {
      ...props,
      ...props.initialViewState,
      accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,
      container,
      style: normalizeStyle(props.mapStyle)
    };
    const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;
    Object.assign(mapOptions, {
      center: [viewState.longitude || 0, viewState.latitude || 0],
      zoom: viewState.zoom || 0,
      pitch: viewState.pitch || 0,
      bearing: viewState.bearing || 0
    });
    if (props.gl) {
      const getContext = HTMLCanvasElement.prototype.getContext;
      HTMLCanvasElement.prototype.getContext = () => {
        HTMLCanvasElement.prototype.getContext = getContext;
        return props.gl;
      };
    }
    const map = new this._MapClass(mapOptions);
    if (viewState.padding) {
      map.setPadding(viewState.padding);
    }
    if (props.cursor) {
      map.getCanvas().style.cursor = props.cursor;
    }
    this._renderTransform = cloneTransform(map.transform);
    const renderMap = map._render;
    map._render = (arg) => {
      this._inRender = true;
      renderMap.call(map, arg);
      this._inRender = false;
    };
    const runRenderTaskQueue = map._renderTaskQueue.run;
    map._renderTaskQueue.run = (arg) => {
      runRenderTaskQueue.call(map._renderTaskQueue, arg);
      this._onBeforeRepaint();
    };
    map.on("render", () => this._onAfterRepaint());
    const fireEvent = map.fire;
    map.fire = this._fireEvent.bind(this, fireEvent);
    map.on("resize", () => {
      this._renderTransform.resize(map.transform.width, map.transform.height);
    });
    map.on("styledata", () => this._updateStyleComponents(this.props, {}));
    map.on("sourcedata", () => this._updateStyleComponents(this.props, {}));
    for (const eventName in pointerEvents) {
      map.on(eventName, this._onPointerEvent);
    }
    for (const eventName in cameraEvents) {
      map.on(eventName, this._onCameraEvent);
    }
    for (const eventName in otherEvents) {
      map.on(eventName, this._onEvent);
    }
    this._map = map;
  }
  recycle() {
    Mapbox.savedMaps.push(this);
  }
  destroy() {
    this._map.remove();
  }
  redraw() {
    const map = this._map;
    if (!this._inRender && map.style) {
      if (map._frame) {
        map._frame.cancel();
        map._frame = null;
      }
      map._render();
    }
  }
  _updateSize(nextProps) {
    const { viewState } = nextProps;
    if (viewState) {
      const map = this._map;
      if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {
        map.resize();
        return true;
      }
    }
    return false;
  }
  _updateViewState(nextProps, triggerEvents) {
    if (this._internalUpdate) {
      return false;
    }
    const map = this._map;
    const tr = this._renderTransform;
    const { zoom, pitch, bearing: bearing2 } = tr;
    const changed = applyViewStateToTransform(tr, {
      ...transformToViewState(map.transform),
      ...nextProps
    });
    if (changed && triggerEvents) {
      const deferredEvents = this._deferredEvents;
      deferredEvents.move = true;
      deferredEvents.zoom || (deferredEvents.zoom = zoom !== tr.zoom);
      deferredEvents.rotate || (deferredEvents.rotate = bearing2 !== tr.bearing);
      deferredEvents.pitch || (deferredEvents.pitch = pitch !== tr.pitch);
    }
    if (!map.isMoving()) {
      applyViewStateToTransform(map.transform, nextProps);
    }
    return changed;
  }
  _updateSettings(nextProps, currProps) {
    const map = this._map;
    let changed = false;
    for (const propName of settingNames) {
      if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {
        changed = true;
        map[`set${propName[0].toUpperCase()}${propName.slice(1)}`](nextProps[propName]);
      }
    }
    return changed;
  }
  _updateStyle(nextProps, currProps) {
    if (nextProps.cursor !== currProps.cursor) {
      this._map.getCanvas().style.cursor = nextProps.cursor;
    }
    if (nextProps.mapStyle !== currProps.mapStyle) {
      const options = {
        diff: nextProps.styleDiffing
      };
      if ("localIdeographFontFamily" in nextProps) {
        options.localIdeographFontFamily = nextProps.localIdeographFontFamily;
      }
      this._map.setStyle(normalizeStyle(nextProps.mapStyle), options);
      return true;
    }
    return false;
  }
  _updateStyleComponents(nextProps, currProps) {
    const map = this._map;
    let changed = false;
    if (map.style.loaded()) {
      if ("light" in nextProps && !deepEqual(nextProps.light, currProps.light)) {
        changed = true;
        map.setLight(nextProps.light);
      }
      if ("fog" in nextProps && !deepEqual(nextProps.fog, currProps.fog)) {
        changed = true;
        map.setFog(nextProps.fog);
      }
      if ("terrain" in nextProps && !deepEqual(nextProps.terrain, currProps.terrain)) {
        if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {
          changed = true;
          map.setTerrain(nextProps.terrain);
        }
      }
    }
    return changed;
  }
  _updateHandlers(nextProps, currProps) {
    const map = this._map;
    let changed = false;
    for (const propName of handlerNames) {
      const newValue = nextProps[propName];
      if (!deepEqual(newValue, currProps[propName])) {
        changed = true;
        if (newValue) {
          map[propName].enable(newValue);
        } else {
          map[propName].disable();
        }
      }
    }
    return changed;
  }
  _updateHover(e142) {
    var _a3;
    const { props } = this;
    const shouldTrackHoveredFeatures = props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);
    if (shouldTrackHoveredFeatures) {
      const eventType = e142.type;
      const wasHovering = ((_a3 = this._hoveredFeatures) === null || _a3 === void 0 ? void 0 : _a3.length) > 0;
      let features;
      if (eventType === "mousemove") {
        try {
          features = this._map.queryRenderedFeatures(e142.point, {
            layers: props.interactiveLayerIds
          });
        } catch (_b) {
          features = [];
        }
      } else {
        features = [];
      }
      const isHovering = features.length > 0;
      if (!isHovering && wasHovering) {
        e142.type = "mouseleave";
        this._onPointerEvent(e142);
      }
      this._hoveredFeatures = features;
      if (isHovering && !wasHovering) {
        e142.type = "mouseenter";
        this._onPointerEvent(e142);
      }
      e142.type = eventType;
    } else {
      this._hoveredFeatures = null;
    }
  }
  _fireEvent(baseFire, event2, properties) {
    const map = this._map;
    const tr = map.transform;
    const eventType = typeof event2 === "string" ? event2 : event2.type;
    if (eventType === "move") {
      this._updateViewState(this.props, false);
    }
    if (eventType in cameraEvents) {
      if (typeof event2 === "object") {
        event2.viewState = transformToViewState(tr);
      }
      if (this._map.isMoving()) {
        map.transform = this._renderTransform;
        baseFire.call(map, event2, properties);
        map.transform = tr;
        return map;
      }
    }
    baseFire.call(map, event2, properties);
    return map;
  }
  _onBeforeRepaint() {
    const map = this._map;
    this._internalUpdate = true;
    for (const eventType in this._deferredEvents) {
      if (this._deferredEvents[eventType]) {
        map.fire(eventType);
      }
    }
    this._internalUpdate = false;
    const tr = this._map.transform;
    this._map.transform = this._renderTransform;
    this._map.painter.transform = this._renderTransform;
    this._onAfterRepaint = () => {
      if (tr.elevation = this._renderTransform.elevation) {
        tr.updateElevation(false);
      }
      this._map.transform = tr;
    };
  }
};
Mapbox.savedMaps = [];
function getAccessTokenFromEnv() {
  let accessToken = null;
  if (typeof location !== "undefined") {
    const match = /access_token=([^&\/]*)/.exec(location.search);
    accessToken = match && match[1];
  }
  try {
    accessToken = accessToken || process.env.MapboxAccessToken;
  } catch (_a3) {
  }
  try {
    accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;
  } catch (_b) {
  }
  return accessToken;
}

// node_modules/react-map-gl/dist/esm/mapbox/create-ref.js
var skipMethods = [
  "setMaxBounds",
  "setMinZoom",
  "setMaxZoom",
  "setMinPitch",
  "setMaxPitch",
  "setRenderWorldCopies",
  "setProjection",
  "setStyle",
  "addSource",
  "removeSource",
  "addLayer",
  "removeLayer",
  "setLayerZoomRange",
  "setFilter",
  "setPaintProperty",
  "setLayoutProperty",
  "setLight",
  "setTerrain",
  "setFog",
  "remove"
];
function createRef(mapInstance, mapLib) {
  if (!mapInstance) {
    return null;
  }
  const map = mapInstance.map;
  const result = {
    getMap: () => map,
    getCenter: () => mapInstance.transform.center,
    getZoom: () => mapInstance.transform.zoom,
    getBearing: () => mapInstance.transform.bearing,
    getPitch: () => mapInstance.transform.pitch,
    getPadding: () => mapInstance.transform.padding,
    getBounds: () => mapInstance.transform.getBounds(),
    project: (lnglat) => {
      return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));
    },
    unproject: (point2) => {
      return mapInstance.transform.pointLocation(mapLib.Point.convert(point2));
    }
  };
  for (const key of getMethodNames(map)) {
    if (!(key in result) && !skipMethods.includes(key)) {
      result[key] = map[key].bind(map);
    }
  }
  return result;
}
function getMethodNames(obj) {
  const result = /* @__PURE__ */ new Set();
  let proto = obj;
  while (proto) {
    for (const key of Object.getOwnPropertyNames(proto)) {
      if (key[0] !== "_" && typeof obj[key] === "function" && key !== "fire" && key !== "setEventedParent") {
        result.add(key);
      }
    }
    proto = Object.getPrototypeOf(proto);
  }
  return Array.from(result);
}

// node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js
var import_react34 = __toESM(require_react());
var useIsomorphicLayoutEffect = typeof document !== "undefined" ? import_react34.useLayoutEffect : import_react34.useEffect;
var use_isomorphic_layout_effect_default = useIsomorphicLayoutEffect;

// node_modules/react-map-gl/dist/esm/utils/set-globals.js
var globalSettings = [
  "baseApiUrl",
  "maxParallelImageRequests",
  "workerClass",
  "workerCount",
  "workerUrl"
];
function setGlobals(mapLib, props) {
  for (const key of globalSettings) {
    if (key in props) {
      mapLib[key] = props[key];
    }
  }
  if (props.RTLTextPlugin && mapLib.getRTLTextPluginStatus && mapLib.getRTLTextPluginStatus() === "unavailable") {
    mapLib.setRTLTextPlugin(props.RTLTextPlugin, (error3) => {
      if (error3) {
        console.error(error3);
      }
    }, false);
  }
}

// node_modules/react-map-gl/dist/esm/components/map.js
var MapContext = React6.createContext(null);
var defaultProps = {
  minZoom: 0,
  maxZoom: 22,
  minPitch: 0,
  maxPitch: 60,
  scrollZoom: true,
  boxZoom: true,
  dragRotate: true,
  dragPan: true,
  keyboard: true,
  doubleClickZoom: true,
  touchZoomRotate: true,
  touchPitch: true,
  mapStyle: { version: 8, sources: {}, layers: [] },
  styleDiffing: true,
  projection: "mercator",
  renderWorldCopies: true,
  onError: (e142) => console.error(e142.error),
  RTLTextPlugin: "https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"
};
var Map2 = (0, import_react35.forwardRef)((props, ref) => {
  const mountedMapsContext = (0, import_react35.useContext)(MountedMapsContext);
  const [mapInstance, setMapInstance] = (0, import_react35.useState)(null);
  const containerRef = (0, import_react35.useRef)();
  const { current: contextValue } = (0, import_react35.useRef)({ mapLib: null, map: null });
  (0, import_react35.useEffect)(() => {
    const mapLib = props.mapLib;
    let isMounted = true;
    let mapbox;
    Promise.resolve(mapLib || import("./mapbox-gl-R22XQ6G2.js")).then((mapboxgl) => {
      if (!isMounted) {
        return;
      }
      if (!mapboxgl.Map) {
        mapboxgl = mapboxgl.default;
      }
      if (!mapboxgl || !mapboxgl.Map) {
        throw new Error("Invalid mapLib");
      }
      if (mapboxgl.supported(props)) {
        setGlobals(mapboxgl, props);
        if (props.reuseMaps) {
          mapbox = Mapbox.reuse(props, containerRef.current);
        }
        if (!mapbox) {
          mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);
        }
        contextValue.map = createRef(mapbox, mapboxgl);
        contextValue.mapLib = mapboxgl;
        setMapInstance(mapbox);
        mountedMapsContext === null || mountedMapsContext === void 0 ? void 0 : mountedMapsContext.onMapMount(contextValue.map, props.id);
      } else {
        throw new Error("Map is not supported by this browser");
      }
    }).catch((error3) => {
      props.onError({
        type: "error",
        target: null,
        originalEvent: null,
        error: error3
      });
    });
    return () => {
      isMounted = false;
      if (mapbox) {
        mountedMapsContext === null || mountedMapsContext === void 0 ? void 0 : mountedMapsContext.onMapUnmount(props.id);
        if (props.reuseMaps) {
          mapbox.recycle();
        } else {
          mapbox.destroy();
        }
      }
    };
  }, []);
  use_isomorphic_layout_effect_default(() => {
    if (mapInstance) {
      mapInstance.setProps(props);
    }
  });
  (0, import_react35.useImperativeHandle)(ref, () => contextValue.map, [mapInstance]);
  const style = (0, import_react35.useMemo)(() => ({
    position: "relative",
    width: "100%",
    height: "100%",
    ...props.style
  }), [props.style]);
  return React6.createElement("div", { id: props.id, ref: containerRef, style }, mapInstance && React6.createElement(MapContext.Provider, { value: contextValue }, props.children));
});
Map2.displayName = "Map";
Map2.defaultProps = defaultProps;
var map_default = Map2;

// node_modules/react-map-gl/dist/esm/components/marker.js
var React7 = __toESM(require_react());
var import_react_dom3 = __toESM(require_react_dom());
var import_react36 = __toESM(require_react());

// node_modules/react-map-gl/dist/esm/utils/apply-react-style.js
var unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;
function applyReactStyle(element, styles) {
  if (!element || !styles) {
    return;
  }
  const style = element.style;
  for (const key in styles) {
    const value = styles[key];
    if (Number.isFinite(value) && !unitlessNumber.test(key)) {
      style[key] = `${value}px`;
    } else {
      style[key] = value;
    }
  }
}

// node_modules/react-map-gl/dist/esm/components/marker.js
var defaultProps2 = {
  draggable: false,
  popup: null,
  rotation: 0,
  rotationAlignment: "auto",
  pitchAlignment: "auto"
};
function Marker(props) {
  const { map, mapLib } = (0, import_react36.useContext)(MapContext);
  const thisRef = (0, import_react36.useRef)({ props });
  thisRef.current.props = props;
  const marker = (0, import_react36.useMemo)(() => {
    let hasChildren = false;
    React7.Children.forEach(props.children, (el) => {
      if (el) {
        hasChildren = true;
      }
    });
    const options = {
      ...props,
      element: hasChildren ? document.createElement("div") : null
    };
    const mk = new mapLib.Marker(options).setLngLat([props.longitude, props.latitude]);
    mk.getElement().addEventListener("click", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a3, {
        type: "click",
        target: mk,
        originalEvent: e142
      });
    });
    mk.on("dragstart", (e142) => {
      var _a3, _b;
      const evt = e142;
      evt.lngLat = marker.getLngLat();
      (_b = (_a3 = thisRef.current.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a3, evt);
    });
    mk.on("drag", (e142) => {
      var _a3, _b;
      const evt = e142;
      evt.lngLat = marker.getLngLat();
      (_b = (_a3 = thisRef.current.props).onDrag) === null || _b === void 0 ? void 0 : _b.call(_a3, evt);
    });
    mk.on("dragend", (e142) => {
      var _a3, _b;
      const evt = e142;
      evt.lngLat = marker.getLngLat();
      (_b = (_a3 = thisRef.current.props).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a3, evt);
    });
    return mk;
  }, []);
  (0, import_react36.useEffect)(() => {
    marker.addTo(map.getMap());
    return () => {
      marker.remove();
    };
  }, []);
  (0, import_react36.useEffect)(() => {
    applyReactStyle(marker.getElement(), props.style);
  }, [props.style]);
  if (marker.getLngLat().lng !== props.longitude || marker.getLngLat().lat !== props.latitude) {
    marker.setLngLat([props.longitude, props.latitude]);
  }
  if (props.offset && !arePointsEqual(marker.getOffset(), props.offset)) {
    marker.setOffset(props.offset);
  }
  if (marker.isDraggable() !== props.draggable) {
    marker.setDraggable(props.draggable);
  }
  if (marker.getRotation() !== props.rotation) {
    marker.setRotation(props.rotation);
  }
  if (marker.getRotationAlignment() !== props.rotationAlignment) {
    marker.setRotationAlignment(props.rotationAlignment);
  }
  if (marker.getPitchAlignment() !== props.pitchAlignment) {
    marker.setPitchAlignment(props.pitchAlignment);
  }
  if (marker.getPopup() !== props.popup) {
    marker.setPopup(props.popup);
  }
  return (0, import_react_dom3.createPortal)(props.children, marker.getElement());
}
Marker.defaultProps = defaultProps2;
var marker_default = React7.memo(Marker);

// node_modules/react-map-gl/dist/esm/components/popup.js
var React8 = __toESM(require_react());
var import_react_dom4 = __toESM(require_react_dom());
var import_react37 = __toESM(require_react());
function getClassList(className) {
  return new Set(className ? className.trim().split(/\s+/) : []);
}
function Popup2(props) {
  const { map, mapLib } = (0, import_react37.useContext)(MapContext);
  const container = (0, import_react37.useMemo)(() => {
    return document.createElement("div");
  }, []);
  const thisRef = (0, import_react37.useRef)({ props });
  thisRef.current.props = props;
  const popup = (0, import_react37.useMemo)(() => {
    const options = { ...props };
    const pp = new mapLib.Popup(options).setLngLat([props.longitude, props.latitude]);
    pp.once("open", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onOpen) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    return pp;
  }, []);
  (0, import_react37.useEffect)(() => {
    const onClose = (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onClose) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    };
    popup.on("close", onClose);
    popup.setDOMContent(container).addTo(map.getMap());
    return () => {
      popup.off("close", onClose);
      if (popup.isOpen()) {
        popup.remove();
      }
    };
  }, []);
  (0, import_react37.useEffect)(() => {
    applyReactStyle(popup.getElement(), props.style);
  }, [props.style]);
  if (popup.isOpen()) {
    if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {
      popup.setLngLat([props.longitude, props.latitude]);
    }
    if (props.offset && !deepEqual(popup.options.offset, props.offset)) {
      popup.setOffset(props.offset);
    }
    if (popup.options.anchor !== props.anchor || popup.options.maxWidth !== props.maxWidth) {
      popup.options.anchor = props.anchor;
      popup.setMaxWidth(props.maxWidth);
    }
    if (popup.options.className !== props.className) {
      const prevClassList = getClassList(popup.options.className);
      const nextClassList = getClassList(props.className);
      for (const c22 of prevClassList) {
        if (!nextClassList.has(c22)) {
          popup.removeClassName(c22);
        }
      }
      for (const c22 of nextClassList) {
        if (!prevClassList.has(c22)) {
          popup.addClassName(c22);
        }
      }
      popup.options.className = props.className;
    }
  }
  return (0, import_react_dom4.createPortal)(props.children, container);
}
var popup_default = React8.memo(Popup2);

// node_modules/react-map-gl/dist/esm/components/attribution-control.js
var React9 = __toESM(require_react());
var import_react39 = __toESM(require_react());

// node_modules/react-map-gl/dist/esm/components/use-control.js
var import_react38 = __toESM(require_react());
function useControl(onCreate, onRemove, opts) {
  const context = (0, import_react38.useContext)(MapContext);
  const ctrl = (0, import_react38.useMemo)(() => onCreate(context), []);
  (0, import_react38.useEffect)(() => {
    var _a3;
    const { map } = context;
    if (!map.hasControl(ctrl)) {
      map.addControl(ctrl, (_a3 = opts || onRemove) === null || _a3 === void 0 ? void 0 : _a3.position);
    }
    return () => {
      if (typeof onRemove === "function") {
        onRemove(context);
      }
      if (map.hasControl(ctrl)) {
        map.removeControl(ctrl);
      }
    };
  }, []);
  return ctrl;
}

// node_modules/react-map-gl/dist/esm/components/attribution-control.js
function AttributionControl(props) {
  const ctrl = useControl(({ mapLib }) => new mapLib.AttributionControl(props), {
    position: props.position
  });
  (0, import_react39.useEffect)(() => {
    applyReactStyle(ctrl._container, props.style);
  }, [props.style]);
  return null;
}
var attribution_control_default = React9.memo(AttributionControl);

// node_modules/react-map-gl/dist/esm/components/fullscreen-control.js
var React10 = __toESM(require_react());
var import_react40 = __toESM(require_react());
function FullscreenControl(props) {
  const ctrl = useControl(({ mapLib }) => new mapLib.FullscreenControl({
    container: props.containerId && document.getElementById(props.containerId)
  }), { position: props.position });
  (0, import_react40.useEffect)(() => {
    applyReactStyle(ctrl._controlContainer, props.style);
  }, [props.style]);
  return null;
}
var fullscreen_control_default = React10.memo(FullscreenControl);

// node_modules/react-map-gl/dist/esm/components/geolocate-control.js
var React11 = __toESM(require_react());
var import_react41 = __toESM(require_react());
var GeolocateControl = (0, import_react41.forwardRef)((props, ref) => {
  const thisRef = (0, import_react41.useRef)({ props });
  const ctrl = useControl(({ mapLib }) => {
    const gc = new mapLib.GeolocateControl(props);
    const setupUI = gc._setupUI;
    gc._setupUI = (args) => {
      if (!gc._container.hasChildNodes()) {
        setupUI(args);
      }
    };
    gc.on("geolocate", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onGeolocate) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    gc.on("error", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onError) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    gc.on("outofmaxbounds", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onOutOfMaxBounds) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    gc.on("trackuserlocationstart", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onTrackUserLocationStart) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    gc.on("trackuserlocationend", (e142) => {
      var _a3, _b;
      (_b = (_a3 = thisRef.current.props).onTrackUserLocationEnd) === null || _b === void 0 ? void 0 : _b.call(_a3, e142);
    });
    return gc;
  }, { position: props.position });
  thisRef.current.props = props;
  (0, import_react41.useImperativeHandle)(ref, () => ({
    trigger: () => ctrl.trigger()
  }), []);
  (0, import_react41.useEffect)(() => {
    applyReactStyle(ctrl._container, props.style);
  }, [props.style]);
  return null;
});
GeolocateControl.displayName = "GeolocateControl";
var geolocate_control_default = React11.memo(GeolocateControl);

// node_modules/react-map-gl/dist/esm/components/navigation-control.js
var React12 = __toESM(require_react());
var import_react42 = __toESM(require_react());
function NavigationControl(props) {
  const ctrl = useControl(({ mapLib }) => new mapLib.NavigationControl(props), {
    position: props.position
  });
  (0, import_react42.useEffect)(() => {
    applyReactStyle(ctrl._container, props.style);
  }, [props.style]);
  return null;
}
var navigation_control_default = React12.memo(NavigationControl);

// node_modules/react-map-gl/dist/esm/components/scale-control.js
var React13 = __toESM(require_react());
var import_react43 = __toESM(require_react());
var defaultProps3 = {
  unit: "metric",
  maxWidth: 100
};
function ScaleControl(props) {
  const ctrl = useControl(({ mapLib }) => new mapLib.ScaleControl(props), {
    position: props.position
  });
  if (ctrl.options.unit !== props.unit || ctrl.options.maxWidth !== props.maxWidth) {
    ctrl.options.maxWidth = props.maxWidth;
    ctrl.setUnit(props.unit);
  }
  (0, import_react43.useEffect)(() => {
    applyReactStyle(ctrl._container, props.style);
  }, [props.style]);
  return null;
}
ScaleControl.defaultProps = defaultProps3;
var scale_control_default = React13.memo(ScaleControl);

// node_modules/react-map-gl/dist/esm/components/source.js
var React14 = __toESM(require_react());
var import_react44 = __toESM(require_react());
var import_react45 = __toESM(require_react());

// node_modules/react-map-gl/dist/esm/components/layer.js
var import_react46 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/Geo/MapView/index.js
var u17 = (0, import_react47.forwardRef)((r61, u20) => {
  var c22, { mapLib: d10, mapStyle: f21, style: g14 } = r61, y9 = __rest6(r61, ["mapLib", "mapStyle", "style"]);
  const b7 = Amplify.configure(), w3 = (0, import_react47.useMemo)(() => {
    var i67, o101, e142, r62;
    return null !== (r62 = null !== (o101 = null === (i67 = b7.geo) || void 0 === i67 ? void 0 : i67.amazon_location_service) && void 0 !== o101 ? o101 : null === (e142 = b7.geo) || void 0 === e142 ? void 0 : e142.AmazonLocationService) && void 0 !== r62 ? r62 : {};
  }, [b7]), [h12, j7] = (0, import_react47.useState)(), L = (0, import_react47.useMemo)(() => Object.assign({ height: "100vh", position: "relative", width: "100vw" }, g14), [g14]);
  return (0, import_react47.useEffect)(() => {
    __awaiter3(void 0, void 0, void 0, function* () {
      const i67 = yield Auth.currentUserCredentials();
      if (i67) {
        const { region: o101 } = w3, { transformRequest: e142 } = new AmplifyMapLibreRequest(i67, o101);
        j7(() => e142);
      }
    });
  }, [w3]), h12 ? (0, import_jsx_runtime64.jsx)(map_default, Object.assign({}, y9, { mapLib: null != d10 ? d10 : import_maplibre_gl5.default, mapStyle: null != f21 ? f21 : null === (c22 = w3.maps) || void 0 === c22 ? void 0 : c22.default, ref: u20, style: L, transformRequest: h12 })) : null;
});
u17.displayName = "MapView";

// node_modules/@aws-amplify/ui-react/dist/esm/components/Geo/LocationSearch/index.js
var import_jsx_runtime65 = __toESM(require_jsx_runtime());
var import_react48 = __toESM(require_react());
var import_maplibre_gl6 = __toESM(require_maplibre_gl());
var s26 = { maplibregl: import_maplibre_gl6.default, marker: { color: "#3FB1CE" }, popup: true, showResultMarkers: { color: "#3FB1CE" }, showResultsWhileTyping: true };
var c15 = (o101) => {
  var { position: t87 = "top-right" } = o101, e142 = __rest6(o101, ["position"]);
  return useControl(() => createAmplifyGeocoder(e142), { position: t87 }), null;
};
var l20 = (r61) => {
  const i67 = (0, import_react48.useRef)(false);
  return (0, import_react48.useEffect)(() => {
    i67.current || (createAmplifyGeocoder(r61).addTo("#geocoder-container"), i67.current = true);
  }, [r61]), (0, import_jsx_runtime65.jsx)("div", { id: "geocoder-container" });
};
var a45 = (r61) => {
  const { current: t87 } = useMap();
  return (0, import_jsx_runtime65.jsx)(t87 ? c15 : l20, Object.assign({}, s26, r61));
};
var u18 = a45;

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/InAppMessageDisplay/InAppMessageDisplay.js
var import_jsx_runtime124 = __toESM(require_jsx_runtime());
var import_react72 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/ThemeProvider/index.js
var import_jsx_runtime66 = __toESM(require_jsx_runtime());
var i43 = __toESM(require_react());
function n29({ children: n45, colorMode: a82, direction: c22 = "ltr", nonce: l29, theme: s62 }) {
  const d10 = i43.useMemo(() => ({ theme: m3(s62) }), [s62]), { theme: { name: f21, cssText: p17 } } = d10;
  return (0, import_jsx_runtime66.jsx)(o33.Provider, Object.assign({ value: d10 }, { children: (0, import_jsx_runtime66.jsxs)($f631663db3294ace$export$c760c09fdd558351, Object.assign({ dir: c22 }, { children: [(0, import_jsx_runtime66.jsx)("div", Object.assign({ "data-amplify-theme": f21, "data-amplify-color-mode": a82, dir: c22 }, { children: n45 })), void 0 === s62 || /<\/style/i.test(p17) ? null : (0, import_jsx_runtime66.jsx)("style", { id: `amplify-theme-${f21}`, dangerouslySetInnerHTML: { __html: p17 }, nonce: l29 })] })) }));
}
var a46 = n29;

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/BannerMessage/BannerMessage.js
var import_jsx_runtime119 = __toESM(require_jsx_runtime());
var import_classnames86 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/hooks/useBreakpointValue.js
function o66(o101, i67, t87) {
  const { breakpoints: { values: p17 }, tokens: n45 } = r9(), a82 = o32({ breakpoints: p17, defaultBreakpoint: i67 });
  return o31({ breakpoint: a82, breakpoints: p17, propKey: t87, values: o101, tokens: n45 });
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageImage/useMessageImage.js
var import_react49 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageImage/types.js
var e92;
!function(e142) {
  e142.Aborted = "ABORTED", e142.Failure = "FAILURE", e142.Fetching = "FETCHING", e142.Success = "SUCCESS";
}(e92 || (e92 = {}));

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageImage/useMessageImage.js
var a47 = new ConsoleLogger("Notifications.InAppMessaging");
function n30(o101) {
  const { src: n45 } = null != o101 ? o101 : {}, s62 = !!n45, [c22, i67] = (0, import_react49.useState)(s62 ? e92.Fetching : null), l29 = c22 === e92.Fetching, m29 = c22 === e92.Success;
  return (0, import_react49.useEffect)(() => {
    if (!s62)
      return;
    const e142 = new Image();
    e142.onload = () => {
      i67(e92.Success);
    }, e142.onabort = () => {
      a47.error(`Image load aborted: ${n45}`), i67(e92.Aborted);
    }, e142.onerror = () => {
      a47.error(`Image failed to load: ${n45}`), i67(e92.Failure);
    }, e142.src = n45;
  }, [s62, n45]), { hasRenderableImage: m29, isImageFetching: l29 };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageProps/useMessageProps.js
var import_react50 = __toESM(require_react());
var import_isEmpty4 = __toESM(require_isEmpty());

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageProps/utils.js
var n31 = ({ body: n45, container: o101, header: l29, primaryButton: t87, secondaryButton: e142 }) => {
  var i67, d10, a82, u20, s62;
  return { body: null !== (i67 = null == n45 ? void 0 : n45.style) && void 0 !== i67 ? i67 : {}, container: null !== (d10 = null == o101 ? void 0 : o101.style) && void 0 !== d10 ? d10 : {}, header: null !== (a82 = null == l29 ? void 0 : l29.style) && void 0 !== a82 ? a82 : {}, primaryButton: null !== (u20 = null == t87 ? void 0 : t87.style) && void 0 !== u20 ? u20 : {}, secondaryButton: null !== (s62 = null == e142 ? void 0 : e142.style) && void 0 !== s62 ? s62 : {} };
};
function o67({ styleParams: n45 }) {
  const { payloadStyle: o101, overrideStyle: l29 } = n45;
  return { body: Object.assign(Object.assign({}, null == o101 ? void 0 : o101.body), null == l29 ? void 0 : l29.body), closeIconButton: null == l29 ? void 0 : l29.closeIconButton, container: Object.assign(Object.assign({}, null == o101 ? void 0 : o101.container), null == l29 ? void 0 : l29.container), header: Object.assign(Object.assign({}, null == o101 ? void 0 : o101.header), null == l29 ? void 0 : l29.header), image: null == l29 ? void 0 : l29.image, primaryButton: Object.assign(Object.assign({}, null == o101 ? void 0 : o101.primaryButton), null == l29 ? void 0 : l29.primaryButton), secondaryButton: Object.assign(Object.assign({}, null == o101 ? void 0 : o101.secondaryButton), null == l29 ? void 0 : l29.secondaryButton) };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageProps/useMessageProps.js
function m17(m29) {
  const { image: u20, onDisplay: l29, primaryButton: i67, secondaryButton: y9 } = m29, c22 = (0, import_react50.useRef)(false), { hasRenderableImage: d10, isImageFetching: g14 } = n30(u20), p17 = !g14;
  (0, import_react50.useEffect)(() => {
    !c22.current && p17 && (null == l29 || l29(), c22.current = true);
  }, [l29, p17]);
  const h12 = !(0, import_isEmpty4.default)(i67), f21 = !(0, import_isEmpty4.default)(y9), B2 = h12 || f21, I2 = (0, import_react50.useMemo)(() => {
    if (!p17)
      return null;
    const e142 = n31(m29), t87 = m29.style;
    return o67({ styleParams: { payloadStyle: e142, overrideStyle: t87 } });
  }, [m29, p17]);
  return { hasButtons: B2, hasPrimaryButton: h12, hasRenderableImage: d10, hasSecondaryButton: f21, shouldRenderMessage: p17, styles: I2 };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/MessageLayout/MessageLayout.js
var import_jsx_runtime118 = __toESM(require_jsx_runtime());
var t85 = __toESM(require_react());
var import_classnames85 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/Autocomplete.js
var import_jsx_runtime74 = __toESM(require_jsx_runtime());
var import_classnames42 = __toESM(require_classnames());
var i47 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/AutocompleteOption.js
var import_jsx_runtime67 = __toESM(require_jsx_runtime());
var import_classnames36 = __toESM(require_classnames());
var m18 = (m29) => {
  var { children: a82, className: c22, isActive: l29 } = m29, n45 = __rest6(m29, ["children", "className", "isActive"]);
  return (0, import_jsx_runtime67.jsx)(a19, Object.assign({ "aria-selected": l29, as: "li", role: "option", className: (0, import_classnames36.default)(a18.AutocompleteMenuOption, p5(a18.AutocompleteMenuOption, "active", l29), c22) }, n45, { children: a82 }));
};
m18.displayName = "AutocompleteOption";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/AutocompleteMenu.js
var import_jsx_runtime69 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ScrollView/ScrollView.js
var import_jsx_runtime68 = __toESM(require_jsx_runtime());
var e95 = __toESM(require_react());
var import_classnames37 = __toESM(require_classnames());
var m19 = e95.forwardRef((e142, m29) => {
  var { children: l29, className: n45, orientation: c22 } = e142, f21 = __rest6(e142, ["children", "className", "orientation"]);
  return (0, import_jsx_runtime68.jsx)(a19, Object.assign({ className: (0, import_classnames37.default)(a18.ScrollView, f6(a18.ScrollView, c22), n45), "data-orientation": c22, ref: m29 }, f21, { children: l29 }));
});
m19.displayName = "ScrollView";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/AutocompleteMenu.js
var c16 = (c22) => {
  var { ariaLabel: m29, children: d10, Header: u20 = null, Footer: p17 = null, LoadingIndicator: b7 = null, Empty: g14 = null, isLoading: h12, listboxId: j7 } = c22, A3 = __rest6(c22, ["ariaLabel", "children", "Header", "Footer", "LoadingIndicator", "Empty", "isLoading", "listboxId"]);
  return (0, import_jsx_runtime69.jsx)(m19, Object.assign({ className: a18.AutocompleteMenu }, A3, { children: h12 ? (0, import_jsx_runtime69.jsx)(() => {
    const e142 = null != b7 ? b7 : (0, import_jsx_runtime69.jsxs)(import_jsx_runtime69.Fragment, { children: [(0, import_jsx_runtime69.jsx)(g3, {}), o29.Autocomplete.loadingText] });
    return (0, import_jsx_runtime69.jsx)(a19, Object.assign({ className: a18.AutocompleteMenuLoading }, { children: e142 }));
  }, {}) : (0, import_jsx_runtime69.jsxs)(import_jsx_runtime69.Fragment, { children: [(0, import_jsx_runtime69.jsx)(() => u20 && (0, import_jsx_runtime69.jsx)(a19, Object.assign({ className: a18.AutocompleteMenuHeader }, { children: u20 })), {}), d10.length > 0 ? (0, import_jsx_runtime69.jsx)(m19, Object.assign({ as: "ul", ariaLabel: m29, className: a18.AutocompleteMenuOptions, id: j7, role: "listbox" }, { children: d10 })) : (0, import_jsx_runtime69.jsx)(() => (0, import_jsx_runtime69.jsx)(a19, g14 ? Object.assign({ className: a18.AutocompleteMenuEmpty }, { children: g14 }) : Object.assign({ className: a18.AutocompleteMenuEmpty }, { children: o29.Autocomplete.emptyText })), {}), (0, import_jsx_runtime69.jsx)(() => p17 && (0, import_jsx_runtime69.jsx)(a19, Object.assign({ className: a18.AutocompleteMenuFooter }, { children: p17 })), {})] }) }));
};
c16.displayName = "AutocompleteMenu";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/useAutocomplete.js
var e96 = __toESM(require_react());
var c17 = /* @__PURE__ */ new Set([p4, n16, s8, i13]);
var a48 = ({ defaultValue: a82 = "", value: u20, options: r61, optionFilter: d10, onBlur: m29, onChange: f21, onClear: h12, onClick: p17, onSelect: g14, onSubmit: b7 }) => {
  const C7 = void 0 !== u20, [I2, v5] = e96.useState(a82), k6 = C7 ? u20 : I2, [w3, O2] = e96.useState(false), [B2, E4] = e96.useState(null), y9 = e45(d10), S = e96.useMemo(() => {
    const e142 = y9 ? (e143) => d10(e143, k6) : (e143) => {
      const { label: t87 } = e143;
      return null == t87 ? void 0 : t87.toLocaleLowerCase().includes(null == k6 ? void 0 : k6.toLocaleLowerCase());
    };
    return (null == r61 ? void 0 : r61.filter(e142)) || [];
  }, [k6, d10, y9, r61]), T2 = s19(), H = s19(), L = s19(), M4 = s19(), V2 = S.findIndex((e142) => e142 === B2), j7 = (null == B2 ? void 0 : B2.id) || (-1 !== V2 ? `${M4}-option-${V2}` : void 0), x5 = e96.useCallback((e142) => {
    O2(false), E4(null), e45(m29) && m29(e142);
  }, [m29]), D3 = e96.useCallback((e142) => {
    E4(null), O2(true), C7 || v5(e142.target.value), e45(f21) && f21(e142);
  }, [C7, f21]), F4 = e96.useCallback(() => {
    C7 || v5(""), e45(h12) && h12();
  }, [C7, h12]), R = e96.useCallback((e142) => {
    O2(true), e45(p17) && p17(e142);
  }, [p17]);
  return e96.useEffect(() => {
    const e142 = document.getElementById(T2), t87 = document.getElementById(L);
    if (t87 && w3) {
      const { bottom: o101 } = t87.getBoundingClientRect(), { offsetParent: n45, offsetTop: l29 } = e142;
      n45 === document.body && o101 > document.documentElement.clientHeight && window.scrollTo({ top: Math.min(o101 - document.documentElement.clientHeight + window.scrollY + 20, l29), behavior: "smooth" });
    }
  }, [T2, w3, L]), e96.useEffect(() => {
    const e142 = document.getElementById(H), t87 = document.getElementById(j7);
    if (t87 && e142) {
      const { scrollTop: o101, clientHeight: n45 } = e142, { offsetHeight: l29, offsetTop: s62 } = t87, { top: i67, bottom: c22 } = t87.getBoundingClientRect();
      o101 > s62 && (e142.scrollTop = s62), o101 + n45 < s62 + l29 && (e142.scrollTop = s62 + l29 - n45), (i67 < 0 || c22 > document.documentElement.clientHeight) && t87.scrollIntoView({ behavior: "smooth", block: "nearest" });
    }
  }, [j7, H]), { activeOptionId: j7, autocompleteId: T2, composedValue: k6, filteredOptions: S, handleOnBlur: x5, handleOnClear: F4, handleOnClick: R, handleOnChange: D3, handleOnKeyDown: (e142) => {
    const { key: i67 } = e142;
    if (c17.has(i67))
      switch (e142.preventDefault(), i67) {
        case i13:
          w3 ? (O2(false), E4(null)) : F4();
          break;
        case s8:
          if (B2) {
            const { label: e143 } = B2;
            C7 || v5(e143), e45(g14) && g14(B2);
          } else
            e45(b7) && b7(k6);
          O2(false), E4(null);
          break;
        case p4: {
          if (S.length <= 0)
            return;
          O2(true);
          const e143 = V2 >= S.length - 1 ? 0 : V2 + 1;
          E4(S[e143]);
          break;
        }
        case n16: {
          if (S.length <= 0)
            return;
          O2(true);
          const e143 = V2 <= 0 ? S.length - 1 : V2 - 1;
          E4(S[e143]);
        }
      }
  }, isControlled: C7, isCustomFiltering: y9, isMenuOpen: w3, listboxId: H, menuId: L, optionBaseId: M4, setActiveOption: E4, setIsMenuOpen: O2, setInternalValue: v5 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/HighlightMatch/HighlightMatch.js
var import_jsx_runtime70 = __toESM(require_jsx_runtime());
var import_classnames38 = __toESM(require_classnames());
var i46 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/utils/testUtils.js
var o70 = (o101, t87) => o101 && t87 ? `${o101}-${t87}` : void 0;

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/HighlightMatch/HighlightMatch.js
var c18 = (i67, c22) => {
  var { children: m29, className: h12, query: d10, testId: g14 } = i67, f21 = __rest6(i67, ["children", "className", "query", "testId"]);
  const p17 = o70(g14, "match"), u20 = null == m29 ? void 0 : m29.toLocaleLowerCase().indexOf(null == d10 ? void 0 : d10.toLocaleLowerCase());
  if (o30(d10) && -1 !== u20) {
    const s62 = m29.substring(u20, u20 + d10.length);
    return (0, import_jsx_runtime70.jsxs)(a19, Object.assign({ as: "span", className: (0, import_classnames38.default)(h12, a18.HighlightMatch), testId: g14, ref: c22 }, f21, { children: [m29.substring(0, u20), (0, import_jsx_runtime70.jsx)(a19, Object.assign({ as: "strong", className: a18.HighlightMatchHighlighted, testId: p17 }, { children: s62 })), m29.substring(u20 + d10.length)] }));
  }
  return (0, import_jsx_runtime70.jsx)(a19, Object.assign({ as: "span", testId: g14 }, { children: m29 }));
};
var m20 = i46.forwardRef(c18);
m20.displayName = "HighlightMatch";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/SearchField.js
var import_jsx_runtime73 = __toESM(require_jsx_runtime());
var import_classnames41 = __toESM(require_classnames());
var r38 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconSearch.js
var import_jsx_runtime71 = __toESM(require_jsx_runtime());
var import_classnames39 = __toESM(require_classnames());
var o71 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime71.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames39.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime71.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime71.jsx)("path", { d: "M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14V14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/SearchFieldButton.js
var import_jsx_runtime72 = __toESM(require_jsx_runtime());
var e99 = __toESM(require_react());
var import_classnames40 = __toESM(require_classnames());
var a49 = o29.SearchField.searchButtonLabel;
var c19 = e99.forwardRef((e142, i67) => (0, import_jsx_runtime72.jsx)(i23, Object.assign({ ariaLabel: a49, className: a18.SearchFieldSearch, ref: i67, type: "submit" }, e142, { children: (0, import_jsx_runtime72.jsx)(o71, { size: e142.size }) })));
c19.displayName = "SearchFieldButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/useSearchField.js
var e101 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/hooks/useComposeRefsCallback.js
var e100 = __toESM(require_react());
function r37({ externalRef: r61, internalRef: n45 }) {
  return e100.useCallback((e142) => {
    "function" == typeof r61 ? r61(e142) : null !== r61 && (r61.current = e142), n45.current = e142;
  }, [r61, n45]);
}

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/useSearchField.js
var s28 = /* @__PURE__ */ new Set([i13, s8]);
var t55 = ({ defaultValue: t87 = "", value: r61, onChange: u20, onClear: c22, onSubmit: f21, externalRef: m29 }) => {
  const C7 = void 0 !== r61, [i67, d10] = e101.useState(t87), k6 = C7 ? r61 : i67, p17 = e101.useRef(null), b7 = r37({ externalRef: m29, internalRef: p17 }), h12 = e101.useCallback(() => {
    var e142;
    C7 || d10(""), null === (e142 = null == p17 ? void 0 : p17.current) || void 0 === e142 || e142.focus(), e45(c22) && c22();
  }, [C7, d10, c22]), v5 = e101.useCallback((e142) => {
    e45(f21) && f21(e142);
  }, [f21]), R = e101.useCallback((e142) => {
    const { key: o101 } = e142;
    s28.has(o101) && (e142.preventDefault(), o101 === i13 ? h12() : o101 === s8 && v5(k6));
  }, [k6, h12, v5]), g14 = e101.useCallback((e142) => {
    C7 || d10(e142.target.value), e45(u20) && u20(e142);
  }, [C7, u20, d10]), j7 = e101.useCallback(() => {
    v5(k6);
  }, [v5, k6]);
  return { composedValue: k6, onClearHandler: h12, onKeyDown: R, onClick: j7, handleOnChange: g14, composedRefs: b7 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/SearchField.js
var u19 = r38.forwardRef((r61, u20) => {
  var { autoComplete: p17 = "off", className: f21, isDisabled: h12, clearButtonLabel: C7, labelHidden: b7 = true, name: F4 = "q", hasSearchButton: j7 = true, hasSearchIcon: S = false, onChange: B2, onClear: v5, onSubmit: I2, searchButtonRef: g14, size: D3, defaultValue: V2, value: x5 } = r61, w3 = __rest6(r61, ["autoComplete", "className", "isDisabled", "clearButtonLabel", "labelHidden", "name", "hasSearchButton", "hasSearchIcon", "onChange", "onClear", "onSubmit", "searchButtonRef", "size", "defaultValue", "value"]);
  const { composedValue: z2, onClearHandler: R, onKeyDown: k6, onClick: G, handleOnChange: H, composedRefs: N5 } = t55({ defaultValue: V2, value: x5, onChange: B2, onClear: v5, onSubmit: I2, externalRef: u20 }), y9 = j7 ? (0, import_jsx_runtime73.jsx)(c19, { isDisabled: h12, onClick: G, ref: g14, size: D3 }) : void 0, E4 = S ? (0, import_jsx_runtime73.jsx)(m8, { children: (0, import_jsx_runtime73.jsx)(o71, {}) }) : void 0;
  return (0, import_jsx_runtime73.jsx)(j, Object.assign({ autoComplete: p17, className: (0, import_classnames41.default)(a18.SearchField, f21), labelHidden: b7, innerStartComponent: E4, innerEndComponent: (0, import_jsx_runtime73.jsx)(m9, { ariaLabel: C7, excludeFromTabOrder: true, isVisible: o30(z2), onClick: R, size: D3, variation: "link" }), isDisabled: h12, name: F4, onChange: H, onKeyDown: k6, outerEndComponent: y9, ref: N5, size: D3, value: z2 }, w3));
});
u19.displayName = "SearchField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/Autocomplete.js
var p15 = (i67, p17) => {
  var { className: h12, defaultValue: f21, value: g14, isLoading: C7 = false, menuSlots: O2 = {}, options: b7, optionFilter: j7, onBlur: v5, onChange: I2, onClear: S, onClick: M4, onSelect: w3, onSubmit: x5, renderOption: A3, testId: B2 } = i67, V2 = __rest6(i67, ["className", "defaultValue", "value", "isLoading", "menuSlots", "options", "optionFilter", "onBlur", "onChange", "onClear", "onClick", "onSelect", "onSubmit", "renderOption", "testId"]);
  const { activeOptionId: k6, autocompleteId: F4, composedValue: y9, filteredOptions: D3, handleOnBlur: N5, handleOnClear: L, handleOnClick: H, handleOnChange: K, handleOnKeyDown: $, isControlled: q3, isCustomFiltering: R, isMenuOpen: z2, listboxId: E4, menuId: G, optionBaseId: J, setActiveOption: P2, setIsMenuOpen: Q, setInternalValue: T2 } = a48({ defaultValue: f21, value: g14, options: b7, optionFilter: j7, onBlur: v5, onChange: I2, onClear: S, onClick: M4, onSelect: w3, onSubmit: x5 }), U2 = { role: "combobox", "aria-activedescendant": k6, "aria-autocomplete": "list", "aria-controls": z2 ? G : void 0, "aria-expanded": z2, "aria-haspopup": "listbox", "aria-owns": z2 ? G : void 0 }, W = D3.map((n45, t87) => {
    const { id: i68, label: l29 } = n45, r61 = __rest6(n45, ["id", "label"]), c22 = null != i68 ? i68 : `${J}-option-${t87}`, u20 = c22 === k6;
    return (0, import_jsx_runtime74.jsx)(m18, Object.assign({ isActive: u20, id: c22, onClick: () => {
      Q(false), P2(null), q3 || T2(l29), e45(w3) && w3(n45);
    }, onMouseDown: (e142) => {
      e142.preventDefault();
    }, onMouseMove: () => {
      P2(n45);
    } }, r61, { children: e45(A3) ? A3(n45, y9) : R ? l29 : (0, import_jsx_runtime74.jsx)(m20, Object.assign({ query: y9 }, { children: l29 })) }), c22);
  });
  return (0, import_jsx_runtime74.jsxs)(a19, Object.assign({ className: (0, import_classnames42.default)(a18.Autocomplete, h12), id: F4, testId: B2 }, { children: [(0, import_jsx_runtime74.jsx)(u19, Object.assign({ hasSearchButton: false, hasSearchIcon: true, onBlur: N5, onChange: K, onClear: L, onClick: H, onKeyDown: $, ref: p17, value: y9 }, U2, V2)), z2 ? (0, import_jsx_runtime74.jsx)(c16, Object.assign({ id: G, isLoading: C7, listboxId: E4 }, O2, { children: W })) : null] }));
};
var h11 = i47.forwardRef(p15);
h11.displayName = "Autocomplete";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Badge/Badge.js
var import_jsx_runtime75 = __toESM(require_jsx_runtime());
var s29 = __toESM(require_react());
var import_classnames43 = __toESM(require_classnames());
var m21 = s29.forwardRef((s62, m29) => {
  var { className: n45, children: c22, variation: d10, size: f21 } = s62, l29 = __rest6(s62, ["className", "children", "variation", "size"]);
  const p17 = (0, import_classnames43.default)(a18.Badge, n45, f6(a18.Badge, d10), f6(a18.Badge, f21));
  return (0, import_jsx_runtime75.jsx)(a19, Object.assign({ as: "span", className: p17, "data-variation": d10, "data-size": f21, ref: m29 }, l29, { children: c22 }));
});
m21.displayName = "Badge";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ButtonGroup/ButtonGroup.js
var import_jsx_runtime76 = __toESM(require_jsx_runtime());
var o74 = __toESM(require_react());
var import_classnames44 = __toESM(require_classnames());
var t57 = o74.forwardRef((t87, m29) => {
  var { className: l29, children: n45, role: c22 = "group", size: p17, variation: f21 } = t87, d10 = __rest6(t87, ["className", "children", "role", "size", "variation"]);
  return (0, import_jsx_runtime76.jsx)(t14, Object.assign({ className: (0, import_classnames44.default)(a18.ButtonGroup, l29), role: c22, ref: m29 }, d10, { children: o74.Children.map(n45, (r61) => o74.isValidElement(r61) ? o74.cloneElement(r61, { size: p17, variation: f21 }) : r61) }));
});
t57.displayName = "ButtonGroup";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Card/Card.js
var import_jsx_runtime77 = __toESM(require_jsx_runtime());
var import_classnames45 = __toESM(require_classnames());
var i48 = __toESM(require_react());
var m22 = i48.forwardRef((i67, m29) => {
  var { className: n45, children: c22, variation: d10 } = i67, f21 = __rest6(i67, ["className", "children", "variation"]);
  return (0, import_jsx_runtime77.jsx)(a19, Object.assign({ className: (0, import_classnames45.default)(a18.Card, f6(a18.Card, d10), n45), "data-variation": d10, ref: m29 }, f21, { children: c22 }));
});
m22.displayName = "Card";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/CheckboxField/CheckboxField.js
var import_jsx_runtime81 = __toESM(require_jsx_runtime());
var o78 = __toESM(require_react());
var import_classnames49 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Checkbox/Checkbox.js
var import_jsx_runtime80 = __toESM(require_jsx_runtime());
var a53 = __toESM(require_react());
var import_classnames48 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconCheck.js
var import_jsx_runtime78 = __toESM(require_jsx_runtime());
var import_classnames46 = __toESM(require_classnames());
var o75 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime78.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames46.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime78.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime78.jsx)("path", { d: "M9.00016 16.1698L4.83016 11.9998L3.41016 13.4098L9.00016 18.9998L21.0002 6.99984L19.5902 5.58984L9.00016 16.1698Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconIndeterminate.js
var import_jsx_runtime79 = __toESM(require_jsx_runtime());
var import_classnames47 = __toESM(require_classnames());
var i49 = (i67) => {
  const { className: m29 } = i67, n45 = __rest6(i67, ["className"]);
  return (0, import_jsx_runtime79.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames47.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime79.jsx)("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", height: "24", width: "24", viewBox: "0 0 24 24" }, { children: (0, import_jsx_runtime79.jsx)("line", { x1: "4", x2: "20", y1: "12", y2: "12", stroke: "currentColor", strokeWidth: "3" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Checkbox/useCheckbox.js
var import_react51 = __toESM(require_react());
var o76 = (o101, r61) => {
  const [a82, c22] = (0, import_react51.useState)(o101), [s62, n45] = (0, import_react51.useState)(false);
  return { dataChecked: a82, dataFocus: s62, onBlur: () => {
    n45(false);
  }, onChange: (t87) => {
    c22(t87.target.checked), e45(r61) && r61(t87);
  }, onFocus: () => {
    n45(true);
  }, setDataChecked: c22 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Checkbox/Checkbox.js
var f19 = a53.forwardRef((f21, C7) => {
  var { checked: x5, className: I2, defaultChecked: j7, hasError: y9, isDisabled: N5, isIndeterminate: g14, label: B2, labelHidden: F4, labelPosition: H, onChange: V2, testId: D3, inputStyles: E4 } = f21, O2 = __rest6(f21, ["checked", "className", "defaultChecked", "hasError", "isDisabled", "isIndeterminate", "label", "labelHidden", "labelPosition", "onChange", "testId", "inputStyles"]);
  const { styleProps: S, rest: v5 } = k4(O2), w3 = void 0 !== x5 ? x5 : j7, { dataChecked: P2, dataFocus: L, onBlur: T2, onChange: U2, onFocus: q3, setDataChecked: M4 } = o76(w3, V2);
  a53.useEffect(() => {
    void 0 !== x5 && x5 !== P2 && M4(x5);
  }, [x5, P2, M4]);
  const R = s19();
  a53.useEffect(() => {
    document.querySelector(`[data-id="${R}"]`).indeterminate = g14;
  }, [R, g14]);
  const $ = o70(D3, a18.CheckboxButton), z2 = o70(D3, a18.CheckboxIcon), A3 = o70(D3, a18.CheckboxLabel), G = (0, import_classnames48.default)(a18.CheckboxButton, p5(a18.CheckboxButton, "disabled", N5), p5(a18.CheckboxButton, "error", y9), p5(a18.CheckboxButton, "focused", L)), J = (0, import_classnames48.default)(a18.CheckboxIcon, p5(a18.CheckboxIcon, "checked", P2), p5(a18.CheckboxIcon, "disabled", N5)), K = a53.useMemo(() => g14 ? (0, import_jsx_runtime80.jsx)(i49, { className: (0, import_classnames48.default)(J, p5(a18.CheckboxIcon, "indeterminate", g14)), "data-testid": z2 }) : (0, import_jsx_runtime80.jsx)(o75, { className: J, "data-checked": P2, "data-disabled": N5, "data-testid": z2 }), [P2, J, z2, N5, g14]);
  return (0, import_jsx_runtime80.jsxs)(t14, Object.assign({ as: "label", className: (0, import_classnames48.default)(a18.Checkbox, p5(a18.Checkbox, "disabled", N5), I2), "data-disabled": N5, "data-label-position": H, testId: D3 }, S, { children: [(0, import_jsx_runtime80.jsx)(o41, { children: (0, import_jsx_runtime80.jsx)(l12, Object.assign({ checked: x5, className: a18.CheckboxInput, "data-id": R, defaultChecked: j7, isDisabled: N5, onBlur: T2, onChange: U2, onFocus: q3, ref: C7, type: "checkbox" }, v5)) }), B2 && (0, import_jsx_runtime80.jsx)(n19, Object.assign({ as: "span", className: (0, import_classnames48.default)(a18.CheckboxLabel, { [a18.VisuallyHidden]: F4 }), "data-disabled": N5, testId: A3 }, { children: B2 })), (0, import_jsx_runtime80.jsx)(t14, Object.assign({ "aria-hidden": "true", as: "span", className: G, "data-checked": P2, "data-disabled": N5, "data-focus": L, "data-error": y9, testId: $ }, E4, { children: K }))] }));
});
f19.displayName = "Checkbox";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/CheckboxField/CheckboxField.js
var n33 = o78.forwardRef((o101, n45) => {
  var { className: p17, errorMessage: b7, hasError: f21 = false, labelHidden: h12 = false, labelPosition: F4, testId: j7, size: x5 } = o101, g14 = __rest6(o101, ["className", "errorMessage", "hasError", "labelHidden", "labelPosition", "testId", "size"]);
  const C7 = o70(j7, a18.Checkbox);
  return (0, import_jsx_runtime81.jsxs)(t14, Object.assign({ className: (0, import_classnames49.default)(a18.Field, a18.CheckboxField, f6(a18.Field, x5), p17), "data-size": x5, testId: j7 }, { children: [(0, import_jsx_runtime81.jsx)(f19, Object.assign({ hasError: f21, labelHidden: h12, testId: C7, labelPosition: F4, ref: n45 }, g14)), (0, import_jsx_runtime81.jsx)(a29, { hasError: f21, errorMessage: b7 })] }));
});
n33.displayName = "CheckboxField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Collection/Collection.js
var import_jsx_runtime88 = __toESM(require_jsx_runtime());
var import_classnames55 = __toESM(require_classnames());
var import_debounce2 = __toESM(require_debounce());
var i51 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Grid/Grid.js
var import_jsx_runtime82 = __toESM(require_jsx_runtime());
var e106 = __toESM(require_react());
var import_classnames50 = __toESM(require_classnames());
var o79 = e106.forwardRef((e142, o101) => {
  var { className: t87, children: c22 } = e142, n45 = __rest6(e142, ["className", "children"]);
  return (0, import_jsx_runtime82.jsx)(a19, Object.assign({ className: (0, import_classnames50.default)(a18.Grid, t87), ref: o101 }, n45, { children: c22 }));
});
o79.displayName = "Grid";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/Pagination.js
var import_jsx_runtime87 = __toESM(require_jsx_runtime());
var r41 = __toESM(require_react());
var import_classnames54 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/usePaginationItems.js
var import_jsx_runtime86 = __toESM(require_jsx_runtime());
var a57 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/useRange.js
var t62 = __toESM(require_react());
var a55 = "...";
var m23 = (a82, m29, e142 = 1) => t62.useMemo(() => {
  const t87 = Math.max(a82, 1), o101 = Math.max(e142, 1), n45 = Math.max(t87, m29), s62 = n45;
  if (n45 < 5 + 2 * o101)
    return s9(1, n45);
  const i67 = Math.max(t87 - o101, 1), h12 = Math.min(t87 + o101, s62), u20 = i67 > 2, M4 = h12 < s62 - 1;
  if (u20 && !M4) {
    return [1, "...", ...s9(s62 - (3 + 2 * o101) + 1, s62)];
  }
  if (!u20 && M4) {
    return [...s9(1, 3 + 2 * o101), "...", s62];
  }
  return [1, "...", ...s9(i67, h12), "...", s62];
}, [a82, m29, e142]);

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/PaginationItem.js
var import_jsx_runtime85 = __toESM(require_jsx_runtime());
var t65 = __toESM(require_react());
var import_classnames53 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconChevronLeft.js
var import_jsx_runtime83 = __toESM(require_jsx_runtime());
var import_classnames51 = __toESM(require_classnames());
var o80 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime83.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames51.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime83.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime83.jsx)("path", { d: "M15.41 7.41L14 6L8 12L14 18L15.41 16.59L10.83 12L15.41 7.41Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconChevronRight.js
var import_jsx_runtime84 = __toESM(require_jsx_runtime());
var import_classnames52 = __toESM(require_classnames());
var o81 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime84.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames52.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime84.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime84.jsx)("path", { d: "M9.99984 6L8.58984 7.41L13.1698 12L8.58984 16.59L9.99984 18L15.9998 12L9.99984 6Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/PaginationItem.js
var I = (p17) => {
  var { type: j7, page: I2, currentPage: P2, currentPageLabel: h12 = o29.PaginationItem.currentPageLabel, isDisabled: k6, onClick: f21, ariaLabel: C7 } = p17, B2 = __rest6(p17, ["type", "page", "currentPage", "currentPageLabel", "isDisabled", "onClick", "ariaLabel"]);
  const L = t65.useCallback(() => {
    f21(I2, P2);
  }, [I2, P2, f21]), O2 = t65.useCallback(() => {
    f21();
  }, [f21]), v5 = t65.useCallback(() => {
    f21();
  }, [f21]), N5 = (0, import_classnames53.default)(a18.PaginationItemButton, f6(a18.PaginationItemButton, "link"), p5(a18.PaginationItemButton, "disabled", k6)), x5 = (0, import_classnames53.default)(a18.PaginationItemButton, f6(a18.PaginationItemButton, "link"), p5(a18.PaginationItemButton, "disabled", k6));
  switch (j7) {
    case "page":
      return (0, import_jsx_runtime85.jsx)(a19, Object.assign({ as: "li" }, { children: I2 === P2 ? (0, import_jsx_runtime85.jsxs)(t14, Object.assign({ "aria-current": "page", as: "button", className: a18.PaginationItemCurrent, testId: "current" }, B2, { children: [(0, import_jsx_runtime85.jsxs)(o41, { children: [h12, ":"] }), I2] })) : (0, import_jsx_runtime85.jsx)(u8, Object.assign({ className: (0, import_classnames53.default)(a18.PaginationItemButton, f6(a18.PaginationItemButton, "link")), size: "small", variation: "link", onClick: L, ariaLabel: C7 }, B2, { children: I2 })) }));
    case "next":
      return (0, import_jsx_runtime85.jsx)(a19, Object.assign({ as: "li" }, { children: (0, import_jsx_runtime85.jsx)(u8, Object.assign({ className: N5, size: "small", variation: "link", isDisabled: k6, onClick: v5, ariaLabel: C7 }, B2, { children: (0, import_jsx_runtime85.jsx)(o81, { size: "large" }) })) }));
    case "previous":
      return (0, import_jsx_runtime85.jsx)(a19, Object.assign({ as: "li" }, { children: (0, import_jsx_runtime85.jsx)(u8, Object.assign({ className: x5, size: "small", variation: "link", isDisabled: k6, onClick: O2, ariaLabel: C7 }, B2, { children: (0, import_jsx_runtime85.jsx)(o80, { size: "large" }) })) }));
    case "ellipsis":
      return (0, import_jsx_runtime85.jsx)(a19, Object.assign({ as: "li" }, { children: (0, import_jsx_runtime85.jsx)(t14, Object.assign({ as: "span", className: a18.PaginationItemEllipsis, testId: "ellipsis" }, B2, { children: "\u2026" })) }));
  }
  return (0, import_jsx_runtime85.jsx)(a19, { as: "li" });
};
I.displayName = "PaginationItem";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/usePaginationItems.js
var o82 = (o101, s62, p17, l29, m29 = o29.PaginationItem.currentPageLabel, g14 = o29.PaginationItem.pageLabel, c22 = o29.PaginationItem.previousLabel, u20 = o29.PaginationItem.nextLabel, b7, P2, L) => {
  const f21 = (0, import_jsx_runtime86.jsx)(I, { type: "previous", currentPage: o101, onClick: P2, isDisabled: o101 <= 1, ariaLabel: c22 }, "previous"), x5 = (0, import_jsx_runtime86.jsx)(I, { type: "next", currentPage: o101, onClick: b7, isDisabled: o101 >= s62 && !p17, ariaLabel: u20 }, "next"), I2 = m23(o101, s62, l29);
  return [f21, ...a57.useMemo(() => I2.map((a82, t87) => a82 === a55 ? (0, import_jsx_runtime86.jsx)(I, { type: "ellipsis" }, 1 === t87 ? "start-ellipsis" : "end-ellipsis") : (0, import_jsx_runtime86.jsx)(I, { type: "page", page: a82, currentPage: o101, currentPageLabel: m29, onClick: L, ariaLabel: `${g14} ${a82}` }, a82)), [I2, o101, m29, g14, L]), x5];
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/Pagination.js
var l22 = r41.forwardRef((r61, l29) => {
  var { className: m29, currentPage: g14 = 1, totalPages: c22, hasMorePages: p17 = false, siblingCount: u20, currentPageLabel: b7, pageLabel: P2, previousLabel: f21, nextLabel: h12, onNext: j7, onPrevious: x5, onChange: L } = r61, v5 = __rest6(r61, ["className", "currentPage", "totalPages", "hasMorePages", "siblingCount", "currentPageLabel", "pageLabel", "previousLabel", "nextLabel", "onNext", "onPrevious", "onChange"]);
  const N5 = o82(g14, c22, p17, u20, b7, P2, f21, h12, j7, x5, L);
  return (0, import_jsx_runtime87.jsx)(a19, Object.assign({ as: "nav", className: (0, import_classnames54.default)(a18.Pagination, m29), ref: l29 }, v5, { children: (0, import_jsx_runtime87.jsx)(t14, Object.assign({ as: "ol", justifyContent: "center", alignItems: "center", gap: "inherit" }, { children: N5 })) }));
});
l22.displayName = "Pagination";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Pagination/usePagination.js
var a59 = __toESM(require_react());
var e111 = (e142) => {
  let { currentPage: t87 = 1, totalPages: s62, hasMorePages: o101, siblingCount: n45 = 1 } = e142;
  t87 = Math.max(t87, 1), n45 = Math.max(n45, 1), s62 = Math.max(t87, s62);
  const [r61, l29] = a59.useState(t87);
  a59.useEffect(() => l29(t87), [t87, s62]);
  const u20 = a59.useCallback(() => {
    r61 < s62 && l29(r61 + 1);
  }, [r61, s62]), c22 = a59.useCallback(() => {
    r61 > 1 && l29(r61 - 1);
  }, [r61]), g14 = a59.useCallback((a82, e143) => {
    l29(a82);
  }, []);
  return { currentPage: r61, totalPages: s62, hasMorePages: o101, siblingCount: n45, onNext: u20, onPrevious: c22, onChange: g14 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Collection/utils.js
var t67 = (e142, t87, o101) => {
  if (t87 < 1 || o101 < 1)
    return [];
  const s62 = (t87 - 1) * o101;
  return e142.slice(s62, s62 + o101);
};
var o83 = (t87, s62) => o30(t87) ? t87.toLowerCase().includes(s62.toLowerCase()) : "object" == typeof t87 && null !== t87 && Object.values(t87).some((e142) => o83(e142, s62));
var s34 = (e142, t87) => Math.ceil(e142 / t87);

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Collection/Collection.js
var f20 = 10;
var P = (t87) => {
  var { children: r61, direction: a82 = "column", items: i67 } = t87, o101 = __rest6(t87, ["children", "direction", "items"]);
  return (0, import_jsx_runtime88.jsx)(t14, Object.assign({ direction: a82 }, o101, { children: Array.isArray(i67) ? i67.map(r61) : null }));
};
var C6 = (t87) => {
  var { children: r61, items: a82 } = t87, i67 = __rest6(t87, ["children", "items"]);
  return (0, import_jsx_runtime88.jsx)(o79, Object.assign({}, i67, { children: Array.isArray(a82) ? a82.map(r61) : null }));
};
var N3 = (e142, t87, r61) => t87.length ? e142 : r61 || (0, import_jsx_runtime88.jsx)(t14, Object.assign({ justifyContent: "center" }, { children: (0, import_jsx_runtime88.jsx)(n19, { children: o29.Collection.searchNoResultsFound }) }));
var y6 = (o101) => {
  var { className: n45, isSearchable: y9, isPaginated: F4, items: O2, itemsPerPage: x5 = f20, searchFilter: A3 = o83, searchLabel: S = o29.Collection.searchButtonLabel, searchNoResultsFound: I2, searchPlaceholder: v5, type: L = "list", testId: R } = o101, G = __rest6(o101, ["className", "isSearchable", "isPaginated", "items", "itemsPerPage", "searchFilter", "searchLabel", "searchNoResultsFound", "searchPlaceholder", "type", "testId"]);
  const [T2, k6] = i51.useState(), B2 = i51.useCallback((0, import_debounce2.default)(k6, 300), [k6]);
  O2 = Array.isArray(O2) ? O2 : [], y9 && o30(T2) && (O2 = O2.filter((e142) => A3(e142, T2)));
  const q3 = e111({ totalPages: s34(O2.length, x5) });
  F4 && (O2 = t67(O2, q3.currentPage, x5));
  const w3 = "list" === L ? (0, import_jsx_runtime88.jsx)(P, Object.assign({ className: a18.CollectionItems, items: O2 }, G)) : "grid" === L ? (0, import_jsx_runtime88.jsx)(C6, Object.assign({ className: a18.CollectionItems, items: O2 }, G)) : null;
  return (0, import_jsx_runtime88.jsxs)(t14, Object.assign({ testId: R, className: (0, import_classnames55.default)(a18.Collection, n45) }, { children: [y9 ? (0, import_jsx_runtime88.jsx)(t14, Object.assign({ className: a18.CollectionSearch }, { children: (0, import_jsx_runtime88.jsx)(u19, { label: S, placeholder: v5, onChange: (e142) => B2(e142.target.value), onClear: () => k6("") }) })) : null, N3(w3, O2, I2), F4 ? (0, import_jsx_runtime88.jsx)(t14, Object.assign({ className: a18.CollectionPagination }, { children: (0, import_jsx_runtime88.jsx)(l22, Object.assign({}, q3)) })) : null] }));
};
y6.displayName = "Collection";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Expander/Expander.js
var import_jsx_runtime89 = __toESM(require_jsx_runtime());
var l23 = __toESM(require_react());

// node_modules/@radix-ui/react-accordion/dist/index.module.js
init_extends();
var import_react53 = __toESM(require_react());

// node_modules/@radix-ui/react-collapsible/dist/index.module.js
init_extends();
var import_react52 = __toESM(require_react());
var $409067139f391064$var$COLLAPSIBLE_NAME = "Collapsible";
var [$409067139f391064$var$createCollapsibleContext, $409067139f391064$export$952b32dcbe73087a] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($409067139f391064$var$COLLAPSIBLE_NAME);
var [$409067139f391064$var$CollapsibleProvider, $409067139f391064$var$useCollapsibleContext] = $409067139f391064$var$createCollapsibleContext($409067139f391064$var$COLLAPSIBLE_NAME);
var $409067139f391064$export$6eb0f7ddcda6131f = (0, import_react52.forwardRef)((props, forwardedRef) => {
  const { __scopeCollapsible, open: openProp, defaultOpen, disabled, onOpenChange, ...collapsibleProps } = props;
  const [open = false, setOpen] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: openProp,
    defaultProp: defaultOpen,
    onChange: onOpenChange
  });
  return (0, import_react52.createElement)($409067139f391064$var$CollapsibleProvider, {
    scope: __scopeCollapsible,
    disabled,
    contentId: $1746a345f3d73bb7$export$f680877a34711e37(),
    open,
    onOpenToggle: (0, import_react52.useCallback)(
      () => setOpen(
        (prevOpen) => !prevOpen
      ),
      [
        setOpen
      ]
    )
  }, (0, import_react52.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    "data-state": $409067139f391064$var$getState(open),
    "data-disabled": disabled ? "" : void 0
  }, collapsibleProps, {
    ref: forwardedRef
  })));
});
Object.assign($409067139f391064$export$6eb0f7ddcda6131f, {
  displayName: $409067139f391064$var$COLLAPSIBLE_NAME
});
var $409067139f391064$var$TRIGGER_NAME = "CollapsibleTrigger";
var $409067139f391064$export$c135dce7b15bbbdc = (0, import_react52.forwardRef)((props, forwardedRef) => {
  const { __scopeCollapsible, ...triggerProps } = props;
  const context = $409067139f391064$var$useCollapsibleContext($409067139f391064$var$TRIGGER_NAME, __scopeCollapsible);
  return (0, import_react52.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.button, _extends({
    type: "button",
    "aria-controls": context.contentId,
    "aria-expanded": context.open || false,
    "data-state": $409067139f391064$var$getState(context.open),
    "data-disabled": context.disabled ? "" : void 0,
    disabled: context.disabled
  }, triggerProps, {
    ref: forwardedRef,
    onClick: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onClick, context.onOpenToggle)
  }));
});
Object.assign($409067139f391064$export$c135dce7b15bbbdc, {
  displayName: $409067139f391064$var$TRIGGER_NAME
});
var $409067139f391064$var$CONTENT_NAME = "CollapsibleContent";
var $409067139f391064$export$aadde00976f34151 = (0, import_react52.forwardRef)((props, forwardedRef) => {
  const { forceMount, ...contentProps } = props;
  const context = $409067139f391064$var$useCollapsibleContext($409067139f391064$var$CONTENT_NAME, props.__scopeCollapsible);
  return (0, import_react52.createElement)(
    $921a889cee6df7e8$export$99c2b779aa4e8b8b,
    {
      present: forceMount || context.open
    },
    ({ present }) => (0, import_react52.createElement)($409067139f391064$var$CollapsibleContentImpl, _extends({}, contentProps, {
      ref: forwardedRef,
      present
    }))
  );
});
Object.assign($409067139f391064$export$aadde00976f34151, {
  displayName: $409067139f391064$var$CONTENT_NAME
});
var $409067139f391064$var$CollapsibleContentImpl = (0, import_react52.forwardRef)((props, forwardedRef) => {
  const { __scopeCollapsible, present, children: children2, ...contentProps } = props;
  const context = $409067139f391064$var$useCollapsibleContext($409067139f391064$var$CONTENT_NAME, __scopeCollapsible);
  const [isPresent, setIsPresent] = (0, import_react52.useState)(present);
  const ref = (0, import_react52.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  const heightRef = (0, import_react52.useRef)(0);
  const height = heightRef.current;
  const widthRef = (0, import_react52.useRef)(0);
  const width = widthRef.current;
  const isOpen = context.open || isPresent;
  const isMountAnimationPreventedRef = (0, import_react52.useRef)(isOpen);
  const originalStylesRef = (0, import_react52.useRef)();
  (0, import_react52.useEffect)(() => {
    const rAF = requestAnimationFrame(
      () => isMountAnimationPreventedRef.current = false
    );
    return () => cancelAnimationFrame(rAF);
  }, []);
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    const node = ref.current;
    if (node) {
      originalStylesRef.current = originalStylesRef.current || {
        transitionDuration: node.style.transitionDuration,
        animationDuration: node.style.animationDuration,
        animationFillMode: node.style.animationFillMode
      };
      node.style.transitionDuration = "0s";
      node.style.animationDuration = "0s";
      node.style.animationFillMode = "none";
      const rect = node.getBoundingClientRect();
      heightRef.current = rect.height;
      widthRef.current = rect.width;
      if (!isMountAnimationPreventedRef.current) {
        node.style.transitionDuration = originalStylesRef.current.transitionDuration;
        node.style.animationDuration = originalStylesRef.current.animationDuration;
        node.style.animationFillMode = originalStylesRef.current.animationFillMode;
      }
      setIsPresent(present);
    }
  }, [
    context.open,
    present
  ]);
  return (0, import_react52.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    "data-state": $409067139f391064$var$getState(context.open),
    "data-disabled": context.disabled ? "" : void 0,
    id: context.contentId,
    hidden: !isOpen
  }, contentProps, {
    ref: composedRefs,
    style: {
      [`--radix-collapsible-content-height`]: height ? `${height}px` : void 0,
      [`--radix-collapsible-content-width`]: width ? `${width}px` : void 0,
      ...props.style
    }
  }), isOpen && children2);
});
function $409067139f391064$var$getState(open) {
  return open ? "open" : "closed";
}
var $409067139f391064$export$be92b6f5f03c0fe9 = $409067139f391064$export$6eb0f7ddcda6131f;
var $409067139f391064$export$41fb9f06171c75f4 = $409067139f391064$export$c135dce7b15bbbdc;
var $409067139f391064$export$7c6e2c02157bb7d2 = $409067139f391064$export$aadde00976f34151;

// node_modules/@radix-ui/react-accordion/dist/index.module.js
var $1bf158f521e1b1b4$var$ACCORDION_NAME = "Accordion";
var $1bf158f521e1b1b4$var$ACCORDION_KEYS = [
  "Home",
  "End",
  "ArrowDown",
  "ArrowUp"
];
var [$1bf158f521e1b1b4$var$Collection, $1bf158f521e1b1b4$var$useCollection, $1bf158f521e1b1b4$var$createCollectionScope] = $e02a7d9cb1dc128c$export$c74125a8e3af6bb2($1bf158f521e1b1b4$var$ACCORDION_NAME);
var [$1bf158f521e1b1b4$var$createAccordionContext, $1bf158f521e1b1b4$export$9748edc328a73be1] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($1bf158f521e1b1b4$var$ACCORDION_NAME, [
  $1bf158f521e1b1b4$var$createCollectionScope,
  $409067139f391064$export$952b32dcbe73087a
]);
var $1bf158f521e1b1b4$var$useCollapsibleScope = $409067139f391064$export$952b32dcbe73087a();
var $1bf158f521e1b1b4$export$a766cd26d0d69044 = import_react53.default.forwardRef((props, forwardedRef) => {
  const { type, ...accordionProps } = props;
  const singleProps = accordionProps;
  const multipleProps = accordionProps;
  return import_react53.default.createElement($1bf158f521e1b1b4$var$Collection.Provider, {
    scope: props.__scopeAccordion
  }, type === "multiple" ? import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionImplMultiple, _extends({}, multipleProps, {
    ref: forwardedRef
  })) : import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionImplSingle, _extends({}, singleProps, {
    ref: forwardedRef
  })));
});
Object.assign($1bf158f521e1b1b4$export$a766cd26d0d69044, {
  displayName: $1bf158f521e1b1b4$var$ACCORDION_NAME
});
$1bf158f521e1b1b4$export$a766cd26d0d69044.propTypes = {
  type(props) {
    const value = props.value || props.defaultValue;
    if (props.type && ![
      "single",
      "multiple"
    ].includes(props.type))
      return new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`.");
    if (props.type === "multiple" && typeof value === "string")
      return new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`.");
    if (props.type === "single" && Array.isArray(value))
      return new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`.");
    return null;
  }
};
var [$1bf158f521e1b1b4$var$AccordionValueProvider, $1bf158f521e1b1b4$var$useAccordionValueContext] = $1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME);
var [$1bf158f521e1b1b4$var$AccordionCollapsibleProvider, $1bf158f521e1b1b4$var$useAccordionCollapsibleContext] = $1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME, {
  collapsible: false
});
var $1bf158f521e1b1b4$var$AccordionImplSingle = import_react53.default.forwardRef((props, forwardedRef) => {
  const { value: valueProp, defaultValue, onValueChange = () => {
  }, collapsible = false, ...accordionSingleProps } = props;
  const [value, setValue] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: valueProp,
    defaultProp: defaultValue,
    onChange: onValueChange
  });
  return import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionValueProvider, {
    scope: props.__scopeAccordion,
    value: value ? [
      value
    ] : [],
    onItemOpen: setValue,
    onItemClose: import_react53.default.useCallback(
      () => collapsible && setValue(""),
      [
        collapsible,
        setValue
      ]
    )
  }, import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionCollapsibleProvider, {
    scope: props.__scopeAccordion,
    collapsible
  }, import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionImpl, _extends({}, accordionSingleProps, {
    ref: forwardedRef
  }))));
});
var $1bf158f521e1b1b4$var$AccordionImplMultiple = import_react53.default.forwardRef((props, forwardedRef) => {
  const { value: valueProp, defaultValue, onValueChange = () => {
  }, ...accordionMultipleProps } = props;
  const [value1 = [], setValue] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: valueProp,
    defaultProp: defaultValue,
    onChange: onValueChange
  });
  const handleItemOpen = import_react53.default.useCallback(
    (itemValue) => setValue(
      (prevValue = []) => [
        ...prevValue,
        itemValue
      ]
    ),
    [
      setValue
    ]
  );
  const handleItemClose = import_react53.default.useCallback(
    (itemValue) => setValue(
      (prevValue = []) => prevValue.filter(
        (value) => value !== itemValue
      )
    ),
    [
      setValue
    ]
  );
  return import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionValueProvider, {
    scope: props.__scopeAccordion,
    value: value1,
    onItemOpen: handleItemOpen,
    onItemClose: handleItemClose
  }, import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionCollapsibleProvider, {
    scope: props.__scopeAccordion,
    collapsible: true
  }, import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionImpl, _extends({}, accordionMultipleProps, {
    ref: forwardedRef
  }))));
});
var [$1bf158f521e1b1b4$var$AccordionImplProvider, $1bf158f521e1b1b4$var$useAccordionContext] = $1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME);
var $1bf158f521e1b1b4$var$AccordionImpl = import_react53.default.forwardRef((props, forwardedRef) => {
  const { __scopeAccordion, disabled, ...accordionProps } = props;
  const accordionRef = import_react53.default.useRef(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(accordionRef, forwardedRef);
  const getItems = $1bf158f521e1b1b4$var$useCollection(__scopeAccordion);
  const handleKeyDown = $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
    var _triggerCollection$cl;
    if (!$1bf158f521e1b1b4$var$ACCORDION_KEYS.includes(event2.key))
      return;
    const target = event2.target;
    const triggerCollection = getItems().filter((item) => {
      var _item$ref$current;
      return !((_item$ref$current = item.ref.current) !== null && _item$ref$current !== void 0 && _item$ref$current.disabled);
    });
    const triggerIndex = triggerCollection.findIndex(
      (item) => item.ref.current === target
    );
    const triggerCount = triggerCollection.length;
    if (triggerIndex === -1)
      return;
    event2.preventDefault();
    let nextIndex = triggerIndex;
    switch (event2.key) {
      case "Home":
        nextIndex = 0;
        break;
      case "End":
        nextIndex = triggerCount - 1;
        break;
      case "ArrowDown":
        nextIndex = triggerIndex + 1;
        break;
      case "ArrowUp":
        nextIndex = triggerIndex - 1;
        if (nextIndex < 0)
          nextIndex = triggerCount - 1;
        break;
    }
    const clampedIndex = nextIndex % triggerCount;
    (_triggerCollection$cl = triggerCollection[clampedIndex].ref.current) === null || _triggerCollection$cl === void 0 || _triggerCollection$cl.focus();
  });
  return import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionImplProvider, {
    scope: __scopeAccordion,
    disabled
  }, import_react53.default.createElement($1bf158f521e1b1b4$var$Collection.Slot, {
    scope: __scopeAccordion
  }, import_react53.default.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, accordionProps, {
    ref: composedRefs,
    onKeyDown: disabled ? void 0 : handleKeyDown
  }))));
});
var $1bf158f521e1b1b4$var$ITEM_NAME = "AccordionItem";
var [$1bf158f521e1b1b4$var$AccordionItemProvider, $1bf158f521e1b1b4$var$useAccordionItemContext] = $1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ITEM_NAME);
var $1bf158f521e1b1b4$export$d99097c13d4dac9f = import_react53.default.forwardRef((props, forwardedRef) => {
  const { __scopeAccordion, value, ...accordionItemProps } = props;
  const accordionContext = $1bf158f521e1b1b4$var$useAccordionContext($1bf158f521e1b1b4$var$ITEM_NAME, __scopeAccordion);
  const valueContext = $1bf158f521e1b1b4$var$useAccordionValueContext($1bf158f521e1b1b4$var$ITEM_NAME, __scopeAccordion);
  const collapsibleScope = $1bf158f521e1b1b4$var$useCollapsibleScope(__scopeAccordion);
  const triggerId = $1746a345f3d73bb7$export$f680877a34711e37();
  const open1 = value && valueContext.value.includes(value) || false;
  const disabled = accordionContext.disabled || props.disabled;
  return import_react53.default.createElement($1bf158f521e1b1b4$var$AccordionItemProvider, {
    scope: __scopeAccordion,
    open: open1,
    disabled,
    triggerId
  }, import_react53.default.createElement($409067139f391064$export$be92b6f5f03c0fe9, _extends({
    "data-state": open1 ? "open" : "closed"
  }, collapsibleScope, accordionItemProps, {
    ref: forwardedRef,
    disabled,
    open: open1,
    onOpenChange: (open) => {
      if (open)
        valueContext.onItemOpen(value);
      else
        valueContext.onItemClose(value);
    }
  })));
});
Object.assign($1bf158f521e1b1b4$export$d99097c13d4dac9f, {
  displayName: $1bf158f521e1b1b4$var$ITEM_NAME
});
var $1bf158f521e1b1b4$var$HEADER_NAME = "AccordionHeader";
var $1bf158f521e1b1b4$export$5e3e5deaaf81ee41 = import_react53.default.forwardRef((props, forwardedRef) => {
  const { __scopeAccordion, ...headerProps } = props;
  const itemContext = $1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$HEADER_NAME, __scopeAccordion);
  return import_react53.default.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.h3, _extends({
    "data-state": $1bf158f521e1b1b4$var$getState(itemContext.open),
    "data-disabled": itemContext.disabled ? "" : void 0
  }, headerProps, {
    ref: forwardedRef
  }));
});
Object.assign($1bf158f521e1b1b4$export$5e3e5deaaf81ee41, {
  displayName: $1bf158f521e1b1b4$var$HEADER_NAME
});
var $1bf158f521e1b1b4$var$TRIGGER_NAME = "AccordionTrigger";
var $1bf158f521e1b1b4$export$94e939b1f85bdd73 = import_react53.default.forwardRef((props, forwardedRef) => {
  const { __scopeAccordion, ...triggerProps } = props;
  const itemContext = $1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$TRIGGER_NAME, __scopeAccordion);
  const collapsibleContext = $1bf158f521e1b1b4$var$useAccordionCollapsibleContext($1bf158f521e1b1b4$var$TRIGGER_NAME, __scopeAccordion);
  const collapsibleScope = $1bf158f521e1b1b4$var$useCollapsibleScope(__scopeAccordion);
  return import_react53.default.createElement($1bf158f521e1b1b4$var$Collection.ItemSlot, {
    scope: __scopeAccordion
  }, import_react53.default.createElement($409067139f391064$export$41fb9f06171c75f4, _extends({
    "aria-disabled": itemContext.open && !collapsibleContext.collapsible || void 0,
    id: itemContext.triggerId
  }, collapsibleScope, triggerProps, {
    ref: forwardedRef
  })));
});
Object.assign($1bf158f521e1b1b4$export$94e939b1f85bdd73, {
  displayName: $1bf158f521e1b1b4$var$TRIGGER_NAME
});
var $1bf158f521e1b1b4$var$CONTENT_NAME = "AccordionContent";
var $1bf158f521e1b1b4$export$985b9a77379b54a0 = import_react53.default.forwardRef((props, forwardedRef) => {
  const { __scopeAccordion, ...contentProps } = props;
  const itemContext = $1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$CONTENT_NAME, __scopeAccordion);
  const collapsibleScope = $1bf158f521e1b1b4$var$useCollapsibleScope(__scopeAccordion);
  return import_react53.default.createElement($409067139f391064$export$7c6e2c02157bb7d2, _extends({
    role: "region",
    "aria-labelledby": itemContext.triggerId
  }, collapsibleScope, contentProps, {
    ref: forwardedRef,
    style: {
      ["--radix-accordion-content-height"]: "var(--radix-collapsible-content-height)",
      ["--radix-accordion-content-width"]: "var(--radix-collapsible-content-width)",
      ...props.style
    }
  }));
});
Object.assign($1bf158f521e1b1b4$export$985b9a77379b54a0, {
  displayName: $1bf158f521e1b1b4$var$CONTENT_NAME
});
function $1bf158f521e1b1b4$var$getState(open) {
  return open ? "open" : "closed";
}
var $1bf158f521e1b1b4$export$be92b6f5f03c0fe9 = $1bf158f521e1b1b4$export$a766cd26d0d69044;
var $1bf158f521e1b1b4$export$6d08773d2e66f8f2 = $1bf158f521e1b1b4$export$d99097c13d4dac9f;
var $1bf158f521e1b1b4$export$8b251419efc915eb = $1bf158f521e1b1b4$export$5e3e5deaaf81ee41;
var $1bf158f521e1b1b4$export$41fb9f06171c75f4 = $1bf158f521e1b1b4$export$94e939b1f85bdd73;
var $1bf158f521e1b1b4$export$7c6e2c02157bb7d2 = $1bf158f521e1b1b4$export$985b9a77379b54a0;

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Expander/Expander.js
var import_classnames56 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/hooks/useDeprecationWarning.js
var e112 = __toESM(require_react());
var o84 = ({ shouldWarn: o101, message: s62 }) => {
  e112.useEffect(() => {
    o101 && ("undefined" == typeof process || process && true) && console.warn(s62);
  }, [o101, s62]);
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Expander/Expander.js
var i52 = l23.forwardRef((l29, i67) => {
  var { children: p17, className: d10, defaultValue: m29, isCollapsible: u20, onChange: c22, onValueChange: f21, testId: h12, type: g14 = "single", value: C7 } = l29, V2 = __rest6(l29, ["children", "className", "defaultValue", "isCollapsible", "onChange", "onValueChange", "testId", "type", "value"]);
  const { rest: x5 } = k4(V2), b7 = null != f21 ? f21 : c22;
  o84({ shouldWarn: !!c22, message: "Expander `onChange` prop will be deprecated in the next major release of @aws-amplify/ui-react. Please replace usage with `onValueChange`." });
  return (0, import_jsx_runtime89.jsx)($1bf158f521e1b1b4$export$be92b6f5f03c0fe9, "multiple" === g14 ? Object.assign({ className: (0, import_classnames56.default)(a18.Expander, d10), "data-testid": h12, defaultValue: m29, onValueChange: b7, ref: i67, type: g14, value: C7 }, x5, { children: p17 }) : Object.assign({ className: (0, import_classnames56.default)(a18.Expander, d10), collapsible: u20, "data-testid": h12, defaultValue: m29, onValueChange: b7, ref: i67, type: g14, value: C7 }, x5, { children: p17 }));
});
i52.displayName = "Expander";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Expander/ExpanderItem.js
var import_jsx_runtime90 = __toESM(require_jsx_runtime());
var t69 = __toESM(require_react());
var import_classnames57 = __toESM(require_classnames());
var N4 = t69.forwardRef((t87, f21) => {
  var { children: h12, className: j7, title: b7 } = t87, N5 = __rest6(t87, ["children", "className", "title"]);
  const E4 = s19(), g14 = s19(), { rest: I2 } = k4(N5);
  return (0, import_jsx_runtime90.jsxs)($1bf158f521e1b1b4$export$6d08773d2e66f8f2, Object.assign({ className: (0, import_classnames57.default)(a18.ExpanderItem, j7), "data-testid": "expander-item", ref: f21 }, I2, { children: [(0, import_jsx_runtime90.jsx)($1bf158f521e1b1b4$export$8b251419efc915eb, Object.assign({ className: a18.ExpanderHeader, "data-testid": "expander-header" }, { children: (0, import_jsx_runtime90.jsxs)($1bf158f521e1b1b4$export$41fb9f06171c75f4, Object.assign({ "aria-controls": g14, className: a18.ExpanderTrigger, id: E4 }, { children: [b7, (0, import_jsx_runtime90.jsx)(o51, { "aria-hidden": true, className: a18.ExpanderIcon, "data-testid": "expander-icon" })] })) })), (0, import_jsx_runtime90.jsx)($1bf158f521e1b1b4$export$7c6e2c02157bb7d2, Object.assign({ "aria-labelledby": E4, className: a18.ExpanderContent, id: g14 }, { children: (0, import_jsx_runtime90.jsx)(a19, Object.assign({ className: a18.ExpanderContentText, testId: "expander-content-text" }, { children: h12 })) }))] }));
});
N4.displayName = "ExpanderItem";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Image/Image.js
var import_jsx_runtime91 = __toESM(require_jsx_runtime());
var a63 = __toESM(require_react());
var import_classnames58 = __toESM(require_classnames());
var t70 = a63.forwardRef((a82, t87) => {
  var { className: i67 } = a82, c22 = __rest6(a82, ["className"]);
  return (0, import_jsx_runtime91.jsx)(a19, Object.assign({ as: "img", ref: t87, className: (0, import_classnames58.default)(a18.Image, i67) }, c22));
});
t70.displayName = "Image";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Link/Link.js
var import_jsx_runtime92 = __toESM(require_jsx_runtime());
var o86 = __toESM(require_react());
var import_classnames59 = __toESM(require_classnames());
var n35 = o86.forwardRef((o101, n45) => {
  var { as: m29 = "a", children: l29, className: c22, isExternal: p17, to: f21 } = o101, d10 = __rest6(o101, ["as", "children", "className", "isExternal", "to"]);
  return o84({ shouldWarn: null != f21, message: "The Link component's to prop will soon be deprecated. Please see the Amplify UI documentation for using the Link component with routing libraries: https://ui.docs.amplify.aws/react/components/link#routing-libraries" }), (0, import_jsx_runtime92.jsx)(a19, Object.assign({ as: m29, className: (0, import_classnames59.default)(a18.Link, c22), ref: n45, rel: p17 ? "noopener noreferrer" : void 0, target: p17 ? "_blank" : void 0, to: f21 }, d10, { children: l29 }));
});
n35.displayName = "Link";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Menu/Menu.js
var import_jsx_runtime95 = __toESM(require_jsx_runtime());
var n37 = __toESM(require_react());
var import_classnames62 = __toESM(require_classnames());

// node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js
init_extends();
var import_react67 = __toESM(require_react());

// node_modules/@radix-ui/react-menu/dist/index.module.js
init_extends();
var import_react66 = __toESM(require_react());

// node_modules/@radix-ui/react-dismissable-layer/dist/index.module.js
init_extends();
var import_react55 = __toESM(require_react());

// node_modules/@radix-ui/react-use-escape-keydown/dist/index.module.js
var import_react54 = __toESM(require_react());
function $addc16e1bbe58fd0$export$3a72a57244d6e765(onEscapeKeyDownProp) {
  const onEscapeKeyDown = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onEscapeKeyDownProp);
  (0, import_react54.useEffect)(() => {
    const handleKeyDown = (event2) => {
      if (event2.key === "Escape")
        onEscapeKeyDown(event2);
    };
    document.addEventListener("keydown", handleKeyDown);
    return () => document.removeEventListener("keydown", handleKeyDown);
  }, [
    onEscapeKeyDown
  ]);
}

// node_modules/@radix-ui/react-dismissable-layer/dist/index.module.js
var $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME = "DismissableLayer";
var $5cb92bef7577960e$var$CONTEXT_UPDATE = "dismissableLayer.update";
var $5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE = "dismissableLayer.pointerDownOutside";
var $5cb92bef7577960e$var$FOCUS_OUTSIDE = "dismissableLayer.focusOutside";
var $5cb92bef7577960e$var$originalBodyPointerEvents;
var $5cb92bef7577960e$var$DismissableLayerContext = (0, import_react55.createContext)({
  layers: /* @__PURE__ */ new Set(),
  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),
  branches: /* @__PURE__ */ new Set()
});
var $5cb92bef7577960e$export$177fb62ff3ec1f22 = (0, import_react55.forwardRef)((props, forwardedRef) => {
  const { disableOutsidePointerEvents = false, onEscapeKeyDown, onPointerDownOutside, onFocusOutside, onInteractOutside, onDismiss, ...layerProps } = props;
  const context = (0, import_react55.useContext)($5cb92bef7577960e$var$DismissableLayerContext);
  const [node1, setNode] = (0, import_react55.useState)(null);
  const [, force] = (0, import_react55.useState)({});
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setNode(node)
  );
  const layers = Array.from(context.layers);
  const [highestLayerWithOutsidePointerEventsDisabled] = [
    ...context.layersWithOutsidePointerEventsDisabled
  ].slice(-1);
  const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);
  const index3 = node1 ? layers.indexOf(node1) : -1;
  const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;
  const isPointerEventsEnabled = index3 >= highestLayerWithOutsidePointerEventsDisabledIndex;
  const pointerDownOutside = $5cb92bef7577960e$var$usePointerDownOutside((event2) => {
    const target = event2.target;
    const isPointerDownOnBranch = [
      ...context.branches
    ].some(
      (branch) => branch.contains(target)
    );
    if (!isPointerEventsEnabled || isPointerDownOnBranch)
      return;
    onPointerDownOutside === null || onPointerDownOutside === void 0 || onPointerDownOutside(event2);
    onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event2);
    if (!event2.defaultPrevented)
      onDismiss === null || onDismiss === void 0 || onDismiss();
  });
  const focusOutside = $5cb92bef7577960e$var$useFocusOutside((event2) => {
    const target = event2.target;
    const isFocusInBranch = [
      ...context.branches
    ].some(
      (branch) => branch.contains(target)
    );
    if (isFocusInBranch)
      return;
    onFocusOutside === null || onFocusOutside === void 0 || onFocusOutside(event2);
    onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event2);
    if (!event2.defaultPrevented)
      onDismiss === null || onDismiss === void 0 || onDismiss();
  });
  $addc16e1bbe58fd0$export$3a72a57244d6e765((event2) => {
    const isHighestLayer = index3 === context.layers.size - 1;
    if (!isHighestLayer)
      return;
    onEscapeKeyDown === null || onEscapeKeyDown === void 0 || onEscapeKeyDown(event2);
    if (!event2.defaultPrevented && onDismiss) {
      event2.preventDefault();
      onDismiss();
    }
  });
  (0, import_react55.useEffect)(() => {
    if (!node1)
      return;
    if (disableOutsidePointerEvents) {
      if (context.layersWithOutsidePointerEventsDisabled.size === 0) {
        $5cb92bef7577960e$var$originalBodyPointerEvents = document.body.style.pointerEvents;
        document.body.style.pointerEvents = "none";
      }
      context.layersWithOutsidePointerEventsDisabled.add(node1);
    }
    context.layers.add(node1);
    $5cb92bef7577960e$var$dispatchUpdate();
    return () => {
      if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1)
        document.body.style.pointerEvents = $5cb92bef7577960e$var$originalBodyPointerEvents;
    };
  }, [
    node1,
    disableOutsidePointerEvents,
    context
  ]);
  (0, import_react55.useEffect)(() => {
    return () => {
      if (!node1)
        return;
      context.layers.delete(node1);
      context.layersWithOutsidePointerEventsDisabled.delete(node1);
      $5cb92bef7577960e$var$dispatchUpdate();
    };
  }, [
    node1,
    context
  ]);
  (0, import_react55.useEffect)(() => {
    const handleUpdate = () => force({});
    document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate);
    return () => document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate);
  }, []);
  return (0, import_react55.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, layerProps, {
    ref: composedRefs,
    style: {
      pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? "auto" : "none" : void 0,
      ...props.style
    },
    onFocusCapture: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onFocusCapture, focusOutside.onFocusCapture),
    onBlurCapture: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onBlurCapture, focusOutside.onBlurCapture),
    onPointerDownCapture: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerDownCapture, pointerDownOutside.onPointerDownCapture)
  }));
});
Object.assign($5cb92bef7577960e$export$177fb62ff3ec1f22, {
  displayName: $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME
});
var $5cb92bef7577960e$var$BRANCH_NAME = "DismissableLayerBranch";
var $5cb92bef7577960e$export$4d5eb2109db14228 = (0, import_react55.forwardRef)((props, forwardedRef) => {
  const context = (0, import_react55.useContext)($5cb92bef7577960e$var$DismissableLayerContext);
  const ref = (0, import_react55.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  (0, import_react55.useEffect)(() => {
    const node = ref.current;
    if (node) {
      context.branches.add(node);
      return () => {
        context.branches.delete(node);
      };
    }
  }, [
    context.branches
  ]);
  return (0, import_react55.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, props, {
    ref: composedRefs
  }));
});
Object.assign($5cb92bef7577960e$export$4d5eb2109db14228, {
  displayName: $5cb92bef7577960e$var$BRANCH_NAME
});
function $5cb92bef7577960e$var$usePointerDownOutside(onPointerDownOutside) {
  const handlePointerDownOutside = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onPointerDownOutside);
  const isPointerInsideReactTreeRef = (0, import_react55.useRef)(false);
  const handleClickRef = (0, import_react55.useRef)(() => {
  });
  (0, import_react55.useEffect)(() => {
    const handlePointerDown = (event2) => {
      if (event2.target && !isPointerInsideReactTreeRef.current) {
        let handleAndDispatchPointerDownOutsideEvent = function() {
          $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE, handlePointerDownOutside, eventDetail, {
            discrete: true
          });
        };
        const eventDetail = {
          originalEvent: event2
        };
        if (event2.pointerType === "touch") {
          document.removeEventListener("click", handleClickRef.current);
          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;
          document.addEventListener("click", handleClickRef.current, {
            once: true
          });
        } else
          handleAndDispatchPointerDownOutsideEvent();
      }
      isPointerInsideReactTreeRef.current = false;
    };
    const timerId = window.setTimeout(() => {
      document.addEventListener("pointerdown", handlePointerDown);
    }, 0);
    return () => {
      window.clearTimeout(timerId);
      document.removeEventListener("pointerdown", handlePointerDown);
      document.removeEventListener("click", handleClickRef.current);
    };
  }, [
    handlePointerDownOutside
  ]);
  return {
    onPointerDownCapture: () => isPointerInsideReactTreeRef.current = true
  };
}
function $5cb92bef7577960e$var$useFocusOutside(onFocusOutside) {
  const handleFocusOutside = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onFocusOutside);
  const isFocusInsideReactTreeRef = (0, import_react55.useRef)(false);
  (0, import_react55.useEffect)(() => {
    const handleFocus = (event2) => {
      if (event2.target && !isFocusInsideReactTreeRef.current) {
        const eventDetail = {
          originalEvent: event2
        };
        $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {
          discrete: false
        });
      }
    };
    document.addEventListener("focusin", handleFocus);
    return () => document.removeEventListener("focusin", handleFocus);
  }, [
    handleFocusOutside
  ]);
  return {
    onFocusCapture: () => isFocusInsideReactTreeRef.current = true,
    onBlurCapture: () => isFocusInsideReactTreeRef.current = false
  };
}
function $5cb92bef7577960e$var$dispatchUpdate() {
  const event2 = new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);
  document.dispatchEvent(event2);
}
function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {
  const target = detail.originalEvent.target;
  const event2 = new CustomEvent(name, {
    bubbles: false,
    cancelable: true,
    detail
  });
  if (handler)
    target.addEventListener(name, handler, {
      once: true
    });
  if (discrete)
    $8927f6f2acc4f386$export$6d1a0317bde7de7f(target, event2);
  else
    target.dispatchEvent(event2);
}

// node_modules/@radix-ui/react-focus-guards/dist/index.module.js
var import_react56 = __toESM(require_react());
var $3db38b7d1fb3fe6a$var$count = 0;
function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c() {
  (0, import_react56.useEffect)(() => {
    var _edgeGuards$, _edgeGuards$2;
    const edgeGuards = document.querySelectorAll("[data-radix-focus-guard]");
    document.body.insertAdjacentElement("afterbegin", (_edgeGuards$ = edgeGuards[0]) !== null && _edgeGuards$ !== void 0 ? _edgeGuards$ : $3db38b7d1fb3fe6a$var$createFocusGuard());
    document.body.insertAdjacentElement("beforeend", (_edgeGuards$2 = edgeGuards[1]) !== null && _edgeGuards$2 !== void 0 ? _edgeGuards$2 : $3db38b7d1fb3fe6a$var$createFocusGuard());
    $3db38b7d1fb3fe6a$var$count++;
    return () => {
      if ($3db38b7d1fb3fe6a$var$count === 1)
        document.querySelectorAll("[data-radix-focus-guard]").forEach(
          (node) => node.remove()
        );
      $3db38b7d1fb3fe6a$var$count--;
    };
  }, []);
}
function $3db38b7d1fb3fe6a$var$createFocusGuard() {
  const element = document.createElement("span");
  element.setAttribute("data-radix-focus-guard", "");
  element.tabIndex = 0;
  element.style.cssText = "outline: none; opacity: 0; position: fixed; pointer-events: none";
  return element;
}

// node_modules/@radix-ui/react-focus-scope/dist/index.module.js
init_extends();
var import_react57 = __toESM(require_react());
var $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT = "focusScope.autoFocusOnMount";
var $d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT = "focusScope.autoFocusOnUnmount";
var $d3863c46a17e8a28$var$EVENT_OPTIONS = {
  bubbles: false,
  cancelable: true
};
var $d3863c46a17e8a28$var$FOCUS_SCOPE_NAME = "FocusScope";
var $d3863c46a17e8a28$export$20e40289641fbbb6 = (0, import_react57.forwardRef)((props, forwardedRef) => {
  const { loop = false, trapped = false, onMountAutoFocus: onMountAutoFocusProp, onUnmountAutoFocus: onUnmountAutoFocusProp, ...scopeProps } = props;
  const [container1, setContainer] = (0, import_react57.useState)(null);
  const onMountAutoFocus = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onMountAutoFocusProp);
  const onUnmountAutoFocus = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onUnmountAutoFocusProp);
  const lastFocusedElementRef = (0, import_react57.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setContainer(node)
  );
  const focusScope = (0, import_react57.useRef)({
    paused: false,
    pause() {
      this.paused = true;
    },
    resume() {
      this.paused = false;
    }
  }).current;
  (0, import_react57.useEffect)(() => {
    if (trapped) {
      let handleFocusIn = function(event2) {
        if (focusScope.paused || !container1)
          return;
        const target = event2.target;
        if (container1.contains(target))
          lastFocusedElementRef.current = target;
        else
          $d3863c46a17e8a28$var$focus(lastFocusedElementRef.current, {
            select: true
          });
      }, handleFocusOut = function(event2) {
        if (focusScope.paused || !container1)
          return;
        if (!container1.contains(event2.relatedTarget))
          $d3863c46a17e8a28$var$focus(lastFocusedElementRef.current, {
            select: true
          });
      };
      document.addEventListener("focusin", handleFocusIn);
      document.addEventListener("focusout", handleFocusOut);
      return () => {
        document.removeEventListener("focusin", handleFocusIn);
        document.removeEventListener("focusout", handleFocusOut);
      };
    }
  }, [
    trapped,
    container1,
    focusScope.paused
  ]);
  (0, import_react57.useEffect)(() => {
    if (container1) {
      $d3863c46a17e8a28$var$focusScopesStack.add(focusScope);
      const previouslyFocusedElement = document.activeElement;
      const hasFocusedCandidate = container1.contains(previouslyFocusedElement);
      if (!hasFocusedCandidate) {
        const mountEvent = new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, $d3863c46a17e8a28$var$EVENT_OPTIONS);
        container1.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, onMountAutoFocus);
        container1.dispatchEvent(mountEvent);
        if (!mountEvent.defaultPrevented) {
          $d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(container1)), {
            select: true
          });
          if (document.activeElement === previouslyFocusedElement)
            $d3863c46a17e8a28$var$focus(container1);
        }
      }
      return () => {
        container1.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, onMountAutoFocus);
        setTimeout(() => {
          const unmountEvent = new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, $d3863c46a17e8a28$var$EVENT_OPTIONS);
          container1.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);
          container1.dispatchEvent(unmountEvent);
          if (!unmountEvent.defaultPrevented)
            $d3863c46a17e8a28$var$focus(previouslyFocusedElement !== null && previouslyFocusedElement !== void 0 ? previouslyFocusedElement : document.body, {
              select: true
            });
          container1.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);
          $d3863c46a17e8a28$var$focusScopesStack.remove(focusScope);
        }, 0);
      };
    }
  }, [
    container1,
    onMountAutoFocus,
    onUnmountAutoFocus,
    focusScope
  ]);
  const handleKeyDown = (0, import_react57.useCallback)((event2) => {
    if (!loop && !trapped)
      return;
    if (focusScope.paused)
      return;
    const isTabKey = event2.key === "Tab" && !event2.altKey && !event2.ctrlKey && !event2.metaKey;
    const focusedElement = document.activeElement;
    if (isTabKey && focusedElement) {
      const container = event2.currentTarget;
      const [first, last] = $d3863c46a17e8a28$var$getTabbableEdges(container);
      const hasTabbableElementsInside = first && last;
      if (!hasTabbableElementsInside) {
        if (focusedElement === container)
          event2.preventDefault();
      } else {
        if (!event2.shiftKey && focusedElement === last) {
          event2.preventDefault();
          if (loop)
            $d3863c46a17e8a28$var$focus(first, {
              select: true
            });
        } else if (event2.shiftKey && focusedElement === first) {
          event2.preventDefault();
          if (loop)
            $d3863c46a17e8a28$var$focus(last, {
              select: true
            });
        }
      }
    }
  }, [
    loop,
    trapped,
    focusScope.paused
  ]);
  return (0, import_react57.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    tabIndex: -1
  }, scopeProps, {
    ref: composedRefs,
    onKeyDown: handleKeyDown
  }));
});
Object.assign($d3863c46a17e8a28$export$20e40289641fbbb6, {
  displayName: $d3863c46a17e8a28$var$FOCUS_SCOPE_NAME
});
function $d3863c46a17e8a28$var$focusFirst(candidates, { select = false } = {}) {
  const previouslyFocusedElement = document.activeElement;
  for (const candidate of candidates) {
    $d3863c46a17e8a28$var$focus(candidate, {
      select
    });
    if (document.activeElement !== previouslyFocusedElement)
      return;
  }
}
function $d3863c46a17e8a28$var$getTabbableEdges(container) {
  const candidates = $d3863c46a17e8a28$var$getTabbableCandidates(container);
  const first = $d3863c46a17e8a28$var$findVisible(candidates, container);
  const last = $d3863c46a17e8a28$var$findVisible(candidates.reverse(), container);
  return [
    first,
    last
  ];
}
function $d3863c46a17e8a28$var$getTabbableCandidates(container) {
  const nodes = [];
  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (node) => {
      const isHiddenInput = node.tagName === "INPUT" && node.type === "hidden";
      if (node.disabled || node.hidden || isHiddenInput)
        return NodeFilter.FILTER_SKIP;
      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  while (walker.nextNode())
    nodes.push(walker.currentNode);
  return nodes;
}
function $d3863c46a17e8a28$var$findVisible(elements, container) {
  for (const element of elements) {
    if (!$d3863c46a17e8a28$var$isHidden(element, {
      upTo: container
    }))
      return element;
  }
}
function $d3863c46a17e8a28$var$isHidden(node, { upTo }) {
  if (getComputedStyle(node).visibility === "hidden")
    return true;
  while (node) {
    if (upTo !== void 0 && node === upTo)
      return false;
    if (getComputedStyle(node).display === "none")
      return true;
    node = node.parentElement;
  }
  return false;
}
function $d3863c46a17e8a28$var$isSelectableInput(element) {
  return element instanceof HTMLInputElement && "select" in element;
}
function $d3863c46a17e8a28$var$focus(element, { select = false } = {}) {
  if (element && element.focus) {
    const previouslyFocusedElement = document.activeElement;
    element.focus({
      preventScroll: true
    });
    if (element !== previouslyFocusedElement && $d3863c46a17e8a28$var$isSelectableInput(element) && select)
      element.select();
  }
}
var $d3863c46a17e8a28$var$focusScopesStack = $d3863c46a17e8a28$var$createFocusScopesStack();
function $d3863c46a17e8a28$var$createFocusScopesStack() {
  let stack = [];
  return {
    add(focusScope) {
      const activeFocusScope = stack[0];
      if (focusScope !== activeFocusScope)
        activeFocusScope === null || activeFocusScope === void 0 || activeFocusScope.pause();
      stack = $d3863c46a17e8a28$var$arrayRemove(stack, focusScope);
      stack.unshift(focusScope);
    },
    remove(focusScope) {
      var _stack$;
      stack = $d3863c46a17e8a28$var$arrayRemove(stack, focusScope);
      (_stack$ = stack[0]) === null || _stack$ === void 0 || _stack$.resume();
    }
  };
}
function $d3863c46a17e8a28$var$arrayRemove(array, item) {
  const updatedArray = [
    ...array
  ];
  const index3 = updatedArray.indexOf(item);
  if (index3 !== -1)
    updatedArray.splice(index3, 1);
  return updatedArray;
}
function $d3863c46a17e8a28$var$removeLinks(items) {
  return items.filter(
    (item) => item.tagName !== "A"
  );
}

// node_modules/@radix-ui/react-popper/dist/index.module.js
init_extends();
var import_react61 = __toESM(require_react());

// node_modules/@floating-ui/core/dist/floating-ui.core.esm.js
function getSide(placement) {
  return placement.split("-")[0];
}
function getAlignment(placement) {
  return placement.split("-")[1];
}
function getMainAxisFromPlacement(placement) {
  return ["top", "bottom"].includes(getSide(placement)) ? "x" : "y";
}
function getLengthFromAxis(axis) {
  return axis === "y" ? "height" : "width";
}
function computeCoordsFromPlacement(_ref, placement, rtl) {
  let {
    reference,
    floating
  } = _ref;
  const commonX = reference.x + reference.width / 2 - floating.width / 2;
  const commonY = reference.y + reference.height / 2 - floating.height / 2;
  const mainAxis = getMainAxisFromPlacement(placement);
  const length2 = getLengthFromAxis(mainAxis);
  const commonAlign = reference[length2] / 2 - floating[length2] / 2;
  const side = getSide(placement);
  const isVertical = mainAxis === "x";
  let coords;
  switch (side) {
    case "top":
      coords = {
        x: commonX,
        y: reference.y - floating.height
      };
      break;
    case "bottom":
      coords = {
        x: commonX,
        y: reference.y + reference.height
      };
      break;
    case "right":
      coords = {
        x: reference.x + reference.width,
        y: commonY
      };
      break;
    case "left":
      coords = {
        x: reference.x - floating.width,
        y: commonY
      };
      break;
    default:
      coords = {
        x: reference.x,
        y: reference.y
      };
  }
  switch (getAlignment(placement)) {
    case "start":
      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
      break;
    case "end":
      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
      break;
  }
  return coords;
}
var computePosition = async (reference, floating, config) => {
  const {
    placement = "bottom",
    strategy = "absolute",
    middleware = [],
    platform: platform2
  } = config;
  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
  if (true) {
    if (platform2 == null) {
      console.error(["Floating UI: `platform` property was not passed to config. If you", "want to use Floating UI on the web, install @floating-ui/dom", "instead of the /core package. Otherwise, you can create your own", "`platform`: https://floating-ui.com/docs/platform"].join(" "));
    }
    if (middleware.filter((_ref) => {
      let {
        name
      } = _ref;
      return name === "autoPlacement" || name === "flip";
    }).length > 1) {
      throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`", "middleware detected. This will lead to an infinite loop. Ensure only", "one of either has been passed to the `middleware` array."].join(" "));
    }
  }
  let rects = await platform2.getElementRects({
    reference,
    floating,
    strategy
  });
  let {
    x: x5,
    y: y9
  } = computeCoordsFromPlacement(rects, placement, rtl);
  let statefulPlacement = placement;
  let middlewareData = {};
  let resetCount = 0;
  for (let i67 = 0; i67 < middleware.length; i67++) {
    const {
      name,
      fn
    } = middleware[i67];
    const {
      x: nextX,
      y: nextY,
      data,
      reset
    } = await fn({
      x: x5,
      y: y9,
      initialPlacement: placement,
      placement: statefulPlacement,
      strategy,
      middlewareData,
      rects,
      platform: platform2,
      elements: {
        reference,
        floating
      }
    });
    x5 = nextX != null ? nextX : x5;
    y9 = nextY != null ? nextY : y9;
    middlewareData = {
      ...middlewareData,
      [name]: {
        ...middlewareData[name],
        ...data
      }
    };
    if (true) {
      if (resetCount > 50) {
        console.warn(["Floating UI: The middleware lifecycle appears to be running in an", "infinite loop. This is usually caused by a `reset` continually", "being returned without a break condition."].join(" "));
      }
    }
    if (reset && resetCount <= 50) {
      resetCount++;
      if (typeof reset === "object") {
        if (reset.placement) {
          statefulPlacement = reset.placement;
        }
        if (reset.rects) {
          rects = reset.rects === true ? await platform2.getElementRects({
            reference,
            floating,
            strategy
          }) : reset.rects;
        }
        ({
          x: x5,
          y: y9
        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
      }
      i67 = -1;
      continue;
    }
  }
  return {
    x: x5,
    y: y9,
    placement: statefulPlacement,
    strategy,
    middlewareData
  };
};
function expandPaddingObject(padding) {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...padding
  };
}
function getSideObjectFromPadding(padding) {
  return typeof padding !== "number" ? expandPaddingObject(padding) : {
    top: padding,
    right: padding,
    bottom: padding,
    left: padding
  };
}
function rectToClientRect(rect) {
  return {
    ...rect,
    top: rect.y,
    left: rect.x,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  };
}
async function detectOverflow(middlewareArguments, options) {
  var _await$platform$isEle;
  if (options === void 0) {
    options = {};
  }
  const {
    x: x5,
    y: y9,
    platform: platform2,
    rects,
    elements,
    strategy
  } = middlewareArguments;
  const {
    boundary = "clippingAncestors",
    rootBoundary = "viewport",
    elementContext = "floating",
    altBoundary = false,
    padding = 0
  } = options;
  const paddingObject = getSideObjectFromPadding(padding);
  const altContext = elementContext === "floating" ? "reference" : "floating";
  const element = elements[altBoundary ? altContext : elementContext];
  const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
    element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
    boundary,
    rootBoundary,
    strategy
  }));
  const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
    rect: elementContext === "floating" ? {
      ...rects.floating,
      x: x5,
      y: y9
    } : rects.reference,
    offsetParent: await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating)),
    strategy
  }) : rects[elementContext]);
  return {
    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
    right: elementClientRect.right - clippingClientRect.right + paddingObject.right
  };
}
var min = Math.min;
var max = Math.max;
function within(min$1, value, max$1) {
  return max(min$1, min(value, max$1));
}
var arrow = (options) => ({
  name: "arrow",
  options,
  async fn(middlewareArguments) {
    const {
      element,
      padding = 0
    } = options != null ? options : {};
    const {
      x: x5,
      y: y9,
      placement,
      rects,
      platform: platform2
    } = middlewareArguments;
    if (element == null) {
      if (true) {
        console.warn("Floating UI: No `element` was passed to the `arrow` middleware.");
      }
      return {};
    }
    const paddingObject = getSideObjectFromPadding(padding);
    const coords = {
      x: x5,
      y: y9
    };
    const axis = getMainAxisFromPlacement(placement);
    const alignment = getAlignment(placement);
    const length2 = getLengthFromAxis(axis);
    const arrowDimensions = await platform2.getDimensions(element);
    const minProp = axis === "y" ? "top" : "left";
    const maxProp = axis === "y" ? "bottom" : "right";
    const endDiff = rects.reference[length2] + rects.reference[axis] - coords[axis] - rects.floating[length2];
    const startDiff = coords[axis] - rects.reference[axis];
    const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
    let clientSize = arrowOffsetParent ? axis === "y" ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
    if (clientSize === 0) {
      clientSize = rects.floating[length2];
    }
    const centerToReference = endDiff / 2 - startDiff / 2;
    const min3 = paddingObject[minProp];
    const max3 = clientSize - arrowDimensions[length2] - paddingObject[maxProp];
    const center = clientSize / 2 - arrowDimensions[length2] / 2 + centerToReference;
    const offset2 = within(min3, center, max3);
    const alignmentPadding = alignment === "start" ? paddingObject[minProp] : paddingObject[maxProp];
    const shouldAddOffset = alignmentPadding > 0 && center !== offset2 && rects.reference[length2] <= rects.floating[length2];
    const alignmentOffset = shouldAddOffset ? center < min3 ? min3 - center : max3 - center : 0;
    return {
      [axis]: coords[axis] - alignmentOffset,
      data: {
        [axis]: offset2,
        centerOffset: center - offset2
      }
    };
  }
});
var hash$1 = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, (matched) => hash$1[matched]);
}
function getAlignmentSides(placement, rects, rtl) {
  if (rtl === void 0) {
    rtl = false;
  }
  const alignment = getAlignment(placement);
  const mainAxis = getMainAxisFromPlacement(placement);
  const length2 = getLengthFromAxis(mainAxis);
  let mainAlignmentSide = mainAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
  if (rects.reference[length2] > rects.floating[length2]) {
    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
  }
  return {
    main: mainAlignmentSide,
    cross: getOppositePlacement(mainAlignmentSide)
  };
}
var hash = {
  start: "end",
  end: "start"
};
function getOppositeAlignmentPlacement(placement) {
  return placement.replace(/start|end/g, (matched) => hash[matched]);
}
var sides = ["top", "right", "bottom", "left"];
var allPlacements = sides.reduce((acc, side) => acc.concat(side, side + "-start", side + "-end"), []);
function getExpandedPlacements(placement) {
  const oppositePlacement = getOppositePlacement(placement);
  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
}
var flip = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: "flip",
    options,
    async fn(middlewareArguments) {
      var _middlewareData$flip;
      const {
        placement,
        middlewareData,
        rects,
        initialPlacement,
        platform: platform2,
        elements
      } = middlewareArguments;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = true,
        fallbackPlacements: specifiedFallbackPlacements,
        fallbackStrategy = "bestFit",
        flipAlignment = true,
        ...detectOverflowOptions
      } = options;
      const side = getSide(placement);
      const isBasePlacement = side === initialPlacement;
      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
      const placements = [initialPlacement, ...fallbackPlacements];
      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);
      const overflows = [];
      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
      if (checkMainAxis) {
        overflows.push(overflow[side]);
      }
      if (checkCrossAxis) {
        const {
          main,
          cross
        } = getAlignmentSides(placement, rects, await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)));
        overflows.push(overflow[main], overflow[cross]);
      }
      overflowsData = [...overflowsData, {
        placement,
        overflows
      }];
      if (!overflows.every((side2) => side2 <= 0)) {
        var _middlewareData$flip$, _middlewareData$flip2;
        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;
        const nextPlacement = placements[nextIndex];
        if (nextPlacement) {
          return {
            data: {
              index: nextIndex,
              overflows: overflowsData
            },
            reset: {
              placement: nextPlacement
            }
          };
        }
        let resetPlacement = "bottom";
        switch (fallbackStrategy) {
          case "bestFit": {
            var _overflowsData$map$so;
            const placement2 = (_overflowsData$map$so = overflowsData.map((d10) => [d10, d10.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a82, b7) => a82[1] - b7[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;
            if (placement2) {
              resetPlacement = placement2;
            }
            break;
          }
          case "initialPlacement":
            resetPlacement = initialPlacement;
            break;
        }
        if (placement !== resetPlacement) {
          return {
            reset: {
              placement: resetPlacement
            }
          };
        }
      }
      return {};
    }
  };
};
function getSideOffsets(overflow, rect) {
  return {
    top: overflow.top - rect.height,
    right: overflow.right - rect.width,
    bottom: overflow.bottom - rect.height,
    left: overflow.left - rect.width
  };
}
function isAnySideFullyClipped(overflow) {
  return sides.some((side) => overflow[side] >= 0);
}
var hide = function(_temp) {
  let {
    strategy = "referenceHidden",
    ...detectOverflowOptions
  } = _temp === void 0 ? {} : _temp;
  return {
    name: "hide",
    async fn(middlewareArguments) {
      const {
        rects
      } = middlewareArguments;
      switch (strategy) {
        case "referenceHidden": {
          const overflow = await detectOverflow(middlewareArguments, {
            ...detectOverflowOptions,
            elementContext: "reference"
          });
          const offsets = getSideOffsets(overflow, rects.reference);
          return {
            data: {
              referenceHiddenOffsets: offsets,
              referenceHidden: isAnySideFullyClipped(offsets)
            }
          };
        }
        case "escaped": {
          const overflow = await detectOverflow(middlewareArguments, {
            ...detectOverflowOptions,
            altBoundary: true
          });
          const offsets = getSideOffsets(overflow, rects.floating);
          return {
            data: {
              escapedOffsets: offsets,
              escaped: isAnySideFullyClipped(offsets)
            }
          };
        }
        default: {
          return {};
        }
      }
    }
  };
};
async function convertValueToCoords(middlewareArguments, value) {
  const {
    placement,
    platform: platform2,
    elements
  } = middlewareArguments;
  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
  const side = getSide(placement);
  const alignment = getAlignment(placement);
  const isVertical = getMainAxisFromPlacement(placement) === "x";
  const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
  const crossAxisMulti = rtl && isVertical ? -1 : 1;
  const rawValue = typeof value === "function" ? value(middlewareArguments) : value;
  let {
    mainAxis,
    crossAxis,
    alignmentAxis
  } = typeof rawValue === "number" ? {
    mainAxis: rawValue,
    crossAxis: 0,
    alignmentAxis: null
  } : {
    mainAxis: 0,
    crossAxis: 0,
    alignmentAxis: null,
    ...rawValue
  };
  if (alignment && typeof alignmentAxis === "number") {
    crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
  }
  return isVertical ? {
    x: crossAxis * crossAxisMulti,
    y: mainAxis * mainAxisMulti
  } : {
    x: mainAxis * mainAxisMulti,
    y: crossAxis * crossAxisMulti
  };
}
var offset = function(value) {
  if (value === void 0) {
    value = 0;
  }
  return {
    name: "offset",
    options: value,
    async fn(middlewareArguments) {
      const {
        x: x5,
        y: y9
      } = middlewareArguments;
      const diffCoords = await convertValueToCoords(middlewareArguments, value);
      return {
        x: x5 + diffCoords.x,
        y: y9 + diffCoords.y,
        data: diffCoords
      };
    }
  };
};
function getCrossAxis(axis) {
  return axis === "x" ? "y" : "x";
}
var shift = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: "shift",
    options,
    async fn(middlewareArguments) {
      const {
        x: x5,
        y: y9,
        placement
      } = middlewareArguments;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = false,
        limiter = {
          fn: (_ref) => {
            let {
              x: x6,
              y: y10
            } = _ref;
            return {
              x: x6,
              y: y10
            };
          }
        },
        ...detectOverflowOptions
      } = options;
      const coords = {
        x: x5,
        y: y9
      };
      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);
      const mainAxis = getMainAxisFromPlacement(getSide(placement));
      const crossAxis = getCrossAxis(mainAxis);
      let mainAxisCoord = coords[mainAxis];
      let crossAxisCoord = coords[crossAxis];
      if (checkMainAxis) {
        const minSide = mainAxis === "y" ? "top" : "left";
        const maxSide = mainAxis === "y" ? "bottom" : "right";
        const min3 = mainAxisCoord + overflow[minSide];
        const max3 = mainAxisCoord - overflow[maxSide];
        mainAxisCoord = within(min3, mainAxisCoord, max3);
      }
      if (checkCrossAxis) {
        const minSide = crossAxis === "y" ? "top" : "left";
        const maxSide = crossAxis === "y" ? "bottom" : "right";
        const min3 = crossAxisCoord + overflow[minSide];
        const max3 = crossAxisCoord - overflow[maxSide];
        crossAxisCoord = within(min3, crossAxisCoord, max3);
      }
      const limitedCoords = limiter.fn({
        ...middlewareArguments,
        [mainAxis]: mainAxisCoord,
        [crossAxis]: crossAxisCoord
      });
      return {
        ...limitedCoords,
        data: {
          x: limitedCoords.x - x5,
          y: limitedCoords.y - y9
        }
      };
    }
  };
};
var limitShift = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    options,
    fn(middlewareArguments) {
      const {
        x: x5,
        y: y9,
        placement,
        rects,
        middlewareData
      } = middlewareArguments;
      const {
        offset: offset2 = 0,
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = true
      } = options;
      const coords = {
        x: x5,
        y: y9
      };
      const mainAxis = getMainAxisFromPlacement(placement);
      const crossAxis = getCrossAxis(mainAxis);
      let mainAxisCoord = coords[mainAxis];
      let crossAxisCoord = coords[crossAxis];
      const rawOffset = typeof offset2 === "function" ? offset2({
        ...rects,
        placement
      }) : offset2;
      const computedOffset = typeof rawOffset === "number" ? {
        mainAxis: rawOffset,
        crossAxis: 0
      } : {
        mainAxis: 0,
        crossAxis: 0,
        ...rawOffset
      };
      if (checkMainAxis) {
        const len = mainAxis === "y" ? "height" : "width";
        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;
        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;
        if (mainAxisCoord < limitMin) {
          mainAxisCoord = limitMin;
        } else if (mainAxisCoord > limitMax) {
          mainAxisCoord = limitMax;
        }
      }
      if (checkCrossAxis) {
        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;
        const len = mainAxis === "y" ? "width" : "height";
        const isOriginSide = ["top", "left"].includes(getSide(placement));
        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);
        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);
        if (crossAxisCoord < limitMin) {
          crossAxisCoord = limitMin;
        } else if (crossAxisCoord > limitMax) {
          crossAxisCoord = limitMax;
        }
      }
      return {
        [mainAxis]: mainAxisCoord,
        [crossAxis]: crossAxisCoord
      };
    }
  };
};

// node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js
function isWindow(value) {
  return value && value.document && value.location && value.alert && value.setInterval;
}
function getWindow(node) {
  if (node == null) {
    return window;
  }
  if (!isWindow(node)) {
    const ownerDocument = node.ownerDocument;
    return ownerDocument ? ownerDocument.defaultView || window : window;
  }
  return node;
}
function getComputedStyle$1(element) {
  return getWindow(element).getComputedStyle(element);
}
function getNodeName(node) {
  return isWindow(node) ? "" : node ? (node.nodeName || "").toLowerCase() : "";
}
function getUAString() {
  const uaData = navigator.userAgentData;
  if (uaData != null && uaData.brands) {
    return uaData.brands.map((item) => item.brand + "/" + item.version).join(" ");
  }
  return navigator.userAgent;
}
function isHTMLElement(value) {
  return value instanceof getWindow(value).HTMLElement;
}
function isElement(value) {
  return value instanceof getWindow(value).Element;
}
function isNode(value) {
  return value instanceof getWindow(value).Node;
}
function isShadowRoot(node) {
  if (typeof ShadowRoot === "undefined") {
    return false;
  }
  const OwnElement = getWindow(node).ShadowRoot;
  return node instanceof OwnElement || node instanceof ShadowRoot;
}
function isOverflowElement(element) {
  const {
    overflow,
    overflowX,
    overflowY
  } = getComputedStyle$1(element);
  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
}
function isTableElement(element) {
  return ["table", "td", "th"].includes(getNodeName(element));
}
function isContainingBlock(element) {
  const isFirefox = /firefox/i.test(getUAString());
  const css = getComputedStyle$1(element);
  return css.transform !== "none" || css.perspective !== "none" || css.contain === "paint" || ["transform", "perspective"].includes(css.willChange) || isFirefox && css.willChange === "filter" || isFirefox && (css.filter ? css.filter !== "none" : false);
}
function isLayoutViewport() {
  return !/^((?!chrome|android).)*safari/i.test(getUAString());
}
var min2 = Math.min;
var max2 = Math.max;
var round = Math.round;
function getBoundingClientRect(element, includeScale, isFixedStrategy) {
  var _win$visualViewport$o, _win$visualViewport, _win$visualViewport$o2, _win$visualViewport2;
  if (includeScale === void 0) {
    includeScale = false;
  }
  if (isFixedStrategy === void 0) {
    isFixedStrategy = false;
  }
  const clientRect = element.getBoundingClientRect();
  let scaleX = 1;
  let scaleY = 1;
  if (includeScale && isHTMLElement(element)) {
    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;
    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;
  }
  const win = isElement(element) ? getWindow(element) : window;
  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;
  const x5 = (clientRect.left + (addVisualOffsets ? (_win$visualViewport$o = (_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) != null ? _win$visualViewport$o : 0 : 0)) / scaleX;
  const y9 = (clientRect.top + (addVisualOffsets ? (_win$visualViewport$o2 = (_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) != null ? _win$visualViewport$o2 : 0 : 0)) / scaleY;
  const width = clientRect.width / scaleX;
  const height = clientRect.height / scaleY;
  return {
    width,
    height,
    top: y9,
    right: x5 + width,
    bottom: y9 + height,
    left: x5,
    x: x5,
    y: y9
  };
}
function getDocumentElement(node) {
  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;
}
function getNodeScroll(element) {
  if (isElement(element)) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }
  return {
    scrollLeft: element.pageXOffset,
    scrollTop: element.pageYOffset
  };
}
function getWindowScrollBarX(element) {
  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
}
function isScaled(element) {
  const rect = getBoundingClientRect(element);
  return round(rect.width) !== element.offsetWidth || round(rect.height) !== element.offsetHeight;
}
function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  const documentElement = getDocumentElement(offsetParent);
  const rect = getBoundingClientRect(
    element,
    isOffsetParentAnElement && isScaled(offsetParent),
    strategy === "fixed"
  );
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const offsets = {
    x: 0,
    y: 0
  };
  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== "fixed") {
    if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      const offsetRect = getBoundingClientRect(offsetParent, true);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = getWindowScrollBarX(documentElement);
    }
  }
  return {
    x: rect.left + scroll.scrollLeft - offsets.x,
    y: rect.top + scroll.scrollTop - offsets.y,
    width: rect.width,
    height: rect.height
  };
}
function getParentNode(node) {
  if (getNodeName(node) === "html") {
    return node;
  }
  return node.assignedSlot || node.parentNode || (isShadowRoot(node) ? node.host : null) || getDocumentElement(node);
}
function getTrueOffsetParent(element) {
  if (!isHTMLElement(element) || getComputedStyle(element).position === "fixed") {
    return null;
  }
  return element.offsetParent;
}
function getContainingBlock(element) {
  let currentNode = getParentNode(element);
  if (isShadowRoot(currentNode)) {
    currentNode = currentNode.host;
  }
  while (isHTMLElement(currentNode) && !["html", "body"].includes(getNodeName(currentNode))) {
    if (isContainingBlock(currentNode)) {
      return currentNode;
    } else {
      currentNode = currentNode.parentNode;
    }
  }
  return null;
}
function getOffsetParent(element) {
  const window2 = getWindow(element);
  let offsetParent = getTrueOffsetParent(element);
  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === "static") {
    offsetParent = getTrueOffsetParent(offsetParent);
  }
  if (offsetParent && (getNodeName(offsetParent) === "html" || getNodeName(offsetParent) === "body" && getComputedStyle(offsetParent).position === "static" && !isContainingBlock(offsetParent))) {
    return window2;
  }
  return offsetParent || getContainingBlock(element) || window2;
}
function getDimensions(element) {
  if (isHTMLElement(element)) {
    return {
      width: element.offsetWidth,
      height: element.offsetHeight
    };
  }
  const rect = getBoundingClientRect(element);
  return {
    width: rect.width,
    height: rect.height
  };
}
function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
  let {
    rect,
    offsetParent,
    strategy
  } = _ref;
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  const documentElement = getDocumentElement(offsetParent);
  if (offsetParent === documentElement) {
    return rect;
  }
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const offsets = {
    x: 0,
    y: 0
  };
  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== "fixed") {
    if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      const offsetRect = getBoundingClientRect(offsetParent, true);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    }
  }
  return {
    ...rect,
    x: rect.x - scroll.scrollLeft + offsets.x,
    y: rect.y - scroll.scrollTop + offsets.y
  };
}
function getViewportRect(element, strategy) {
  const win = getWindow(element);
  const html = getDocumentElement(element);
  const visualViewport = win.visualViewport;
  let width = html.clientWidth;
  let height = html.clientHeight;
  let x5 = 0;
  let y9 = 0;
  if (visualViewport) {
    width = visualViewport.width;
    height = visualViewport.height;
    const layoutViewport = isLayoutViewport();
    if (layoutViewport || !layoutViewport && strategy === "fixed") {
      x5 = visualViewport.offsetLeft;
      y9 = visualViewport.offsetTop;
    }
  }
  return {
    width,
    height,
    x: x5,
    y: y9
  };
}
function getDocumentRect(element) {
  var _element$ownerDocumen;
  const html = getDocumentElement(element);
  const scroll = getNodeScroll(element);
  const body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;
  const width = max2(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
  const height = max2(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
  let x5 = -scroll.scrollLeft + getWindowScrollBarX(element);
  const y9 = -scroll.scrollTop;
  if (getComputedStyle$1(body || html).direction === "rtl") {
    x5 += max2(html.clientWidth, body ? body.clientWidth : 0) - width;
  }
  return {
    width,
    height,
    x: x5,
    y: y9
  };
}
function getNearestOverflowAncestor(node) {
  const parentNode = getParentNode(node);
  if (["html", "body", "#document"].includes(getNodeName(parentNode))) {
    return node.ownerDocument.body;
  }
  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
    return parentNode;
  }
  return getNearestOverflowAncestor(parentNode);
}
function getOverflowAncestors(node, list) {
  var _node$ownerDocument;
  if (list === void 0) {
    list = [];
  }
  const scrollableAncestor = getNearestOverflowAncestor(node);
  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);
  const win = getWindow(scrollableAncestor);
  const target = isBody ? [win].concat(win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []) : scrollableAncestor;
  const updatedList = list.concat(target);
  return isBody ? updatedList : updatedList.concat(getOverflowAncestors(target));
}
function contains(parent, child) {
  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();
  if (parent.contains(child)) {
    return true;
  } else if (rootNode && isShadowRoot(rootNode)) {
    let next = child;
    do {
      if (next && parent === next) {
        return true;
      }
      next = next.parentNode || next.host;
    } while (next);
  }
  return false;
}
function getInnerBoundingClientRect(element, strategy) {
  const clientRect = getBoundingClientRect(element, false, strategy === "fixed");
  const top = clientRect.top + element.clientTop;
  const left = clientRect.left + element.clientLeft;
  return {
    top,
    left,
    x: left,
    y: top,
    right: left + element.clientWidth,
    bottom: top + element.clientHeight,
    width: element.clientWidth,
    height: element.clientHeight
  };
}
function getClientRectFromClippingAncestor(element, clippingParent, strategy) {
  if (clippingParent === "viewport") {
    return rectToClientRect(getViewportRect(element, strategy));
  }
  if (isElement(clippingParent)) {
    return getInnerBoundingClientRect(clippingParent, strategy);
  }
  return rectToClientRect(getDocumentRect(getDocumentElement(element)));
}
function getClippingAncestors(element) {
  const clippingAncestors = getOverflowAncestors(element);
  const canEscapeClipping = ["absolute", "fixed"].includes(getComputedStyle$1(element).position);
  const clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;
  if (!isElement(clipperElement)) {
    return [];
  }
  return clippingAncestors.filter((clippingAncestors2) => isElement(clippingAncestors2) && contains(clippingAncestors2, clipperElement) && getNodeName(clippingAncestors2) !== "body");
}
function getClippingRect(_ref) {
  let {
    element,
    boundary,
    rootBoundary,
    strategy
  } = _ref;
  const mainClippingAncestors = boundary === "clippingAncestors" ? getClippingAncestors(element) : [].concat(boundary);
  const clippingAncestors = [...mainClippingAncestors, rootBoundary];
  const firstClippingAncestor = clippingAncestors[0];
  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
    accRect.top = max2(rect.top, accRect.top);
    accRect.right = min2(rect.right, accRect.right);
    accRect.bottom = min2(rect.bottom, accRect.bottom);
    accRect.left = max2(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
  return {
    width: clippingRect.right - clippingRect.left,
    height: clippingRect.bottom - clippingRect.top,
    x: clippingRect.left,
    y: clippingRect.top
  };
}
var platform = {
  getClippingRect,
  convertOffsetParentRelativeRectToViewportRelativeRect,
  isElement,
  getDimensions,
  getOffsetParent,
  getDocumentElement,
  getElementRects: (_ref) => {
    let {
      reference,
      floating,
      strategy
    } = _ref;
    return {
      reference: getRectRelativeToOffsetParent(reference, getOffsetParent(floating), strategy),
      floating: {
        ...getDimensions(floating),
        x: 0,
        y: 0
      }
    };
  },
  getClientRects: (element) => Array.from(element.getClientRects()),
  isRTL: (element) => getComputedStyle$1(element).direction === "rtl"
};
function autoUpdate(reference, floating, update2, options) {
  if (options === void 0) {
    options = {};
  }
  const {
    ancestorScroll: _ancestorScroll = true,
    ancestorResize: _ancestorResize = true,
    elementResize = true,
    animationFrame = false
  } = options;
  const ancestorScroll = _ancestorScroll && !animationFrame;
  const ancestorResize = _ancestorResize && !animationFrame;
  const ancestors = ancestorScroll || ancestorResize ? [...isElement(reference) ? getOverflowAncestors(reference) : [], ...getOverflowAncestors(floating)] : [];
  ancestors.forEach((ancestor) => {
    ancestorScroll && ancestor.addEventListener("scroll", update2, {
      passive: true
    });
    ancestorResize && ancestor.addEventListener("resize", update2);
  });
  let observer = null;
  if (elementResize) {
    let initialUpdate = true;
    observer = new ResizeObserver(() => {
      if (!initialUpdate) {
        update2();
      }
      initialUpdate = false;
    });
    isElement(reference) && !animationFrame && observer.observe(reference);
    observer.observe(floating);
  }
  let frameId;
  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
  if (animationFrame) {
    frameLoop();
  }
  function frameLoop() {
    const nextRefRect = getBoundingClientRect(reference);
    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
      update2();
    }
    prevRefRect = nextRefRect;
    frameId = requestAnimationFrame(frameLoop);
  }
  update2();
  return () => {
    var _observer;
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.removeEventListener("scroll", update2);
      ancestorResize && ancestor.removeEventListener("resize", update2);
    });
    (_observer = observer) == null ? void 0 : _observer.disconnect();
    observer = null;
    if (animationFrame) {
      cancelAnimationFrame(frameId);
    }
  };
}
var computePosition2 = (reference, floating, options) => computePosition(reference, floating, {
  platform,
  ...options
});

// node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js
var React15 = __toESM(require_react());
var import_react58 = __toESM(require_react());
var ReactDOM = __toESM(require_react_dom());
var index2 = typeof document !== "undefined" ? import_react58.useLayoutEffect : import_react58.useEffect;
function deepEqual2(a82, b7) {
  if (a82 === b7) {
    return true;
  }
  if (typeof a82 !== typeof b7) {
    return false;
  }
  if (typeof a82 === "function" && a82.toString() === b7.toString()) {
    return true;
  }
  let length2, i67, keys;
  if (a82 && b7 && typeof a82 == "object") {
    if (Array.isArray(a82)) {
      length2 = a82.length;
      if (length2 != b7.length)
        return false;
      for (i67 = length2; i67-- !== 0; ) {
        if (!deepEqual2(a82[i67], b7[i67])) {
          return false;
        }
      }
      return true;
    }
    keys = Object.keys(a82);
    length2 = keys.length;
    if (length2 !== Object.keys(b7).length) {
      return false;
    }
    for (i67 = length2; i67-- !== 0; ) {
      if (!Object.prototype.hasOwnProperty.call(b7, keys[i67])) {
        return false;
      }
    }
    for (i67 = length2; i67-- !== 0; ) {
      const key = keys[i67];
      if (key === "_owner" && a82.$$typeof) {
        continue;
      }
      if (!deepEqual2(a82[key], b7[key])) {
        return false;
      }
    }
    return true;
  }
  return a82 !== a82 && b7 !== b7;
}
function useLatestRef(value) {
  const ref = React15.useRef(value);
  index2(() => {
    ref.current = value;
  });
  return ref;
}
function useFloating(_temp) {
  let {
    middleware,
    placement = "bottom",
    strategy = "absolute",
    whileElementsMounted
  } = _temp === void 0 ? {} : _temp;
  const reference = React15.useRef(null);
  const floating = React15.useRef(null);
  const whileElementsMountedRef = useLatestRef(whileElementsMounted);
  const cleanupRef = React15.useRef(null);
  const [data, setData] = React15.useState({
    x: null,
    y: null,
    strategy,
    placement,
    middlewareData: {}
  });
  const [latestMiddleware, setLatestMiddleware] = React15.useState(middleware);
  if (!deepEqual2(latestMiddleware == null ? void 0 : latestMiddleware.map((_ref) => {
    let {
      options
    } = _ref;
    return options;
  }), middleware == null ? void 0 : middleware.map((_ref2) => {
    let {
      options
    } = _ref2;
    return options;
  }))) {
    setLatestMiddleware(middleware);
  }
  const update2 = React15.useCallback(() => {
    if (!reference.current || !floating.current) {
      return;
    }
    computePosition2(reference.current, floating.current, {
      middleware: latestMiddleware,
      placement,
      strategy
    }).then((data2) => {
      if (isMountedRef.current) {
        ReactDOM.flushSync(() => {
          setData(data2);
        });
      }
    });
  }, [latestMiddleware, placement, strategy]);
  index2(() => {
    if (isMountedRef.current) {
      update2();
    }
  }, [update2]);
  const isMountedRef = React15.useRef(false);
  index2(() => {
    isMountedRef.current = true;
    return () => {
      isMountedRef.current = false;
    };
  }, []);
  const runElementMountCallback = React15.useCallback(() => {
    if (typeof cleanupRef.current === "function") {
      cleanupRef.current();
      cleanupRef.current = null;
    }
    if (reference.current && floating.current) {
      if (whileElementsMountedRef.current) {
        const cleanupFn = whileElementsMountedRef.current(reference.current, floating.current, update2);
        cleanupRef.current = cleanupFn;
      } else {
        update2();
      }
    }
  }, [update2, whileElementsMountedRef]);
  const setReference = React15.useCallback((node) => {
    reference.current = node;
    runElementMountCallback();
  }, [runElementMountCallback]);
  const setFloating = React15.useCallback((node) => {
    floating.current = node;
    runElementMountCallback();
  }, [runElementMountCallback]);
  const refs = React15.useMemo(() => ({
    reference,
    floating
  }), []);
  return React15.useMemo(() => ({
    ...data,
    update: update2,
    refs,
    reference: setReference,
    floating: setFloating
  }), [data, update2, refs, setReference, setFloating]);
}
var arrow2 = (options) => {
  const {
    element,
    padding
  } = options;
  function isRef(value) {
    return Object.prototype.hasOwnProperty.call(value, "current");
  }
  return {
    name: "arrow",
    options,
    fn(args) {
      if (isRef(element)) {
        if (element.current != null) {
          return arrow({
            element: element.current,
            padding
          }).fn(args);
        }
        return {};
      } else if (element) {
        return arrow({
          element,
          padding
        }).fn(args);
      }
      return {};
    }
  };
};

// node_modules/@radix-ui/react-arrow/dist/index.module.js
init_extends();
var import_react59 = __toESM(require_react());
var $7e8f5cd07187803e$var$NAME = "Arrow";
var $7e8f5cd07187803e$export$21b07c8f274aebd5 = (0, import_react59.forwardRef)((props, forwardedRef) => {
  const { children: children2, width = 10, height = 5, ...arrowProps } = props;
  return (0, import_react59.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.svg, _extends({}, arrowProps, {
    ref: forwardedRef,
    width,
    height,
    viewBox: "0 0 30 10",
    preserveAspectRatio: "none"
  }), props.asChild ? children2 : (0, import_react59.createElement)("polygon", {
    points: "0,0 30,0 15,10"
  }));
});
Object.assign($7e8f5cd07187803e$export$21b07c8f274aebd5, {
  displayName: $7e8f5cd07187803e$var$NAME
});
var $7e8f5cd07187803e$export$be92b6f5f03c0fe9 = $7e8f5cd07187803e$export$21b07c8f274aebd5;

// node_modules/@radix-ui/react-use-size/dist/index.module.js
var import_react60 = __toESM(require_react());
function $db6c3485150b8e66$export$1ab7ae714698c4b8(element) {
  const [size2, setSize] = (0, import_react60.useState)(void 0);
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    if (element) {
      setSize({
        width: element.offsetWidth,
        height: element.offsetHeight
      });
      const resizeObserver = new ResizeObserver((entries) => {
        if (!Array.isArray(entries))
          return;
        if (!entries.length)
          return;
        const entry = entries[0];
        let width;
        let height;
        if ("borderBoxSize" in entry) {
          const borderSizeEntry = entry["borderBoxSize"];
          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;
          width = borderSize["inlineSize"];
          height = borderSize["blockSize"];
        } else {
          width = element.offsetWidth;
          height = element.offsetHeight;
        }
        setSize({
          width,
          height
        });
      });
      resizeObserver.observe(element, {
        box: "border-box"
      });
      return () => resizeObserver.unobserve(element);
    } else
      setSize(void 0);
  }, [
    element
  ]);
  return size2;
}

// node_modules/@radix-ui/react-popper/dist/index.module.js
var $cf1ac5d9fe0e8206$var$POPPER_NAME = "Popper";
var [$cf1ac5d9fe0e8206$var$createPopperContext, $cf1ac5d9fe0e8206$export$722aac194ae923] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME);
var [$cf1ac5d9fe0e8206$var$PopperProvider, $cf1ac5d9fe0e8206$var$usePopperContext] = $cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME);
var $cf1ac5d9fe0e8206$export$badac9ada3a0bdf9 = (props) => {
  const { __scopePopper, children: children2 } = props;
  const [anchor, setAnchor] = (0, import_react61.useState)(null);
  return (0, import_react61.createElement)($cf1ac5d9fe0e8206$var$PopperProvider, {
    scope: __scopePopper,
    anchor,
    onAnchorChange: setAnchor
  }, children2);
};
Object.assign($cf1ac5d9fe0e8206$export$badac9ada3a0bdf9, {
  displayName: $cf1ac5d9fe0e8206$var$POPPER_NAME
});
var $cf1ac5d9fe0e8206$var$ANCHOR_NAME = "PopperAnchor";
var $cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d = (0, import_react61.forwardRef)((props, forwardedRef) => {
  const { __scopePopper, virtualRef, ...anchorProps } = props;
  const context = $cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME, __scopePopper);
  const ref = (0, import_react61.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  (0, import_react61.useEffect)(() => {
    context.onAnchorChange((virtualRef === null || virtualRef === void 0 ? void 0 : virtualRef.current) || ref.current);
  });
  return virtualRef ? null : (0, import_react61.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, anchorProps, {
    ref: composedRefs
  }));
});
Object.assign($cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d, {
  displayName: $cf1ac5d9fe0e8206$var$ANCHOR_NAME
});
var $cf1ac5d9fe0e8206$var$CONTENT_NAME = "PopperContent";
var [$cf1ac5d9fe0e8206$var$PopperContentProvider, $cf1ac5d9fe0e8206$var$useContentContext] = $cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME);
var [$cf1ac5d9fe0e8206$var$PositionContextProvider, $cf1ac5d9fe0e8206$var$usePositionContext] = $cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME, {
  hasParent: false,
  positionUpdateFns: /* @__PURE__ */ new Set()
});
var $cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc = (0, import_react61.forwardRef)((props, forwardedRef) => {
  var _arrowSize$width, _arrowSize$height, _middlewareData$arrow, _middlewareData$arrow2, _middlewareData$arrow3, _middlewareData$hide, _middlewareData$trans, _middlewareData$trans2;
  const { __scopePopper, side = "bottom", sideOffset = 0, align = "center", alignOffset = 0, arrowPadding = 0, collisionBoundary = [], collisionPadding: collisionPaddingProp = 0, sticky = "partial", hideWhenDetached = false, avoidCollisions = true, ...contentProps } = props;
  const context = $cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME, __scopePopper);
  const [content, setContent] = (0, import_react61.useState)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setContent(node)
  );
  const [arrow3, setArrow] = (0, import_react61.useState)(null);
  const arrowSize = $db6c3485150b8e66$export$1ab7ae714698c4b8(arrow3);
  const arrowWidth = (_arrowSize$width = arrowSize === null || arrowSize === void 0 ? void 0 : arrowSize.width) !== null && _arrowSize$width !== void 0 ? _arrowSize$width : 0;
  const arrowHeight = (_arrowSize$height = arrowSize === null || arrowSize === void 0 ? void 0 : arrowSize.height) !== null && _arrowSize$height !== void 0 ? _arrowSize$height : 0;
  const desiredPlacement = side + (align !== "center" ? "-" + align : "");
  const collisionPadding = typeof collisionPaddingProp === "number" ? collisionPaddingProp : {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...collisionPaddingProp
  };
  const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [
    collisionBoundary
  ];
  const hasExplicitBoundaries = boundary.length > 0;
  const detectOverflowOptions = {
    padding: collisionPadding,
    boundary: boundary.filter($cf1ac5d9fe0e8206$var$isNotNull),
    altBoundary: hasExplicitBoundaries
  };
  const { reference, floating, strategy, x: x5, y: y9, placement, middlewareData, update: update2 } = useFloating({
    strategy: "fixed",
    placement: desiredPlacement,
    whileElementsMounted: autoUpdate,
    middleware: [
      offset({
        mainAxis: sideOffset + arrowHeight,
        alignmentAxis: alignOffset
      }),
      avoidCollisions ? shift({
        mainAxis: true,
        crossAxis: false,
        limiter: sticky === "partial" ? limitShift() : void 0,
        ...detectOverflowOptions
      }) : void 0,
      arrow3 ? arrow2({
        element: arrow3,
        padding: arrowPadding
      }) : void 0,
      avoidCollisions ? flip({
        ...detectOverflowOptions
      }) : void 0,
      $cf1ac5d9fe0e8206$var$transformOrigin({
        arrowWidth,
        arrowHeight
      }),
      hideWhenDetached ? hide({
        strategy: "referenceHidden"
      }) : void 0
    ].filter($cf1ac5d9fe0e8206$var$isDefined)
  });
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    reference(context.anchor);
  }, [
    reference,
    context.anchor
  ]);
  const isPlaced = x5 !== null && y9 !== null;
  const [placedSide, placedAlign] = $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement);
  const arrowX = (_middlewareData$arrow = middlewareData.arrow) === null || _middlewareData$arrow === void 0 ? void 0 : _middlewareData$arrow.x;
  const arrowY = (_middlewareData$arrow2 = middlewareData.arrow) === null || _middlewareData$arrow2 === void 0 ? void 0 : _middlewareData$arrow2.y;
  const cannotCenterArrow = ((_middlewareData$arrow3 = middlewareData.arrow) === null || _middlewareData$arrow3 === void 0 ? void 0 : _middlewareData$arrow3.centerOffset) !== 0;
  const [contentZIndex, setContentZIndex] = (0, import_react61.useState)();
  $9f79659886946c16$export$e5c5a5f917a5871c(() => {
    if (content)
      setContentZIndex(window.getComputedStyle(content).zIndex);
  }, [
    content
  ]);
  const { hasParent, positionUpdateFns } = $cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME, __scopePopper);
  const isRoot = !hasParent;
  (0, import_react61.useLayoutEffect)(() => {
    if (!isRoot) {
      positionUpdateFns.add(update2);
      return () => {
        positionUpdateFns.delete(update2);
      };
    }
  }, [
    isRoot,
    positionUpdateFns,
    update2
  ]);
  (0, import_react61.useLayoutEffect)(() => {
    if (isRoot && isPlaced)
      Array.from(positionUpdateFns).reverse().forEach(
        (fn) => requestAnimationFrame(fn)
      );
  }, [
    isRoot,
    isPlaced,
    positionUpdateFns
  ]);
  const commonProps = {
    "data-side": placedSide,
    "data-align": placedAlign,
    ...contentProps,
    ref: composedRefs,
    style: {
      ...contentProps.style,
      animation: !isPlaced ? "none" : void 0,
      opacity: (_middlewareData$hide = middlewareData.hide) !== null && _middlewareData$hide !== void 0 && _middlewareData$hide.referenceHidden ? 0 : void 0
    }
  };
  return (0, import_react61.createElement)("div", {
    ref: floating,
    "data-radix-popper-content-wrapper": "",
    style: {
      position: strategy,
      left: 0,
      top: 0,
      transform: isPlaced ? `translate3d(${Math.round(x5)}px, ${Math.round(y9)}px, 0)` : "translate3d(0, -200%, 0)",
      minWidth: "max-content",
      zIndex: contentZIndex,
      ["--radix-popper-transform-origin"]: [
        (_middlewareData$trans = middlewareData.transformOrigin) === null || _middlewareData$trans === void 0 ? void 0 : _middlewareData$trans.x,
        (_middlewareData$trans2 = middlewareData.transformOrigin) === null || _middlewareData$trans2 === void 0 ? void 0 : _middlewareData$trans2.y
      ].join(" ")
    }
  }, (0, import_react61.createElement)($cf1ac5d9fe0e8206$var$PopperContentProvider, {
    scope: __scopePopper,
    placedSide,
    onArrowChange: setArrow,
    arrowX,
    arrowY,
    shouldHideArrow: cannotCenterArrow
  }, isRoot ? (0, import_react61.createElement)($cf1ac5d9fe0e8206$var$PositionContextProvider, {
    scope: __scopePopper,
    hasParent: true,
    positionUpdateFns
  }, (0, import_react61.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, commonProps)) : (0, import_react61.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, commonProps)));
});
Object.assign($cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc, {
  displayName: $cf1ac5d9fe0e8206$var$CONTENT_NAME
});
var $cf1ac5d9fe0e8206$var$ARROW_NAME = "PopperArrow";
var $cf1ac5d9fe0e8206$var$OPPOSITE_SIDE = {
  top: "bottom",
  right: "left",
  bottom: "top",
  left: "right"
};
var $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0 = (0, import_react61.forwardRef)(function $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd02(props, forwardedRef) {
  const { __scopePopper, ...arrowProps } = props;
  const contentContext = $cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME, __scopePopper);
  const baseSide = $cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[contentContext.placedSide];
  return (0, import_react61.createElement)("span", {
    ref: contentContext.onArrowChange,
    style: {
      position: "absolute",
      left: contentContext.arrowX,
      top: contentContext.arrowY,
      [baseSide]: 0,
      transformOrigin: {
        top: "",
        right: "0 0",
        bottom: "center 0",
        left: "100% 0"
      }[contentContext.placedSide],
      transform: {
        top: "translateY(100%)",
        right: "translateY(50%) rotate(90deg) translateX(-50%)",
        bottom: `rotate(180deg)`,
        left: "translateY(50%) rotate(-90deg) translateX(50%)"
      }[contentContext.placedSide],
      visibility: contentContext.shouldHideArrow ? "hidden" : void 0
    }
  }, (0, import_react61.createElement)($7e8f5cd07187803e$export$be92b6f5f03c0fe9, _extends({}, arrowProps, {
    ref: forwardedRef,
    style: {
      ...arrowProps.style,
      display: "block"
    }
  })));
});
Object.assign($cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0, {
  displayName: $cf1ac5d9fe0e8206$var$ARROW_NAME
});
function $cf1ac5d9fe0e8206$var$isDefined(value) {
  return value !== void 0;
}
function $cf1ac5d9fe0e8206$var$isNotNull(value) {
  return value !== null;
}
var $cf1ac5d9fe0e8206$var$transformOrigin = (options) => ({
  name: "transformOrigin",
  options,
  fn(data) {
    var _middlewareData$arrow4, _middlewareData$arrow5, _middlewareData$arrow6, _middlewareData$arrow7, _middlewareData$arrow8;
    const { placement, rects, middlewareData } = data;
    const cannotCenterArrow = ((_middlewareData$arrow4 = middlewareData.arrow) === null || _middlewareData$arrow4 === void 0 ? void 0 : _middlewareData$arrow4.centerOffset) !== 0;
    const isArrowHidden = cannotCenterArrow;
    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;
    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;
    const [placedSide, placedAlign] = $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement);
    const noArrowAlign = {
      start: "0%",
      center: "50%",
      end: "100%"
    }[placedAlign];
    const arrowXCenter = ((_middlewareData$arrow5 = (_middlewareData$arrow6 = middlewareData.arrow) === null || _middlewareData$arrow6 === void 0 ? void 0 : _middlewareData$arrow6.x) !== null && _middlewareData$arrow5 !== void 0 ? _middlewareData$arrow5 : 0) + arrowWidth / 2;
    const arrowYCenter = ((_middlewareData$arrow7 = (_middlewareData$arrow8 = middlewareData.arrow) === null || _middlewareData$arrow8 === void 0 ? void 0 : _middlewareData$arrow8.y) !== null && _middlewareData$arrow7 !== void 0 ? _middlewareData$arrow7 : 0) + arrowHeight / 2;
    let x5 = "";
    let y9 = "";
    if (placedSide === "bottom") {
      x5 = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;
      y9 = `${-arrowHeight}px`;
    } else if (placedSide === "top") {
      x5 = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;
      y9 = `${rects.floating.height + arrowHeight}px`;
    } else if (placedSide === "right") {
      x5 = `${-arrowHeight}px`;
      y9 = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;
    } else if (placedSide === "left") {
      x5 = `${rects.floating.width + arrowHeight}px`;
      y9 = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;
    }
    return {
      data: {
        x: x5,
        y: y9
      }
    };
  }
});
function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement) {
  const [side, align = "center"] = placement.split("-");
  return [
    side,
    align
  ];
}
var $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9 = $cf1ac5d9fe0e8206$export$badac9ada3a0bdf9;
var $cf1ac5d9fe0e8206$export$b688253958b8dfe7 = $cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d;
var $cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2 = $cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc;
var $cf1ac5d9fe0e8206$export$21b07c8f274aebd5 = $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;

// node_modules/@radix-ui/react-portal/dist/index.module.js
init_extends();
var import_react62 = __toESM(require_react());
var import_react_dom6 = __toESM(require_react_dom());
var $f1701beae083dbae$var$PORTAL_NAME = "Portal";
var $f1701beae083dbae$export$602eac185826482c = (0, import_react62.forwardRef)((props, forwardedRef) => {
  var _globalThis$document;
  const { container = globalThis === null || globalThis === void 0 ? void 0 : (_globalThis$document = globalThis.document) === null || _globalThis$document === void 0 ? void 0 : _globalThis$document.body, ...portalProps } = props;
  return container ? import_react_dom6.default.createPortal((0, import_react62.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, portalProps, {
    ref: forwardedRef
  })), container) : null;
});
Object.assign($f1701beae083dbae$export$602eac185826482c, {
  displayName: $f1701beae083dbae$var$PORTAL_NAME
});

// node_modules/aria-hidden/dist/es2015/index.js
var getDefaultParent = function(originalTarget) {
  if (typeof document === "undefined") {
    return null;
  }
  var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;
  return sampleTarget.ownerDocument.body;
};
var counterMap = /* @__PURE__ */ new WeakMap();
var uncontrolledNodes = /* @__PURE__ */ new WeakMap();
var markerMap = {};
var lockCount = 0;
var unwrapHost = function(node) {
  return node && (node.host || unwrapHost(node.parentNode));
};
var correctTargets = function(parent, targets) {
  return targets.map(function(target) {
    if (parent.contains(target)) {
      return target;
    }
    var correctedTarget = unwrapHost(target);
    if (correctedTarget && parent.contains(correctedTarget)) {
      return correctedTarget;
    }
    console.error("aria-hidden", target, "in not contained inside", parent, ". Doing nothing");
    return null;
  }).filter(function(x5) {
    return Boolean(x5);
  });
};
var applyAttributeToOthers = function(originalTarget, parentNode, markerName, controlAttribute) {
  var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);
  if (!markerMap[markerName]) {
    markerMap[markerName] = /* @__PURE__ */ new WeakMap();
  }
  var markerCounter = markerMap[markerName];
  var hiddenNodes = [];
  var elementsToKeep = /* @__PURE__ */ new Set();
  var elementsToStop = new Set(targets);
  var keep = function(el) {
    if (!el || elementsToKeep.has(el)) {
      return;
    }
    elementsToKeep.add(el);
    keep(el.parentNode);
  };
  targets.forEach(keep);
  var deep = function(parent) {
    if (!parent || elementsToStop.has(parent)) {
      return;
    }
    Array.prototype.forEach.call(parent.children, function(node) {
      if (elementsToKeep.has(node)) {
        deep(node);
      } else {
        var attr = node.getAttribute(controlAttribute);
        var alreadyHidden = attr !== null && attr !== "false";
        var counterValue = (counterMap.get(node) || 0) + 1;
        var markerValue = (markerCounter.get(node) || 0) + 1;
        counterMap.set(node, counterValue);
        markerCounter.set(node, markerValue);
        hiddenNodes.push(node);
        if (counterValue === 1 && alreadyHidden) {
          uncontrolledNodes.set(node, true);
        }
        if (markerValue === 1) {
          node.setAttribute(markerName, "true");
        }
        if (!alreadyHidden) {
          node.setAttribute(controlAttribute, "true");
        }
      }
    });
  };
  deep(parentNode);
  elementsToKeep.clear();
  lockCount++;
  return function() {
    hiddenNodes.forEach(function(node) {
      var counterValue = counterMap.get(node) - 1;
      var markerValue = markerCounter.get(node) - 1;
      counterMap.set(node, counterValue);
      markerCounter.set(node, markerValue);
      if (!counterValue) {
        if (!uncontrolledNodes.has(node)) {
          node.removeAttribute(controlAttribute);
        }
        uncontrolledNodes.delete(node);
      }
      if (!markerValue) {
        node.removeAttribute(markerName);
      }
    });
    lockCount--;
    if (!lockCount) {
      counterMap = /* @__PURE__ */ new WeakMap();
      counterMap = /* @__PURE__ */ new WeakMap();
      uncontrolledNodes = /* @__PURE__ */ new WeakMap();
      markerMap = {};
    }
  };
};
var hideOthers = function(originalTarget, parentNode, markerName) {
  if (markerName === void 0) {
    markerName = "data-aria-hidden";
  }
  var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);
  var activeParentNode = parentNode || getDefaultParent(originalTarget);
  if (!activeParentNode) {
    return function() {
      return null;
    };
  }
  targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll("[aria-live]")));
  return applyAttributeToOthers(targets, activeParentNode, markerName, "aria-hidden");
};

// node_modules/react-remove-scroll/dist/es2015/Combination.js
init_tslib_es6();
var React23 = __toESM(require_react());

// node_modules/react-remove-scroll/dist/es2015/UI.js
init_tslib_es6();
var React19 = __toESM(require_react());

// node_modules/react-remove-scroll-bar/dist/es2015/constants.js
var zeroRightClassName = "right-scroll-bar-position";
var fullWidthClassName = "width-before-scroll-bar";
var noScrollbarsClassName = "with-scroll-bars-hidden";
var removedBarSizeVariable = "--removed-body-scroll-bar-size";

// node_modules/use-callback-ref/dist/es2015/assignRef.js
function assignRef(ref, value) {
  if (typeof ref === "function") {
    ref(value);
  } else if (ref) {
    ref.current = value;
  }
  return ref;
}

// node_modules/use-callback-ref/dist/es2015/useRef.js
var import_react63 = __toESM(require_react());
function useCallbackRef(initialValue, callback) {
  var ref = (0, import_react63.useState)(function() {
    return {
      value: initialValue,
      callback,
      facade: {
        get current() {
          return ref.value;
        },
        set current(value) {
          var last = ref.value;
          if (last !== value) {
            ref.value = value;
            ref.callback(value, last);
          }
        }
      }
    };
  })[0];
  ref.callback = callback;
  return ref.facade;
}

// node_modules/use-callback-ref/dist/es2015/useMergeRef.js
function useMergeRefs(refs, defaultValue) {
  return useCallbackRef(defaultValue || null, function(newValue) {
    return refs.forEach(function(ref) {
      return assignRef(ref, newValue);
    });
  });
}

// node_modules/use-sidecar/dist/es2015/hoc.js
init_tslib_es6();
var React16 = __toESM(require_react());

// node_modules/use-sidecar/dist/es2015/hook.js
var import_react64 = __toESM(require_react());

// node_modules/use-sidecar/dist/es2015/medium.js
init_tslib_es6();
function ItoI(a82) {
  return a82;
}
function innerCreateMedium(defaults, middleware) {
  if (middleware === void 0) {
    middleware = ItoI;
  }
  var buffer = [];
  var assigned = false;
  var medium = {
    read: function() {
      if (assigned) {
        throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
      }
      if (buffer.length) {
        return buffer[buffer.length - 1];
      }
      return defaults;
    },
    useMedium: function(data) {
      var item = middleware(data, assigned);
      buffer.push(item);
      return function() {
        buffer = buffer.filter(function(x5) {
          return x5 !== item;
        });
      };
    },
    assignSyncMedium: function(cb) {
      assigned = true;
      while (buffer.length) {
        var cbs = buffer;
        buffer = [];
        cbs.forEach(cb);
      }
      buffer = {
        push: function(x5) {
          return cb(x5);
        },
        filter: function() {
          return buffer;
        }
      };
    },
    assignMedium: function(cb) {
      assigned = true;
      var pendingQueue = [];
      if (buffer.length) {
        var cbs = buffer;
        buffer = [];
        cbs.forEach(cb);
        pendingQueue = buffer;
      }
      var executeQueue = function() {
        var cbs2 = pendingQueue;
        pendingQueue = [];
        cbs2.forEach(cb);
      };
      var cycle = function() {
        return Promise.resolve().then(executeQueue);
      };
      cycle();
      buffer = {
        push: function(x5) {
          pendingQueue.push(x5);
          cycle();
        },
        filter: function(filter) {
          pendingQueue = pendingQueue.filter(filter);
          return buffer;
        }
      };
    }
  };
  return medium;
}
function createSidecarMedium(options) {
  if (options === void 0) {
    options = {};
  }
  var medium = innerCreateMedium(null);
  medium.options = __assign({ async: true, ssr: false }, options);
  return medium;
}

// node_modules/use-sidecar/dist/es2015/renderProp.js
init_tslib_es6();
var React17 = __toESM(require_react());
var import_react65 = __toESM(require_react());

// node_modules/use-sidecar/dist/es2015/exports.js
init_tslib_es6();
var React18 = __toESM(require_react());
var SideCar = function(_a3) {
  var sideCar = _a3.sideCar, rest = __rest(_a3, ["sideCar"]);
  if (!sideCar) {
    throw new Error("Sidecar: please provide `sideCar` property to import the right car");
  }
  var Target = sideCar.read();
  if (!Target) {
    throw new Error("Sidecar medium not found");
  }
  return React18.createElement(Target, __assign({}, rest));
};
SideCar.isSideCarExport = true;
function exportSidecar(medium, exported) {
  medium.useMedium(exported);
  return SideCar;
}

// node_modules/react-remove-scroll/dist/es2015/medium.js
var effectCar = createSidecarMedium();

// node_modules/react-remove-scroll/dist/es2015/UI.js
var nothing = function() {
  return;
};
var RemoveScroll = React19.forwardRef(function(props, parentRef) {
  var ref = React19.useRef(null);
  var _a3 = React19.useState({
    onScrollCapture: nothing,
    onWheelCapture: nothing,
    onTouchMoveCapture: nothing
  }), callbacks = _a3[0], setCallbacks = _a3[1];
  var forwardProps = props.forwardProps, children2 = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? "div" : _b, rest = __rest(props, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as"]);
  var SideCar2 = sideCar;
  var containerRef = useMergeRefs([ref, parentRef]);
  var containerProps = __assign(__assign({}, rest), callbacks);
  return React19.createElement(
    React19.Fragment,
    null,
    enabled && React19.createElement(SideCar2, { sideCar: effectCar, removeScrollBar, shards, noIsolation, inert, setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref }),
    forwardProps ? React19.cloneElement(React19.Children.only(children2), __assign(__assign({}, containerProps), { ref: containerRef })) : React19.createElement(Container, __assign({}, containerProps, { className, ref: containerRef }), children2)
  );
});
RemoveScroll.defaultProps = {
  enabled: true,
  removeScrollBar: true,
  inert: false
};
RemoveScroll.classNames = {
  fullWidth: fullWidthClassName,
  zeroRight: zeroRightClassName
};

// node_modules/react-remove-scroll/dist/es2015/SideEffect.js
init_tslib_es6();
var React22 = __toESM(require_react());

// node_modules/react-remove-scroll-bar/dist/es2015/component.js
var React21 = __toESM(require_react());

// node_modules/react-style-singleton/dist/es2015/hook.js
var React20 = __toESM(require_react());

// node_modules/get-nonce/dist/es2015/index.js
var currentNonce;
var getNonce = function() {
  if (currentNonce) {
    return currentNonce;
  }
  if (typeof __webpack_nonce__ !== "undefined") {
    return __webpack_nonce__;
  }
  return void 0;
};

// node_modules/react-style-singleton/dist/es2015/singleton.js
function makeStyleTag() {
  if (!document)
    return null;
  var tag = document.createElement("style");
  tag.type = "text/css";
  var nonce = getNonce();
  if (nonce) {
    tag.setAttribute("nonce", nonce);
  }
  return tag;
}
function injectStyles(tag, css) {
  if (tag.styleSheet) {
    tag.styleSheet.cssText = css;
  } else {
    tag.appendChild(document.createTextNode(css));
  }
}
function insertStyleTag(tag) {
  var head = document.head || document.getElementsByTagName("head")[0];
  head.appendChild(tag);
}
var stylesheetSingleton = function() {
  var counter = 0;
  var stylesheet = null;
  return {
    add: function(style) {
      if (counter == 0) {
        if (stylesheet = makeStyleTag()) {
          injectStyles(stylesheet, style);
          insertStyleTag(stylesheet);
        }
      }
      counter++;
    },
    remove: function() {
      counter--;
      if (!counter && stylesheet) {
        stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);
        stylesheet = null;
      }
    }
  };
};

// node_modules/react-style-singleton/dist/es2015/hook.js
var styleHookSingleton = function() {
  var sheet = stylesheetSingleton();
  return function(styles, isDynamic) {
    React20.useEffect(function() {
      sheet.add(styles);
      return function() {
        sheet.remove();
      };
    }, [styles && isDynamic]);
  };
};

// node_modules/react-style-singleton/dist/es2015/component.js
var styleSingleton = function() {
  var useStyle = styleHookSingleton();
  var Sheet = function(_a3) {
    var styles = _a3.styles, dynamic = _a3.dynamic;
    useStyle(styles, dynamic);
    return null;
  };
  return Sheet;
};

// node_modules/react-remove-scroll-bar/dist/es2015/utils.js
var zeroGap = {
  left: 0,
  top: 0,
  right: 0,
  gap: 0
};
var parse = function(x5) {
  return parseInt(x5 || "", 10) || 0;
};
var getOffset = function(gapMode) {
  var cs = window.getComputedStyle(document.body);
  var left = cs[gapMode === "padding" ? "paddingLeft" : "marginLeft"];
  var top = cs[gapMode === "padding" ? "paddingTop" : "marginTop"];
  var right = cs[gapMode === "padding" ? "paddingRight" : "marginRight"];
  return [parse(left), parse(top), parse(right)];
};
var getGapWidth = function(gapMode) {
  if (gapMode === void 0) {
    gapMode = "margin";
  }
  if (typeof window === "undefined") {
    return zeroGap;
  }
  var offsets = getOffset(gapMode);
  var documentWidth = document.documentElement.clientWidth;
  var windowWidth = window.innerWidth;
  return {
    left: offsets[0],
    top: offsets[1],
    right: offsets[2],
    gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0])
  };
};

// node_modules/react-remove-scroll-bar/dist/es2015/component.js
var Style = styleSingleton();
var getStyles = function(_a3, allowRelative, gapMode, important) {
  var left = _a3.left, top = _a3.top, right = _a3.right, gap = _a3.gap;
  if (gapMode === void 0) {
    gapMode = "margin";
  }
  return "\n  .".concat(noScrollbarsClassName, " {\n   overflow: hidden ").concat(important, ";\n   padding-right: ").concat(gap, "px ").concat(important, ";\n  }\n  body {\n    overflow: hidden ").concat(important, ";\n    overscroll-behavior: contain;\n    ").concat([
    allowRelative && "position: relative ".concat(important, ";"),
    gapMode === "margin" && "\n    padding-left: ".concat(left, "px;\n    padding-top: ").concat(top, "px;\n    padding-right: ").concat(right, "px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(gap, "px ").concat(important, ";\n    "),
    gapMode === "padding" && "padding-right: ".concat(gap, "px ").concat(important, ";")
  ].filter(Boolean).join(""), "\n  }\n  \n  .").concat(zeroRightClassName, " {\n    right: ").concat(gap, "px ").concat(important, ";\n  }\n  \n  .").concat(fullWidthClassName, " {\n    margin-right: ").concat(gap, "px ").concat(important, ";\n  }\n  \n  .").concat(zeroRightClassName, " .").concat(zeroRightClassName, " {\n    right: 0 ").concat(important, ";\n  }\n  \n  .").concat(fullWidthClassName, " .").concat(fullWidthClassName, " {\n    margin-right: 0 ").concat(important, ";\n  }\n  \n  body {\n    ").concat(removedBarSizeVariable, ": ").concat(gap, "px;\n  }\n");
};
var RemoveScrollBar = function(props) {
  var noRelative = props.noRelative, noImportant = props.noImportant, _a3 = props.gapMode, gapMode = _a3 === void 0 ? "margin" : _a3;
  var gap = React21.useMemo(function() {
    return getGapWidth(gapMode);
  }, [gapMode]);
  return React21.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? "!important" : "") });
};

// node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js
var passiveSupported = false;
if (typeof window !== "undefined") {
  try {
    options = Object.defineProperty({}, "passive", {
      get: function() {
        passiveSupported = true;
        return true;
      }
    });
    window.addEventListener("test", options, options);
    window.removeEventListener("test", options, options);
  } catch (err) {
    passiveSupported = false;
  }
}
var options;
var nonPassive = passiveSupported ? { passive: false } : false;

// node_modules/react-remove-scroll/dist/es2015/handleScroll.js
var elementCouldBeVScrolled = function(node) {
  var styles = window.getComputedStyle(node);
  return styles.overflowY !== "hidden" && !(styles.overflowY === styles.overflowX && styles.overflowY === "visible");
};
var elementCouldBeHScrolled = function(node) {
  var styles = window.getComputedStyle(node);
  return styles.overflowX !== "hidden" && !(styles.overflowY === styles.overflowX && styles.overflowX === "visible");
};
var locationCouldBeScrolled = function(axis, node) {
  var current = node;
  do {
    if (typeof ShadowRoot !== "undefined" && current instanceof ShadowRoot) {
      current = current.host;
    }
    var isScrollable = elementCouldBeScrolled(axis, current);
    if (isScrollable) {
      var _a3 = getScrollVariables(axis, current), s62 = _a3[1], d10 = _a3[2];
      if (s62 > d10) {
        return true;
      }
    }
    current = current.parentNode;
  } while (current && current !== document.body);
  return false;
};
var getVScrollVariables = function(_a3) {
  var scrollTop = _a3.scrollTop, scrollHeight = _a3.scrollHeight, clientHeight = _a3.clientHeight;
  return [
    scrollTop,
    scrollHeight,
    clientHeight
  ];
};
var getHScrollVariables = function(_a3) {
  var scrollLeft = _a3.scrollLeft, scrollWidth = _a3.scrollWidth, clientWidth = _a3.clientWidth;
  return [
    scrollLeft,
    scrollWidth,
    clientWidth
  ];
};
var elementCouldBeScrolled = function(axis, node) {
  return axis === "v" ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);
};
var getScrollVariables = function(axis, node) {
  return axis === "v" ? getVScrollVariables(node) : getHScrollVariables(node);
};
var getDirectionFactor = function(axis, direction) {
  return axis === "h" && direction === "rtl" ? -1 : 1;
};
var handleScroll = function(axis, endTarget, event2, sourceDelta, noOverscroll) {
  var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);
  var delta = directionFactor * sourceDelta;
  var target = event2.target;
  var targetInLock = endTarget.contains(target);
  var shouldCancelScroll = false;
  var isDeltaPositive = delta > 0;
  var availableScroll = 0;
  var availableScrollTop = 0;
  do {
    var _a3 = getScrollVariables(axis, target), position = _a3[0], scroll_1 = _a3[1], capacity = _a3[2];
    var elementScroll = scroll_1 - capacity - directionFactor * position;
    if (position || elementScroll) {
      if (elementCouldBeScrolled(axis, target)) {
        availableScroll += elementScroll;
        availableScrollTop += position;
      }
    }
    target = target.parentNode;
  } while (!targetInLock && target !== document.body || targetInLock && (endTarget.contains(target) || endTarget === target));
  if (isDeltaPositive && (noOverscroll && availableScroll === 0 || !noOverscroll && delta > availableScroll)) {
    shouldCancelScroll = true;
  } else if (!isDeltaPositive && (noOverscroll && availableScrollTop === 0 || !noOverscroll && -delta > availableScrollTop)) {
    shouldCancelScroll = true;
  }
  return shouldCancelScroll;
};

// node_modules/react-remove-scroll/dist/es2015/SideEffect.js
var getTouchXY = function(event2) {
  return "changedTouches" in event2 ? [event2.changedTouches[0].clientX, event2.changedTouches[0].clientY] : [0, 0];
};
var getDeltaXY = function(event2) {
  return [event2.deltaX, event2.deltaY];
};
var extractRef = function(ref) {
  return ref && "current" in ref ? ref.current : ref;
};
var deltaCompare = function(x5, y9) {
  return x5[0] === y9[0] && x5[1] === y9[1];
};
var generateStyle = function(id) {
  return "\n  .block-interactivity-".concat(id, " {pointer-events: none;}\n  .allow-interactivity-").concat(id, " {pointer-events: all;}\n");
};
var idCounter = 0;
var lockStack = [];
function RemoveScrollSideCar(props) {
  var shouldPreventQueue = React22.useRef([]);
  var touchStartRef = React22.useRef([0, 0]);
  var activeAxis = React22.useRef();
  var id = React22.useState(idCounter++)[0];
  var Style2 = React22.useState(function() {
    return styleSingleton();
  })[0];
  var lastProps = React22.useRef(props);
  React22.useEffect(function() {
    lastProps.current = props;
  }, [props]);
  React22.useEffect(function() {
    if (props.inert) {
      document.body.classList.add("block-interactivity-".concat(id));
      var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);
      allow_1.forEach(function(el) {
        return el.classList.add("allow-interactivity-".concat(id));
      });
      return function() {
        document.body.classList.remove("block-interactivity-".concat(id));
        allow_1.forEach(function(el) {
          return el.classList.remove("allow-interactivity-".concat(id));
        });
      };
    }
    return;
  }, [props.inert, props.lockRef.current, props.shards]);
  var shouldCancelEvent = React22.useCallback(function(event2, parent) {
    if ("touches" in event2 && event2.touches.length === 2) {
      return !lastProps.current.allowPinchZoom;
    }
    var touch = getTouchXY(event2);
    var touchStart = touchStartRef.current;
    var deltaX = "deltaX" in event2 ? event2.deltaX : touchStart[0] - touch[0];
    var deltaY = "deltaY" in event2 ? event2.deltaY : touchStart[1] - touch[1];
    var currentAxis;
    var target = event2.target;
    var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? "h" : "v";
    if ("touches" in event2 && moveDirection === "h" && target.type === "range") {
      return false;
    }
    var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);
    if (!canBeScrolledInMainDirection) {
      return true;
    }
    if (canBeScrolledInMainDirection) {
      currentAxis = moveDirection;
    } else {
      currentAxis = moveDirection === "v" ? "h" : "v";
      canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);
    }
    if (!canBeScrolledInMainDirection) {
      return false;
    }
    if (!activeAxis.current && "changedTouches" in event2 && (deltaX || deltaY)) {
      activeAxis.current = currentAxis;
    }
    if (!currentAxis) {
      return true;
    }
    var cancelingAxis = activeAxis.current || currentAxis;
    return handleScroll(cancelingAxis, parent, event2, cancelingAxis === "h" ? deltaX : deltaY, true);
  }, []);
  var shouldPrevent = React22.useCallback(function(_event) {
    var event2 = _event;
    if (!lockStack.length || lockStack[lockStack.length - 1] !== Style2) {
      return;
    }
    var delta = "deltaY" in event2 ? getDeltaXY(event2) : getTouchXY(event2);
    var sourceEvent = shouldPreventQueue.current.filter(function(e142) {
      return e142.name === event2.type && e142.target === event2.target && deltaCompare(e142.delta, delta);
    })[0];
    if (sourceEvent && sourceEvent.should) {
      event2.preventDefault();
      return;
    }
    if (!sourceEvent) {
      var shardNodes = (lastProps.current.shards || []).map(extractRef).filter(Boolean).filter(function(node) {
        return node.contains(event2.target);
      });
      var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event2, shardNodes[0]) : !lastProps.current.noIsolation;
      if (shouldStop) {
        event2.preventDefault();
      }
    }
  }, []);
  var shouldCancel = React22.useCallback(function(name, delta, target, should) {
    var event2 = { name, delta, target, should };
    shouldPreventQueue.current.push(event2);
    setTimeout(function() {
      shouldPreventQueue.current = shouldPreventQueue.current.filter(function(e142) {
        return e142 !== event2;
      });
    }, 1);
  }, []);
  var scrollTouchStart = React22.useCallback(function(event2) {
    touchStartRef.current = getTouchXY(event2);
    activeAxis.current = void 0;
  }, []);
  var scrollWheel = React22.useCallback(function(event2) {
    shouldCancel(event2.type, getDeltaXY(event2), event2.target, shouldCancelEvent(event2, props.lockRef.current));
  }, []);
  var scrollTouchMove = React22.useCallback(function(event2) {
    shouldCancel(event2.type, getTouchXY(event2), event2.target, shouldCancelEvent(event2, props.lockRef.current));
  }, []);
  React22.useEffect(function() {
    lockStack.push(Style2);
    props.setCallbacks({
      onScrollCapture: scrollWheel,
      onWheelCapture: scrollWheel,
      onTouchMoveCapture: scrollTouchMove
    });
    document.addEventListener("wheel", shouldPrevent, nonPassive);
    document.addEventListener("touchmove", shouldPrevent, nonPassive);
    document.addEventListener("touchstart", scrollTouchStart, nonPassive);
    return function() {
      lockStack = lockStack.filter(function(inst) {
        return inst !== Style2;
      });
      document.removeEventListener("wheel", shouldPrevent, nonPassive);
      document.removeEventListener("touchmove", shouldPrevent, nonPassive);
      document.removeEventListener("touchstart", scrollTouchStart, nonPassive);
    };
  }, []);
  var removeScrollBar = props.removeScrollBar, inert = props.inert;
  return React22.createElement(
    React22.Fragment,
    null,
    inert ? React22.createElement(Style2, { styles: generateStyle(id) }) : null,
    removeScrollBar ? React22.createElement(RemoveScrollBar, { gapMode: "margin" }) : null
  );
}

// node_modules/react-remove-scroll/dist/es2015/sidecar.js
var sidecar_default = exportSidecar(effectCar, RemoveScrollSideCar);

// node_modules/react-remove-scroll/dist/es2015/Combination.js
var ReactRemoveScroll = React23.forwardRef(function(props, ref) {
  return React23.createElement(RemoveScroll, __assign({}, props, { ref, sideCar: sidecar_default }));
});
ReactRemoveScroll.classNames = RemoveScroll.classNames;
var Combination_default = ReactRemoveScroll;

// node_modules/@radix-ui/react-menu/dist/index.module.js
var $6cc32821e9371a1c$var$SELECTION_KEYS = [
  "Enter",
  " "
];
var $6cc32821e9371a1c$var$FIRST_KEYS = [
  "ArrowDown",
  "PageUp",
  "Home"
];
var $6cc32821e9371a1c$var$LAST_KEYS = [
  "ArrowUp",
  "PageDown",
  "End"
];
var $6cc32821e9371a1c$var$FIRST_LAST_KEYS = [
  ...$6cc32821e9371a1c$var$FIRST_KEYS,
  ...$6cc32821e9371a1c$var$LAST_KEYS
];
var $6cc32821e9371a1c$var$SUB_OPEN_KEYS = {
  ltr: [
    ...$6cc32821e9371a1c$var$SELECTION_KEYS,
    "ArrowRight"
  ],
  rtl: [
    ...$6cc32821e9371a1c$var$SELECTION_KEYS,
    "ArrowLeft"
  ]
};
var $6cc32821e9371a1c$var$SUB_CLOSE_KEYS = {
  ltr: [
    "ArrowLeft"
  ],
  rtl: [
    "ArrowRight"
  ]
};
var $6cc32821e9371a1c$var$MENU_NAME = "Menu";
var [$6cc32821e9371a1c$var$Collection, $6cc32821e9371a1c$var$useCollection, $6cc32821e9371a1c$var$createCollectionScope] = $e02a7d9cb1dc128c$export$c74125a8e3af6bb2($6cc32821e9371a1c$var$MENU_NAME);
var [$6cc32821e9371a1c$var$createMenuContext, $6cc32821e9371a1c$export$4027731b685e72eb] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($6cc32821e9371a1c$var$MENU_NAME, [
  $6cc32821e9371a1c$var$createCollectionScope,
  $cf1ac5d9fe0e8206$export$722aac194ae923,
  $d7bdfb9eb0fdf311$export$c7109489551a4f4
]);
var $6cc32821e9371a1c$var$usePopperScope = $cf1ac5d9fe0e8206$export$722aac194ae923();
var $6cc32821e9371a1c$var$useRovingFocusGroupScope = $d7bdfb9eb0fdf311$export$c7109489551a4f4();
var [$6cc32821e9371a1c$var$MenuProvider, $6cc32821e9371a1c$var$useMenuContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME);
var [$6cc32821e9371a1c$var$MenuRootProvider, $6cc32821e9371a1c$var$useMenuRootContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME);
var $6cc32821e9371a1c$export$d9b273488cd8ce6f = (props) => {
  const { __scopeMenu, open = false, children: children2, dir, onOpenChange, modal = true } = props;
  const popperScope = $6cc32821e9371a1c$var$usePopperScope(__scopeMenu);
  const [content, setContent] = (0, import_react66.useState)(null);
  const isUsingKeyboardRef = (0, import_react66.useRef)(false);
  const handleOpenChange = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onOpenChange);
  const direction = $f631663db3294ace$export$b39126d51d94e6f3(dir);
  (0, import_react66.useEffect)(() => {
    const handleKeyDown = () => {
      isUsingKeyboardRef.current = true;
      document.addEventListener("pointerdown", handlePointer, {
        capture: true,
        once: true
      });
      document.addEventListener("pointermove", handlePointer, {
        capture: true,
        once: true
      });
    };
    const handlePointer = () => isUsingKeyboardRef.current = false;
    document.addEventListener("keydown", handleKeyDown, {
      capture: true
    });
    return () => {
      document.removeEventListener("keydown", handleKeyDown, {
        capture: true
      });
      document.removeEventListener("pointerdown", handlePointer, {
        capture: true
      });
      document.removeEventListener("pointermove", handlePointer, {
        capture: true
      });
    };
  }, []);
  return (0, import_react66.createElement)($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9, popperScope, (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuProvider, {
    scope: __scopeMenu,
    open,
    onOpenChange: handleOpenChange,
    content,
    onContentChange: setContent
  }, (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuRootProvider, {
    scope: __scopeMenu,
    onClose: (0, import_react66.useCallback)(
      () => handleOpenChange(false),
      [
        handleOpenChange
      ]
    ),
    isUsingKeyboardRef,
    dir: direction,
    modal
  }, children2)));
};
Object.assign($6cc32821e9371a1c$export$d9b273488cd8ce6f, {
  displayName: $6cc32821e9371a1c$var$MENU_NAME
});
var $6cc32821e9371a1c$var$ANCHOR_NAME = "MenuAnchor";
var $6cc32821e9371a1c$export$9fa5ebd18bee4d43 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, ...anchorProps } = props;
  const popperScope = $6cc32821e9371a1c$var$usePopperScope(__scopeMenu);
  return (0, import_react66.createElement)($cf1ac5d9fe0e8206$export$b688253958b8dfe7, _extends({}, popperScope, anchorProps, {
    ref: forwardedRef
  }));
});
Object.assign($6cc32821e9371a1c$export$9fa5ebd18bee4d43, {
  displayName: $6cc32821e9371a1c$var$ANCHOR_NAME
});
var $6cc32821e9371a1c$var$PORTAL_NAME = "MenuPortal";
var [$6cc32821e9371a1c$var$PortalProvider, $6cc32821e9371a1c$var$usePortalContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$PORTAL_NAME, {
  forceMount: void 0
});
var $6cc32821e9371a1c$export$793392f970497feb = (props) => {
  const { __scopeMenu, forceMount, children: children2, container } = props;
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$PORTAL_NAME, __scopeMenu);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$PortalProvider, {
    scope: __scopeMenu,
    forceMount
  }, (0, import_react66.createElement)($921a889cee6df7e8$export$99c2b779aa4e8b8b, {
    present: forceMount || context.open
  }, (0, import_react66.createElement)($f1701beae083dbae$export$602eac185826482c, {
    asChild: true,
    container
  }, children2)));
};
Object.assign($6cc32821e9371a1c$export$793392f970497feb, {
  displayName: $6cc32821e9371a1c$var$PORTAL_NAME
});
var $6cc32821e9371a1c$var$CONTENT_NAME = "MenuContent";
var [$6cc32821e9371a1c$var$MenuContentProvider, $6cc32821e9371a1c$var$useMenuContentContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$CONTENT_NAME);
var $6cc32821e9371a1c$export$479f0f2f71193efe = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const portalContext = $6cc32821e9371a1c$var$usePortalContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const { forceMount = portalContext.forceMount, ...contentProps } = props;
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const rootContext = $6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$Collection.Provider, {
    scope: props.__scopeMenu
  }, (0, import_react66.createElement)($921a889cee6df7e8$export$99c2b779aa4e8b8b, {
    present: forceMount || context.open
  }, (0, import_react66.createElement)($6cc32821e9371a1c$var$Collection.Slot, {
    scope: props.__scopeMenu
  }, rootContext.modal ? (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuRootContentModal, _extends({}, contentProps, {
    ref: forwardedRef
  })) : (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuRootContentNonModal, _extends({}, contentProps, {
    ref: forwardedRef
  })))));
});
var $6cc32821e9371a1c$var$MenuRootContentModal = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const ref = (0, import_react66.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  (0, import_react66.useEffect)(() => {
    const content = ref.current;
    if (content)
      return hideOthers(content);
  }, []);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuContentImpl, _extends({}, props, {
    ref: composedRefs,
    trapFocus: context.open,
    disableOutsidePointerEvents: context.open,
    disableOutsideScroll: true,
    onFocusOutside: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      props.onFocusOutside,
      (event2) => event2.preventDefault(),
      {
        checkForDefaultPrevented: false
      }
    ),
    onDismiss: () => context.onOpenChange(false)
  }));
});
var $6cc32821e9371a1c$var$MenuRootContentNonModal = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuContentImpl, _extends({}, props, {
    ref: forwardedRef,
    trapFocus: false,
    disableOutsidePointerEvents: false,
    disableOutsideScroll: false,
    onDismiss: () => context.onOpenChange(false)
  }));
});
var $6cc32821e9371a1c$var$MenuContentImpl = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, loop = false, trapFocus, onOpenAutoFocus, onCloseAutoFocus, disableOutsidePointerEvents, onEscapeKeyDown, onPointerDownOutside, onFocusOutside, onInteractOutside, onDismiss, disableOutsideScroll, ...contentProps } = props;
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME, __scopeMenu);
  const rootContext = $6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME, __scopeMenu);
  const popperScope = $6cc32821e9371a1c$var$usePopperScope(__scopeMenu);
  const rovingFocusGroupScope = $6cc32821e9371a1c$var$useRovingFocusGroupScope(__scopeMenu);
  const getItems = $6cc32821e9371a1c$var$useCollection(__scopeMenu);
  const [currentItemId, setCurrentItemId] = (0, import_react66.useState)(null);
  const contentRef = (0, import_react66.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, contentRef, context.onContentChange);
  const timerRef = (0, import_react66.useRef)(0);
  const searchRef = (0, import_react66.useRef)("");
  const pointerGraceTimerRef = (0, import_react66.useRef)(0);
  const pointerGraceIntentRef = (0, import_react66.useRef)(null);
  const pointerDirRef = (0, import_react66.useRef)("right");
  const lastPointerXRef = (0, import_react66.useRef)(0);
  const ScrollLockWrapper = disableOutsideScroll ? Combination_default : import_react66.Fragment;
  const scrollLockWrapperProps = disableOutsideScroll ? {
    as: $5e63c961fc1ce211$export$8c6ed5c666ac1360,
    allowPinchZoom: true
  } : void 0;
  const handleTypeaheadSearch = (key) => {
    var _items$find, _items$find2;
    const search = searchRef.current + key;
    const items = getItems().filter(
      (item) => !item.disabled
    );
    const currentItem = document.activeElement;
    const currentMatch = (_items$find = items.find(
      (item) => item.ref.current === currentItem
    )) === null || _items$find === void 0 ? void 0 : _items$find.textValue;
    const values = items.map(
      (item) => item.textValue
    );
    const nextMatch = $6cc32821e9371a1c$var$getNextMatch(values, search, currentMatch);
    const newItem = (_items$find2 = items.find(
      (item) => item.textValue === nextMatch
    )) === null || _items$find2 === void 0 ? void 0 : _items$find2.ref.current;
    (function updateSearch(value) {
      searchRef.current = value;
      window.clearTimeout(timerRef.current);
      if (value !== "")
        timerRef.current = window.setTimeout(
          () => updateSearch(""),
          1e3
        );
    })(search);
    if (newItem)
      setTimeout(
        () => newItem.focus()
      );
  };
  (0, import_react66.useEffect)(() => {
    return () => window.clearTimeout(timerRef.current);
  }, []);
  $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();
  const isPointerMovingToSubmenu = (0, import_react66.useCallback)((event2) => {
    var _pointerGraceIntentRe, _pointerGraceIntentRe2;
    const isMovingTowards = pointerDirRef.current === ((_pointerGraceIntentRe = pointerGraceIntentRef.current) === null || _pointerGraceIntentRe === void 0 ? void 0 : _pointerGraceIntentRe.side);
    return isMovingTowards && $6cc32821e9371a1c$var$isPointerInGraceArea(event2, (_pointerGraceIntentRe2 = pointerGraceIntentRef.current) === null || _pointerGraceIntentRe2 === void 0 ? void 0 : _pointerGraceIntentRe2.area);
  }, []);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuContentProvider, {
    scope: __scopeMenu,
    searchRef,
    onItemEnter: (0, import_react66.useCallback)((event2) => {
      if (isPointerMovingToSubmenu(event2))
        event2.preventDefault();
    }, [
      isPointerMovingToSubmenu
    ]),
    onItemLeave: (0, import_react66.useCallback)((event2) => {
      var _contentRef$current;
      if (isPointerMovingToSubmenu(event2))
        return;
      (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 || _contentRef$current.focus();
      setCurrentItemId(null);
    }, [
      isPointerMovingToSubmenu
    ]),
    onTriggerLeave: (0, import_react66.useCallback)((event2) => {
      if (isPointerMovingToSubmenu(event2))
        event2.preventDefault();
    }, [
      isPointerMovingToSubmenu
    ]),
    pointerGraceTimerRef,
    onPointerGraceIntentChange: (0, import_react66.useCallback)((intent) => {
      pointerGraceIntentRef.current = intent;
    }, [])
  }, (0, import_react66.createElement)(ScrollLockWrapper, scrollLockWrapperProps, (0, import_react66.createElement)($d3863c46a17e8a28$export$20e40289641fbbb6, {
    asChild: true,
    trapped: trapFocus,
    onMountAutoFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(onOpenAutoFocus, (event2) => {
      var _contentRef$current2;
      event2.preventDefault();
      (_contentRef$current2 = contentRef.current) === null || _contentRef$current2 === void 0 || _contentRef$current2.focus();
    }),
    onUnmountAutoFocus: onCloseAutoFocus
  }, (0, import_react66.createElement)($5cb92bef7577960e$export$177fb62ff3ec1f22, {
    asChild: true,
    disableOutsidePointerEvents,
    onEscapeKeyDown,
    onPointerDownOutside,
    onFocusOutside,
    onInteractOutside,
    onDismiss
  }, (0, import_react66.createElement)($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9, _extends({
    asChild: true
  }, rovingFocusGroupScope, {
    dir: rootContext.dir,
    orientation: "vertical",
    loop,
    currentTabStopId: currentItemId,
    onCurrentTabStopIdChange: setCurrentItemId,
    onEntryFocus: (event2) => {
      if (!rootContext.isUsingKeyboardRef.current)
        event2.preventDefault();
    }
  }), (0, import_react66.createElement)($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2, _extends({
    role: "menu",
    "aria-orientation": "vertical",
    "data-state": $6cc32821e9371a1c$var$getOpenState(context.open),
    dir: rootContext.dir
  }, popperScope, contentProps, {
    ref: composedRefs,
    style: {
      outline: "none",
      ...contentProps.style
    },
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(contentProps.onKeyDown, (event2) => {
      const target = event2.target;
      const isKeyDownInside = target.closest('[role="menu"]') === event2.currentTarget;
      const isModifierKey = event2.ctrlKey || event2.altKey || event2.metaKey;
      const isCharacterKey = event2.key.length === 1;
      if (isKeyDownInside) {
        if (event2.key === "Tab")
          event2.preventDefault();
        if (!isModifierKey && isCharacterKey)
          handleTypeaheadSearch(event2.key);
      }
      const content = contentRef.current;
      if (event2.target !== content)
        return;
      if (!$6cc32821e9371a1c$var$FIRST_LAST_KEYS.includes(event2.key))
        return;
      event2.preventDefault();
      const items = getItems().filter(
        (item) => !item.disabled
      );
      const candidateNodes = items.map(
        (item) => item.ref.current
      );
      if ($6cc32821e9371a1c$var$LAST_KEYS.includes(event2.key))
        candidateNodes.reverse();
      $6cc32821e9371a1c$var$focusFirst(candidateNodes);
    }),
    onBlur: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onBlur, (event2) => {
      if (!event2.currentTarget.contains(event2.target)) {
        window.clearTimeout(timerRef.current);
        searchRef.current = "";
      }
    }),
    onPointerMove: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerMove, $6cc32821e9371a1c$var$whenMouse((event2) => {
      const target = event2.target;
      const pointerXHasChanged = lastPointerXRef.current !== event2.clientX;
      if (event2.currentTarget.contains(target) && pointerXHasChanged) {
        const newDir = event2.clientX > lastPointerXRef.current ? "right" : "left";
        pointerDirRef.current = newDir;
        lastPointerXRef.current = event2.clientX;
      }
    }))
  })))))));
});
Object.assign($6cc32821e9371a1c$export$479f0f2f71193efe, {
  displayName: $6cc32821e9371a1c$var$CONTENT_NAME
});
var $6cc32821e9371a1c$var$GROUP_NAME = "MenuGroup";
var $6cc32821e9371a1c$export$22a631d1f72787bb = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, ...groupProps } = props;
  return (0, import_react66.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    role: "group"
  }, groupProps, {
    ref: forwardedRef
  }));
});
Object.assign($6cc32821e9371a1c$export$22a631d1f72787bb, {
  displayName: $6cc32821e9371a1c$var$GROUP_NAME
});
var $6cc32821e9371a1c$var$LABEL_NAME = "MenuLabel";
var $6cc32821e9371a1c$export$dd37bec0e8a99143 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, ...labelProps } = props;
  return (0, import_react66.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({}, labelProps, {
    ref: forwardedRef
  }));
});
Object.assign($6cc32821e9371a1c$export$dd37bec0e8a99143, {
  displayName: $6cc32821e9371a1c$var$LABEL_NAME
});
var $6cc32821e9371a1c$var$ITEM_NAME = "MenuItem";
var $6cc32821e9371a1c$var$ITEM_SELECT = "menu.itemSelect";
var $6cc32821e9371a1c$export$2ce376c2cc3355c8 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { disabled = false, onSelect, ...itemProps } = props;
  const ref = (0, import_react66.useRef)(null);
  const rootContext = $6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$ITEM_NAME, props.__scopeMenu);
  const contentContext = $6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME, props.__scopeMenu);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  const isPointerDownRef = (0, import_react66.useRef)(false);
  const handleSelect = () => {
    const menuItem = ref.current;
    if (!disabled && menuItem) {
      const itemSelectEvent = new CustomEvent($6cc32821e9371a1c$var$ITEM_SELECT, {
        bubbles: true,
        cancelable: true
      });
      menuItem.addEventListener(
        $6cc32821e9371a1c$var$ITEM_SELECT,
        (event2) => onSelect === null || onSelect === void 0 ? void 0 : onSelect(event2),
        {
          once: true
        }
      );
      $8927f6f2acc4f386$export$6d1a0317bde7de7f(menuItem, itemSelectEvent);
      if (itemSelectEvent.defaultPrevented)
        isPointerDownRef.current = false;
      else
        rootContext.onClose();
    }
  };
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuItemImpl, _extends({}, itemProps, {
    ref: composedRefs,
    disabled,
    onClick: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onClick, handleSelect),
    onPointerDown: (event2) => {
      var _props$onPointerDown;
      (_props$onPointerDown = props.onPointerDown) === null || _props$onPointerDown === void 0 || _props$onPointerDown.call(props, event2);
      isPointerDownRef.current = true;
    },
    onPointerUp: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerUp, (event2) => {
      var _event$currentTarget;
      if (!isPointerDownRef.current)
        (_event$currentTarget = event2.currentTarget) === null || _event$currentTarget === void 0 || _event$currentTarget.click();
    }),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      const isTypingAhead = contentContext.searchRef.current !== "";
      if (disabled || isTypingAhead && event2.key === " ")
        return;
      if ($6cc32821e9371a1c$var$SELECTION_KEYS.includes(event2.key)) {
        event2.currentTarget.click();
        event2.preventDefault();
      }
    })
  }));
});
Object.assign($6cc32821e9371a1c$export$2ce376c2cc3355c8, {
  displayName: $6cc32821e9371a1c$var$ITEM_NAME
});
var $6cc32821e9371a1c$var$MenuItemImpl = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;
  const contentContext = $6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME, __scopeMenu);
  const rovingFocusGroupScope = $6cc32821e9371a1c$var$useRovingFocusGroupScope(__scopeMenu);
  const ref = (0, import_react66.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  const [isFocused, setIsFocused] = (0, import_react66.useState)(false);
  const [textContent, setTextContent] = (0, import_react66.useState)("");
  (0, import_react66.useEffect)(() => {
    const menuItem = ref.current;
    if (menuItem) {
      var _menuItem$textContent;
      setTextContent(((_menuItem$textContent = menuItem.textContent) !== null && _menuItem$textContent !== void 0 ? _menuItem$textContent : "").trim());
    }
  }, [
    itemProps.children
  ]);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$Collection.ItemSlot, {
    scope: __scopeMenu,
    disabled,
    textValue: textValue !== null && textValue !== void 0 ? textValue : textContent
  }, (0, import_react66.createElement)($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2, _extends({
    asChild: true
  }, rovingFocusGroupScope, {
    focusable: !disabled
  }), (0, import_react66.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    role: "menuitem",
    "data-highlighted": isFocused ? "" : void 0,
    "aria-disabled": disabled || void 0,
    "data-disabled": disabled ? "" : void 0
  }, itemProps, {
    ref: composedRefs,
    onPointerMove: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerMove, $6cc32821e9371a1c$var$whenMouse((event2) => {
      if (disabled)
        contentContext.onItemLeave(event2);
      else {
        contentContext.onItemEnter(event2);
        if (!event2.defaultPrevented) {
          const item = event2.currentTarget;
          item.focus();
        }
      }
    })),
    onPointerLeave: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerLeave, $6cc32821e9371a1c$var$whenMouse(
      (event2) => contentContext.onItemLeave(event2)
    )),
    onFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      props.onFocus,
      () => setIsFocused(true)
    ),
    onBlur: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      props.onBlur,
      () => setIsFocused(false)
    )
  }))));
});
var $6cc32821e9371a1c$var$CHECKBOX_ITEM_NAME = "MenuCheckboxItem";
var $6cc32821e9371a1c$export$f6f243521332502d = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { checked = false, onCheckedChange, ...checkboxItemProps } = props;
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$ItemIndicatorProvider, {
    scope: props.__scopeMenu,
    checked
  }, (0, import_react66.createElement)($6cc32821e9371a1c$export$2ce376c2cc3355c8, _extends({
    role: "menuitemcheckbox",
    "aria-checked": checked
  }, checkboxItemProps, {
    ref: forwardedRef,
    "data-state": $6cc32821e9371a1c$var$getCheckedState(checked),
    onSelect: $e42e1063c40fb3ef$export$b9ecd428b558ff10(
      checkboxItemProps.onSelect,
      () => onCheckedChange === null || onCheckedChange === void 0 ? void 0 : onCheckedChange(!checked),
      {
        checkForDefaultPrevented: false
      }
    )
  })));
});
Object.assign($6cc32821e9371a1c$export$f6f243521332502d, {
  displayName: $6cc32821e9371a1c$var$CHECKBOX_ITEM_NAME
});
var $6cc32821e9371a1c$var$RADIO_GROUP_NAME = "MenuRadioGroup";
var [$6cc32821e9371a1c$var$RadioGroupProvider, $6cc32821e9371a1c$var$useRadioGroupContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$RADIO_GROUP_NAME, {
  value: void 0,
  onValueChange: () => {
  }
});
var $6cc32821e9371a1c$export$ea2200c9eee416b3 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { value, onValueChange, ...groupProps } = props;
  const handleValueChange = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onValueChange);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$RadioGroupProvider, {
    scope: props.__scopeMenu,
    value,
    onValueChange: handleValueChange
  }, (0, import_react66.createElement)($6cc32821e9371a1c$export$22a631d1f72787bb, _extends({}, groupProps, {
    ref: forwardedRef
  })));
});
Object.assign($6cc32821e9371a1c$export$ea2200c9eee416b3, {
  displayName: $6cc32821e9371a1c$var$RADIO_GROUP_NAME
});
var $6cc32821e9371a1c$var$RADIO_ITEM_NAME = "MenuRadioItem";
var $6cc32821e9371a1c$export$69bd225e9817f6d0 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { value, ...radioItemProps } = props;
  const context = $6cc32821e9371a1c$var$useRadioGroupContext($6cc32821e9371a1c$var$RADIO_ITEM_NAME, props.__scopeMenu);
  const checked = value === context.value;
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$ItemIndicatorProvider, {
    scope: props.__scopeMenu,
    checked
  }, (0, import_react66.createElement)($6cc32821e9371a1c$export$2ce376c2cc3355c8, _extends({
    role: "menuitemradio",
    "aria-checked": checked
  }, radioItemProps, {
    ref: forwardedRef,
    "data-state": $6cc32821e9371a1c$var$getCheckedState(checked),
    onSelect: $e42e1063c40fb3ef$export$b9ecd428b558ff10(radioItemProps.onSelect, () => {
      var _context$onValueChang;
      return (_context$onValueChang = context.onValueChange) === null || _context$onValueChang === void 0 ? void 0 : _context$onValueChang.call(context, value);
    }, {
      checkForDefaultPrevented: false
    })
  })));
});
Object.assign($6cc32821e9371a1c$export$69bd225e9817f6d0, {
  displayName: $6cc32821e9371a1c$var$RADIO_ITEM_NAME
});
var $6cc32821e9371a1c$var$ITEM_INDICATOR_NAME = "MenuItemIndicator";
var [$6cc32821e9371a1c$var$ItemIndicatorProvider, $6cc32821e9371a1c$var$useItemIndicatorContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$ITEM_INDICATOR_NAME, {
  checked: false
});
var $6cc32821e9371a1c$export$a2593e23056970a3 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;
  const indicatorContext = $6cc32821e9371a1c$var$useItemIndicatorContext($6cc32821e9371a1c$var$ITEM_INDICATOR_NAME, __scopeMenu);
  return (0, import_react66.createElement)($921a889cee6df7e8$export$99c2b779aa4e8b8b, {
    present: forceMount || indicatorContext.checked
  }, (0, import_react66.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({}, itemIndicatorProps, {
    ref: forwardedRef,
    "data-state": $6cc32821e9371a1c$var$getCheckedState(indicatorContext.checked)
  })));
});
Object.assign($6cc32821e9371a1c$export$a2593e23056970a3, {
  displayName: $6cc32821e9371a1c$var$ITEM_INDICATOR_NAME
});
var $6cc32821e9371a1c$var$SEPARATOR_NAME = "MenuSeparator";
var $6cc32821e9371a1c$export$1cec7dcdd713e220 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, ...separatorProps } = props;
  return (0, import_react66.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.div, _extends({
    role: "separator",
    "aria-orientation": "horizontal"
  }, separatorProps, {
    ref: forwardedRef
  }));
});
Object.assign($6cc32821e9371a1c$export$1cec7dcdd713e220, {
  displayName: $6cc32821e9371a1c$var$SEPARATOR_NAME
});
var $6cc32821e9371a1c$var$ARROW_NAME = "MenuArrow";
var $6cc32821e9371a1c$export$bcdda4773debf5fa = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const { __scopeMenu, ...arrowProps } = props;
  const popperScope = $6cc32821e9371a1c$var$usePopperScope(__scopeMenu);
  return (0, import_react66.createElement)($cf1ac5d9fe0e8206$export$21b07c8f274aebd5, _extends({}, popperScope, arrowProps, {
    ref: forwardedRef
  }));
});
Object.assign($6cc32821e9371a1c$export$bcdda4773debf5fa, {
  displayName: $6cc32821e9371a1c$var$ARROW_NAME
});
var $6cc32821e9371a1c$var$SUB_NAME = "MenuSub";
var [$6cc32821e9371a1c$var$MenuSubProvider, $6cc32821e9371a1c$var$useMenuSubContext] = $6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$SUB_NAME);
var $6cc32821e9371a1c$export$71bdb9d1e2909932 = (props) => {
  const { __scopeMenu, children: children2, open = false, onOpenChange } = props;
  const parentMenuContext = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$SUB_NAME, __scopeMenu);
  const popperScope = $6cc32821e9371a1c$var$usePopperScope(__scopeMenu);
  const [trigger, setTrigger] = (0, import_react66.useState)(null);
  const [content, setContent] = (0, import_react66.useState)(null);
  const handleOpenChange = $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(onOpenChange);
  (0, import_react66.useEffect)(() => {
    if (parentMenuContext.open === false)
      handleOpenChange(false);
    return () => handleOpenChange(false);
  }, [
    parentMenuContext.open,
    handleOpenChange
  ]);
  return (0, import_react66.createElement)($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9, popperScope, (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuProvider, {
    scope: __scopeMenu,
    open,
    onOpenChange: handleOpenChange,
    content,
    onContentChange: setContent
  }, (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuSubProvider, {
    scope: __scopeMenu,
    contentId: $1746a345f3d73bb7$export$f680877a34711e37(),
    triggerId: $1746a345f3d73bb7$export$f680877a34711e37(),
    trigger,
    onTriggerChange: setTrigger
  }, children2)));
};
Object.assign($6cc32821e9371a1c$export$71bdb9d1e2909932, {
  displayName: $6cc32821e9371a1c$var$SUB_NAME
});
var $6cc32821e9371a1c$var$SUB_TRIGGER_NAME = "MenuSubTrigger";
var $6cc32821e9371a1c$export$5fbbb3ba7297405f = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$SUB_TRIGGER_NAME, props.__scopeMenu);
  const rootContext = $6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$SUB_TRIGGER_NAME, props.__scopeMenu);
  const subContext = $6cc32821e9371a1c$var$useMenuSubContext($6cc32821e9371a1c$var$SUB_TRIGGER_NAME, props.__scopeMenu);
  const contentContext = $6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$SUB_TRIGGER_NAME, props.__scopeMenu);
  const openTimerRef = (0, import_react66.useRef)(null);
  const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;
  const scope = {
    __scopeMenu: props.__scopeMenu
  };
  const clearOpenTimer = (0, import_react66.useCallback)(() => {
    if (openTimerRef.current)
      window.clearTimeout(openTimerRef.current);
    openTimerRef.current = null;
  }, []);
  (0, import_react66.useEffect)(
    () => clearOpenTimer,
    [
      clearOpenTimer
    ]
  );
  (0, import_react66.useEffect)(() => {
    const pointerGraceTimer = pointerGraceTimerRef.current;
    return () => {
      window.clearTimeout(pointerGraceTimer);
      onPointerGraceIntentChange(null);
    };
  }, [
    pointerGraceTimerRef,
    onPointerGraceIntentChange
  ]);
  return (0, import_react66.createElement)($6cc32821e9371a1c$export$9fa5ebd18bee4d43, _extends({
    asChild: true
  }, scope), (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuItemImpl, _extends({
    id: subContext.triggerId,
    "aria-haspopup": "menu",
    "aria-expanded": context.open,
    "aria-controls": subContext.contentId,
    "data-state": $6cc32821e9371a1c$var$getOpenState(context.open)
  }, props, {
    ref: $6ed0406888f73fc4$export$43e446d32b3d21af(forwardedRef, subContext.onTriggerChange),
    onClick: (event2) => {
      var _props$onClick;
      (_props$onClick = props.onClick) === null || _props$onClick === void 0 || _props$onClick.call(props, event2);
      if (props.disabled || event2.defaultPrevented)
        return;
      event2.currentTarget.focus();
      if (!context.open)
        context.onOpenChange(true);
    },
    onPointerMove: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerMove, $6cc32821e9371a1c$var$whenMouse((event2) => {
      contentContext.onItemEnter(event2);
      if (event2.defaultPrevented)
        return;
      if (!props.disabled && !context.open && !openTimerRef.current) {
        contentContext.onPointerGraceIntentChange(null);
        openTimerRef.current = window.setTimeout(() => {
          context.onOpenChange(true);
          clearOpenTimer();
        }, 100);
      }
    })),
    onPointerLeave: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerLeave, $6cc32821e9371a1c$var$whenMouse((event2) => {
      var _context$content;
      clearOpenTimer();
      const contentRect = (_context$content = context.content) === null || _context$content === void 0 ? void 0 : _context$content.getBoundingClientRect();
      if (contentRect) {
        var _context$content2;
        const side = (_context$content2 = context.content) === null || _context$content2 === void 0 ? void 0 : _context$content2.dataset.side;
        const rightSide = side === "right";
        const bleed = rightSide ? -5 : 5;
        const contentNearEdge = contentRect[rightSide ? "left" : "right"];
        const contentFarEdge = contentRect[rightSide ? "right" : "left"];
        contentContext.onPointerGraceIntentChange({
          area: [
            {
              x: event2.clientX + bleed,
              y: event2.clientY
            },
            {
              x: contentNearEdge,
              y: contentRect.top
            },
            {
              x: contentFarEdge,
              y: contentRect.top
            },
            {
              x: contentFarEdge,
              y: contentRect.bottom
            },
            {
              x: contentNearEdge,
              y: contentRect.bottom
            }
          ],
          side
        });
        window.clearTimeout(pointerGraceTimerRef.current);
        pointerGraceTimerRef.current = window.setTimeout(
          () => contentContext.onPointerGraceIntentChange(null),
          300
        );
      } else {
        contentContext.onTriggerLeave(event2);
        if (event2.defaultPrevented)
          return;
        contentContext.onPointerGraceIntentChange(null);
      }
    })),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      const isTypingAhead = contentContext.searchRef.current !== "";
      if (props.disabled || isTypingAhead && event2.key === " ")
        return;
      if ($6cc32821e9371a1c$var$SUB_OPEN_KEYS[rootContext.dir].includes(event2.key)) {
        var _context$content3;
        context.onOpenChange(true);
        (_context$content3 = context.content) === null || _context$content3 === void 0 || _context$content3.focus();
        event2.preventDefault();
      }
    })
  })));
});
Object.assign($6cc32821e9371a1c$export$5fbbb3ba7297405f, {
  displayName: $6cc32821e9371a1c$var$SUB_TRIGGER_NAME
});
var $6cc32821e9371a1c$var$SUB_CONTENT_NAME = "MenuSubContent";
var $6cc32821e9371a1c$export$e7142ab31822bde6 = (0, import_react66.forwardRef)((props, forwardedRef) => {
  const portalContext = $6cc32821e9371a1c$var$usePortalContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const { forceMount = portalContext.forceMount, ...subContentProps } = props;
  const context = $6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const rootContext = $6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME, props.__scopeMenu);
  const subContext = $6cc32821e9371a1c$var$useMenuSubContext($6cc32821e9371a1c$var$SUB_CONTENT_NAME, props.__scopeMenu);
  const ref = (0, import_react66.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  return (0, import_react66.createElement)($6cc32821e9371a1c$var$Collection.Provider, {
    scope: props.__scopeMenu
  }, (0, import_react66.createElement)($921a889cee6df7e8$export$99c2b779aa4e8b8b, {
    present: forceMount || context.open
  }, (0, import_react66.createElement)($6cc32821e9371a1c$var$Collection.Slot, {
    scope: props.__scopeMenu
  }, (0, import_react66.createElement)($6cc32821e9371a1c$var$MenuContentImpl, _extends({
    id: subContext.contentId,
    "aria-labelledby": subContext.triggerId
  }, subContentProps, {
    ref: composedRefs,
    align: "start",
    side: rootContext.dir === "rtl" ? "left" : "right",
    disableOutsidePointerEvents: false,
    disableOutsideScroll: false,
    trapFocus: false,
    onOpenAutoFocus: (event2) => {
      var _ref$current;
      if (rootContext.isUsingKeyboardRef.current)
        (_ref$current = ref.current) === null || _ref$current === void 0 || _ref$current.focus();
      event2.preventDefault();
    },
    onCloseAutoFocus: (event2) => event2.preventDefault(),
    onFocusOutside: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onFocusOutside, (event2) => {
      if (event2.target !== subContext.trigger)
        context.onOpenChange(false);
    }),
    onEscapeKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onEscapeKeyDown, rootContext.onClose),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      const isKeyDownInside = event2.currentTarget.contains(event2.target);
      const isCloseKey = $6cc32821e9371a1c$var$SUB_CLOSE_KEYS[rootContext.dir].includes(event2.key);
      if (isKeyDownInside && isCloseKey) {
        var _subContext$trigger;
        context.onOpenChange(false);
        (_subContext$trigger = subContext.trigger) === null || _subContext$trigger === void 0 || _subContext$trigger.focus();
        event2.preventDefault();
      }
    })
  })))));
});
Object.assign($6cc32821e9371a1c$export$e7142ab31822bde6, {
  displayName: $6cc32821e9371a1c$var$SUB_CONTENT_NAME
});
function $6cc32821e9371a1c$var$getOpenState(open) {
  return open ? "open" : "closed";
}
function $6cc32821e9371a1c$var$getCheckedState(checked) {
  return checked ? "checked" : "unchecked";
}
function $6cc32821e9371a1c$var$focusFirst(candidates) {
  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;
  for (const candidate of candidates) {
    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT)
      return;
    candidate.focus();
    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT)
      return;
  }
}
function $6cc32821e9371a1c$var$wrapArray(array, startIndex) {
  return array.map(
    (_3, index3) => array[(startIndex + index3) % array.length]
  );
}
function $6cc32821e9371a1c$var$getNextMatch(values, search, currentMatch) {
  const isRepeated = search.length > 1 && Array.from(search).every(
    (char) => char === search[0]
  );
  const normalizedSearch = isRepeated ? search[0] : search;
  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;
  let wrappedValues = $6cc32821e9371a1c$var$wrapArray(values, Math.max(currentMatchIndex, 0));
  const excludeCurrentMatch = normalizedSearch.length === 1;
  if (excludeCurrentMatch)
    wrappedValues = wrappedValues.filter(
      (v5) => v5 !== currentMatch
    );
  const nextMatch = wrappedValues.find(
    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())
  );
  return nextMatch !== currentMatch ? nextMatch : void 0;
}
function $6cc32821e9371a1c$var$isPointInPolygon(point2, polygon2) {
  const { x: x5, y: y9 } = point2;
  let inside = false;
  for (let i67 = 0, j7 = polygon2.length - 1; i67 < polygon2.length; j7 = i67++) {
    const xi = polygon2[i67].x;
    const yi = polygon2[i67].y;
    const xj = polygon2[j7].x;
    const yj = polygon2[j7].y;
    const intersect = yi > y9 !== yj > y9 && x5 < (xj - xi) * (y9 - yi) / (yj - yi) + xi;
    if (intersect)
      inside = !inside;
  }
  return inside;
}
function $6cc32821e9371a1c$var$isPointerInGraceArea(event2, area) {
  if (!area)
    return false;
  const cursorPos = {
    x: event2.clientX,
    y: event2.clientY
  };
  return $6cc32821e9371a1c$var$isPointInPolygon(cursorPos, area);
}
function $6cc32821e9371a1c$var$whenMouse(handler) {
  return (event2) => event2.pointerType === "mouse" ? handler(event2) : void 0;
}
var $6cc32821e9371a1c$export$be92b6f5f03c0fe9 = $6cc32821e9371a1c$export$d9b273488cd8ce6f;
var $6cc32821e9371a1c$export$b688253958b8dfe7 = $6cc32821e9371a1c$export$9fa5ebd18bee4d43;
var $6cc32821e9371a1c$export$602eac185826482c = $6cc32821e9371a1c$export$793392f970497feb;
var $6cc32821e9371a1c$export$7c6e2c02157bb7d2 = $6cc32821e9371a1c$export$479f0f2f71193efe;
var $6cc32821e9371a1c$export$eb2fcfdbd7ba97d4 = $6cc32821e9371a1c$export$22a631d1f72787bb;
var $6cc32821e9371a1c$export$b04be29aa201d4f5 = $6cc32821e9371a1c$export$dd37bec0e8a99143;
var $6cc32821e9371a1c$export$6d08773d2e66f8f2 = $6cc32821e9371a1c$export$2ce376c2cc3355c8;
var $6cc32821e9371a1c$export$16ce288f89fa631c = $6cc32821e9371a1c$export$f6f243521332502d;
var $6cc32821e9371a1c$export$a98f0dcb43a68a25 = $6cc32821e9371a1c$export$ea2200c9eee416b3;
var $6cc32821e9371a1c$export$371ab307eab489c0 = $6cc32821e9371a1c$export$69bd225e9817f6d0;
var $6cc32821e9371a1c$export$c3468e2714d175fa = $6cc32821e9371a1c$export$a2593e23056970a3;
var $6cc32821e9371a1c$export$1ff3c3f08ae963c0 = $6cc32821e9371a1c$export$1cec7dcdd713e220;
var $6cc32821e9371a1c$export$21b07c8f274aebd5 = $6cc32821e9371a1c$export$bcdda4773debf5fa;
var $6cc32821e9371a1c$export$2ea8a7a591ac5eac = $6cc32821e9371a1c$export$5fbbb3ba7297405f;
var $6cc32821e9371a1c$export$6d4de93b380beddf = $6cc32821e9371a1c$export$e7142ab31822bde6;

// node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js
var $d08ef79370b62062$var$DROPDOWN_MENU_NAME = "DropdownMenu";
var [$d08ef79370b62062$var$createDropdownMenuContext, $d08ef79370b62062$export$c0623cd925aeb687] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($d08ef79370b62062$var$DROPDOWN_MENU_NAME, [
  $6cc32821e9371a1c$export$4027731b685e72eb
]);
var $d08ef79370b62062$var$useMenuScope = $6cc32821e9371a1c$export$4027731b685e72eb();
var [$d08ef79370b62062$var$DropdownMenuProvider, $d08ef79370b62062$var$useDropdownMenuContext] = $d08ef79370b62062$var$createDropdownMenuContext($d08ef79370b62062$var$DROPDOWN_MENU_NAME);
var $d08ef79370b62062$export$e44a253a59704894 = (props) => {
  const { __scopeDropdownMenu, children: children2, dir, open: openProp, defaultOpen, onOpenChange, modal = true } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  const triggerRef = (0, import_react67.useRef)(null);
  const [open = false, setOpen] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: openProp,
    defaultProp: defaultOpen,
    onChange: onOpenChange
  });
  return (0, import_react67.createElement)($d08ef79370b62062$var$DropdownMenuProvider, {
    scope: __scopeDropdownMenu,
    triggerId: $1746a345f3d73bb7$export$f680877a34711e37(),
    triggerRef,
    contentId: $1746a345f3d73bb7$export$f680877a34711e37(),
    open,
    onOpenChange: setOpen,
    onOpenToggle: (0, import_react67.useCallback)(
      () => setOpen(
        (prevOpen) => !prevOpen
      ),
      [
        setOpen
      ]
    ),
    modal
  }, (0, import_react67.createElement)($6cc32821e9371a1c$export$be92b6f5f03c0fe9, _extends({}, menuScope, {
    open,
    onOpenChange: setOpen,
    dir,
    modal
  }), children2));
};
Object.assign($d08ef79370b62062$export$e44a253a59704894, {
  displayName: $d08ef79370b62062$var$DROPDOWN_MENU_NAME
});
var $d08ef79370b62062$var$TRIGGER_NAME = "DropdownMenuTrigger";
var $d08ef79370b62062$export$d2469213b3befba9 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;
  const context = $d08ef79370b62062$var$useDropdownMenuContext($d08ef79370b62062$var$TRIGGER_NAME, __scopeDropdownMenu);
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$b688253958b8dfe7, _extends({
    asChild: true
  }, menuScope), (0, import_react67.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.button, _extends({
    type: "button",
    id: context.triggerId,
    "aria-haspopup": "menu",
    "aria-expanded": context.open ? true : void 0,
    "aria-controls": context.open ? context.contentId : void 0,
    "data-state": context.open ? "open" : "closed",
    "data-disabled": disabled ? "" : void 0,
    disabled
  }, triggerProps, {
    ref: $6ed0406888f73fc4$export$43e446d32b3d21af(forwardedRef, context.triggerRef),
    onPointerDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerDown, (event2) => {
      if (!disabled && event2.button === 0 && event2.ctrlKey === false) {
        context.onOpenToggle();
        if (!context.open)
          event2.preventDefault();
      }
    }),
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      if (disabled)
        return;
      if ([
        "Enter",
        " "
      ].includes(event2.key))
        context.onOpenToggle();
      if (event2.key === "ArrowDown")
        context.onOpenChange(true);
      if ([
        " ",
        "ArrowDown"
      ].includes(event2.key))
        event2.preventDefault();
    })
  })));
});
Object.assign($d08ef79370b62062$export$d2469213b3befba9, {
  displayName: $d08ef79370b62062$var$TRIGGER_NAME
});
var $d08ef79370b62062$var$PORTAL_NAME = "DropdownMenuPortal";
var $d08ef79370b62062$export$cd369b4d4d54efc9 = (props) => {
  const { __scopeDropdownMenu, ...portalProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$602eac185826482c, _extends({}, menuScope, portalProps));
};
Object.assign($d08ef79370b62062$export$cd369b4d4d54efc9, {
  displayName: $d08ef79370b62062$var$PORTAL_NAME
});
var $d08ef79370b62062$var$CONTENT_NAME = "DropdownMenuContent";
var $d08ef79370b62062$export$6e76d93a37c01248 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...contentProps } = props;
  const context = $d08ef79370b62062$var$useDropdownMenuContext($d08ef79370b62062$var$CONTENT_NAME, __scopeDropdownMenu);
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  const hasInteractedOutsideRef = (0, import_react67.useRef)(false);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$7c6e2c02157bb7d2, _extends({
    id: context.contentId,
    "aria-labelledby": context.triggerId
  }, menuScope, contentProps, {
    ref: forwardedRef,
    onCloseAutoFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onCloseAutoFocus, (event2) => {
      var _context$triggerRef$c;
      if (!hasInteractedOutsideRef.current)
        (_context$triggerRef$c = context.triggerRef.current) === null || _context$triggerRef$c === void 0 || _context$triggerRef$c.focus();
      hasInteractedOutsideRef.current = false;
      event2.preventDefault();
    }),
    onInteractOutside: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onInteractOutside, (event2) => {
      const originalEvent = event2.detail.originalEvent;
      const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;
      const isRightClick = originalEvent.button === 2 || ctrlLeftClick;
      if (!context.modal || isRightClick)
        hasInteractedOutsideRef.current = true;
    }),
    style: {
      ...props.style,
      ["--radix-dropdown-menu-content-transform-origin"]: "var(--radix-popper-transform-origin)"
    }
  }));
});
Object.assign($d08ef79370b62062$export$6e76d93a37c01248, {
  displayName: $d08ef79370b62062$var$CONTENT_NAME
});
var $d08ef79370b62062$var$GROUP_NAME = "DropdownMenuGroup";
var $d08ef79370b62062$export$246bebaba3a2f70e = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...groupProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$eb2fcfdbd7ba97d4, _extends({}, menuScope, groupProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$246bebaba3a2f70e, {
  displayName: $d08ef79370b62062$var$GROUP_NAME
});
var $d08ef79370b62062$var$LABEL_NAME = "DropdownMenuLabel";
var $d08ef79370b62062$export$76e48c5b57f24495 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...labelProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$b04be29aa201d4f5, _extends({}, menuScope, labelProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$76e48c5b57f24495, {
  displayName: $d08ef79370b62062$var$LABEL_NAME
});
var $d08ef79370b62062$var$ITEM_NAME = "DropdownMenuItem";
var $d08ef79370b62062$export$ed97964d1871885d = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...itemProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$6d08773d2e66f8f2, _extends({}, menuScope, itemProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$ed97964d1871885d, {
  displayName: $d08ef79370b62062$var$ITEM_NAME
});
var $d08ef79370b62062$var$CHECKBOX_ITEM_NAME = "DropdownMenuCheckboxItem";
var $d08ef79370b62062$export$53a69729da201fa9 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...checkboxItemProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$16ce288f89fa631c, _extends({}, menuScope, checkboxItemProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$53a69729da201fa9, {
  displayName: $d08ef79370b62062$var$CHECKBOX_ITEM_NAME
});
var $d08ef79370b62062$var$RADIO_GROUP_NAME = "DropdownMenuRadioGroup";
var $d08ef79370b62062$export$3323ad73d55f587e = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...radioGroupProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$a98f0dcb43a68a25, _extends({}, menuScope, radioGroupProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$3323ad73d55f587e, {
  displayName: $d08ef79370b62062$var$RADIO_GROUP_NAME
});
var $d08ef79370b62062$var$RADIO_ITEM_NAME = "DropdownMenuRadioItem";
var $d08ef79370b62062$export$e4f69b41b1637536 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...radioItemProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$371ab307eab489c0, _extends({}, menuScope, radioItemProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$e4f69b41b1637536, {
  displayName: $d08ef79370b62062$var$RADIO_ITEM_NAME
});
var $d08ef79370b62062$var$INDICATOR_NAME = "DropdownMenuItemIndicator";
var $d08ef79370b62062$export$42355ae145153fb6 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$c3468e2714d175fa, _extends({}, menuScope, itemIndicatorProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$42355ae145153fb6, {
  displayName: $d08ef79370b62062$var$INDICATOR_NAME
});
var $d08ef79370b62062$var$SEPARATOR_NAME = "DropdownMenuSeparator";
var $d08ef79370b62062$export$da160178fd3bc7e9 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...separatorProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$1ff3c3f08ae963c0, _extends({}, menuScope, separatorProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$da160178fd3bc7e9, {
  displayName: $d08ef79370b62062$var$SEPARATOR_NAME
});
var $d08ef79370b62062$var$ARROW_NAME = "DropdownMenuArrow";
var $d08ef79370b62062$export$34b8980744021ec5 = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...arrowProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$21b07c8f274aebd5, _extends({}, menuScope, arrowProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$34b8980744021ec5, {
  displayName: $d08ef79370b62062$var$ARROW_NAME
});
var $d08ef79370b62062$var$SUB_TRIGGER_NAME = "DropdownMenuSubTrigger";
var $d08ef79370b62062$export$21dcb7ec56f874cf = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...subTriggerProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$2ea8a7a591ac5eac, _extends({}, menuScope, subTriggerProps, {
    ref: forwardedRef
  }));
});
Object.assign($d08ef79370b62062$export$21dcb7ec56f874cf, {
  displayName: $d08ef79370b62062$var$SUB_TRIGGER_NAME
});
var $d08ef79370b62062$var$SUB_CONTENT_NAME = "DropdownMenuSubContent";
var $d08ef79370b62062$export$f34ec8bc2482cc5f = (0, import_react67.forwardRef)((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...subContentProps } = props;
  const menuScope = $d08ef79370b62062$var$useMenuScope(__scopeDropdownMenu);
  return (0, import_react67.createElement)($6cc32821e9371a1c$export$6d4de93b380beddf, _extends({}, menuScope, subContentProps, {
    ref: forwardedRef,
    style: {
      ...props.style,
      ["--radix-dropdown-menu-content-transform-origin"]: "var(--radix-popper-transform-origin)"
    }
  }));
});
Object.assign($d08ef79370b62062$export$f34ec8bc2482cc5f, {
  displayName: $d08ef79370b62062$var$SUB_CONTENT_NAME
});

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconMenu.js
var import_jsx_runtime93 = __toESM(require_jsx_runtime());
var import_classnames60 = __toESM(require_classnames());
var o87 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime93.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames60.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime93.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime93.jsx)("path", { d: "M3 18H21V16H3V18ZM3 13H21V11H3V13ZM3 6V8H21V6H3Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Menu/MenuButton.js
var import_jsx_runtime94 = __toESM(require_jsx_runtime());
var s39 = __toESM(require_react());
var import_classnames61 = __toESM(require_classnames());
var n36 = s39.forwardRef((s62, n45) => {
  var { ariaLabel: d10, className: m29, children: p17, isFullWidth: u20 = false, isDisabled: c22, isLoading: f21, loadingText: y9 = "", size: b7, style: h12, type: g14 = "button", variation: j7, testId: B2 } = s62, v5 = __rest6(s62, ["ariaLabel", "className", "children", "isFullWidth", "isDisabled", "isLoading", "loadingText", "size", "style", "type", "variation", "testId"]);
  const { propStyles: x5, nonStyleProps: L } = f7(v5, h12), N5 = (0, import_classnames61.default)(a18.Button, f6(a18.Button, b7), f6(a18.Button, j7), m29);
  return (0, import_jsx_runtime94.jsx)(u8, Object.assign({ ref: n45, className: N5, "data-fullwidth": u20, "data-loading": f21, "data-size": b7, "data-variation": j7, disabled: c22 || f21, type: g14, "data-testid": B2, "aria-label": d10, style: x5 }, L, { children: p17 }));
});
n36.displayName = "MenuButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Menu/Menu.js
var d7 = n37.forwardRef((n45, c22) => {
  var { menuAlign: u20 = "start", children: d10, className: f21, isOpen: h12, size: j7, trigger: O2, triggerClassName: b7, ariaLabel: C7, onOpenChange: N5 } = n45, M4 = __rest6(n45, ["menuAlign", "children", "className", "isOpen", "size", "trigger", "triggerClassName", "ariaLabel", "onOpenChange"]);
  return (0, import_jsx_runtime95.jsxs)($d08ef79370b62062$export$e44a253a59704894, Object.assign({ onOpenChange: N5, open: h12 }, { children: [(0, import_jsx_runtime95.jsx)($d08ef79370b62062$export$d2469213b3befba9, Object.assign({ asChild: true }, { children: null != O2 ? O2 : (0, import_jsx_runtime95.jsx)(n36, Object.assign({ ariaLabel: C7, size: j7, testId: "amplify-menu-trigger-test-id", className: (0, import_classnames62.default)(a18.MenuTrigger, b7) }, { children: (0, import_jsx_runtime95.jsx)(o87, { size: j7 }) })) })), (0, import_jsx_runtime95.jsx)($d08ef79370b62062$export$6e76d93a37c01248, Object.assign({ align: u20, className: a18.MenuContentWrapper }, { children: (0, import_jsx_runtime95.jsx)(t57, Object.assign({ className: (0, import_classnames62.default)(a18.MenuContent, f21), ref: c22, size: j7, testId: "amplify-menu-items-group-test-id" }, M4, { children: d10 })) }))] }));
});
d7.displayName = "Menu";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Menu/MenuItem.js
var import_jsx_runtime96 = __toESM(require_jsx_runtime());
var t72 = __toESM(require_react());
var import_classnames63 = __toESM(require_classnames());
var o88 = t72.forwardRef((t87, n45) => {
  var { children: o101, className: c22, variation: d10 } = t87, l29 = __rest6(t87, ["children", "className", "variation"]);
  return (0, import_jsx_runtime96.jsx)($d08ef79370b62062$export$ed97964d1871885d, Object.assign({ asChild: true, ref: n45 }, { children: (0, import_jsx_runtime96.jsx)(n36, Object.assign({ className: (0, import_classnames63.default)(a18.MenuItem, c22), testId: "amplify-menu-item-test-id" }, l29, { variation: "menu" }, { children: o101 })) }));
});
o88.displayName = "MenuItem";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Placeholder/Placeholder.js
var import_jsx_runtime97 = __toESM(require_jsx_runtime());
var a65 = __toESM(require_react());
var import_classnames64 = __toESM(require_classnames());
var l24 = a65.forwardRef((a82, l29) => {
  var { className: c22, children: d10, isLoaded: f21, size: n45 } = a82, p17 = __rest6(a82, ["className", "children", "isLoaded", "size"]);
  return f21 ? (0, import_jsx_runtime97.jsx)(import_jsx_runtime97.Fragment, { children: d10 }) : (0, import_jsx_runtime97.jsx)(a19, Object.assign({ className: (0, import_classnames64.default)(a18.Placeholder, f6(a18.Placeholder, n45), c22), "data-size": n45, ref: l29 }, p17));
});
l24.displayName = "Placeholder";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Rating/Rating.js
var import_jsx_runtime101 = __toESM(require_jsx_runtime());
var t75 = __toESM(require_react());
var import_classnames68 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconStar.js
var import_jsx_runtime98 = __toESM(require_jsx_runtime());
var import_classnames65 = __toESM(require_classnames());
var o90 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime98.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames65.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime98.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime98.jsx)("path", { d: "M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Rating/utils.js
var o91 = (o101, t87) => o101 <= t87;
var t74 = (o101, t87) => o101 - 1 >= t87;
var c20 = (o101, t87) => o101 > t87 && o101 - 1 < t87;

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Rating/RatingIcon.js
var import_jsx_runtime99 = __toESM(require_jsx_runtime());
var import_classnames66 = __toESM(require_classnames());
var e117 = ({ icon: e142, fill: n45, className: r61 }) => (0, import_jsx_runtime99.jsx)(a19, Object.assign({ as: "span", className: "amplify-rating-icon-container", "aria-hidden": "true" }, { children: (0, import_jsx_runtime99.jsx)(a19, Object.assign({ as: "span", className: (0, import_classnames66.default)(r61), color: n45 }, { children: e142 })) }));
e117.displayName = "RatingIcon";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Rating/RatingMixedIcon.js
var import_jsx_runtime100 = __toESM(require_jsx_runtime());
var import_classnames67 = __toESM(require_classnames());
var e118 = ({ emptyColor: e142, emptyIcon: l29, fillColor: c22, fillIcon: r61, value: t87 }) => {
  const o101 = t87 % 1 * 100 + "%";
  return (0, import_jsx_runtime100.jsxs)(a19, Object.assign({ as: "span", className: "amplify-rating-icon-container", "aria-hidden": "true" }, { children: [(0, import_jsx_runtime100.jsx)(a19, Object.assign({ as: "span", className: "amplify-rating-label" }, { children: (0, import_jsx_runtime100.jsx)(a19, Object.assign({ as: "span", className: (0, import_classnames67.default)("amplify-rating-icon", "amplify-rating-icon-empty"), color: e142 }, { children: l29 })) })), (0, import_jsx_runtime100.jsx)(a19, Object.assign({ as: "span", className: "amplify-rating-label", width: o101 }, { children: (0, import_jsx_runtime100.jsx)(a19, Object.assign({ as: "span", className: (0, import_classnames67.default)("amplify-rating-icon", "amplify-rating-icon-filled"), color: c22 }, { children: r61 })) }))] }));
};
e118.displayName = "RatingMixedIcon";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Rating/Rating.js
var y7 = 5;
var g10 = 0;
var j6 = t75.forwardRef((t87, j7) => {
  var { className: I2, emptyColor: x5, emptyIcon: C7, fillColor: N5, icon: R = (0, import_jsx_runtime101.jsx)(o90, {}), maxValue: V2 = y7, size: h12, value: v5 = g10 } = t87, w3 = __rest6(t87, ["className", "emptyColor", "emptyIcon", "fillColor", "icon", "maxValue", "size", "value"]);
  const S = new Array(Math.ceil(V2)).fill(1).map((o101, r61) => {
    const t88 = r61 + 1;
    return o91(t88, v5) ? (0, import_jsx_runtime101.jsx)(e117, { icon: R, fill: N5, className: "amplify-rating-icon-filled" }, r61.toString()) : t74(t88, v5) ? (0, import_jsx_runtime101.jsx)(e117, { icon: C7 || R, fill: x5, className: "amplify-rating-icon-empty" }, r61.toString()) : c20(t88, v5) ? (0, import_jsx_runtime101.jsx)(e118, { fillIcon: R, emptyIcon: C7 || R, value: v5, fillColor: N5, emptyColor: x5 }, r61.toString()) : void 0;
  });
  return (0, import_jsx_runtime101.jsxs)(t14, Object.assign({ className: (0, import_classnames68.default)(a18.Rating, f6(a18.Rating, h12), I2), "data-size": h12, ref: j7 }, w3, { children: [S, (0, import_jsx_runtime101.jsxs)(o41, { children: [v5, " out of ", V2, " rating"] })] }));
});
j6.displayName = "Rating";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SliderField/SliderField.js
var import_jsx_runtime102 = __toESM(require_jsx_runtime());
var import_classnames69 = __toESM(require_classnames());

// node_modules/@radix-ui/react-slider/dist/index.module.js
init_extends();
var import_react69 = __toESM(require_react());

// node_modules/@radix-ui/number/dist/index.module.js
function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(value, [min3, max3]) {
  return Math.min(max3, Math.max(min3, value));
}

// node_modules/@radix-ui/react-use-previous/dist/index.module.js
var import_react68 = __toESM(require_react());
function $010c2913dbd2fe3d$export$5cae361ad82dce8b(value) {
  const ref = (0, import_react68.useRef)({
    value,
    previous: value
  });
  return (0, import_react68.useMemo)(() => {
    if (ref.current.value !== value) {
      ref.current.previous = ref.current.value;
      ref.current.value = value;
    }
    return ref.current.previous;
  }, [
    value
  ]);
}

// node_modules/@radix-ui/react-slider/dist/index.module.js
var $faa2e61a3361514f$var$PAGE_KEYS = [
  "PageUp",
  "PageDown"
];
var $faa2e61a3361514f$var$ARROW_KEYS = [
  "ArrowUp",
  "ArrowDown",
  "ArrowLeft",
  "ArrowRight"
];
var $faa2e61a3361514f$var$BACK_KEYS = {
  ltr: [
    "ArrowDown",
    "Home",
    "ArrowLeft",
    "PageDown"
  ],
  rtl: [
    "ArrowDown",
    "Home",
    "ArrowRight",
    "PageDown"
  ]
};
var $faa2e61a3361514f$var$SLIDER_NAME = "Slider";
var [$faa2e61a3361514f$var$Collection, $faa2e61a3361514f$var$useCollection, $faa2e61a3361514f$var$createCollectionScope] = $e02a7d9cb1dc128c$export$c74125a8e3af6bb2($faa2e61a3361514f$var$SLIDER_NAME);
var [$faa2e61a3361514f$var$createSliderContext, $faa2e61a3361514f$export$ef72632d7b901f97] = $c512c27ab02ef895$export$50c7b4e9d9f19c1($faa2e61a3361514f$var$SLIDER_NAME, [
  $faa2e61a3361514f$var$createCollectionScope
]);
var [$faa2e61a3361514f$var$SliderProvider, $faa2e61a3361514f$var$useSliderContext] = $faa2e61a3361514f$var$createSliderContext($faa2e61a3361514f$var$SLIDER_NAME);
var $faa2e61a3361514f$export$472062a354075cee = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { name, min: min3 = 0, max: max3 = 100, step = 1, orientation = "horizontal", disabled = false, minStepsBetweenThumbs = 0, defaultValue = [
    min3
  ], value: value1, onValueChange = () => {
  }, ...sliderProps } = props;
  const [slider, setSlider] = (0, import_react69.useState)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setSlider(node)
  );
  const thumbRefs = (0, import_react69.useRef)(/* @__PURE__ */ new Set());
  const valueIndexToChangeRef = (0, import_react69.useRef)(0);
  const isHorizontal = orientation === "horizontal";
  const isFormControl = slider ? Boolean(slider.closest("form")) : true;
  const SliderOrientation = isHorizontal ? $faa2e61a3361514f$var$SliderHorizontal : $faa2e61a3361514f$var$SliderVertical;
  const [values = [], setValues] = $71cd76cc60e0454e$export$6f32135080cb4c3({
    prop: value1,
    defaultProp: defaultValue,
    onChange: (value) => {
      var _thumbs$valueIndexToC;
      const thumbs = [
        ...thumbRefs.current
      ];
      (_thumbs$valueIndexToC = thumbs[valueIndexToChangeRef.current]) === null || _thumbs$valueIndexToC === void 0 || _thumbs$valueIndexToC.focus();
      onValueChange(value);
    }
  });
  function handleSlideStart(value) {
    const closestIndex = $faa2e61a3361514f$var$getClosestValueIndex(values, value);
    updateValues(value, closestIndex);
  }
  function handleSlideMove(value) {
    updateValues(value, valueIndexToChangeRef.current);
  }
  function updateValues(value, atIndex) {
    const decimalCount = $faa2e61a3361514f$var$getDecimalCount(step);
    const snapToStep = $faa2e61a3361514f$var$roundValue(Math.round((value - min3) / step) * step + min3, decimalCount);
    const nextValue = $ae6933e535247d3d$export$7d15b64cf5a3a4c4(snapToStep, [
      min3,
      max3
    ]);
    setValues((prevValues = []) => {
      const nextValues = $faa2e61a3361514f$var$getNextSortedValues(prevValues, nextValue, atIndex);
      if ($faa2e61a3361514f$var$hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {
        valueIndexToChangeRef.current = nextValues.indexOf(nextValue);
        return String(nextValues) === String(prevValues) ? prevValues : nextValues;
      } else
        return prevValues;
    });
  }
  return (0, import_react69.createElement)($faa2e61a3361514f$var$SliderProvider, {
    scope: props.__scopeSlider,
    disabled,
    min: min3,
    max: max3,
    valueIndexToChangeRef,
    thumbs: thumbRefs.current,
    values,
    orientation
  }, (0, import_react69.createElement)($faa2e61a3361514f$var$Collection.Provider, {
    scope: props.__scopeSlider
  }, (0, import_react69.createElement)($faa2e61a3361514f$var$Collection.Slot, {
    scope: props.__scopeSlider
  }, (0, import_react69.createElement)(SliderOrientation, _extends({
    "aria-disabled": disabled,
    "data-disabled": disabled ? "" : void 0
  }, sliderProps, {
    ref: composedRefs,
    min: min3,
    max: max3,
    onSlideStart: disabled ? void 0 : handleSlideStart,
    onSlideMove: disabled ? void 0 : handleSlideMove,
    onHomeKeyDown: () => !disabled && updateValues(min3, 0),
    onEndKeyDown: () => !disabled && updateValues(max3, values.length - 1),
    onStepKeyDown: ({ event: event2, direction: stepDirection }) => {
      if (!disabled) {
        const isPageKey = $faa2e61a3361514f$var$PAGE_KEYS.includes(event2.key);
        const isSkipKey = isPageKey || event2.shiftKey && $faa2e61a3361514f$var$ARROW_KEYS.includes(event2.key);
        const multiplier = isSkipKey ? 10 : 1;
        const atIndex = valueIndexToChangeRef.current;
        const value = values[atIndex];
        const stepInDirection = step * multiplier * stepDirection;
        updateValues(value + stepInDirection, atIndex);
      }
    }
  })))), isFormControl && values.map(
    (value, index3) => (0, import_react69.createElement)($faa2e61a3361514f$var$BubbleInput, {
      key: index3,
      name: name ? name + (values.length > 1 ? "[]" : "") : void 0,
      value
    })
  ));
});
Object.assign($faa2e61a3361514f$export$472062a354075cee, {
  displayName: $faa2e61a3361514f$var$SLIDER_NAME
});
var [$faa2e61a3361514f$var$SliderOrientationProvider, $faa2e61a3361514f$var$useSliderOrientationContext] = $faa2e61a3361514f$var$createSliderContext($faa2e61a3361514f$var$SLIDER_NAME, {
  startEdge: "left",
  endEdge: "right",
  size: "width",
  direction: 1
});
var $faa2e61a3361514f$var$SliderHorizontal = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { min: min3, max: max3, dir, onSlideStart, onSlideMove, onStepKeyDown, ...sliderProps } = props;
  const [slider, setSlider] = (0, import_react69.useState)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setSlider(node)
  );
  const rectRef = (0, import_react69.useRef)();
  const direction = $f631663db3294ace$export$b39126d51d94e6f3(dir);
  const isDirectionLTR = direction === "ltr";
  function getValueFromPointer(pointerPosition) {
    const rect = rectRef.current || slider.getBoundingClientRect();
    const input = [
      0,
      rect.width
    ];
    const output = isDirectionLTR ? [
      min3,
      max3
    ] : [
      max3,
      min3
    ];
    const value = $faa2e61a3361514f$var$linearScale(input, output);
    rectRef.current = rect;
    return value(pointerPosition - rect.left);
  }
  return (0, import_react69.createElement)($faa2e61a3361514f$var$SliderOrientationProvider, {
    scope: props.__scopeSlider,
    startEdge: isDirectionLTR ? "left" : "right",
    endEdge: isDirectionLTR ? "right" : "left",
    direction: isDirectionLTR ? 1 : -1,
    size: "width"
  }, (0, import_react69.createElement)($faa2e61a3361514f$var$SliderImpl, _extends({
    dir: direction,
    "data-orientation": "horizontal"
  }, sliderProps, {
    ref: composedRefs,
    style: {
      ...sliderProps.style,
      ["--radix-slider-thumb-transform"]: "translateX(-50%)"
    },
    onSlideStart: (event2) => {
      const value = getValueFromPointer(event2.clientX);
      onSlideStart === null || onSlideStart === void 0 || onSlideStart(value);
    },
    onSlideMove: (event2) => {
      const value = getValueFromPointer(event2.clientX);
      onSlideMove === null || onSlideMove === void 0 || onSlideMove(value);
    },
    onSlideEnd: () => rectRef.current = void 0,
    onStepKeyDown: (event2) => {
      const isBackKey = $faa2e61a3361514f$var$BACK_KEYS[direction].includes(event2.key);
      onStepKeyDown === null || onStepKeyDown === void 0 || onStepKeyDown({
        event: event2,
        direction: isBackKey ? -1 : 1
      });
    }
  })));
});
var $faa2e61a3361514f$var$SliderVertical = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { min: min3, max: max3, onSlideStart, onSlideMove, onStepKeyDown, ...sliderProps } = props;
  const sliderRef = (0, import_react69.useRef)(null);
  const ref = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, sliderRef);
  const rectRef = (0, import_react69.useRef)();
  function getValueFromPointer(pointerPosition) {
    const rect = rectRef.current || sliderRef.current.getBoundingClientRect();
    const input = [
      0,
      rect.height
    ];
    const output = [
      max3,
      min3
    ];
    const value = $faa2e61a3361514f$var$linearScale(input, output);
    rectRef.current = rect;
    return value(pointerPosition - rect.top);
  }
  return (0, import_react69.createElement)($faa2e61a3361514f$var$SliderOrientationProvider, {
    scope: props.__scopeSlider,
    startEdge: "bottom",
    endEdge: "top",
    size: "height",
    direction: 1
  }, (0, import_react69.createElement)($faa2e61a3361514f$var$SliderImpl, _extends({
    "data-orientation": "vertical"
  }, sliderProps, {
    ref,
    style: {
      ...sliderProps.style,
      ["--radix-slider-thumb-transform"]: "translateY(50%)"
    },
    onSlideStart: (event2) => {
      const value = getValueFromPointer(event2.clientY);
      onSlideStart === null || onSlideStart === void 0 || onSlideStart(value);
    },
    onSlideMove: (event2) => {
      const value = getValueFromPointer(event2.clientY);
      onSlideMove === null || onSlideMove === void 0 || onSlideMove(value);
    },
    onSlideEnd: () => rectRef.current = void 0,
    onStepKeyDown: (event2) => {
      const isBackKey = $faa2e61a3361514f$var$BACK_KEYS.ltr.includes(event2.key);
      onStepKeyDown === null || onStepKeyDown === void 0 || onStepKeyDown({
        event: event2,
        direction: isBackKey ? -1 : 1
      });
    }
  })));
});
var $faa2e61a3361514f$var$SliderImpl = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { __scopeSlider, onSlideStart, onSlideMove, onSlideEnd, onHomeKeyDown, onEndKeyDown, onStepKeyDown, ...sliderProps } = props;
  const context = $faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$SLIDER_NAME, __scopeSlider);
  return (0, import_react69.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({}, sliderProps, {
    ref: forwardedRef,
    onKeyDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onKeyDown, (event2) => {
      if (event2.key === "Home") {
        onHomeKeyDown(event2);
        event2.preventDefault();
      } else if (event2.key === "End") {
        onEndKeyDown(event2);
        event2.preventDefault();
      } else if ($faa2e61a3361514f$var$PAGE_KEYS.concat($faa2e61a3361514f$var$ARROW_KEYS).includes(event2.key)) {
        onStepKeyDown(event2);
        event2.preventDefault();
      }
    }),
    onPointerDown: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerDown, (event2) => {
      const target = event2.target;
      target.setPointerCapture(event2.pointerId);
      event2.preventDefault();
      if (context.thumbs.has(target))
        target.focus();
      else
        onSlideStart(event2);
    }),
    onPointerMove: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerMove, (event2) => {
      const target = event2.target;
      if (target.hasPointerCapture(event2.pointerId))
        onSlideMove(event2);
    }),
    onPointerUp: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onPointerUp, (event2) => {
      const target = event2.target;
      if (target.hasPointerCapture(event2.pointerId)) {
        target.releasePointerCapture(event2.pointerId);
        onSlideEnd(event2);
      }
    })
  }));
});
var $faa2e61a3361514f$var$TRACK_NAME = "SliderTrack";
var $faa2e61a3361514f$export$105594979f116971 = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { __scopeSlider, ...trackProps } = props;
  const context = $faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$TRACK_NAME, __scopeSlider);
  return (0, import_react69.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({
    "data-disabled": context.disabled ? "" : void 0,
    "data-orientation": context.orientation
  }, trackProps, {
    ref: forwardedRef
  }));
});
Object.assign($faa2e61a3361514f$export$105594979f116971, {
  displayName: $faa2e61a3361514f$var$TRACK_NAME
});
var $faa2e61a3361514f$var$RANGE_NAME = "SliderRange";
var $faa2e61a3361514f$export$a5cf38a7a000fe77 = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { __scopeSlider, ...rangeProps } = props;
  const context = $faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$RANGE_NAME, __scopeSlider);
  const orientation = $faa2e61a3361514f$var$useSliderOrientationContext($faa2e61a3361514f$var$RANGE_NAME, __scopeSlider);
  const ref = (0, import_react69.useRef)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(forwardedRef, ref);
  const valuesCount = context.values.length;
  const percentages = context.values.map(
    (value) => $faa2e61a3361514f$var$convertValueToPercentage(value, context.min, context.max)
  );
  const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;
  const offsetEnd = 100 - Math.max(...percentages);
  return (0, import_react69.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({
    "data-orientation": context.orientation,
    "data-disabled": context.disabled ? "" : void 0
  }, rangeProps, {
    ref: composedRefs,
    style: {
      ...props.style,
      [orientation.startEdge]: offsetStart + "%",
      [orientation.endEdge]: offsetEnd + "%"
    }
  }));
});
Object.assign($faa2e61a3361514f$export$a5cf38a7a000fe77, {
  displayName: $faa2e61a3361514f$var$RANGE_NAME
});
var $faa2e61a3361514f$var$THUMB_NAME = "SliderThumb";
var $faa2e61a3361514f$export$2c1b491743890dec = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const getItems = $faa2e61a3361514f$var$useCollection(props.__scopeSlider);
  const [thumb, setThumb] = (0, import_react69.useState)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setThumb(node)
  );
  const index3 = (0, import_react69.useMemo)(
    () => thumb ? getItems().findIndex(
      (item) => item.ref.current === thumb
    ) : -1,
    [
      getItems,
      thumb
    ]
  );
  return (0, import_react69.createElement)($faa2e61a3361514f$var$SliderThumbImpl, _extends({}, props, {
    ref: composedRefs,
    index: index3
  }));
});
var $faa2e61a3361514f$var$SliderThumbImpl = (0, import_react69.forwardRef)((props, forwardedRef) => {
  const { __scopeSlider, index: index3, ...thumbProps } = props;
  const context = $faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$THUMB_NAME, __scopeSlider);
  const orientation = $faa2e61a3361514f$var$useSliderOrientationContext($faa2e61a3361514f$var$THUMB_NAME, __scopeSlider);
  const [thumb, setThumb] = (0, import_react69.useState)(null);
  const composedRefs = $6ed0406888f73fc4$export$c7b2cbe3552a0d05(
    forwardedRef,
    (node) => setThumb(node)
  );
  const size2 = $db6c3485150b8e66$export$1ab7ae714698c4b8(thumb);
  const value = context.values[index3];
  const percent = value === void 0 ? 0 : $faa2e61a3361514f$var$convertValueToPercentage(value, context.min, context.max);
  const label = $faa2e61a3361514f$var$getLabel(index3, context.values.length);
  const orientationSize = size2 === null || size2 === void 0 ? void 0 : size2[orientation.size];
  const thumbInBoundsOffset = orientationSize ? $faa2e61a3361514f$var$getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;
  (0, import_react69.useEffect)(() => {
    if (thumb) {
      context.thumbs.add(thumb);
      return () => {
        context.thumbs.delete(thumb);
      };
    }
  }, [
    thumb,
    context.thumbs
  ]);
  return (0, import_react69.createElement)("span", {
    style: {
      transform: "var(--radix-slider-thumb-transform)",
      position: "absolute",
      [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`
    }
  }, (0, import_react69.createElement)($faa2e61a3361514f$var$Collection.ItemSlot, {
    scope: props.__scopeSlider
  }, (0, import_react69.createElement)($8927f6f2acc4f386$export$250ffa63cdc0d034.span, _extends({
    role: "slider",
    "aria-label": props["aria-label"] || label,
    "aria-valuemin": context.min,
    "aria-valuenow": value,
    "aria-valuemax": context.max,
    "aria-orientation": context.orientation,
    "data-orientation": context.orientation,
    "data-disabled": context.disabled ? "" : void 0,
    tabIndex: context.disabled ? void 0 : 0
  }, thumbProps, {
    ref: composedRefs,
    style: value === void 0 ? {
      display: "none"
    } : props.style,
    onFocus: $e42e1063c40fb3ef$export$b9ecd428b558ff10(props.onFocus, () => {
      context.valueIndexToChangeRef.current = index3;
    })
  }))));
});
Object.assign($faa2e61a3361514f$export$2c1b491743890dec, {
  displayName: $faa2e61a3361514f$var$THUMB_NAME
});
var $faa2e61a3361514f$var$BubbleInput = (props) => {
  const { value, ...inputProps } = props;
  const ref = (0, import_react69.useRef)(null);
  const prevValue = $010c2913dbd2fe3d$export$5cae361ad82dce8b(value);
  (0, import_react69.useEffect)(() => {
    const input = ref.current;
    const inputProto = window.HTMLInputElement.prototype;
    const descriptor = Object.getOwnPropertyDescriptor(inputProto, "value");
    const setValue = descriptor.set;
    if (prevValue !== value && setValue) {
      const event2 = new Event("input", {
        bubbles: true
      });
      setValue.call(input, value);
      input.dispatchEvent(event2);
    }
  }, [
    prevValue,
    value
  ]);
  return (0, import_react69.createElement)("input", _extends({
    style: {
      display: "none"
    }
  }, inputProps, {
    ref,
    defaultValue: value
  }));
};
function $faa2e61a3361514f$var$getNextSortedValues(prevValues = [], nextValue, atIndex) {
  const nextValues = [
    ...prevValues
  ];
  nextValues[atIndex] = nextValue;
  return nextValues.sort(
    (a82, b7) => a82 - b7
  );
}
function $faa2e61a3361514f$var$convertValueToPercentage(value, min3, max3) {
  const maxSteps = max3 - min3;
  const percentPerStep = 100 / maxSteps;
  return percentPerStep * (value - min3);
}
function $faa2e61a3361514f$var$getLabel(index3, totalValues) {
  if (totalValues > 2)
    return `Value ${index3 + 1} of ${totalValues}`;
  else if (totalValues === 2)
    return [
      "Minimum",
      "Maximum"
    ][index3];
  else
    return void 0;
}
function $faa2e61a3361514f$var$getClosestValueIndex(values, nextValue) {
  if (values.length === 1)
    return 0;
  const distances = values.map(
    (value) => Math.abs(value - nextValue)
  );
  const closestDistance = Math.min(...distances);
  return distances.indexOf(closestDistance);
}
function $faa2e61a3361514f$var$getThumbInBoundsOffset(width, left, direction) {
  const halfWidth = width / 2;
  const halfPercent = 50;
  const offset2 = $faa2e61a3361514f$var$linearScale([
    0,
    halfPercent
  ], [
    0,
    halfWidth
  ]);
  return (halfWidth - offset2(left) * direction) * direction;
}
function $faa2e61a3361514f$var$getStepsBetweenValues(values) {
  return values.slice(0, -1).map(
    (value, index3) => values[index3 + 1] - value
  );
}
function $faa2e61a3361514f$var$hasMinStepsBetweenValues(values, minStepsBetweenValues) {
  if (minStepsBetweenValues > 0) {
    const stepsBetweenValues = $faa2e61a3361514f$var$getStepsBetweenValues(values);
    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);
    return actualMinStepsBetweenValues >= minStepsBetweenValues;
  }
  return true;
}
function $faa2e61a3361514f$var$linearScale(input, output) {
  return (value) => {
    if (input[0] === input[1] || output[0] === output[1])
      return output[0];
    const ratio = (output[1] - output[0]) / (input[1] - input[0]);
    return output[0] + ratio * (value - input[0]);
  };
}
function $faa2e61a3361514f$var$getDecimalCount(value) {
  return (String(value).split(".")[1] || "").length;
}
function $faa2e61a3361514f$var$roundValue(value, decimalCount) {
  const rounder = Math.pow(10, decimalCount);
  return Math.round(value * rounder) / rounder;
}
var $faa2e61a3361514f$export$be92b6f5f03c0fe9 = $faa2e61a3361514f$export$472062a354075cee;
var $faa2e61a3361514f$export$13921ac0cc260818 = $faa2e61a3361514f$export$105594979f116971;
var $faa2e61a3361514f$export$9a58ef0d7ad3278c = $faa2e61a3361514f$export$a5cf38a7a000fe77;
var $faa2e61a3361514f$export$6521433ed15a34db = $faa2e61a3361514f$export$2c1b491743890dec;

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SliderField/SliderField.js
var d8 = __toESM(require_react());
var y8 = d8.forwardRef((C7, j7) => {
  var { ariaValuetext: k6, className: v5, defaultValue: y9, descriptiveText: T2, emptyTrackColor: V2, errorMessage: x5, filledTrackColor: N5, formatValue: E4, hasError: O2 = false, id: z2, isDisabled: H, isValueHidden: R = false, label: I2, labelHidden: M4 = false, onChange: w3, orientation: D3 = "horizontal", outerEndComponent: G, outerStartComponent: L, testId: B2, thumbColor: P2, trackSize: U2, dir: q3, value: A3, size: J } = C7, K = __rest6(C7, ["ariaValuetext", "className", "defaultValue", "descriptiveText", "emptyTrackColor", "errorMessage", "filledTrackColor", "formatValue", "hasError", "id", "isDisabled", "isValueHidden", "label", "labelHidden", "onChange", "orientation", "outerEndComponent", "outerStartComponent", "testId", "thumbColor", "trackSize", "dir", "value", "size"]);
  const Q = s19(z2), W = s19(), X = s19(), Y = T2 ? X : void 0, { styleProps: Z, rest: $ } = k4(K), _3 = void 0 !== A3, [ee, re] = d8.useState(_3 ? A3 : y9), ie = _3 ? [A3] : void 0, ae = _3 ? void 0 : [y9], le = d8.useCallback((e142) => {
    re(e142[0]), e45(w3) && w3(e142[0]);
  }, [w3]), te = d8.useMemo(() => {
    const e142 = e45(E4) ? E4(ee) : ee;
    return "string" == typeof E4 ? (0, import_jsx_runtime102.jsx)(a19, Object.assign({ as: "span" }, { children: e142 })) : e142;
  }, [ee, E4]), oe = "vertical" === D3, se = (0, import_classnames69.default)(a18.SliderFieldTrack, f6(a18.SliderFieldTrack, D3), f6(a18.SliderFieldTrack, J)), de = (0, import_classnames69.default)(a18.SliderFieldRoot, f6(a18.SliderFieldRoot, D3), f6(a18.SliderFieldRoot, J), v5);
  return (0, import_jsx_runtime102.jsxs)(t14, Object.assign({ className: (0, import_classnames69.default)(a18.Field, a18.SliderField), testId: B2, "data-size": J }, Z, { children: [(0, import_jsx_runtime102.jsxs)(m10, Object.assign({ className: a18.SliderFieldLabel, id: W, testId: "slider-label", visuallyHidden: M4 }, { children: [(0, import_jsx_runtime102.jsx)(a19, Object.assign({ as: "span" }, { children: I2 })), R ? null : te] })), (0, import_jsx_runtime102.jsx)(a28, { id: X, labelHidden: M4, descriptiveText: T2 }), (0, import_jsx_runtime102.jsx)(d4, Object.assign({ className: a18.SliderFieldGroup, id: Q, orientation: D3, outerStartComponent: L, outerEndComponent: G }, { children: (0, import_jsx_runtime102.jsxs)($faa2e61a3361514f$export$be92b6f5f03c0fe9, Object.assign({ className: de, "data-testid": "slider-root", disabled: H, defaultValue: ae, onValueChange: le, orientation: D3, ref: j7, value: ie }, $, { children: [(0, import_jsx_runtime102.jsx)($faa2e61a3361514f$export$13921ac0cc260818, Object.assign({ className: se, "data-testid": "slider-track", style: { backgroundColor: String(V2), [oe ? "width" : "height"]: U2 } }, { children: (0, import_jsx_runtime102.jsx)($faa2e61a3361514f$export$9a58ef0d7ad3278c, { className: (0, import_classnames69.default)(a18.SliderFieldRange, f6(a18.SliderFieldRange, D3)), "data-testid": "slider-range", style: { backgroundColor: String(N5) } }) })), (0, import_jsx_runtime102.jsx)($faa2e61a3361514f$export$6521433ed15a34db, { "aria-describedby": Y, "aria-labelledby": W, "aria-valuetext": k6, className: (0, import_classnames69.default)(a18.SliderFieldThumb, f6(a18.SliderFieldThumb, J)), style: { backgroundColor: String(P2) } })] })) })), (0, import_jsx_runtime102.jsx)(a29, { hasError: O2, errorMessage: x5 })] }));
});
y8.displayName = "SliderField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/StepperField/StepperField.js
var import_jsx_runtime105 = __toESM(require_jsx_runtime());
var s43 = __toESM(require_react());
var import_classnames72 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/StepperField/useStepper.js
var e119 = __toESM(require_react());
var t76 = (e142, a82, t87, l29) => {
  const s62 = (l29 - e142) % t87;
  return l29 = l29 - s62 + Math.round(s62 / t87) * t87, (l29 = Math.max(e142, l29)) > a82 && (l29 = a82 - (a82 - e142) % t87), l29;
};
var l25 = ({ defaultValue: l29 = 0, value: s62, step: n45 = 1, max: u20 = Number.MAX_SAFE_INTEGER, min: r61 = Number.MIN_SAFE_INTEGER, isDisabled: o101, isReadOnly: c22, onDecrease: h12, onIncrease: d10, onStepChange: i67 }) => {
  const b7 = void 0 !== s62;
  u20 = Math.max(r61, u20);
  const [m29, p17] = e119.useState(() => t76(r61, u20, n45, l29));
  b7 && (s62 = t76(r61, u20, n45, s62));
  const C7 = b7 ? s62 : m29, I2 = o101 || c22 || C7 + n45 > u20, N5 = o101 || c22 || C7 - n45 < r61, [D3, E4] = e119.useState(C7), g14 = e119.useCallback((e142) => {
    E4(e142.target.value);
  }, []), k6 = e119.useCallback((e142) => {
    let l30 = parseFloat(e142.target.value);
    isNaN(l30) || (l30 = t76(r61, u20, n45, l30), b7 || p17(l30), e45(i67) && i67(l30), E4(l30));
  }, [r61, u20, n45, b7, i67]), v5 = e119.useCallback(() => {
    b7 || p17(C7 + n45), e45(i67) && i67(C7 + n45), e45(d10) && d10(), E4(C7 + n45);
  }, [n45, C7, b7, d10, i67]), M4 = e119.useCallback(() => {
    b7 || p17(C7 - n45), e45(i67) && i67(C7 - n45), e45(h12) && h12(), E4(C7 - n45);
  }, [n45, C7, b7, h12, i67]), S = e119.useCallback((e142) => {
    e142.currentTarget.blur();
  }, []);
  return { step: n45, value: C7, inputValue: D3, handleDecrease: M4, handleIncrease: v5, handleOnBlur: k6, handleOnChange: g14, handleOnWheel: S, setInputValue: E4, shouldDisableDecreaseButton: N5, shouldDisableIncreaseButton: I2 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconAdd.js
var import_jsx_runtime103 = __toESM(require_jsx_runtime());
var import_classnames70 = __toESM(require_classnames());
var o92 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime103.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames70.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime103.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime103.jsx)("path", { d: "M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Icon/icons/IconRemove.js
var import_jsx_runtime104 = __toESM(require_jsx_runtime());
var import_classnames71 = __toESM(require_classnames());
var o93 = (o101) => {
  const { className: m29 } = o101, n45 = __rest6(o101, ["className"]);
  return (0, import_jsx_runtime104.jsx)(a19, Object.assign({ as: "span", width: "1em", height: "1em", className: (0, import_classnames71.default)(a18.Icon, m29) }, n45, { children: (0, import_jsx_runtime104.jsx)("svg", Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, { children: (0, import_jsx_runtime104.jsx)("path", { d: "M19 13H5V11H19V13Z", fill: "currentColor" }) })) }));
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/StepperField/StepperField.js
var g11 = s43.forwardRef((S, v5) => {
  const { className: g14, descriptiveText: D3, defaultValue: O2, errorMessage: y9, hasError: L = false, id: C7, isDisabled: R, isReadOnly: x5, isRequired: E4, increaseButtonLabel: N5 = o29.StepperField.increaseButtonLabel, decreaseButtonLabel: z2 = o29.StepperField.decreaseButtonLabel, label: G, labelHidden: V2 = false, onStepChange: H, size: M4, variation: $, testId: q3, inputStyles: w3, value: T2 } = S, k6 = __rest6(S, ["className", "descriptiveText", "defaultValue", "errorMessage", "hasError", "id", "isDisabled", "isReadOnly", "isRequired", "increaseButtonLabel", "decreaseButtonLabel", "label", "labelHidden", "onStepChange", "size", "variation", "testId", "inputStyles", "value"]), W = s19(C7), A3 = s19(), P2 = D3 ? A3 : void 0, { styleProps: U2, rest: J } = k4(k6), { step: K, value: Q, inputValue: X, handleDecrease: Y, handleIncrease: Z, handleOnBlur: _3, handleOnChange: ee, handleOnWheel: ie, setInputValue: re, shouldDisableDecreaseButton: se, shouldDisableIncreaseButton: te } = l25(S);
  return s43.useEffect(() => {
    void 0 !== T2 && re(T2);
  }, [T2, re]), (0, import_jsx_runtime105.jsxs)(t14, Object.assign({ className: (0, import_classnames72.default)(a18.Field, f6(a18.Field, M4), a18.StepperField, g14), "data-size": M4, "data-variation": $, testId: q3 }, U2, { children: [(0, import_jsx_runtime105.jsx)(m10, Object.assign({ htmlFor: W, visuallyHidden: V2 }, { children: G })), (0, import_jsx_runtime105.jsx)(a28, { id: A3, labelHidden: V2, descriptiveText: D3 }), (0, import_jsx_runtime105.jsx)(d4, Object.assign({ outerStartComponent: (0, import_jsx_runtime105.jsx)(i23, Object.assign({ "aria-controls": W, ariaLabel: `${z2} ${Q - K}`, className: (0, import_classnames72.default)(a18.StepperFieldButtonDecrease, f6(a18.StepperFieldButtonDecrease, $), p5(a18.StepperFieldButtonDecrease, "disabled", se)), "data-invalid": L, isDisabled: se, onClick: Y, size: M4 }, { children: (0, import_jsx_runtime105.jsx)(o93, { "data-testid": "decrease-icon" }) })), outerEndComponent: (0, import_jsx_runtime105.jsx)(i23, Object.assign({ "aria-controls": W, ariaLabel: `${N5} ${Q + K}`, className: (0, import_classnames72.default)(a18.StepperFieldButtonIncrease, f6(a18.StepperFieldButtonIncrease, $), p5(a18.StepperFieldButtonIncrease, "disabled", te)), "data-invalid": L, isDisabled: te, onClick: Z, size: M4 }, { children: (0, import_jsx_runtime105.jsx)(o92, { "data-testid": "increase-icon" }) })) }, { children: (0, import_jsx_runtime105.jsx)(l12, Object.assign({ "aria-describedby": P2, className: a18.StepperFieldInput, hasError: L, id: W, isDisabled: R, isReadOnly: x5, isRequired: E4, onBlur: _3, onChange: ee, onWheel: ie, ref: v5, size: M4, variation: $, type: "number", value: X }, w3, J)) })), (0, import_jsx_runtime105.jsx)(a29, { hasError: L, errorMessage: y9 })] }));
});
g11.displayName = "StepperField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SwitchField/SwitchField.js
var import_jsx_runtime106 = __toESM(require_jsx_runtime());
var r49 = __toESM(require_react());
var import_classnames73 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SwitchField/useSwitch.js
var import_react70 = __toESM(require_react());
var c21 = (c22) => {
  const { onChange: n45, isChecked: o101, defaultChecked: s62, isDisabled: d10 } = c22, r61 = void 0 !== o101, [a82, i67] = (0, import_react70.useState)(r61 ? o101 : s62), [u20, f21] = (0, import_react70.useState)(false), h12 = (0, import_react70.useCallback)((e142) => {
    d10 ? e142.preventDefault() : ("function" == typeof n45 && n45(e142), i67(e142.target.checked));
  }, [n45, d10]);
  return r61 && a82 !== o101 && i67(o101), { isOn: a82, changeHandler: h12, isFocused: u20, setIsFocused: f21 };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/SwitchField/SwitchField.js
var k5 = r49.forwardRef((r61, k6) => {
  var { className: f21, defaultChecked: C7, id: w3, isChecked: j7, isDisabled: S, isLabelHidden: g14, label: F4, labelPosition: N5, name: T2, onChange: x5, size: H, thumbColor: L, trackCheckedColor: O2, trackColor: v5, value: y9, hasError: D3, errorMessage: E4 } = r61, I2 = __rest6(r61, ["className", "defaultChecked", "id", "isChecked", "isDisabled", "isLabelHidden", "label", "labelPosition", "name", "onChange", "size", "thumbColor", "trackCheckedColor", "trackColor", "value", "hasError", "errorMessage"]);
  const { isOn: M4, changeHandler: V2, isFocused: z2, setIsFocused: B2 } = c21({ onChange: x5, isChecked: j7, defaultChecked: C7, isDisabled: S }), P2 = s19(w3), W = g14 ? o41 : a19, R = (0, import_classnames73.default)(a18.SwitchTrack, p5(a18.SwitchTrack, "checked", M4), p5(a18.SwitchTrack, "disabled", S), p5(a18.SwitchTrack, "focused", z2), p5(a18.SwitchTrack, "error", D3)), q3 = (0, import_classnames73.default)(a18.SwitchThumb, p5(a18.SwitchThumb, "checked", M4), p5(a18.SwitchThumb, "disabled", S));
  return (0, import_jsx_runtime106.jsxs)(t14, Object.assign({ className: (0, import_classnames73.default)(a18.SwitchField, f6(a18.SwitchField, H), f21), "data-size": H, "data-label-position": N5, ref: k6 }, I2, { children: [(0, import_jsx_runtime106.jsx)(o41, { children: (0, import_jsx_runtime106.jsx)(l12, { role: "switch", type: "checkbox", id: P2, onChange: V2, disabled: S, name: T2, checked: M4, value: y9, onFocus: () => {
    B2(true);
  }, onBlur: () => {
    B2(false);
  } }) }), (0, import_jsx_runtime106.jsxs)(m10, Object.assign({ htmlFor: P2, className: (0, import_classnames73.default)(a18.SwitchWrapper, f6(a18.SwitchWrapper, N5)), "data-label-position": N5 }, { children: [(0, import_jsx_runtime106.jsx)(W, Object.assign({ as: "span", className: a18.SwitchLabel }, { children: F4 })), (0, import_jsx_runtime106.jsx)(a19, Object.assign({ as: "span", className: R, "data-checked": M4, "data-disabled": S, "data-focused": z2, backgroundColor: M4 ? O2 : v5 }, { children: (0, import_jsx_runtime106.jsx)(a19, { as: "span", className: q3, "data-checked": M4, "data-disabled": S, backgroundColor: L }) }))] })), (0, import_jsx_runtime106.jsx)(a29, { hasError: D3, errorMessage: E4 })] }));
});
k5.displayName = "SwitchField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/Table.js
var import_jsx_runtime107 = __toESM(require_jsx_runtime());
var e123 = __toESM(require_react());
var import_classnames74 = __toESM(require_classnames());
var l26 = e123.forwardRef((e142, l29) => {
  var { caption: m29, children: c22, className: h12, highlightOnHover: p17 = false, size: d10, variation: f21 } = e142, b7 = __rest6(e142, ["caption", "children", "className", "highlightOnHover", "size", "variation"]);
  const g14 = (0, import_classnames74.default)(a18.Table, f6(a18.Table, d10), f6(a18.Table, f21), h12);
  return (0, import_jsx_runtime107.jsxs)(a19, Object.assign({ as: "table", className: g14, "data-highlightonhover": p17, "data-size": d10, "data-variation": f21, ref: l29 }, b7, { children: [m29 && (0, import_jsx_runtime107.jsx)(a19, Object.assign({ as: "caption", className: a18.TableCaption }, { children: m29 })), c22] }));
});
l26.displayName = "Table";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/TableBody.js
var import_jsx_runtime108 = __toESM(require_jsx_runtime());
var a71 = __toESM(require_react());
var import_classnames75 = __toESM(require_classnames());
var t81 = a71.forwardRef((a82, t87) => {
  var { children: i67, className: c22 } = a82, l29 = __rest6(a82, ["children", "className"]);
  return (0, import_jsx_runtime108.jsx)(a19, Object.assign({ as: "tbody", className: (0, import_classnames75.default)(a18.TableBody, c22), ref: t87 }, l29, { children: i67 }));
});
t81.displayName = "TableBody";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/TableCell.js
var import_jsx_runtime109 = __toESM(require_jsx_runtime());
var s47 = __toESM(require_react());
var import_classnames76 = __toESM(require_classnames());
var o94 = s47.forwardRef((s62, o101) => {
  var { as: i67 = "td", children: l29, className: c22 } = s62, n45 = __rest6(s62, ["as", "children", "className"]);
  return (0, import_jsx_runtime109.jsx)(a19, Object.assign({ as: i67, className: (0, import_classnames76.default)("td" === i67 ? a18.TableTd : a18.TableTh, c22), ref: o101 }, n45, { children: l29 }));
});
o94.displayName = "TableCell";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/TableFoot.js
var import_jsx_runtime110 = __toESM(require_jsx_runtime());
var s48 = __toESM(require_react());
var import_classnames77 = __toESM(require_classnames());
var m25 = s48.forwardRef((s62, m29) => {
  var { children: i67, className: c22 } = s62, l29 = __rest6(s62, ["children", "className"]);
  return (0, import_jsx_runtime110.jsx)(a19, Object.assign({ as: "tfoot", className: (0, import_classnames77.default)(a18.TableFoot, c22), ref: m29 }, l29, { children: i67 }));
});
m25.displayName = "TableFoot";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/TableHead.js
var import_jsx_runtime111 = __toESM(require_jsx_runtime());
var e126 = __toESM(require_react());
var import_classnames78 = __toESM(require_classnames());
var o96 = e126.forwardRef((e142, o101) => {
  var { children: i67, className: c22 } = e142, l29 = __rest6(e142, ["children", "className"]);
  return (0, import_jsx_runtime111.jsx)(a19, Object.assign({ as: "thead", className: (0, import_classnames78.default)(a18.TableHead, c22), ref: o101 }, l29, { children: i67 }));
});
o96.displayName = "TableHead";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/Table/TableRow.js
var import_jsx_runtime112 = __toESM(require_jsx_runtime());
var import_classnames79 = __toESM(require_classnames());
var e127 = __toESM(require_react());
var t82 = e127.forwardRef((e142, t87) => {
  var { children: i67, className: c22 } = e142, l29 = __rest6(e142, ["children", "className"]);
  return (0, import_jsx_runtime112.jsx)(a19, Object.assign({ as: "tr", className: (0, import_classnames79.default)(a18.TableRow, c22), ref: t87 }, l29, { children: i67 }));
});
t82.displayName = "TableRow";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/TextAreaField/TextAreaField.js
var import_jsx_runtime114 = __toESM(require_jsx_runtime());
var i62 = __toESM(require_react());
var import_classnames81 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/TextArea/TextArea.js
var import_jsx_runtime113 = __toESM(require_jsx_runtime());
var e128 = __toESM(require_react());
var import_classnames80 = __toESM(require_classnames());
var n39 = e128.forwardRef((e142, n45) => {
  var { className: d10, isReadOnly: l29, isRequired: c22, size: f21, hasError: p17 = false, variation: x5 } = e142, u20 = __rest6(e142, ["className", "isReadOnly", "isRequired", "size", "hasError", "variation"]);
  const j7 = (0, import_classnames80.default)(a18.Textarea, a18.FieldGroupControl, f6(a18.Textarea, x5), f6(a18.Textarea, f21), p5(a18.Textarea, "error", p17), d10);
  return (0, import_jsx_runtime113.jsx)(a19, Object.assign({ "aria-invalid": p17, as: "textarea", className: j7, "data-size": f21, "data-variation": x5, readOnly: l29, ref: n45, required: c22 }, u20));
});
n39.displayName = "TextArea";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/TextAreaField/TextAreaField.js
var b6 = i62.forwardRef((i67, f21) => {
  const { className: b7, descriptiveText: j7, errorMessage: F4, hasError: x5 = false, id: h12, label: u20, labelHidden: g14 = false, rows: y9, size: z2, testId: T2, inputStyles: v5, resize: E4 } = i67, w3 = __rest6(i67, ["className", "descriptiveText", "errorMessage", "hasError", "id", "label", "labelHidden", "rows", "size", "testId", "inputStyles", "resize"]), A3 = s19(h12), H = s19(), I2 = j7 ? H : void 0, { styleProps: M4, rest: N5 } = k4(w3);
  return (0, import_jsx_runtime114.jsxs)(t14, Object.assign({ className: (0, import_classnames81.default)(a18.Field, a18.TextAreaField, b7), "data-size": z2, testId: T2 }, M4, { children: [(0, import_jsx_runtime114.jsx)(m10, Object.assign({ htmlFor: A3, visuallyHidden: g14 }, { children: u20 })), (0, import_jsx_runtime114.jsx)(a28, { id: H, labelHidden: g14, descriptiveText: j7 }), (0, import_jsx_runtime114.jsx)(n39, Object.assign({ "aria-describedby": I2, hasError: x5, id: A3, ref: f21, rows: null != y9 ? y9 : 3, size: z2, resize: E4 }, N5, v5)), (0, import_jsx_runtime114.jsx)(a29, { hasError: x5, errorMessage: F4 })] }));
});
b6.displayName = "TextAreaField";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButton/ToggleButton.js
var import_jsx_runtime115 = __toESM(require_jsx_runtime());
var import_classnames82 = __toESM(require_classnames());
var r53 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButton/useToggleButton.js
var e129 = __toESM(require_react());
var r52 = ({ isPressed: r61, defaultPressed: t87, onClick: a82, onChange: o101, value: i67 }) => {
  const l29 = void 0 !== r61, [d10, n45] = e129.useState(t87);
  return { isPressed: r61 = l29 ? r61 : d10, handleClick: e129.useCallback((e142) => {
    e45(a82) && a82(e142), l29 || n45(!d10), l29 && e45(o101) && o101(i67);
  }, [l29, a82, o101, d10, i67]) };
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButton/ToggleButton.js
var d9 = r53.forwardRef((r61, d10) => {
  var { className: m29, children: c22, defaultPressed: u20 = false, isDisabled: f21, isPressed: g14, onChange: p17, onClick: h12, size: C7, value: v5, variation: B2 } = r61, P2 = __rest6(r61, ["className", "children", "defaultPressed", "isDisabled", "isPressed", "onChange", "onClick", "size", "value", "variation"]);
  const { isPressed: b7, handleClick: j7 } = r52({ isPressed: g14, defaultPressed: u20, onChange: p17, onClick: h12, value: v5 }), k6 = (0, import_classnames82.default)(a18.ToggleButton, f6(a18.ToggleButton, B2), p5(a18.ToggleButton, "pressed", b7), m29);
  return (0, import_jsx_runtime115.jsx)(u8, Object.assign({ "aria-pressed": b7, className: k6, isDisabled: f21, onClick: j7, ref: d10, size: C7, type: "button", variation: B2 }, P2, { children: c22 }));
});
d9.displayName = "ToggleButton";

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButtonGroup/ToggleButtonGroup.js
var import_jsx_runtime116 = __toESM(require_jsx_runtime());
var import_classnames83 = __toESM(require_classnames());
var s54 = __toESM(require_react());

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButtonGroup/useToggleButtonGroup.js
var r54 = __toESM(require_react());
var e130 = (e142, s62, l29 = false, a82 = false) => {
  const n45 = r54.useCallback((r61) => {
    if (!e45(e142) || !Array.isArray(s62))
      return;
    const l30 = s62.indexOf(r61);
    let n46;
    l30 >= 0 ? (n46 = [...s62], (!a82 || n46.length > 1) && n46.splice(l30, 1)) : n46 = [...s62, r61], e142(n46);
  }, [e142, s62, a82]), o101 = r54.useCallback((r61) => {
    e45(e142) && e142(s62 !== r61 || a82 ? r61 : null);
  }, [e142, s62, a82]);
  return l29 ? o101 : n45;
};

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/ToggleButtonGroup/ToggleButtonGroup.js
var n40 = s54.forwardRef((n45, l29) => {
  var { children: m29, className: c22, isExclusive: u20, isSelectionRequired: p17, onChange: d10, size: g14, value: f21, variation: v5 } = n45, h12 = __rest6(n45, ["children", "className", "isExclusive", "isSelectionRequired", "onChange", "size", "value", "variation"]);
  const x5 = e130(d10, f21, u20, p17);
  return (0, import_jsx_runtime116.jsx)(t14, Object.assign({ className: (0, import_classnames83.default)(a18.ToggleButtonGroup, c22), ref: l29, role: "group" }, h12, { children: s54.Children.map(m29, (e142) => s54.isValidElement(e142) ? s54.cloneElement(e142, { isPressed: u20 ? f21 === e142.props.value : f21.includes(e142.props.value), onChange: x5, size: g14, variation: v5 }) : e142) }));
});
n40.displayName = "ToggleButtonGroup";

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/CloseIconButton/CloseIconButton.js
var import_jsx_runtime117 = __toESM(require_jsx_runtime());
var import_react71 = __toESM(require_react());
var import_classnames84 = __toESM(require_classnames());
function s55(s62) {
  var { className: o101, dismissButtonLabel: m29 = "Dismiss message", onClick: p17, style: l29 } = s62, a82 = __rest6(s62, ["className", "dismissButtonLabel", "onClick", "style"]);
  return (0, import_jsx_runtime117.jsx)(u8, Object.assign({ ariaLabel: m29, className: o101, onClick: p17, style: l29, variation: "link" }, a82, { children: (0, import_jsx_runtime117.jsx)(o40, { "aria-hidden": "true", size: "1.5rem" }) }));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/MessageLayout/constants.js
var e132 = "amplify-inappmessaging-messagelayout";
var a77 = `${e132}__button`;
var n41 = `${e132}__close-button`;
var t84 = `${e132}__content`;
var s56 = `${e132}__header`;
var g12 = `${e132}__image-container`;
var i63 = `${e132}__text-container`;
var o99 = "inappmessaging-messagelayout-content";
var m26 = "inappmessaging-messagelayout-imagecontainer";
var p16 = "inappmessaging-messagelayout";
var _2 = "inappmessaging-messagelayout-textcontainer";

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/MessageLayout/utils.js
var import_tinycolor2 = __toESM(require_tinycolor());
var o100 = (o101, t87 = "light") => {
  const { backgroundColor: n45 } = null != o101 ? o101 : {};
  if (!n45)
    return t87;
  return (0, import_tinycolor2.default)(n45).isDark() ? "dark" : "light";
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/MessageLayout/MessageLayout.js
function x4({ body: x5, buttonSize: I2, hasButtons: f21, hasPrimaryButton: C7, hasRenderableImage: S, hasSecondaryButton: G, header: O2, image: M4, onClose: N5, orientation: $ = "vertical", primaryButton: w3, secondaryButton: A3, styles: P2 }) {
  const R = t85.useMemo(() => ({ primary: o100(P2.primaryButton), secondary: o100(P2.secondaryButton) }), [P2]), k6 = "horizontal" === $, H = (0, import_jsx_runtime118.jsx)(s55, { className: n41, onClick: N5, style: P2.closeIconButton });
  return (0, import_jsx_runtime118.jsxs)(t14, Object.assign({ className: e132, "data-testid": p16, style: P2.container }, { children: [!k6 && (0, import_jsx_runtime118.jsx)(t14, Object.assign({ justifyContent: "flex-end" }, { children: H })), (0, import_jsx_runtime118.jsxs)(t14, Object.assign({ className: (0, import_classnames85.default)(t84, `${t84}--${$}`), "data-testid": o99 }, { children: [S && (0, import_jsx_runtime118.jsx)(t14, Object.assign({ className: (0, import_classnames85.default)(g12, `${g12}--${$}`), "data-testid": m26 }, { children: (0, import_jsx_runtime118.jsx)(t70, { alt: "In-App Message Image", src: null == M4 ? void 0 : M4.src, style: P2.image }) })), (0, import_jsx_runtime118.jsxs)(t14, Object.assign({ className: (0, import_classnames85.default)(i63, `${i63}--${$}`), "data-testid": _2 }, { children: [(null == O2 ? void 0 : O2.content) && (0, import_jsx_runtime118.jsx)(c7, Object.assign({ className: s56, isTruncated: true, level: 2, style: P2.header }, { children: O2.content })), (null == x5 ? void 0 : x5.content) && (0, import_jsx_runtime118.jsx)(n19, Object.assign({ style: P2.body }, { children: x5.content }))] })), k6 && (0, import_jsx_runtime118.jsx)(t14, Object.assign({ alignItems: "flex-start" }, { children: H }))] })), f21 && (0, import_jsx_runtime118.jsxs)(t57, Object.assign({ size: I2 }, { children: [G && (0, import_jsx_runtime118.jsx)(u8, Object.assign({ className: (0, import_classnames85.default)(a77, `${a77}--${R.secondary}`), onClick: null == A3 ? void 0 : A3.onAction, style: P2.secondaryButton }, { children: null == A3 ? void 0 : A3.title })), C7 && (0, import_jsx_runtime118.jsx)(u8, Object.assign({ className: (0, import_classnames85.default)(a77, `${a77}--${R.primary}`), onClick: null == w3 ? void 0 : w3.onAction, style: P2.primaryButton }, { children: null == w3 ? void 0 : w3.title }))] }))] }));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/BannerMessage/constants.js
var a78 = "amplify-inappmessaging-bannermessage";

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/BannerMessage/BannerMessage.js
function m27(m29) {
  const n45 = m17(m29), l29 = o66([true, true, false]), { shouldRenderMessage: u20, styles: p17 } = n45;
  if (!u20)
    return null;
  const { alignment: g14 = "right", position: c22 = "top" } = m29, f21 = "center" === g14 && "middle" === c22;
  return (0, import_jsx_runtime119.jsx)(t14, Object.assign({ className: (0, import_classnames86.default)(a78, { [`${a78}--${c22}`]: !f21, [`${a78}--${g14}`]: !f21, [`${a78}--center-middle`]: f21, [`${a78}--full-width`]: l29 }), role: "dialog" }, { children: (0, import_jsx_runtime119.jsx)(x4, Object.assign({}, m29, n45, { orientation: "horizontal", buttonSize: "small", styles: p17 })) }));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/FullScreenMessage/FullScreenMessage.js
var import_jsx_runtime122 = __toESM(require_jsx_runtime());
var import_classnames87 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/Backdrop/withBackdrop.js
var import_jsx_runtime121 = __toESM(require_jsx_runtime());

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/Backdrop/Backdrop.js
var import_jsx_runtime120 = __toESM(require_jsx_runtime());
function n42(s62) {
  var { onClick: n45 } = s62, o101 = __rest6(s62, ["onClick"]);
  return (0, import_jsx_runtime120.jsx)(a19, Object.assign({ className: "amplify-inappmessaging-backdrop", "data-testid": "inappmessaging-backdrop", onClick: n45 }, o101));
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/Backdrop/withBackdrop.js
function a80(a82, c22 = {}) {
  return function(m29) {
    return (0, import_jsx_runtime121.jsxs)(import_jsx_runtime121.Fragment, { children: [(0, import_jsx_runtime121.jsx)(n42, Object.assign({}, c22)), (0, import_jsx_runtime121.jsx)(t14, Object.assign({ className: "amplify-inappmessaging-backdrop-content-container" }, { children: (0, import_jsx_runtime121.jsx)(a19, Object.assign({ className: "amplify-inappmessaging-backdrop-content" }, { children: (0, import_jsx_runtime121.jsx)(a82, Object.assign({}, m29)) })) }))] });
  };
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/FullScreenMessage/constants.js
var e136 = "amplify-inappmessaging-fullscreenmessage";

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/FullScreenMessage/FullScreenMessage.js
function n44(n45) {
  const p17 = m17(n45), l29 = o66([true, true, false]), { shouldRenderMessage: u20, styles: c22 } = p17, { onClose: f21 } = n45;
  if (!u20)
    return null;
  const g14 = () => (0, import_jsx_runtime122.jsx)(t14, Object.assign({ className: (0, import_classnames87.default)(e136, { [`${e136}--fullscreen`]: l29 }), role: "dialog" }, { children: (0, import_jsx_runtime122.jsx)(x4, Object.assign({}, n45, p17, { styles: c22 })) }));
  if (l29)
    return (0, import_jsx_runtime122.jsx)(g14, {});
  const j7 = a80(g14, { onClick: f21 });
  return (0, import_jsx_runtime122.jsx)(j7, {});
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/ModalMessage/ModalMessage.js
var import_jsx_runtime123 = __toESM(require_jsx_runtime());
var import_classnames88 = __toESM(require_classnames());

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/ModalMessage/constants.js
var a81 = "amplify-inappmessaging-modalmessage";
var s59 = `${a81}__dialog`;

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/ModalMessage/ModalMessage.js
function l27(l29) {
  const n45 = m17(l29), u20 = o66([true, true, false]), { shouldRenderMessage: g14, styles: p17 } = n45;
  return g14 ? (0, import_jsx_runtime123.jsx)(t14, Object.assign({ className: a81 }, { children: (0, import_jsx_runtime123.jsx)(t14, Object.assign({ className: (0, import_classnames88.default)(s59, { [`${s59}--full-width`]: u20 }), role: "dialog" }, { children: (0, import_jsx_runtime123.jsx)(x4, Object.assign({}, l29, n45, { styles: p17 })) })) })) : null;
}

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/InAppMessageDisplay/handleMessageLinkAction.js
var t86 = new ConsoleLogger("Notifications.InAppMessaging");
var r58 = (o101) => {
  let r61;
  try {
    r61 = new URL(o101);
  } catch (r62) {
    return void t86.warn(`Unsupported url provided: ${o101}`);
  }
  const { protocol: p17 } = r61;
  "http:" === p17 || "https:" === p17 ? window.open(o101) : t86.warn(`Unsupported url protocol provided: ${p17}`);
};

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/InAppMessageDisplay/InAppMessageDisplay.js
function l28(e142) {
  return null;
}
var m28 = { BannerMessage: m27, CarouselMessage: l28, FullScreenMessage: n44, ModalMessage: l27 };
var M3 = ({ action: e142, url: s62 }) => {
  handleMessageAction({ action: e142, url: s62, handleMessageLinkAction: r58 });
};
function g13({ components: n45 }) {
  const a82 = import_react72.default.useMemo(() => Object.assign(Object.assign({}, m28), n45), [n45]), { Component: t87, props: i67 } = useMessage({ components: a82, onMessageAction: M3 });
  return (0, import_jsx_runtime124.jsx)(a46, Object.assign({ colorMode: "light" }, { children: (0, import_jsx_runtime124.jsx)(t87, Object.assign({}, i67)) }));
}
g13.BannerMessage = m27, g13.CarouselMessage = l28, g13.FullScreenMessage = n44, g13.ModalMessage = l27;

// node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/withInAppMessaging/withInAppMessaging.js
var import_jsx_runtime125 = __toESM(require_jsx_runtime());
function i66(i67, a82) {
  return function(n45) {
    return (0, import_jsx_runtime125.jsxs)(InAppMessagingProvider, { children: [(0, import_jsx_runtime125.jsx)(g13, Object.assign({}, a82)), (0, import_jsx_runtime125.jsx)(i67, Object.assign({}, n45))] });
  };
}

// node_modules/@aws-amplify/ui-react/dist/esm/hooks/useAmplify.js
var e141 = __toESM(require_react());
function r60() {
  const r61 = e141.useContext(o33);
  return { theme: m4(r61) };
}

// node_modules/@aws-amplify/ui-react/dist/esm/primitives/index.js
var primitives_exports = {};
__export(primitives_exports, {
  Alert: () => h5,
  Autocomplete: () => h11,
  Badge: () => m21,
  Button: () => u8,
  ButtonGroup: () => t57,
  Card: () => m22,
  CheckboxField: () => n33,
  Collection: () => y6,
  ComponentClassNames: () => a18,
  ComponentClassObject: () => t11,
  ComponentPropsToStylePropsMap: () => n15,
  ComponentPropsToStylePropsMapKeys: () => i12,
  Divider: () => m13,
  Expander: () => i52,
  ExpanderItem: () => N4,
  FieldGroupIcon: () => m8,
  FieldGroupIconButton: () => i23,
  Flex: () => t14,
  Grid: () => o79,
  Heading: () => c7,
  HighlightMatch: () => m20,
  Icon: () => n24,
  Image: () => t70,
  Link: () => n35,
  Loader: () => g3,
  Menu: () => d7,
  MenuButton: () => n36,
  MenuItem: () => o88,
  Pagination: () => l22,
  PasswordField: () => l14,
  PhoneNumberField: () => n22,
  Placeholder: () => l24,
  Radio: () => h9,
  RadioGroupField: () => u14,
  Rating: () => j6,
  ScrollView: () => m19,
  SearchField: () => u19,
  SelectField: () => f9,
  SliderField: () => y8,
  StepperField: () => g11,
  SwitchField: () => k5,
  TabItem: () => u11,
  Table: () => l26,
  TableBody: () => t81,
  TableCell: () => o94,
  TableFoot: () => m25,
  TableHead: () => o96,
  TableRow: () => t82,
  Tabs: () => f12,
  Text: () => n19,
  TextAreaField: () => b6,
  TextField: () => j,
  ToggleButton: () => d9,
  ToggleButtonGroup: () => n40,
  View: () => a19,
  VisuallyHidden: () => o41,
  usePagination: () => e111
});
export {
  h5 as Alert,
  n29 as AmplifyProvider,
  l18 as Authenticator,
  h11 as Autocomplete,
  m21 as Badge,
  u8 as Button,
  t57 as ButtonGroup,
  m22 as Card,
  n33 as CheckboxField,
  y6 as Collection,
  a18 as ComponentClassNames,
  t11 as ComponentClassObject,
  n15 as ComponentPropsToStylePropsMap,
  i12 as ComponentPropsToStylePropsMapKeys,
  m13 as Divider,
  i52 as Expander,
  N4 as ExpanderItem,
  m8 as FieldGroupIcon,
  i23 as FieldGroupIconButton,
  t14 as Flex,
  u18 as Geocoder,
  o79 as Grid,
  c7 as Heading,
  m20 as HighlightMatch,
  n24 as Icon,
  t70 as Image,
  g13 as InAppMessageDisplay,
  InAppMessagingProvider,
  n35 as Link,
  g3 as Loader,
  a45 as LocationSearch,
  u17 as MapView,
  d7 as Menu,
  n36 as MenuButton,
  o88 as MenuItem,
  l22 as Pagination,
  l14 as PasswordField,
  n22 as PhoneNumberField,
  l24 as Placeholder,
  h9 as Radio,
  u14 as RadioGroupField,
  j6 as Rating,
  m19 as ScrollView,
  u19 as SearchField,
  f9 as SelectField,
  y8 as SliderField,
  g11 as StepperField,
  k5 as SwitchField,
  u11 as TabItem,
  l26 as Table,
  t81 as TableBody,
  o94 as TableCell,
  m25 as TableFoot,
  o96 as TableHead,
  t82 as TableRow,
  f12 as Tabs,
  n19 as Text,
  b6 as TextAreaField,
  j as TextField,
  a46 as ThemeProvider,
  d9 as ToggleButton,
  n40 as ToggleButtonGroup,
  a19 as View,
  o41 as VisuallyHidden,
  components_exports as components,
  m3 as createTheme,
  e42 as defaultDarkModeOverride,
  t7 as defaultTheme,
  primitives_exports as primitives,
  k2 as translations,
  r60 as useAmplify,
  useAuthenticator,
  o66 as useBreakpointValue,
  useInAppMessaging,
  e111 as usePagination,
  r9 as useTheme,
  n28 as withAuthenticator,
  i66 as withInAppMessaging
};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=@aws-amplify_ui-react.js.map
